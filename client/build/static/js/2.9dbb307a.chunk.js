/*! For license information please see 2.9dbb307a.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[2],[function(e,t,n){"use strict";e.exports=n(231)},function(e,t,n){"use strict";n.r(t),n.d(t,"ACESFilmicToneMapping",(function(){return le})),n.d(t,"AddEquation",(function(){return R})),n.d(t,"AddOperation",(function(){return oe})),n.d(t,"AdditiveAnimationBlendMode",(function(){return en})),n.d(t,"AdditiveBlending",(function(){return A})),n.d(t,"AlphaFormat",(function(){return $e})),n.d(t,"AlwaysDepth",(function(){return Z})),n.d(t,"AlwaysStencilFunc",(function(){return jn})),n.d(t,"AmbientLight",(function(){return Pf})),n.d(t,"AmbientLightProbe",(function(){return Qf})),n.d(t,"AnimationClip",(function(){return Dl})),n.d(t,"AnimationLoader",(function(){return Vl})),n.d(t,"AnimationMixer",(function(){return Mp})),n.d(t,"AnimationObjectGroup",(function(){return Op})),n.d(t,"AnimationUtils",(function(){return wl})),n.d(t,"ArcCurve",(function(){return Zl})),n.d(t,"ArrayCamera",(function(){return Fs})),n.d(t,"ArrowHelper",(function(){return mh})),n.d(t,"Audio",(function(){return sp})),n.d(t,"AudioAnalyser",(function(){return hp})),n.d(t,"AudioContext",(function(){return Yf})),n.d(t,"AudioListener",(function(){return ap})),n.d(t,"AudioLoader",(function(){return Xf})),n.d(t,"AxesHelper",(function(){return vh})),n.d(t,"AxisHelper",(function(){return ld})),n.d(t,"BackSide",(function(){return S})),n.d(t,"BasicDepthPacking",(function(){return hn})),n.d(t,"BasicShadowMap",(function(){return g})),n.d(t,"BinaryTextureLoader",(function(){return md})),n.d(t,"Bone",(function(){return _u})),n.d(t,"BooleanKeyframeTrack",(function(){return Ml})),n.d(t,"BoundingBoxHelper",(function(){return fd})),n.d(t,"Box2",(function(){return Lp})),n.d(t,"Box3",(function(){return Gr})),n.d(t,"Box3Helper",(function(){return lh})),n.d(t,"BoxBufferGeometry",(function(){return Eo})),n.d(t,"BoxGeometry",(function(){return So})),n.d(t,"BoxHelper",(function(){return ch})),n.d(t,"BufferAttribute",(function(){return ki})),n.d(t,"BufferGeometry",(function(){return Zi})),n.d(t,"BufferGeometryLoader",(function(){return Lf})),n.d(t,"ByteType",(function(){return Re})),n.d(t,"Cache",(function(){return Ll})),n.d(t,"Camera",(function(){return Ao})),n.d(t,"CameraHelper",(function(){return ah})),n.d(t,"CanvasRenderer",(function(){return gd})),n.d(t,"CanvasTexture",(function(){return Wu})),n.d(t,"CatmullRomCurve3",(function(){return nf})),n.d(t,"CineonToneMapping",(function(){return ce})),n.d(t,"CircleBufferGeometry",(function(){return ul})),n.d(t,"CircleGeometry",(function(){return sl})),n.d(t,"ClampToEdgeWrapping",(function(){return _e})),n.d(t,"Clock",(function(){return tp})),n.d(t,"ClosedSplineCurve3",(function(){return sd})),n.d(t,"Color",(function(){return wi})),n.d(t,"ColorKeyframeTrack",(function(){return Pl})),n.d(t,"CompressedTexture",(function(){return Gu})),n.d(t,"CompressedTextureLoader",(function(){return Hl})),n.d(t,"ConeBufferGeometry",(function(){return al})),n.d(t,"ConeGeometry",(function(){return ol})),n.d(t,"CubeCamera",(function(){return ko})),n.d(t,"CubeGeometry",(function(){return So})),n.d(t,"CubeReflectionMapping",(function(){return he})),n.d(t,"CubeRefractionMapping",(function(){return de})),n.d(t,"CubeTexture",(function(){return ra})),n.d(t,"CubeTextureLoader",(function(){return Wl})),n.d(t,"CubeUVReflectionMapping",(function(){return ye})),n.d(t,"CubeUVRefractionMapping",(function(){return ge})),n.d(t,"CubicBezierCurve",(function(){return sf})),n.d(t,"CubicBezierCurve3",(function(){return uf})),n.d(t,"CubicInterpolant",(function(){return Sl})),n.d(t,"CullFaceBack",(function(){return h})),n.d(t,"CullFaceFront",(function(){return d})),n.d(t,"CullFaceFrontBack",(function(){return m})),n.d(t,"CullFaceNone",(function(){return p})),n.d(t,"Curve",(function(){return Yl})),n.d(t,"CurvePath",(function(){return mf})),n.d(t,"CustomBlending",(function(){return j})),n.d(t,"CustomToneMapping",(function(){return fe})),n.d(t,"CylinderBufferGeometry",(function(){return il})),n.d(t,"CylinderGeometry",(function(){return rl})),n.d(t,"Cylindrical",(function(){return Dp})),n.d(t,"DataTexture",(function(){return Ro})),n.d(t,"DataTexture2DArray",(function(){return ia})),n.d(t,"DataTexture3D",(function(){return oa})),n.d(t,"DataTextureLoader",(function(){return $l})),n.d(t,"DecrementStencilOp",(function(){return wn})),n.d(t,"DecrementWrapStencilOp",(function(){return Sn})),n.d(t,"DefaultLoadingManager",(function(){return Bl})),n.d(t,"DepthFormat",(function(){return Ze})),n.d(t,"DepthStencilFormat",(function(){return Qe})),n.d(t,"DepthTexture",(function(){return qu})),n.d(t,"DirectionalLight",(function(){return Mf})),n.d(t,"DirectionalLightHelper",(function(){return rh})),n.d(t,"DirectionalLightShadow",(function(){return Tf})),n.d(t,"DiscreteInterpolant",(function(){return Ol})),n.d(t,"DodecahedronBufferGeometry",(function(){return ac})),n.d(t,"DodecahedronGeometry",(function(){return oc})),n.d(t,"DoubleSide",(function(){return E})),n.d(t,"DstAlphaFactor",(function(){return $})),n.d(t,"DstColorFactor",(function(){return W})),n.d(t,"DynamicBufferAttribute",(function(){return Qh})),n.d(t,"DynamicCopyUsage",(function(){return Un})),n.d(t,"DynamicDrawUsage",(function(){return Dn})),n.d(t,"DynamicReadUsage",(function(){return In})),n.d(t,"EdgesGeometry",(function(){return nl})),n.d(t,"EdgesHelper",(function(){return pd})),n.d(t,"EllipseCurve",(function(){return Xl})),n.d(t,"EqualDepth",(function(){return J})),n.d(t,"EqualStencilFunc",(function(){return Mn})),n.d(t,"EquirectangularReflectionMapping",(function(){return me})),n.d(t,"EquirectangularRefractionMapping",(function(){return ve})),n.d(t,"Euler",(function(){return mr})),n.d(t,"EventDispatcher",(function(){return Vn})),n.d(t,"ExtrudeBufferGeometry",(function(){return Vc})),n.d(t,"ExtrudeGeometry",(function(){return zc})),n.d(t,"Face3",(function(){return Oi})),n.d(t,"Face4",(function(){return Lh})),n.d(t,"FaceColors",(function(){return Uh})),n.d(t,"FileLoader",(function(){return zl})),n.d(t,"FlatShading",(function(){return O})),n.d(t,"Float32Attribute",(function(){return od})),n.d(t,"Float32BufferAttribute",(function(){return Fi})),n.d(t,"Float64Attribute",(function(){return ad})),n.d(t,"Float64BufferAttribute",(function(){return Ui})),n.d(t,"FloatType",(function(){return Be})),n.d(t,"Fog",(function(){return qs})),n.d(t,"FogExp2",(function(){return Ws})),n.d(t,"Font",(function(){return Gf})),n.d(t,"FontLoader",(function(){return qf})),n.d(t,"FrontFaceDirectionCCW",(function(){return y})),n.d(t,"FrontFaceDirectionCW",(function(){return v})),n.d(t,"FrontSide",(function(){return x})),n.d(t,"Frustum",(function(){return Lo})),n.d(t,"GammaEncoding",(function(){return sn})),n.d(t,"Geometry",(function(){return xo})),n.d(t,"GeometryUtils",(function(){return yd})),n.d(t,"GreaterDepth",(function(){return te})),n.d(t,"GreaterEqualDepth",(function(){return ee})),n.d(t,"GreaterEqualStencilFunc",(function(){return kn})),n.d(t,"GreaterStencilFunc",(function(){return An})),n.d(t,"GridHelper",(function(){return Kp})),n.d(t,"Group",(function(){return Us})),n.d(t,"HalfFloatType",(function(){return Fe})),n.d(t,"HemisphereLight",(function(){return bf})),n.d(t,"HemisphereLightHelper",(function(){return Qp})),n.d(t,"HemisphereLightProbe",(function(){return Zf})),n.d(t,"IcosahedronBufferGeometry",(function(){return ic})),n.d(t,"IcosahedronGeometry",(function(){return rc})),n.d(t,"ImageBitmapLoader",(function(){return Hf})),n.d(t,"ImageLoader",(function(){return Gl})),n.d(t,"ImageUtils",(function(){return Xn})),n.d(t,"ImmediateRenderObject",(function(){return Up})),n.d(t,"IncrementStencilOp",(function(){return _n})),n.d(t,"IncrementWrapStencilOp",(function(){return xn})),n.d(t,"InstancedBufferAttribute",(function(){return Nf})),n.d(t,"InstancedBufferGeometry",(function(){return Df})),n.d(t,"InstancedInterleavedBuffer",(function(){return Ap})),n.d(t,"InstancedMesh",(function(){return Ou})),n.d(t,"Int16Attribute",(function(){return td})),n.d(t,"Int16BufferAttribute",(function(){return Ni})),n.d(t,"Int32Attribute",(function(){return rd})),n.d(t,"Int32BufferAttribute",(function(){return Ii})),n.d(t,"Int8Attribute",(function(){return Kh})),n.d(t,"Int8BufferAttribute",(function(){return ji})),n.d(t,"IntType",(function(){return Le})),n.d(t,"InterleavedBuffer",(function(){return Ys})),n.d(t,"InterleavedBufferAttribute",(function(){return Qs})),n.d(t,"Interpolant",(function(){return xl})),n.d(t,"InterpolateDiscrete",(function(){return qt})),n.d(t,"InterpolateLinear",(function(){return Yt})),n.d(t,"InterpolateSmooth",(function(){return Xt})),n.d(t,"InvertStencilOp",(function(){return En})),n.d(t,"JSONLoader",(function(){return bd})),n.d(t,"KeepStencilOp",(function(){return gn})),n.d(t,"KeyframeTrack",(function(){return Tl})),n.d(t,"LOD",(function(){return mu})),n.d(t,"LatheBufferGeometry",(function(){return Kc})),n.d(t,"LatheGeometry",(function(){return Qc})),n.d(t,"Layers",(function(){return vr})),n.d(t,"LensFlare",(function(){return wd})),n.d(t,"LessDepth",(function(){return Q})),n.d(t,"LessEqualDepth",(function(){return K})),n.d(t,"LessEqualStencilFunc",(function(){return Pn})),n.d(t,"LessStencilFunc",(function(){return Tn})),n.d(t,"Light",(function(){return gf})),n.d(t,"LightProbe",(function(){return kf})),n.d(t,"LightShadow",(function(){return _f})),n.d(t,"Line",(function(){return ju})),n.d(t,"Line3",(function(){return Fp})),n.d(t,"LineBasicMaterial",(function(){return Tu})),n.d(t,"LineCurve",(function(){return cf})),n.d(t,"LineCurve3",(function(){return lf})),n.d(t,"LineDashedMaterial",(function(){return bl})),n.d(t,"LineLoop",(function(){return Lu})),n.d(t,"LinePieces",(function(){return Bh})),n.d(t,"LineSegments",(function(){return Nu})),n.d(t,"LineStrip",(function(){return Ih})),n.d(t,"LinearEncoding",(function(){return on})),n.d(t,"LinearFilter",(function(){return Me})),n.d(t,"LinearInterpolant",(function(){return El})),n.d(t,"LinearMipMapLinearFilter",(function(){return ke})),n.d(t,"LinearMipMapNearestFilter",(function(){return Ae})),n.d(t,"LinearMipmapLinearFilter",(function(){return Ce})),n.d(t,"LinearMipmapNearestFilter",(function(){return Pe})),n.d(t,"LinearToneMapping",(function(){return se})),n.d(t,"Loader",(function(){return Fl})),n.d(t,"LoaderUtils",(function(){return Rf})),n.d(t,"LoadingManager",(function(){return Il})),n.d(t,"LogLuvEncoding",(function(){return cn})),n.d(t,"LoopOnce",(function(){return $t})),n.d(t,"LoopPingPong",(function(){return Wt})),n.d(t,"LoopRepeat",(function(){return Gt})),n.d(t,"LuminanceAlphaFormat",(function(){return Ye})),n.d(t,"LuminanceFormat",(function(){return qe})),n.d(t,"MOUSE",(function(){return l})),n.d(t,"Material",(function(){return Mi})),n.d(t,"MaterialLoader",(function(){return jf})),n.d(t,"Math",(function(){return Wn})),n.d(t,"MathUtils",(function(){return Wn})),n.d(t,"Matrix3",(function(){return Yn})),n.d(t,"Matrix4",(function(){return pr})),n.d(t,"MaxEquation",(function(){return I})),n.d(t,"Mesh",(function(){return mo})),n.d(t,"MeshBasicMaterial",(function(){return Pi})),n.d(t,"MeshDepthMaterial",(function(){return Rs})),n.d(t,"MeshDistanceMaterial",(function(){return Ds})),n.d(t,"MeshFaceMaterial",(function(){return Vh})),n.d(t,"MeshLambertMaterial",(function(){return yl})),n.d(t,"MeshMatcapMaterial",(function(){return gl})),n.d(t,"MeshNormalMaterial",(function(){return vl})),n.d(t,"MeshPhongMaterial",(function(){return dl})),n.d(t,"MeshPhysicalMaterial",(function(){return hl})),n.d(t,"MeshStandardMaterial",(function(){return pl})),n.d(t,"MeshToonMaterial",(function(){return ml})),n.d(t,"MinEquation",(function(){return L})),n.d(t,"MirroredRepeatWrapping",(function(){return we})),n.d(t,"MixOperation",(function(){return ie})),n.d(t,"MultiMaterial",(function(){return Hh})),n.d(t,"MultiplyBlending",(function(){return k})),n.d(t,"MultiplyOperation",(function(){return re})),n.d(t,"NearestFilter",(function(){return xe})),n.d(t,"NearestMipMapLinearFilter",(function(){return Te})),n.d(t,"NearestMipMapNearestFilter",(function(){return Ee})),n.d(t,"NearestMipmapLinearFilter",(function(){return Oe})),n.d(t,"NearestMipmapNearestFilter",(function(){return Se})),n.d(t,"NeverDepth",(function(){return X})),n.d(t,"NeverStencilFunc",(function(){return On})),n.d(t,"NoBlending",(function(){return M})),n.d(t,"NoColors",(function(){return Fh})),n.d(t,"NoToneMapping",(function(){return ae})),n.d(t,"NormalAnimationBlendMode",(function(){return Jt})),n.d(t,"NormalBlending",(function(){return P})),n.d(t,"NotEqualDepth",(function(){return ne})),n.d(t,"NotEqualStencilFunc",(function(){return Cn})),n.d(t,"NumberKeyframeTrack",(function(){return Al})),n.d(t,"Object3D",(function(){return Cr})),n.d(t,"ObjectLoader",(function(){return Bf})),n.d(t,"ObjectSpaceNormalMap",(function(){return vn})),n.d(t,"OctahedronBufferGeometry",(function(){return nc})),n.d(t,"OctahedronGeometry",(function(){return tc})),n.d(t,"OneFactor",(function(){return F})),n.d(t,"OneMinusDstAlphaFactor",(function(){return G})),n.d(t,"OneMinusDstColorFactor",(function(){return q})),n.d(t,"OneMinusSrcAlphaFactor",(function(){return H})),n.d(t,"OneMinusSrcColorFactor",(function(){return z})),n.d(t,"OrthographicCamera",(function(){return Of})),n.d(t,"PCFShadowMap",(function(){return b})),n.d(t,"PCFSoftShadowMap",(function(){return _})),n.d(t,"PMREMGenerator",(function(){return Ch})),n.d(t,"ParametricBufferGeometry",(function(){return Zu})),n.d(t,"ParametricGeometry",(function(){return Xu})),n.d(t,"Particle",(function(){return Gh})),n.d(t,"ParticleBasicMaterial",(function(){return Yh})),n.d(t,"ParticleSystem",(function(){return Wh})),n.d(t,"ParticleSystemMaterial",(function(){return Xh})),n.d(t,"Path",(function(){return vf})),n.d(t,"PerspectiveCamera",(function(){return Co})),n.d(t,"Plane",(function(){return ai})),n.d(t,"PlaneBufferGeometry",(function(){return zo})),n.d(t,"PlaneGeometry",(function(){return Uo})),n.d(t,"PlaneHelper",(function(){return fh})),n.d(t,"PointCloud",(function(){return $h})),n.d(t,"PointCloudMaterial",(function(){return qh})),n.d(t,"PointLight",(function(){return Ef})),n.d(t,"PointLightHelper",(function(){return qp})),n.d(t,"Points",(function(){return Vu})),n.d(t,"PointsMaterial",(function(){return Iu})),n.d(t,"PolarGridHelper",(function(){return Jp})),n.d(t,"PolyhedronBufferGeometry",(function(){return Ku})),n.d(t,"PolyhedronGeometry",(function(){return Qu})),n.d(t,"PositionalAudio",(function(){return pp})),n.d(t,"PropertyBinding",(function(){return Ep})),n.d(t,"PropertyMixer",(function(){return dp})),n.d(t,"QuadraticBezierCurve",(function(){return ff})),n.d(t,"QuadraticBezierCurve3",(function(){return pf})),n.d(t,"Quaternion",(function(){return tr})),n.d(t,"QuaternionKeyframeTrack",(function(){return kl})),n.d(t,"QuaternionLinearInterpolant",(function(){return Cl})),n.d(t,"REVISION",(function(){return c})),n.d(t,"RGBADepthPacking",(function(){return dn})),n.d(t,"RGBAFormat",(function(){return We})),n.d(t,"RGBAIntegerFormat",(function(){return rt})),n.d(t,"RGBA_ASTC_10x10_Format",(function(){return Tt})),n.d(t,"RGBA_ASTC_10x5_Format",(function(){return St})),n.d(t,"RGBA_ASTC_10x6_Format",(function(){return Et})),n.d(t,"RGBA_ASTC_10x8_Format",(function(){return Ot})),n.d(t,"RGBA_ASTC_12x10_Format",(function(){return Mt})),n.d(t,"RGBA_ASTC_12x12_Format",(function(){return Pt})),n.d(t,"RGBA_ASTC_4x4_Format",(function(){return mt})),n.d(t,"RGBA_ASTC_5x4_Format",(function(){return vt})),n.d(t,"RGBA_ASTC_5x5_Format",(function(){return yt})),n.d(t,"RGBA_ASTC_6x5_Format",(function(){return gt})),n.d(t,"RGBA_ASTC_6x6_Format",(function(){return bt})),n.d(t,"RGBA_ASTC_8x5_Format",(function(){return _t})),n.d(t,"RGBA_ASTC_8x6_Format",(function(){return wt})),n.d(t,"RGBA_ASTC_8x8_Format",(function(){return xt})),n.d(t,"RGBA_BPTC_Format",(function(){return At})),n.d(t,"RGBA_ETC2_EAC_Format",(function(){return dt})),n.d(t,"RGBA_PVRTC_2BPPV1_Format",(function(){return ft})),n.d(t,"RGBA_PVRTC_4BPPV1_Format",(function(){return lt})),n.d(t,"RGBA_S3TC_DXT1_Format",(function(){return ot})),n.d(t,"RGBA_S3TC_DXT3_Format",(function(){return at})),n.d(t,"RGBA_S3TC_DXT5_Format",(function(){return st})),n.d(t,"RGBDEncoding",(function(){return pn})),n.d(t,"RGBEEncoding",(function(){return un})),n.d(t,"RGBEFormat",(function(){return Xe})),n.d(t,"RGBFormat",(function(){return Ge})),n.d(t,"RGBIntegerFormat",(function(){return nt})),n.d(t,"RGBM16Encoding",(function(){return fn})),n.d(t,"RGBM7Encoding",(function(){return ln})),n.d(t,"RGB_ETC1_Format",(function(){return pt})),n.d(t,"RGB_ETC2_Format",(function(){return ht})),n.d(t,"RGB_PVRTC_2BPPV1_Format",(function(){return ct})),n.d(t,"RGB_PVRTC_4BPPV1_Format",(function(){return ut})),n.d(t,"RGB_S3TC_DXT1_Format",(function(){return it})),n.d(t,"RGFormat",(function(){return et})),n.d(t,"RGIntegerFormat",(function(){return tt})),n.d(t,"RawShaderMaterial",(function(){return fl})),n.d(t,"Ray",(function(){return ni})),n.d(t,"Raycaster",(function(){return Cp})),n.d(t,"RectAreaLight",(function(){return Af})),n.d(t,"RedFormat",(function(){return Ke})),n.d(t,"RedIntegerFormat",(function(){return Je})),n.d(t,"ReinhardToneMapping",(function(){return ue})),n.d(t,"RepeatWrapping",(function(){return be})),n.d(t,"ReplaceStencilOp",(function(){return bn})),n.d(t,"ReverseSubtractEquation",(function(){return N})),n.d(t,"RingBufferGeometry",(function(){return Zc})),n.d(t,"RingGeometry",(function(){return Xc})),n.d(t,"SRGB8_ALPHA8_ASTC_10x10_Format",(function(){return zt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x5_Format",(function(){return Bt})),n.d(t,"SRGB8_ALPHA8_ASTC_10x6_Format",(function(){return Ft})),n.d(t,"SRGB8_ALPHA8_ASTC_10x8_Format",(function(){return Ut})),n.d(t,"SRGB8_ALPHA8_ASTC_12x10_Format",(function(){return Vt})),n.d(t,"SRGB8_ALPHA8_ASTC_12x12_Format",(function(){return Ht})),n.d(t,"SRGB8_ALPHA8_ASTC_4x4_Format",(function(){return Ct})),n.d(t,"SRGB8_ALPHA8_ASTC_5x4_Format",(function(){return kt})),n.d(t,"SRGB8_ALPHA8_ASTC_5x5_Format",(function(){return jt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x5_Format",(function(){return Rt})),n.d(t,"SRGB8_ALPHA8_ASTC_6x6_Format",(function(){return Dt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x5_Format",(function(){return Nt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x6_Format",(function(){return Lt})),n.d(t,"SRGB8_ALPHA8_ASTC_8x8_Format",(function(){return It})),n.d(t,"Scene",(function(){return kr})),n.d(t,"SceneUtils",(function(){return _d})),n.d(t,"ShaderChunk",(function(){return Vo})),n.d(t,"ShaderLib",(function(){return Ho})),n.d(t,"ShaderMaterial",(function(){return Po})),n.d(t,"ShadowMaterial",(function(){return ll})),n.d(t,"Shape",(function(){return yf})),n.d(t,"ShapeBufferGeometry",(function(){return el})),n.d(t,"ShapeGeometry",(function(){return Jc})),n.d(t,"ShapePath",(function(){return $f})),n.d(t,"ShapeUtils",(function(){return Bc})),n.d(t,"ShortType",(function(){return De})),n.d(t,"Skeleton",(function(){return bu})),n.d(t,"SkeletonHelper",(function(){return Wp})),n.d(t,"SkinnedMesh",(function(){return vu})),n.d(t,"SmoothShading",(function(){return T})),n.d(t,"Sphere",(function(){return Yr})),n.d(t,"SphereBufferGeometry",(function(){return Yc})),n.d(t,"SphereGeometry",(function(){return qc})),n.d(t,"Spherical",(function(){return Rp})),n.d(t,"SphericalHarmonics3",(function(){return Cf})),n.d(t,"Spline",(function(){return cd})),n.d(t,"SplineCurve",(function(){return hf})),n.d(t,"SplineCurve3",(function(){return ud})),n.d(t,"SpotLight",(function(){return xf})),n.d(t,"SpotLightHelper",(function(){return Vp})),n.d(t,"SpotLightShadow",(function(){return wf})),n.d(t,"Sprite",(function(){return fu})),n.d(t,"SpriteMaterial",(function(){return Ks})),n.d(t,"SrcAlphaFactor",(function(){return V})),n.d(t,"SrcAlphaSaturateFactor",(function(){return Y})),n.d(t,"SrcColorFactor",(function(){return U})),n.d(t,"StaticCopyUsage",(function(){return Fn})),n.d(t,"StaticDrawUsage",(function(){return Rn})),n.d(t,"StaticReadUsage",(function(){return Ln})),n.d(t,"StereoCamera",(function(){return ep})),n.d(t,"StreamCopyUsage",(function(){return zn})),n.d(t,"StreamDrawUsage",(function(){return Nn})),n.d(t,"StreamReadUsage",(function(){return Bn})),n.d(t,"StringKeyframeTrack",(function(){return jl})),n.d(t,"SubtractEquation",(function(){return D})),n.d(t,"SubtractiveBlending",(function(){return C})),n.d(t,"TOUCH",(function(){return f})),n.d(t,"TangentSpaceNormalMap",(function(){return mn})),n.d(t,"TetrahedronBufferGeometry",(function(){return ec})),n.d(t,"TetrahedronGeometry",(function(){return Ju})),n.d(t,"TextBufferGeometry",(function(){return Wc})),n.d(t,"TextGeometry",(function(){return Gc})),n.d(t,"Texture",(function(){return Qn})),n.d(t,"TextureLoader",(function(){return ql})),n.d(t,"TorusBufferGeometry",(function(){return pc})),n.d(t,"TorusGeometry",(function(){return fc})),n.d(t,"TorusKnotBufferGeometry",(function(){return lc})),n.d(t,"TorusKnotGeometry",(function(){return cc})),n.d(t,"Triangle",(function(){return yi})),n.d(t,"TriangleFanDrawMode",(function(){return rn})),n.d(t,"TriangleStripDrawMode",(function(){return nn})),n.d(t,"TrianglesDrawMode",(function(){return tn})),n.d(t,"TubeBufferGeometry",(function(){return uc})),n.d(t,"TubeGeometry",(function(){return sc})),n.d(t,"UVMapping",(function(){return pe})),n.d(t,"Uint16Attribute",(function(){return nd})),n.d(t,"Uint16BufferAttribute",(function(){return Li})),n.d(t,"Uint32Attribute",(function(){return id})),n.d(t,"Uint32BufferAttribute",(function(){return Bi})),n.d(t,"Uint8Attribute",(function(){return Jh})),n.d(t,"Uint8BufferAttribute",(function(){return Ri})),n.d(t,"Uint8ClampedAttribute",(function(){return ed})),n.d(t,"Uint8ClampedBufferAttribute",(function(){return Di})),n.d(t,"Uniform",(function(){return Pp})),n.d(t,"UniformsLib",(function(){return Io})),n.d(t,"UniformsUtils",(function(){return Mo})),n.d(t,"UnsignedByteType",(function(){return je})),n.d(t,"UnsignedInt248Type",(function(){return He})),n.d(t,"UnsignedIntType",(function(){return Ie})),n.d(t,"UnsignedShort4444Type",(function(){return Ue})),n.d(t,"UnsignedShort5551Type",(function(){return ze})),n.d(t,"UnsignedShort565Type",(function(){return Ve})),n.d(t,"UnsignedShortType",(function(){return Ne})),n.d(t,"VSMShadowMap",(function(){return w})),n.d(t,"Vector2",(function(){return qn})),n.d(t,"Vector3",(function(){return ir})),n.d(t,"Vector4",(function(){return Kn})),n.d(t,"VectorKeyframeTrack",(function(){return Rl})),n.d(t,"Vertex",(function(){return Zh})),n.d(t,"VertexColors",(function(){return zh})),n.d(t,"VideoTexture",(function(){return $u})),n.d(t,"WebGL1Renderer",(function(){return Gs})),n.d(t,"WebGLCubeRenderTarget",(function(){return jo})),n.d(t,"WebGLMultisampleRenderTarget",(function(){return er})),n.d(t,"WebGLRenderTarget",(function(){return Jn})),n.d(t,"WebGLRenderTargetCube",(function(){return vd})),n.d(t,"WebGLRenderer",(function(){return $s})),n.d(t,"WebGLUtils",(function(){return Bs})),n.d(t,"WireframeGeometry",(function(){return Yu})),n.d(t,"WireframeHelper",(function(){return hd})),n.d(t,"WrapAroundEnding",(function(){return Kt})),n.d(t,"XHRLoader",(function(){return dd})),n.d(t,"ZeroCurvatureEnding",(function(){return Zt})),n.d(t,"ZeroFactor",(function(){return B})),n.d(t,"ZeroSlopeEnding",(function(){return Qt})),n.d(t,"ZeroStencilOp",(function(){return yn})),n.d(t,"sRGBEncoding",(function(){return an}));var r,i=n(13),o=n(36),a=n(6),s=n(8),u=n(7);void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(e){return"number"===typeof e&&isFinite(e)&&Math.floor(e)===e}),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:e>0?1:+e}),"name"in Function.prototype===!1&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t});var c="118",l={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},f={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},p=0,h=1,d=2,m=3,v=0,y=1,g=0,b=1,_=2,w=3,x=0,S=1,E=2,O=1,T=2,M=0,P=1,A=2,C=3,k=4,j=5,R=100,D=101,N=102,L=103,I=104,B=200,F=201,U=202,z=203,V=204,H=205,$=206,G=207,W=208,q=209,Y=210,X=0,Z=1,Q=2,K=3,J=4,ee=5,te=6,ne=7,re=0,ie=1,oe=2,ae=0,se=1,ue=2,ce=3,le=4,fe=5,pe=300,he=301,de=302,me=303,ve=304,ye=306,ge=307,be=1e3,_e=1001,we=1002,xe=1003,Se=1004,Ee=1004,Oe=1005,Te=1005,Me=1006,Pe=1007,Ae=1007,Ce=1008,ke=1008,je=1009,Re=1010,De=1011,Ne=1012,Le=1013,Ie=1014,Be=1015,Fe=1016,Ue=1017,ze=1018,Ve=1019,He=1020,$e=1021,Ge=1022,We=1023,qe=1024,Ye=1025,Xe=We,Ze=1026,Qe=1027,Ke=1028,Je=1029,et=1030,tt=1031,nt=1032,rt=1033,it=33776,ot=33777,at=33778,st=33779,ut=35840,ct=35841,lt=35842,ft=35843,pt=36196,ht=37492,dt=37496,mt=37808,vt=37809,yt=37810,gt=37811,bt=37812,_t=37813,wt=37814,xt=37815,St=37816,Et=37817,Ot=37818,Tt=37819,Mt=37820,Pt=37821,At=36492,Ct=37840,kt=37841,jt=37842,Rt=37843,Dt=37844,Nt=37845,Lt=37846,It=37847,Bt=37848,Ft=37849,Ut=37850,zt=37851,Vt=37852,Ht=37853,$t=2200,Gt=2201,Wt=2202,qt=2300,Yt=2301,Xt=2302,Zt=2400,Qt=2401,Kt=2402,Jt=2500,en=2501,tn=0,nn=1,rn=2,on=3e3,an=3001,sn=3007,un=3002,cn=3003,ln=3004,fn=3005,pn=3006,hn=3200,dn=3201,mn=0,vn=1,yn=0,gn=7680,bn=7681,_n=7682,wn=7683,xn=34055,Sn=34056,En=5386,On=512,Tn=513,Mn=514,Pn=515,An=516,Cn=517,kn=518,jn=519,Rn=35044,Dn=35048,Nn=35040,Ln=35045,In=35049,Bn=35041,Fn=35046,Un=35050,zn=35042;function Vn(){}Object.assign(Vn.prototype,{addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[e]&&(n[e]=[]),-1===n[e].indexOf(t)&&n[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[e]&&-1!==n[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var n=this._listeners[e];if(void 0!==n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var n=t.slice(0),r=0,i=n.length;r<i;r++)n[r].call(this,e)}}}});for(var Hn=[],$n=0;$n<256;$n++)Hn[$n]=($n<16?"0":"")+$n.toString(16);var Gn,Wn={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return(Hn[255&e]+Hn[e>>8&255]+Hn[e>>16&255]+Hn[e>>24&255]+"-"+Hn[255&t]+Hn[t>>8&255]+"-"+Hn[t>>16&15|64]+Hn[t>>24&255]+"-"+Hn[63&n|128]+Hn[n>>8&255]+"-"+Hn[n>>16&255]+Hn[n>>24&255]+Hn[255&r]+Hn[r>>8&255]+Hn[r>>16&255]+Hn[r>>24&255]).toUpperCase()},clamp:function(e,t,n){return Math.max(t,Math.min(n,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,n,r,i){return r+(e-t)*(i-r)/(n-t)},lerp:function(e,t,n){return(1-n)*e+n*t},smoothstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*(3-2*e)},smootherstep:function(e,t,n){return e<=t?0:e>=n?1:(e=(e-t)/(n-t))*e*e*(e*(6*e-15)+10)},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(e){return e*Wn.DEG2RAD},radToDeg:function(e){return e*Wn.RAD2DEG},isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e},ceilPowerOfTwo:function(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},floorPowerOfTwo:function(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))},setQuaternionFromProperEuler:function(e,t,n,r,i){var o=Math.cos,a=Math.sin,s=o(n/2),u=a(n/2),c=o((t+r)/2),l=a((t+r)/2),f=o((t-r)/2),p=a((t-r)/2),h=o((r-t)/2),d=a((r-t)/2);switch(i){case"XYX":e.set(s*l,u*f,u*p,s*c);break;case"YZY":e.set(u*p,s*l,u*f,s*c);break;case"ZXZ":e.set(u*f,u*p,s*l,s*c);break;case"XZX":e.set(s*l,u*d,u*h,s*c);break;case"YXY":e.set(u*h,s*l,u*d,s*c);break;case"ZYZ":e.set(u*d,u*h,s*l,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}};function qn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.x=e,this.y=t}function Yn(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(qn.prototype,{width:{get:function(){return this.x},set:function(e){this.x=e}},height:{get:function(){return this.y},set:function(e){this.y=e}}}),Object.assign(qn.prototype,{isVector2:!0,set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},applyMatrix3:function(e){var t=this.x,n=this.y,r=e.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},cross:function(e){return this.x*e.y-this.y*e.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var e=Math.atan2(-this.y,-this.x)+Math.PI;return e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y;return t*t+n*n},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this},rotateAround:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=this.x-e.x,o=this.y-e.y;return this.x=i*n-o*r+e.x,this.y=i*r+o*n+e.y,this},random:function(){return this.x=Math.random(),this.y=Math.random(),this}}),Object.assign(Yn.prototype,{isMatrix3:!0,set:function(e,t,n,r,i,o,a,s,u){var c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=i,c[5]=s,c[6]=n,c[7]=o,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this},extractBasis:function(e,t,n){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},multiply:function(e){return this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[3],s=n[6],u=n[1],c=n[4],l=n[7],f=n[2],p=n[5],h=n[8],d=r[0],m=r[3],v=r[6],y=r[1],g=r[4],b=r[7],_=r[2],w=r[5],x=r[8];return i[0]=o*d+a*y+s*_,i[3]=o*m+a*g+s*w,i[6]=o*v+a*b+s*x,i[1]=u*d+c*y+l*_,i[4]=u*m+c*g+l*w,i[7]=u*v+c*b+l*x,i[2]=f*d+p*y+h*_,i[5]=f*m+p*g+h*w,i[8]=f*v+p*b+h*x,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[1],r=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-n*i*c+n*a*s+r*i*u-r*o*s},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix3: .getInverse() can no longer be configured to throw on degenerate.");var n=e.elements,r=this.elements,i=n[0],o=n[1],a=n[2],s=n[3],u=n[4],c=n[5],l=n[6],f=n[7],p=n[8],h=p*u-c*f,d=c*l-p*s,m=f*s-u*l,v=i*h+o*d+a*m;if(0===v)return this.set(0,0,0,0,0,0,0,0,0);var y=1/v;return r[0]=h*y,r[1]=(a*f-p*o)*y,r[2]=(c*o-a*u)*y,r[3]=d*y,r[4]=(p*i-a*l)*y,r[5]=(a*s-c*i)*y,r[6]=m*y,r[7]=(o*l-f*i)*y,r[8]=(u*i-o*s)*y,this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},setUvTransform:function(e,t,n,r,i,o,a){var s=Math.cos(i),u=Math.sin(i);this.set(n*s,n*u,-n*(s*o+u*a)+o+e,-r*u,r*s,-r*(-u*o+s*a)+a+t,0,0,1)},scale:function(e,t){var n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=t,n[4]*=t,n[7]*=t,this},rotate:function(e){var t=Math.cos(e),n=Math.sin(e),r=this.elements,i=r[0],o=r[3],a=r[6],s=r[1],u=r[4],c=r[7];return r[0]=t*i+n*s,r[3]=t*o+n*u,r[6]=t*a+n*c,r[1]=-n*i+t*s,r[4]=-n*o+t*u,r[7]=-n*a+t*c,this},translate:function(e,t){var n=this.elements;return n[0]+=e*n[2],n[3]+=e*n[5],n[6]+=e*n[8],n[1]+=t*n[2],n[4]+=t*n[5],n[7]+=t*n[8],this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<9;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e}});var Xn={getDataURL:function(e){if(/^data:/i.test(e.src))return e.src;if("undefined"==typeof HTMLCanvasElement)return e.src;var t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===Gn&&(Gn=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),Gn.width=e.width,Gn.height=e.height;var n=Gn.getContext("2d");e instanceof ImageData?n.putImageData(e,0,0):n.drawImage(e,0,0,e.width,e.height),t=Gn}return t.width>2048||t.height>2048?t.toDataURL("image/jpeg",.6):t.toDataURL("image/png")}},Zn=0;function Qn(e,t,n,r,i,o,a,s,u,c){Object.defineProperty(this,"id",{value:Zn++}),this.uuid=Wn.generateUUID(),this.name="",this.image=void 0!==e?e:Qn.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Qn.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:_e,this.wrapT=void 0!==r?r:_e,this.magFilter=void 0!==i?i:Me,this.minFilter=void 0!==o?o:Ce,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:We,this.internalFormat=null,this.type=void 0!==s?s:je,this.offset=new qn(0,0),this.repeat=new qn(1,1),this.center=new qn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:on,this.version=0,this.onUpdate=null}function Kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this.x=e,this.y=t,this.z=n,this.w=r}function Jn(e,t,n){this.width=e,this.height=t,this.scissor=new Kn(0,0,e,t),this.scissorTest=!1,this.viewport=new Kn(0,0,e,t),n=n||{},this.texture=new Qn(void 0,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=e,this.texture.image.height=t,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:Me,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function er(e,t,n){Jn.call(this,e,t,n),this.samples=4}function tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;this._x=e,this._y=t,this._z=n,this._w=r}Qn.DEFAULT_IMAGE=void 0,Qn.DEFAULT_MAPPING=pe,Qn.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Qn,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){var t=void 0===e||"string"===typeof e;if(!t&&void 0!==e.textures[this.uuid])return e.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var r=this.image;if(void 0===r.uuid&&(r.uuid=Wn.generateUUID()),!t&&void 0===e.images[r.uuid]){var i;if(Array.isArray(r)){i=[];for(var o=0,a=r.length;o<a;o++)i.push(Xn.getDataURL(r[o]))}else i=Xn.getDataURL(r);e.images[r.uuid]={uuid:r.uuid,url:i}}n.image=r.uuid}return t||(e.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping!==pe)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case be:e.x=e.x-Math.floor(e.x);break;case _e:e.x=e.x<0?0:1;break;case we:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||e.y>1)switch(this.wrapT){case be:e.y=e.y-Math.floor(e.y);break;case _e:e.y=e.y<0?0:1;break;case we:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}return this.flipY&&(e.y=1-e.y),e}}),Object.defineProperty(Qn.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.defineProperties(Kn.prototype,{width:{get:function(){return this.z},set:function(e){this.z=e}},height:{get:function(){return this.w},set:function(e){this.w=e}}}),Object.assign(Kn.prototype,{isVector4:!0,set:function(e,t,n,r){return this.x=e,this.y=t,this.z=n,this.w=r,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*n+o[8]*r+o[12]*i,this.y=o[1]*t+o[5]*n+o[9]*r+o[13]*i,this.z=o[2]*t+o[6]*n+o[10]*r+o[14]*i,this.w=o[3]*t+o[7]*n+o[11]*r+o[15]*i,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,n,r,i,o=e.elements,a=o[0],s=o[4],u=o[8],c=o[1],l=o[5],f=o[9],p=o[2],h=o[6],d=o[10];if(Math.abs(s-c)<.01&&Math.abs(u-p)<.01&&Math.abs(f-h)<.01){if(Math.abs(s+c)<.1&&Math.abs(u+p)<.1&&Math.abs(f+h)<.1&&Math.abs(a+l+d-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(a+1)/2,v=(l+1)/2,y=(d+1)/2,g=(s+c)/4,b=(u+p)/4,_=(f+h)/4;return m>v&&m>y?m<.01?(n=0,r=.707106781,i=.707106781):(r=g/(n=Math.sqrt(m)),i=b/n):v>y?v<.01?(n=.707106781,r=0,i=.707106781):(n=g/(r=Math.sqrt(v)),i=_/r):y<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(y)),r=_/i),this.set(n,r,i,t),this}var w=Math.sqrt((h-f)*(h-f)+(u-p)*(u-p)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(h-f)/w,this.y=(u-p)/w,this.z=(c-s)/w,this.w=Math.acos((a+l+d-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this.w=e.w+(t.w-e.w)*n,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}),Jn.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Jn,isWebGLRenderTarget:!0,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.texture.image.width=e,this.texture.image.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.depthTexture=e.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),er.prototype=Object.assign(Object.create(Jn.prototype),{constructor:er,isWebGLMultisampleRenderTarget:!0,copy:function(e){return Jn.prototype.copy.call(this,e),this.samples=e.samples,this}}),Object.assign(tr,{slerp:function(e,t,n,r){return n.copy(e).slerp(t,r)},slerpFlat:function(e,t,n,r,i,o,a){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],f=i[o+0],p=i[o+1],h=i[o+2],d=i[o+3];if(l!==d||s!==f||u!==p||c!==h){var m=1-a,v=s*f+u*p+c*h+l*d,y=v>=0?1:-1,g=1-v*v;if(g>Number.EPSILON){var b=Math.sqrt(g),_=Math.atan2(b,v*y);m=Math.sin(m*_)/b,a=Math.sin(a*_)/b}var w=a*y;if(s=s*m+f*w,u=u*m+p*w,c=c*m+h*w,l=l*m+d*w,m===1-a){var x=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=x,u*=x,c*=x,l*=x}}e[t]=s,e[t+1]=u,e[t+2]=c,e[t+3]=l},multiplyQuaternionsFlat:function(e,t,n,r,i,o){var a=n[r],s=n[r+1],u=n[r+2],c=n[r+3],l=i[o],f=i[o+1],p=i[o+2],h=i[o+3];return e[t]=a*h+c*l+s*p-u*f,e[t+1]=s*h+c*f+u*l-a*p,e[t+2]=u*h+c*p+a*f-s*l,e[t+3]=c*h-a*l-s*f-u*p,e}}),Object.defineProperties(tr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(e){this._w=e,this._onChangeCallback()}}}),Object.assign(tr.prototype,{isQuaternion:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._w=r,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this},setFromEuler:function(e,t){if(!e||!e.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=e._x,r=e._y,i=e._z,o=e.order,a=Math.cos,s=Math.sin,u=a(n/2),c=a(r/2),l=a(i/2),f=s(n/2),p=s(r/2),h=s(i/2);switch(o){case"XYZ":this._x=f*c*l+u*p*h,this._y=u*p*l-f*c*h,this._z=u*c*h+f*p*l,this._w=u*c*l-f*p*h;break;case"YXZ":this._x=f*c*l+u*p*h,this._y=u*p*l-f*c*h,this._z=u*c*h-f*p*l,this._w=u*c*l+f*p*h;break;case"ZXY":this._x=f*c*l-u*p*h,this._y=u*p*l+f*c*h,this._z=u*c*h+f*p*l,this._w=u*c*l-f*p*h;break;case"ZYX":this._x=f*c*l-u*p*h,this._y=u*p*l+f*c*h,this._z=u*c*h-f*p*l,this._w=u*c*l+f*p*h;break;case"YZX":this._x=f*c*l+u*p*h,this._y=u*p*l+f*c*h,this._z=u*c*h-f*p*l,this._w=u*c*l-f*p*h;break;case"XZY":this._x=f*c*l-u*p*h,this._y=u*p*l-f*c*h,this._z=u*c*h+f*p*l,this._w=u*c*l+f*p*h;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this},setFromAxisAngle:function(e,t){var n=t/2,r=Math.sin(n);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(e){var t=e.elements,n=t[0],r=t[4],i=t[8],o=t[1],a=t[5],s=t[9],u=t[2],c=t[6],l=t[10],f=n+a+l;if(f>0){var p=.5/Math.sqrt(f+1);this._w=.25/p,this._x=(c-s)*p,this._y=(i-u)*p,this._z=(o-r)*p}else if(n>a&&n>l){var h=2*Math.sqrt(1+n-a-l);this._w=(c-s)/h,this._x=.25*h,this._y=(r+o)/h,this._z=(i+u)/h}else if(a>l){var d=2*Math.sqrt(1+a-n-l);this._w=(i-u)/d,this._x=(r+o)/d,this._y=.25*d,this._z=(s+c)/d}else{var m=2*Math.sqrt(1+l-n-a);this._w=(o-r)/m,this._x=(i+u)/m,this._y=(s+c)/m,this._z=.25*m}return this._onChangeCallback(),this},setFromUnitVectors:function(e,t){var n=e.dot(t)+1;return n<1e-6?(n=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=n):(this._x=0,this._y=-e.z,this._z=e.y,this._w=n)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=n),this.normalize()},angleTo:function(e){return 2*Math.acos(Math.abs(Wn.clamp(this.dot(e),-1,1)))},rotateTowards:function(e,t){var n=this.angleTo(e);if(0===n)return this;var r=Math.min(1,t/n);return this.slerp(e,r),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},premultiply:function(e){return this.multiplyQuaternions(e,this)},multiplyQuaternions:function(e,t){var n=e._x,r=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=n*c+o*a+r*u-i*s,this._y=r*c+o*s+i*a-n*u,this._z=i*c+o*u+n*s-r*a,this._w=o*c-n*a-r*s-i*u,this._onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var n=this._x,r=this._y,i=this._z,o=this._w,a=o*e._w+n*e._x+r*e._y+i*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=n,this._y=r,this._z=i,this;var s=1-a*a;if(s<=Number.EPSILON){var u=1-t;return this._w=u*o+t*this._w,this._x=u*n+t*this._x,this._y=u*r+t*this._y,this._z=u*i+t*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),l=Math.atan2(c,a),f=Math.sin((1-t)*l)/c,p=Math.sin(t*l)/c;return this._w=o*f+this._w*p,this._x=n*f+this._x*p,this._y=r*f+this._y*p,this._z=i*f+this._z*p,this._onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},fromBufferAttribute:function(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}});var nr=new ir,rr=new tr;function ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.x=e,this.y=t,this.z=n}Object.assign(ir.prototype,{isVector3:!0,set:function(e,t,n){return this.x=e,this.y=t,this.z=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return e&&e.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(rr.setFromEuler(e))},applyAxisAngle:function(e,t){return this.applyQuaternion(rr.setFromAxisAngle(e,t))},applyMatrix3:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[3]*n+i[6]*r,this.y=i[1]*t+i[4]*n+i[7]*r,this.z=i[2]*t+i[5]*n+i[8]*r,this},applyNormalMatrix:function(e){return this.applyMatrix3(e).normalize()},applyMatrix4:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements,o=1/(i[3]*t+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*t+i[4]*n+i[8]*r+i[12])*o,this.y=(i[1]*t+i[5]*n+i[9]*r+i[13])*o,this.z=(i[2]*t+i[6]*n+i[10]*r+i[14])*o,this},applyQuaternion:function(e){var t=this.x,n=this.y,r=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*r-a*n,c=s*n+a*t-i*r,l=s*r+i*n-o*t,f=-i*t-o*n-a*r;return this.x=u*s+f*-i+c*-a-l*-o,this.y=c*s+f*-o+l*-i-u*-a,this.z=l*s+f*-a+u*-o-c*-i,this},project:function(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)},unproject:function(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)},transformDirection:function(e){var t=this.x,n=this.y,r=this.z,i=e.elements;return this.x=i[0]*t+i[4]*n+i[8]*r,this.y=i[1]*t+i[5]*n+i[9]*r,this.z=i[2]*t+i[6]*n+i[10]*r,this.normalize()},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this},clampLength:function(e,t){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(e,Math.min(t,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(e){return this.normalize().multiplyScalar(e)},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,n){return this.x=e.x+(t.x-e.x)*n,this.y=e.y+(t.y-e.y)*n,this.z=e.z+(t.z-e.z)*n,this},cross:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t)):this.crossVectors(this,e)},crossVectors:function(e,t){var n=e.x,r=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=r*s-i*a,this.y=i*o-n*s,this.z=n*a-r*o,this},projectOnVector:function(e){var t=e.lengthSq();if(0===t)return this.set(0,0,0);var n=e.dot(this)/t;return this.copy(e).multiplyScalar(n)},projectOnPlane:function(e){return nr.copy(this).projectOnVector(e),this.sub(nr)},reflect:function(e){return this.sub(nr.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;var n=this.dot(e)/t;return Math.acos(Wn.clamp(n,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,n=this.y-e.y,r=this.z-e.z;return t*t+n*n+r*r},manhattanDistanceTo:function(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)},setFromSpherical:function(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)},setFromSphericalCoords:function(e,t,n){var r=Math.sin(t)*e;return this.x=r*Math.sin(n),this.y=Math.cos(t)*e,this.z=r*Math.cos(n),this},setFromCylindrical:function(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)},setFromCylindricalCoords:function(e,t,n){return this.x=e*Math.sin(t),this.y=n,this.z=e*Math.cos(t),this},setFromMatrixPosition:function(e){var t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),n=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=n,this.z=r,this},setFromMatrixColumn:function(e,t){return this.fromArray(e.elements,4*t)},setFromMatrix3Column:function(e,t){return this.fromArray(e.elements,3*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromBufferAttribute:function(e,t,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this},random:function(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}});var or=new ir,ar=new pr,sr=new ir(0,0,0),ur=new ir(1,1,1),cr=new ir,lr=new ir,fr=new ir;function pr(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(pr.prototype,{isMatrix4:!0,set:function(e,t,n,r,i,o,a,s,u,c,l,f,p,h,d,m){var v=this.elements;return v[0]=e,v[4]=t,v[8]=n,v[12]=r,v[1]=i,v[5]=o,v[9]=a,v[13]=s,v[2]=u,v[6]=c,v[10]=l,v[14]=f,v[3]=p,v[7]=h,v[11]=d,v[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new pr).fromArray(this.elements)},copy:function(e){var t=this.elements,n=e.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],t[9]=n[9],t[10]=n[10],t[11]=n[11],t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15],this},copyPosition:function(e){var t=this.elements,n=e.elements;return t[12]=n[12],t[13]=n[13],t[14]=n[14],this},extractBasis:function(e,t,n){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,n){return this.set(e.x,t.x,n.x,0,e.y,t.y,n.y,0,e.z,t.z,n.z,0,0,0,0,1),this},extractRotation:function(e){var t=this.elements,n=e.elements,r=1/or.setFromMatrixColumn(e,0).length(),i=1/or.setFromMatrixColumn(e,1).length(),o=1/or.setFromMatrixColumn(e,2).length();return t[0]=n[0]*r,t[1]=n[1]*r,t[2]=n[2]*r,t[3]=0,t[4]=n[4]*i,t[5]=n[5]*i,t[6]=n[6]*i,t[7]=0,t[8]=n[8]*o,t[9]=n[9]*o,t[10]=n[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromEuler:function(e){e&&e.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,n=e.x,r=e.y,i=e.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var f=o*c,p=o*l,h=a*c,d=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=p+h*u,t[5]=f-d*u,t[9]=-a*s,t[2]=d-f*u,t[6]=h+p*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,v=s*l,y=u*c,g=u*l;t[0]=m+g*a,t[4]=y*a-v,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=v*a-y,t[6]=g+m*a,t[10]=o*s}else if("ZXY"===e.order){var b=s*c,_=s*l,w=u*c,x=u*l;t[0]=b-x*a,t[4]=-o*l,t[8]=w+_*a,t[1]=_+w*a,t[5]=o*c,t[9]=x-b*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var S=o*c,E=o*l,O=a*c,T=a*l;t[0]=s*c,t[4]=O*u-E,t[8]=S*u+T,t[1]=s*l,t[5]=T*u+S,t[9]=E*u-O,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var M=o*s,P=o*u,A=a*s,C=a*u;t[0]=s*c,t[4]=C-M*l,t[8]=A*l+P,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=P*l+A,t[10]=M-C*l}else if("XZY"===e.order){var k=o*s,j=o*u,R=a*s,D=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=k*l+D,t[5]=o*c,t[9]=j*l-R,t[2]=R*l-j,t[6]=a*c,t[10]=D*l+k}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){return this.compose(sr,e,ur)},lookAt:function(e,t,n){var r=this.elements;return fr.subVectors(e,t),0===fr.lengthSq()&&(fr.z=1),fr.normalize(),cr.crossVectors(n,fr),0===cr.lengthSq()&&(1===Math.abs(n.z)?fr.x+=1e-4:fr.z+=1e-4,fr.normalize(),cr.crossVectors(n,fr)),cr.normalize(),lr.crossVectors(fr,cr),r[0]=cr.x,r[4]=lr.x,r[8]=fr.x,r[1]=cr.y,r[5]=lr.y,r[9]=fr.y,r[2]=cr.z,r[6]=lr.z,r[10]=fr.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},premultiply:function(e){return this.multiplyMatrices(e,this)},multiplyMatrices:function(e,t){var n=e.elements,r=t.elements,i=this.elements,o=n[0],a=n[4],s=n[8],u=n[12],c=n[1],l=n[5],f=n[9],p=n[13],h=n[2],d=n[6],m=n[10],v=n[14],y=n[3],g=n[7],b=n[11],_=n[15],w=r[0],x=r[4],S=r[8],E=r[12],O=r[1],T=r[5],M=r[9],P=r[13],A=r[2],C=r[6],k=r[10],j=r[14],R=r[3],D=r[7],N=r[11],L=r[15];return i[0]=o*w+a*O+s*A+u*R,i[4]=o*x+a*T+s*C+u*D,i[8]=o*S+a*M+s*k+u*N,i[12]=o*E+a*P+s*j+u*L,i[1]=c*w+l*O+f*A+p*R,i[5]=c*x+l*T+f*C+p*D,i[9]=c*S+l*M+f*k+p*N,i[13]=c*E+l*P+f*j+p*L,i[2]=h*w+d*O+m*A+v*R,i[6]=h*x+d*T+m*C+v*D,i[10]=h*S+d*M+m*k+v*N,i[14]=h*E+d*P+m*j+v*L,i[3]=y*w+g*O+b*A+_*R,i[7]=y*x+g*T+b*C+_*D,i[11]=y*S+g*M+b*k+_*N,i[15]=y*E+g*P+b*j+_*L,this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},determinant:function(){var e=this.elements,t=e[0],n=e[4],r=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],f=e[10],p=e[14];return e[3]*(+i*s*l-r*u*l-i*a*f+n*u*f+r*a*p-n*s*p)+e[7]*(+t*s*p-t*u*f+i*o*f-r*o*p+r*u*c-i*s*c)+e[11]*(+t*u*l-t*a*p-i*o*l+n*o*p+i*a*c-n*u*c)+e[15]*(-r*a*c-t*s*l+t*a*f+r*o*l-n*o*f+n*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},setPosition:function(e,t,n){var r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=n),this},getInverse:function(e,t){void 0!==t&&console.warn("THREE.Matrix4: .getInverse() can no longer be configured to throw on degenerate.");var n=this.elements,r=e.elements,i=r[0],o=r[1],a=r[2],s=r[3],u=r[4],c=r[5],l=r[6],f=r[7],p=r[8],h=r[9],d=r[10],m=r[11],v=r[12],y=r[13],g=r[14],b=r[15],_=h*g*f-y*d*f+y*l*m-c*g*m-h*l*b+c*d*b,w=v*d*f-p*g*f-v*l*m+u*g*m+p*l*b-u*d*b,x=p*y*f-v*h*f+v*c*m-u*y*m-p*c*b+u*h*b,S=v*h*l-p*y*l-v*c*d+u*y*d+p*c*g-u*h*g,E=i*_+o*w+a*x+s*S;if(0===E)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);var O=1/E;return n[0]=_*O,n[1]=(y*d*s-h*g*s-y*a*m+o*g*m+h*a*b-o*d*b)*O,n[2]=(c*g*s-y*l*s+y*a*f-o*g*f-c*a*b+o*l*b)*O,n[3]=(h*l*s-c*d*s-h*a*f+o*d*f+c*a*m-o*l*m)*O,n[4]=w*O,n[5]=(p*g*s-v*d*s+v*a*m-i*g*m-p*a*b+i*d*b)*O,n[6]=(v*l*s-u*g*s-v*a*f+i*g*f+u*a*b-i*l*b)*O,n[7]=(u*d*s-p*l*s+p*a*f-i*d*f-u*a*m+i*l*m)*O,n[8]=x*O,n[9]=(v*h*s-p*y*s-v*o*m+i*y*m+p*o*b-i*h*b)*O,n[10]=(u*y*s-v*c*s+v*o*f-i*y*f-u*o*b+i*c*b)*O,n[11]=(p*c*s-u*h*s-p*o*f+i*h*f+u*o*m-i*c*m)*O,n[12]=S*O,n[13]=(p*y*a-v*h*a+v*o*d-i*y*d-p*o*g+i*h*g)*O,n[14]=(v*c*a-u*y*a-v*o*l+i*y*l+u*o*g-i*c*g)*O,n[15]=(u*h*a-p*c*a+p*o*l-i*h*l-u*o*d+i*c*d)*O,this},scale:function(e){var t=this.elements,n=e.x,r=e.y,i=e.z;return t[0]*=n,t[4]*=r,t[8]*=i,t[1]*=n,t[5]*=r,t[9]*=i,t[2]*=n,t[6]*=r,t[10]*=i,t[3]*=n,t[7]*=r,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],n=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,n,r))},makeTranslation:function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(1,0,0,0,0,t,-n,0,0,n,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,0,n,0,0,1,0,0,-n,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),n=Math.sin(e);return this.set(t,-n,0,0,n,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var n=Math.cos(t),r=Math.sin(t),i=1-n,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+n,u*a-r*s,u*s+r*a,0,u*a+r*s,c*a+n,c*s-r*o,0,u*s-r*a,c*s+r*o,i*s*s+n,0,0,0,0,1),this},makeScale:function(e,t,n){return this.set(e,0,0,0,0,t,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(e,t,n){return this.set(1,t,n,0,e,1,n,0,e,t,1,0,0,0,0,1),this},compose:function(e,t,n){var r=this.elements,i=t._x,o=t._y,a=t._z,s=t._w,u=i+i,c=o+o,l=a+a,f=i*u,p=i*c,h=i*l,d=o*c,m=o*l,v=a*l,y=s*u,g=s*c,b=s*l,_=n.x,w=n.y,x=n.z;return r[0]=(1-(d+v))*_,r[1]=(p+b)*_,r[2]=(h-g)*_,r[3]=0,r[4]=(p-b)*w,r[5]=(1-(f+v))*w,r[6]=(m+y)*w,r[7]=0,r[8]=(h+g)*x,r[9]=(m-y)*x,r[10]=(1-(f+d))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this},decompose:function(e,t,n){var r=this.elements,i=or.set(r[0],r[1],r[2]).length(),o=or.set(r[4],r[5],r[6]).length(),a=or.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),e.x=r[12],e.y=r[13],e.z=r[14],ar.copy(this);var s=1/i,u=1/o,c=1/a;return ar.elements[0]*=s,ar.elements[1]*=s,ar.elements[2]*=s,ar.elements[4]*=u,ar.elements[5]*=u,ar.elements[6]*=u,ar.elements[8]*=c,ar.elements[9]*=c,ar.elements[10]*=c,t.setFromRotationMatrix(ar),n.x=i,n.y=o,n.z=a,this},makePerspective:function(e,t,n,r,i,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),f=-(o+i)/(o-i),p=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=f,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(e,t,n,r,i,o){var a=this.elements,s=1/(t-e),u=1/(n-r),c=1/(o-i),l=(t+e)*s,f=(n+r)*u,p=(o+i)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2*u,a[9]=0,a[13]=-f,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(e){for(var t=this.elements,n=e.elements,r=0;r<16;r++)if(t[r]!==n[r])return!1;return!0},fromArray:function(e,t){void 0===t&&(t=0);for(var n=0;n<16;n++)this.elements[n]=e[n+t];return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);var n=this.elements;return e[t]=n[0],e[t+1]=n[1],e[t+2]=n[2],e[t+3]=n[3],e[t+4]=n[4],e[t+5]=n[5],e[t+6]=n[6],e[t+7]=n[7],e[t+8]=n[8],e[t+9]=n[9],e[t+10]=n[10],e[t+11]=n[11],e[t+12]=n[12],e[t+13]=n[13],e[t+14]=n[14],e[t+15]=n[15],e}});var hr=new pr,dr=new tr;function mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mr.DefaultOrder;this._x=e,this._y=t,this._z=n,this._order=r}function vr(){this.mask=1}mr.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],mr.DefaultOrder="XYZ",Object.defineProperties(mr.prototype,{x:{get:function(){return this._x},set:function(e){this._x=e,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(e){this._y=e,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(e){this._z=e,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(e){this._order=e,this._onChangeCallback()}}}),Object.assign(mr.prototype,{isEuler:!0,set:function(e,t,n,r){return this._x=e,this._y=t,this._z=n,this._order=r||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this},setFromRotationMatrix:function(e,t,n){var r=Wn.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],f=i[2],p=i[6],h=i[10];switch(t=t||this._order){case"XYZ":this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-l,h),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(r(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o));break;case"ZYX":this._y=Math.asin(-r(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,h),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-r(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(e,t,n){return hr.makeRotationFromQuaternion(e),this.setFromRotationMatrix(hr,t,n)},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(e){return dr.setFromEuler(this),this.setFromQuaternion(dr,e)},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this._onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new ir(this._x,this._y,this._z)},_onChange:function(e){return this._onChangeCallback=e,this},_onChangeCallback:function(){}}),Object.assign(vr.prototype,{set:function(e){this.mask=1<<e|0},enable:function(e){this.mask|=1<<e|0},enableAll:function(){this.mask=-1},toggle:function(e){this.mask^=1<<e|0},disable:function(e){this.mask&=~(1<<e|0)},disableAll:function(){this.mask=0},test:function(e){return 0!==(this.mask&e.mask)}});var yr=0,gr=new ir,br=new tr,_r=new pr,wr=new ir,xr=new ir,Sr=new ir,Er=new tr,Or=new ir(1,0,0),Tr=new ir(0,1,0),Mr=new ir(0,0,1),Pr={type:"added"},Ar={type:"removed"};function Cr(){Object.defineProperty(this,"id",{value:yr++}),this.uuid=Wn.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Cr.DefaultUp.clone();var e=new ir,t=new mr,n=new tr,r=new ir(1,1,1);t._onChange((function(){n.setFromEuler(t,!1)})),n._onChange((function(){t.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new pr},normalMatrix:{value:new Yn}}),this.matrix=new pr,this.matrixWorld=new pr,this.matrixAutoUpdate=Cr.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new vr,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function kr(){Cr.call(this),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}Cr.DefaultUp=new ir(0,1,0),Cr.DefaultMatrixAutoUpdate=!0,Cr.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Cr,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(e){return this.quaternion.premultiply(e),this},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(e,t){return br.setFromAxisAngle(e,t),this.quaternion.multiply(br),this},rotateOnWorldAxis:function(e,t){return br.setFromAxisAngle(e,t),this.quaternion.premultiply(br),this},rotateX:function(e){return this.rotateOnAxis(Or,e)},rotateY:function(e){return this.rotateOnAxis(Tr,e)},rotateZ:function(e){return this.rotateOnAxis(Mr,e)},translateOnAxis:function(e,t){return gr.copy(e).applyQuaternion(this.quaternion),this.position.add(gr.multiplyScalar(t)),this},translateX:function(e){return this.translateOnAxis(Or,e)},translateY:function(e){return this.translateOnAxis(Tr,e)},translateZ:function(e){return this.translateOnAxis(Mr,e)},localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(e){return e.applyMatrix4(_r.getInverse(this.matrixWorld))},lookAt:function(e,t,n){e.isVector3?wr.copy(e):wr.set(e,t,n);var r=this.parent;this.updateWorldMatrix(!0,!1),xr.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_r.lookAt(xr,wr,this.up):_r.lookAt(wr,xr,this.up),this.quaternion.setFromRotationMatrix(_r),r&&(_r.extractRotation(r.matrixWorld),br.setFromRotationMatrix(_r),this.quaternion.premultiply(br.inverse()))},add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(null!==e.parent&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Pr)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)},remove:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}var n=this.children.indexOf(e);return-1!==n&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ar)),this},attach:function(e){return this.updateWorldMatrix(!0,!1),_r.getInverse(this.matrixWorld),null!==e.parent&&(e.parent.updateWorldMatrix(!0,!1),_r.multiply(e.parent.matrixWorld)),e.applyMatrix4(_r),e.updateWorldMatrix(!1,!1),this.add(e),this},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(e,t);if(void 0!==i)return i}},getWorldPosition:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),e=new ir),this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),e=new tr),this.updateMatrixWorld(!0),this.matrixWorld.decompose(xr,e,Sr),e},getWorldScale:function(e){return void 0===e&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),e=new ir),this.updateMatrixWorld(!0),this.matrixWorld.decompose(xr,Er,e),e},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),e=new ir),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()},raycast:function(){},traverse:function(e){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=this.children,n=0,r=t.length;n<r;n++)t[n].updateMatrixWorld(e)},updateWorldMatrix:function(e,t){var n=this.parent;if(!0===e&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===t)for(var r=this.children,i=0,o=r.length;i<o;i++)r[i].updateWorldMatrix(!1,!0)},toJSON:function(e){var t=void 0===e||"string"===typeof e,n={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var r={};function i(t,n){return void 0===t[n.uuid]&&(t[n.uuid]=n.toJSON(e)),n.uuid}if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),!1===this.frustumCulled&&(r.frustumCulled=!1),0!==this.renderOrder&&(r.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){r.geometry=i(e.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,u=a.length;s<u;s++){var c=a[s];i(e.shapes,c)}else i(e.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){for(var l=[],f=0,p=this.material.length;f<p;f++)l.push(i(e.materials,this.material[f]));r.material=l}else r.material=i(e.materials,this.material);if(this.children.length>0){r.children=[];for(var h=0;h<this.children.length;h++)r.children.push(this.children[h].toJSON(e).object)}if(t){var d=b(e.geometries),m=b(e.materials),v=b(e.textures),y=b(e.images),g=b(e.shapes);d.length>0&&(n.geometries=d),m.length>0&&(n.materials=m),v.length>0&&(n.textures=v),y.length>0&&(n.images=y),g.length>0&&(n.shapes=g)}return n.object=r,n;function b(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var n=0;n<e.children.length;n++){var r=e.children[n];this.add(r.clone())}return this}}),kr.prototype=Object.assign(Object.create(Cr.prototype),{constructor:kr,isScene:!0,copy:function(e,t){return Cr.prototype.copy.call(this,e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},toJSON:function(e){var t=Cr.prototype.toJSON.call(this,e);return null!==this.background&&(t.object.background=this.background.toJSON(e)),null!==this.environment&&(t.object.environment=this.environment.toJSON(e)),null!==this.fog&&(t.object.fog=this.fog.toJSON()),t},dispose:function(){this.dispatchEvent({type:"dispose"})}});var jr=[new ir,new ir,new ir,new ir,new ir,new ir,new ir,new ir],Rr=new ir,Dr=new Gr,Nr=new ir,Lr=new ir,Ir=new ir,Br=new ir,Fr=new ir,Ur=new ir,zr=new ir,Vr=new ir,Hr=new ir,$r=new ir;function Gr(e,t){this.min=void 0!==e?e:new ir(1/0,1/0,1/0),this.max=void 0!==t?t:new ir(-1/0,-1/0,-1/0)}function Wr(e,t,n,r,i){for(var o=0,a=e.length-3;o<=a;o+=3){$r.fromArray(e,o);var s=i.x*Math.abs($r.x)+i.y*Math.abs($r.y)+i.z*Math.abs($r.z),u=t.dot($r),c=n.dot($r),l=r.dot($r);if(Math.max(-Math.max(u,c,l),Math.min(u,c,l))>s)return!1}return!0}Object.assign(Gr.prototype,{isBox3:!0,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.length;s<u;s+=3){var c=e[s],l=e[s+1],f=e[s+2];c<t&&(t=c),l<n&&(n=l),f<r&&(r=f),c>i&&(i=c),l>o&&(o=l),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromBufferAttribute:function(e){for(var t=1/0,n=1/0,r=1/0,i=-1/0,o=-1/0,a=-1/0,s=0,u=e.count;s<u;s++){var c=e.getX(s),l=e.getY(s),f=e.getZ(s);c<t&&(t=c),l<n&&(n=l),f<r&&(r=f),c>i&&(i=c),l>o&&(o=l),f>a&&(a=f)}return this.min.set(t,n,r),this.max.set(i,o,a),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Rr.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},setFromObject:function(e){return this.makeEmpty(),this.expandByObject(e)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box3: .getCenter() target is now required"),e=new ir),this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box3: .getSize() target is now required"),e=new ir),this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},expandByObject:function(e){e.updateWorldMatrix(!1,!1);var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),Dr.copy(t.boundingBox),Dr.applyMatrix4(e.matrixWorld),this.union(Dr));for(var n=e.children,r=0,i=n.length;r<i;r++)this.expandByObject(n[r]);return this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .getParameter() target is now required"),t=new ir),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return this.clampPoint(e.center,Rr),Rr.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,n;return e.normal.x>0?(t=e.normal.x*this.min.x,n=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,n=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,n+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,n+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,n+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,n+=e.normal.z*this.min.z),t<=-e.constant&&n>=-e.constant},intersectsTriangle:function(e){if(this.isEmpty())return!1;this.getCenter(zr),Vr.subVectors(this.max,zr),Nr.subVectors(e.a,zr),Lr.subVectors(e.b,zr),Ir.subVectors(e.c,zr),Br.subVectors(Lr,Nr),Fr.subVectors(Ir,Lr),Ur.subVectors(Nr,Ir);var t=[0,-Br.z,Br.y,0,-Fr.z,Fr.y,0,-Ur.z,Ur.y,Br.z,0,-Br.x,Fr.z,0,-Fr.x,Ur.z,0,-Ur.x,-Br.y,Br.x,0,-Fr.y,Fr.x,0,-Ur.y,Ur.x,0];return!!Wr(t,Nr,Lr,Ir,Vr)&&(!!Wr(t=[1,0,0,0,1,0,0,0,1],Nr,Lr,Ir,Vr)&&(Hr.crossVectors(Br,Fr),Wr(t=[Hr.x,Hr.y,Hr.z],Nr,Lr,Ir,Vr)))},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box3: .clampPoint() target is now required"),t=new ir),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Rr.copy(e).clamp(this.min,this.max).sub(e).length()},getBoundingSphere:function(e){return void 0===e&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(e.center),e.radius=.5*this.getSize(Rr).length(),e},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(e){return this.isEmpty()||(jr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),jr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),jr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),jr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),jr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),jr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),jr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),jr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(jr)),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var qr=new Gr;function Yr(e,t){this.center=void 0!==e?e:new ir,this.radius=void 0!==t?t:-1}Object.assign(Yr.prototype,{set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(e,t){var n=this.center;void 0!==t?n.copy(t):qr.setFromPoints(e).getCenter(n);for(var r=0,i=0,o=e.length;i<o;i++)r=Math.max(r,n.distanceToSquared(e[i]));return this.radius=Math.sqrt(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},isEmpty:function(){return this.radius<0},makeEmpty:function(){return this.center.set(0,0,0),this.radius=-1,this},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius},clampPoint:function(e,t){var n=this.center.distanceToSquared(e);return void 0===t&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),t=new ir),t.copy(e),n>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t},getBoundingBox:function(e){return void 0===e&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),e=new Gr),this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}});var Xr=new ir,Zr=new ir,Qr=new ir,Kr=new ir,Jr=new ir,ei=new ir,ti=new ir;function ni(e,t){this.origin=void 0!==e?e:new ir,this.direction=void 0!==t?t:new ir(0,0,-1)}Object.assign(ni.prototype,{set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return void 0===t&&(console.warn("THREE.Ray: .at() target is now required"),t=new ir),t.copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){return this.direction.copy(e).sub(this.origin).normalize(),this},recast:function(e){return this.origin.copy(this.at(e,Xr)),this},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),t=new ir),t.subVectors(e,this.origin);var n=t.dot(this.direction);return n<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:function(e){var t=Xr.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Xr.copy(this.direction).multiplyScalar(t).add(this.origin),Xr.distanceToSquared(e))},distanceSqToSegment:function(e,t,n,r){Zr.copy(e).add(t).multiplyScalar(.5),Qr.copy(t).sub(e).normalize(),Kr.copy(this.origin).sub(Zr);var i,o,a,s,u=.5*e.distanceTo(t),c=-this.direction.dot(Qr),l=Kr.dot(this.direction),f=-Kr.dot(Qr),p=Kr.lengthSq(),h=Math.abs(1-c*c);if(h>0)if(o=c*l-f,s=u*h,(i=c*f-l)>=0)if(o>=-s)if(o<=s){var d=1/h;a=(i*=d)*(i+c*(o*=d)+2*l)+o*(c*i+o+2*f)+p}else o=u,a=-(i=Math.max(0,-(c*o+l)))*i+o*(o+2*f)+p;else o=-u,a=-(i=Math.max(0,-(c*o+l)))*i+o*(o+2*f)+p;else o<=-s?a=-(i=Math.max(0,-(-c*u+l)))*i+(o=i>0?-u:Math.min(Math.max(-u,-f),u))*(o+2*f)+p:o<=s?(i=0,a=(o=Math.min(Math.max(-u,-f),u))*(o+2*f)+p):a=-(i=Math.max(0,-(c*u+l)))*i+(o=i>0?u:Math.min(Math.max(-u,-f),u))*(o+2*f)+p;else o=c>0?-u:u,a=-(i=Math.max(0,-(c*o+l)))*i+o*(o+2*f)+p;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(Qr).multiplyScalar(o).add(Zr),a},intersectSphere:function(e,t){Xr.subVectors(e.center,this.origin);var n=Xr.dot(this.direction),r=Xr.dot(Xr)-n*n,i=e.radius*e.radius;if(r>i)return null;var o=Math.sqrt(i-r),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,t):this.at(a,t)},intersectsSphere:function(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(e.normal)+e.constant)/t;return n>=0?n:null},intersectPlane:function(e,t){var n=this.distanceToPlane(e);return null===n?null:this.at(n,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var n,r,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,f=this.origin;return u>=0?(n=(e.min.x-f.x)*u,r=(e.max.x-f.x)*u):(n=(e.max.x-f.x)*u,r=(e.min.x-f.x)*u),c>=0?(i=(e.min.y-f.y)*c,o=(e.max.y-f.y)*c):(i=(e.max.y-f.y)*c,o=(e.min.y-f.y)*c),n>o||i>r?null:((i>n||n!==n)&&(n=i),(o<r||r!==r)&&(r=o),l>=0?(a=(e.min.z-f.z)*l,s=(e.max.z-f.z)*l):(a=(e.max.z-f.z)*l,s=(e.min.z-f.z)*l),n>s||a>r?null:((a>n||n!==n)&&(n=a),(s<r||r!==r)&&(r=s),r<0?null:this.at(n>=0?n:r,t)))},intersectsBox:function(e){return null!==this.intersectBox(e,Xr)},intersectTriangle:function(e,t,n,r,i){Jr.subVectors(t,e),ei.subVectors(n,e),ti.crossVectors(Jr,ei);var o,a=this.direction.dot(ti);if(a>0){if(r)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Kr.subVectors(this.origin,e);var s=o*this.direction.dot(ei.crossVectors(Kr,ei));if(s<0)return null;var u=o*this.direction.dot(Jr.cross(Kr));if(u<0)return null;if(s+u>a)return null;var c=-o*Kr.dot(ti);return c<0?null:this.at(c/a,i)},applyMatrix4:function(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}});var ri=new ir,ii=new ir,oi=new Yn;function ai(e,t){this.normal=void 0!==e?e:new ir(1,0,0),this.constant=void 0!==t?t:0}Object.assign(ai.prototype,{isPlane:!0,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,n,r){return this.normal.set(e,t,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(e,t,n){var r=ri.subVectors(n,t).cross(ii.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return void 0===t&&(console.warn("THREE.Plane: .projectPoint() target is now required"),t=new ir),t.copy(this.normal).multiplyScalar(-this.distanceToPoint(e)).add(e)},intersectLine:function(e,t){void 0===t&&(console.warn("THREE.Plane: .intersectLine() target is now required"),t=new ir);var n=e.delta(ri),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):void 0;var i=-(e.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:t.copy(n).multiplyScalar(i).add(e.start)},intersectsLine:function(e){var t=this.distanceToPoint(e.start),n=this.distanceToPoint(e.end);return t<0&&n>0||n<0&&t>0},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return void 0===e&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),e=new ir),e.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(e,t){var n=t||oi.getNormalMatrix(e),r=this.coplanarPoint(ri).applyMatrix4(e),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this},translate:function(e){return this.constant-=e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}});var si=new ir,ui=new ir,ci=new ir,li=new ir,fi=new ir,pi=new ir,hi=new ir,di=new ir,mi=new ir,vi=new ir;function yi(e,t,n){this.a=void 0!==e?e:new ir,this.b=void 0!==t?t:new ir,this.c=void 0!==n?n:new ir}Object.assign(yi,{getNormal:function(e,t,n,r){void 0===r&&(console.warn("THREE.Triangle: .getNormal() target is now required"),r=new ir),r.subVectors(n,t),si.subVectors(e,t),r.cross(si);var i=r.lengthSq();return i>0?r.multiplyScalar(1/Math.sqrt(i)):r.set(0,0,0)},getBarycoord:function(e,t,n,r,i){si.subVectors(r,t),ui.subVectors(n,t),ci.subVectors(e,t);var o=si.dot(si),a=si.dot(ui),s=si.dot(ci),u=ui.dot(ui),c=ui.dot(ci),l=o*u-a*a;if(void 0===i&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),i=new ir),0===l)return i.set(-2,-1,-1);var f=1/l,p=(u*s-a*c)*f,h=(o*c-a*s)*f;return i.set(1-p-h,h,p)},containsPoint:function(e,t,n,r){return yi.getBarycoord(e,t,n,r,li),li.x>=0&&li.y>=0&&li.x+li.y<=1},getUV:function(e,t,n,r,i,o,a,s){return this.getBarycoord(e,t,n,r,li),s.set(0,0),s.addScaledVector(i,li.x),s.addScaledVector(o,li.y),s.addScaledVector(a,li.z),s},isFrontFacing:function(e,t,n,r){return si.subVectors(n,t),ui.subVectors(e,t),si.cross(ui).dot(r)<0}}),Object.assign(yi.prototype,{set:function(e,t,n){return this.a.copy(e),this.b.copy(t),this.c.copy(n),this},setFromPointsAndIndices:function(e,t,n,r){return this.a.copy(e[t]),this.b.copy(e[n]),this.c.copy(e[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},getArea:function(){return si.subVectors(this.c,this.b),ui.subVectors(this.a,this.b),.5*si.cross(ui).length()},getMidpoint:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),e=new ir),e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(e){return yi.getNormal(this.a,this.b,this.c,e)},getPlane:function(e){return void 0===e&&(console.warn("THREE.Triangle: .getPlane() target is now required"),e=new ai),e.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(e,t){return yi.getBarycoord(e,this.a,this.b,this.c,t)},getUV:function(e,t,n,r,i){return yi.getUV(e,this.a,this.b,this.c,t,n,r,i)},containsPoint:function(e){return yi.containsPoint(e,this.a,this.b,this.c)},isFrontFacing:function(e){return yi.isFrontFacing(this.a,this.b,this.c,e)},intersectsBox:function(e){return e.intersectsTriangle(this)},closestPointToPoint:function(e,t){void 0===t&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),t=new ir);var n,r,i=this.a,o=this.b,a=this.c;fi.subVectors(o,i),pi.subVectors(a,i),di.subVectors(e,i);var s=fi.dot(di),u=pi.dot(di);if(s<=0&&u<=0)return t.copy(i);mi.subVectors(e,o);var c=fi.dot(mi),l=pi.dot(mi);if(c>=0&&l<=c)return t.copy(o);var f=s*l-c*u;if(f<=0&&s>=0&&c<=0)return n=s/(s-c),t.copy(i).addScaledVector(fi,n);vi.subVectors(e,a);var p=fi.dot(vi),h=pi.dot(vi);if(h>=0&&p<=h)return t.copy(a);var d=p*u-s*h;if(d<=0&&u>=0&&h<=0)return r=u/(u-h),t.copy(i).addScaledVector(pi,r);var m=c*h-p*l;if(m<=0&&l-c>=0&&p-h>=0)return hi.subVectors(a,o),r=(l-c)/(l-c+(p-h)),t.copy(o).addScaledVector(hi,r);var v=1/(m+d+f);return n=d*v,r=f*v,t.copy(i).addScaledVector(fi,n).addScaledVector(pi,r)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}});var gi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bi={h:0,s:0,l:0},_i={h:0,s:0,l:0};function wi(e,t,n){return void 0===t&&void 0===n?this.set(e):this.setRGB(e,t,n)}function xi(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+6*(t-e)*(2/3-n):e}function Si(e){return e<.04045?.0773993808*e:Math.pow(.9478672986*e+.0521327014,2.4)}function Ei(e){return e<.0031308?12.92*e:1.055*Math.pow(e,.41666)-.055}function Oi(e,t,n,r,i,o){this.a=e,this.b=t,this.c=n,this.normal=r&&r.isVector3?r:new ir,this.vertexNormals=Array.isArray(r)?r:[],this.color=i&&i.isColor?i:new wi,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==o?o:0}Object.assign(wi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(e){return e&&e.isColor?this.copy(e):"number"===typeof e?this.setHex(e):"string"===typeof e&&this.setStyle(e),this},setScalar:function(e){return this.r=e,this.g=e,this.b=e,this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,n){return this.r=e,this.g=t,this.b=n,this},setHSL:function(e,t,n){if(e=Wn.euclideanModulo(e,1),t=Wn.clamp(t,0,1),n=Wn.clamp(n,0,1),0===t)this.r=this.g=this.b=n;else{var r=n<=.5?n*(1+t):n+t-n*t,i=2*n-r;this.r=xi(i,r,e+1/3),this.g=xi(i,r,e),this.b=xi(i,r,e-1/3)}return this},setStyle:function(e){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var r,i=n[1],o=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,t(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,t(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return t(r[5]),this.setHSL(a,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(e)){var c=n[1],l=c.length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this},setColorName:function(e){var t=gi[e];return void 0!==t?this.setHex(t):console.warn("THREE.Color: Unknown color "+e),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var n=t>0?1/t:1;return this.r=Math.pow(e.r,n),this.g=Math.pow(e.g,n),this.b=Math.pow(e.b,n),this},convertGammaToLinear:function(e){return this.copyGammaToLinear(this,e),this},convertLinearToGamma:function(e){return this.copyLinearToGamma(this,e),this},copySRGBToLinear:function(e){return this.r=Si(e.r),this.g=Si(e.g),this.b=Si(e.b),this},copyLinearToSRGB:function(e){return this.r=Ei(e.r),this.g=Ei(e.g),this.b=Ei(e.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){void 0===e&&(console.warn("THREE.Color: .getHSL() target is now required"),e={h:0,s:0,l:0});var t,n,r=this.r,i=this.g,o=this.b,a=Math.max(r,i,o),s=Math.min(r,i,o),u=(s+a)/2;if(s===a)t=0,n=0;else{var c=a-s;switch(n=u<=.5?c/(a+s):c/(2-a-s),a){case r:t=(i-o)/c+(i<o?6:0);break;case i:t=(o-r)/c+2;break;case o:t=(r-i)/c+4}t/=6}return e.h=t,e.s=n,e.l=u,e},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,n){return this.getHSL(bi),bi.h+=e,bi.s+=t,bi.l+=n,this.setHSL(bi.h,bi.s,bi.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},sub:function(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},lerpHSL:function(e,t){this.getHSL(bi),e.getHSL(_i);var n=Wn.lerp(bi.h,_i.h,t),r=Wn.lerp(bi.s,_i.s,t),i=Wn.lerp(bi.l,_i.l,t);return this.setHSL(n,r,i),this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e},fromBufferAttribute:function(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this},toJSON:function(){return this.getHex()}}),wi.NAMES=gi,Object.assign(Oi.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,n=e.vertexNormals.length;t<n;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(var r=0,i=e.vertexColors.length;r<i;r++)this.vertexColors[r]=e.vertexColors[r].clone();return this}});var Ti=0;function Mi(){Object.defineProperty(this,"id",{value:Ti++}),this.uuid=Wn.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=P,this.side=x,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=V,this.blendDst=H,this.blendEquation=R,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=K,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=jn,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=gn,this.stencilZFail=gn,this.stencilZPass=gn,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function Pi(e){Mi.call(this),this.type="MeshBasicMaterial",this.color=new wi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=re,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(e)}Mi.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Mi,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(e){if(void 0!==e)for(var t in e){var n=e[t];if(void 0!==n)if("shading"!==t){var r=this[t];void 0!==r?r&&r.isColor?r.set(n):r&&r.isVector3&&n&&n.isVector3?r.copy(n):this[t]=n:console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=n===O;else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(e){var t=void 0===e||"string"===typeof e;t&&(e={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function r(e){var t=[];for(var n in e){var r=e[n];delete r.metadata,t.push(r)}return t}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(n.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(n.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(e).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(e).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(e).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(e).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(e).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(e).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==P&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==x&&(n.side=this.side),this.vertexColors&&(n.vertexColors=!0),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),t){var i=r(e.textures),o=r(e.images);i.length>0&&(n.textures=i),o.length>0&&(n.images=o)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.name=e.name,this.fog=e.fog,this.blending=e.blending,this.side=e.side,this.flatShading=e.flatShading,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;var t=e.clippingPlanes,n=null;if(null!==t){var r=t.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=t[i].clone()}return this.clippingPlanes=n,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(Mi.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Pi.prototype=Object.create(Mi.prototype),Pi.prototype.constructor=Pi,Pi.prototype.isMeshBasicMaterial=!0,Pi.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this};var Ai=new ir,Ci=new qn;function ki(e,t,n){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=!0===n,this.usage=Rn,this.updateRange={offset:0,count:-1},this.version=0}function ji(e,t,n){ki.call(this,new Int8Array(e),t,n)}function Ri(e,t,n){ki.call(this,new Uint8Array(e),t,n)}function Di(e,t,n){ki.call(this,new Uint8ClampedArray(e),t,n)}function Ni(e,t,n){ki.call(this,new Int16Array(e),t,n)}function Li(e,t,n){ki.call(this,new Uint16Array(e),t,n)}function Ii(e,t,n){ki.call(this,new Int32Array(e),t,n)}function Bi(e,t,n){ki.call(this,new Uint32Array(e),t,n)}function Fi(e,t,n){ki.call(this,new Float32Array(e),t,n)}function Ui(e,t,n){ki.call(this,new Float64Array(e),t,n)}function zi(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Vi(e){if(0===e.length)return-1/0;for(var t=e[0],n=1,r=e.length;n<r;++n)e[n]>t&&(t=e[n]);return t}Object.defineProperty(ki.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(ki.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.itemSize,n*=t.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[e+r]=t.array[n+r];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",r),o=new wi),t[n++]=o.r,t[n++]=o.g,t[n++]=o.b}return this},copyVector2sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",r),o=new qn),t[n++]=o.x,t[n++]=o.y}return this},copyVector3sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",r),o=new ir),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z}return this},copyVector4sArray:function(e){for(var t=this.array,n=0,r=0,i=e.length;r<i;r++){var o=e[r];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",r),o=new Kn),t[n++]=o.x,t[n++]=o.y,t[n++]=o.z,t[n++]=o.w}return this},applyMatrix3:function(e){if(2===this.itemSize)for(var t=0,n=this.count;t<n;t++)Ci.fromBufferAttribute(this,t),Ci.applyMatrix3(e),this.setXY(t,Ci.x,Ci.y);else if(3===this.itemSize)for(var r=0,i=this.count;r<i;r++)Ai.fromBufferAttribute(this,r),Ai.applyMatrix3(e),this.setXYZ(r,Ai.x,Ai.y,Ai.z);return this},applyMatrix4:function(e){for(var t=0,n=this.count;t<n;t++)Ai.x=this.getX(t),Ai.y=this.getY(t),Ai.z=this.getZ(t),Ai.applyMatrix4(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this},applyNormalMatrix:function(e){for(var t=0,n=this.count;t<n;t++)Ai.x=this.getX(t),Ai.y=this.getY(t),Ai.z=this.getZ(t),Ai.applyNormalMatrix(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this},transformDirection:function(e){for(var t=0,n=this.count;t<n;t++)Ai.x=this.getX(t),Ai.y=this.getY(t),Ai.z=this.getZ(t),Ai.transformDirection(e),this.setXYZ(t,Ai.x,Ai.y,Ai.z);return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=n,this.array[e+2]=r,this.array[e+3]=i,this},onUpload:function(e){return this.onUploadCallback=e,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ji.prototype=Object.create(ki.prototype),ji.prototype.constructor=ji,Ri.prototype=Object.create(ki.prototype),Ri.prototype.constructor=Ri,Di.prototype=Object.create(ki.prototype),Di.prototype.constructor=Di,Ni.prototype=Object.create(ki.prototype),Ni.prototype.constructor=Ni,Li.prototype=Object.create(ki.prototype),Li.prototype.constructor=Li,Ii.prototype=Object.create(ki.prototype),Ii.prototype.constructor=Ii,Bi.prototype=Object.create(ki.prototype),Bi.prototype.constructor=Bi,Fi.prototype=Object.create(ki.prototype),Fi.prototype.constructor=Fi,Ui.prototype=Object.create(ki.prototype),Ui.prototype.constructor=Ui,Object.assign(zi.prototype,{computeGroups:function(e){var t,n,r=[],i=void 0,o=e.faces;for(n=0;n<o.length;n++){var a=o[n];a.materialIndex!==i&&(i=a.materialIndex,void 0!==t&&(t.count=3*n-t.start,r.push(t)),t={start:3*n,materialIndex:i})}void 0!==t&&(t.count=3*n-t.start,r.push(t)),this.groups=r},fromGeometry:function(e){var t,n=e.faces,r=e.vertices,i=e.faceVertexUvs,o=i[0]&&i[0].length>0,a=i[1]&&i[1].length>0,s=e.morphTargets,u=s.length;if(u>0){t=[];for(var c=0;c<u;c++)t[c]={name:s[c].name,data:[]};this.morphTargets.position=t}var l,f=e.morphNormals,p=f.length;if(p>0){l=[];for(var h=0;h<p;h++)l[h]={name:f[h].name,data:[]};this.morphTargets.normal=l}var d=e.skinIndices,m=e.skinWeights,v=d.length===r.length,y=m.length===r.length;r.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(var g=0;g<n.length;g++){var b=n[g];this.vertices.push(r[b.a],r[b.b],r[b.c]);var _=b.vertexNormals;if(3===_.length)this.normals.push(_[0],_[1],_[2]);else{var w=b.normal;this.normals.push(w,w,w)}var x=b.vertexColors;if(3===x.length)this.colors.push(x[0],x[1],x[2]);else{var S=b.color;this.colors.push(S,S,S)}if(!0===o){var E=i[0][g];void 0!==E?this.uvs.push(E[0],E[1],E[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new qn,new qn,new qn))}if(!0===a){var O=i[1][g];void 0!==O?this.uvs2.push(O[0],O[1],O[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new qn,new qn,new qn))}for(var T=0;T<u;T++){var M=s[T].vertices;t[T].data.push(M[b.a],M[b.b],M[b.c])}for(var P=0;P<p;P++){var A=f[P].vertexNormals[g];l[P].data.push(A.a,A.b,A.c)}v&&this.skinIndices.push(d[b.a],d[b.b],d[b.c]),y&&this.skinWeights.push(m[b.a],m[b.b],m[b.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this}});var Hi=1,$i=new pr,Gi=new Cr,Wi=new ir,qi=new Gr,Yi=new Gr,Xi=new ir;function Zi(){Object.defineProperty(this,"id",{value:Hi+=2}),this.uuid=Wn.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Zi.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Zi,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(e){Array.isArray(e)?this.index=new(Vi(e)>65535?Bi:Li)(e,1):this.index=e},getAttribute:function(e){return this.attributes[e]},setAttribute:function(e,t){return this.attributes[e]=t,this},deleteAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,n){this.groups.push({start:e,count:t,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix4:function(e){var t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);var n=this.attributes.normal;if(void 0!==n){var r=(new Yn).getNormalMatrix(e);n.applyNormalMatrix(r),n.needsUpdate=!0}var i=this.attributes.tangent;return void 0!==i&&(i.transformDirection(e),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return $i.makeRotationX(e),this.applyMatrix4($i),this},rotateY:function(e){return $i.makeRotationY(e),this.applyMatrix4($i),this},rotateZ:function(e){return $i.makeRotationZ(e),this.applyMatrix4($i),this},translate:function(e,t,n){return $i.makeTranslation(e,t,n),this.applyMatrix4($i),this},scale:function(e,t,n){return $i.makeScale(e,t,n),this.applyMatrix4($i),this},lookAt:function(e){return Gi.lookAt(e),Gi.updateMatrix(),this.applyMatrix4(Gi.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Wi).negate(),this.translate(Wi.x,Wi.y,Wi.z),this},setFromObject:function(e){var t=e.geometry;if(e.isPoints||e.isLine){var n=new Fi(3*t.vertices.length,3),r=new Fi(3*t.colors.length,3);if(this.setAttribute("position",n.copyVector3sArray(t.vertices)),this.setAttribute("color",r.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var i=new Fi(t.lineDistances.length,1);this.setAttribute("lineDistance",i.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e.isMesh&&t&&t.isGeometry&&this.fromGeometry(t);return this},setFromPoints:function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Fi(t,3)),this},updateFromObject:function(e){var t=e.geometry;if(e.isMesh){var n=t.__directGeometry;if(!0===t.elementsNeedUpdate&&(n=void 0,t.elementsNeedUpdate=!1),void 0===n)return this.fromGeometry(t);n.verticesNeedUpdate=t.verticesNeedUpdate,n.normalsNeedUpdate=t.normalsNeedUpdate,n.colorsNeedUpdate=t.colorsNeedUpdate,n.uvsNeedUpdate=t.uvsNeedUpdate,n.groupsNeedUpdate=t.groupsNeedUpdate,t.verticesNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.groupsNeedUpdate=!1,t=n}if(!0===t.verticesNeedUpdate){var r=this.attributes.position;void 0!==r&&(r.copyVector3sArray(t.vertices),r.needsUpdate=!0),t.verticesNeedUpdate=!1}if(!0===t.normalsNeedUpdate){var i=this.attributes.normal;void 0!==i&&(i.copyVector3sArray(t.normals),i.needsUpdate=!0),t.normalsNeedUpdate=!1}if(!0===t.colorsNeedUpdate){var o=this.attributes.color;void 0!==o&&(o.copyColorsArray(t.colors),o.needsUpdate=!0),t.colorsNeedUpdate=!1}if(t.uvsNeedUpdate){var a=this.attributes.uv;void 0!==a&&(a.copyVector2sArray(t.uvs),a.needsUpdate=!0),t.uvsNeedUpdate=!1}if(t.lineDistancesNeedUpdate){var s=this.attributes.lineDistance;void 0!==s&&(s.copyArray(t.lineDistances),s.needsUpdate=!0),t.lineDistancesNeedUpdate=!1}return t.groupsNeedUpdate&&(t.computeGroups(e.geometry),this.groups=t.groups,t.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new zi).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.setAttribute("position",new ki(t,3).copyVector3sArray(e.vertices)),e.normals.length>0){var n=new Float32Array(3*e.normals.length);this.setAttribute("normal",new ki(n,3).copyVector3sArray(e.normals))}if(e.colors.length>0){var r=new Float32Array(3*e.colors.length);this.setAttribute("color",new ki(r,3).copyColorsArray(e.colors))}if(e.uvs.length>0){var i=new Float32Array(2*e.uvs.length);this.setAttribute("uv",new ki(i,2).copyVector2sArray(e.uvs))}if(e.uvs2.length>0){var o=new Float32Array(2*e.uvs2.length);this.setAttribute("uv2",new ki(o,2).copyVector2sArray(e.uvs2))}for(var a in this.groups=e.groups,e.morphTargets){for(var s=[],u=e.morphTargets[a],c=0,l=u.length;c<l;c++){var f=u[c],p=new Fi(3*f.data.length,3);p.name=f.name,s.push(p.copyVector3sArray(f.data))}this.morphAttributes[a]=s}if(e.skinIndices.length>0){var h=new Fi(4*e.skinIndices.length,4);this.setAttribute("skinIndex",h.copyVector4sArray(e.skinIndices))}if(e.skinWeights.length>0){var d=new Fi(4*e.skinWeights.length,4);this.setAttribute("skinWeight",d.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Gr);var e=this.attributes.position,t=this.morphAttributes.position;if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(var n=0,r=t.length;n<r;n++){var i=t[n];qi.setFromBufferAttribute(i),this.morphTargetsRelative?(Xi.addVectors(this.boundingBox.min,qi.min),this.boundingBox.expandByPoint(Xi),Xi.addVectors(this.boundingBox.max,qi.max),this.boundingBox.expandByPoint(Xi)):(this.boundingBox.expandByPoint(qi.min),this.boundingBox.expandByPoint(qi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Yr);var e=this.attributes.position,t=this.morphAttributes.position;if(e){var n=this.boundingSphere.center;if(qi.setFromBufferAttribute(e),t)for(var r=0,i=t.length;r<i;r++){var o=t[r];Yi.setFromBufferAttribute(o),this.morphTargetsRelative?(Xi.addVectors(qi.min,Yi.min),qi.expandByPoint(Xi),Xi.addVectors(qi.max,Yi.max),qi.expandByPoint(Xi)):(qi.expandByPoint(Yi.min),qi.expandByPoint(Yi.max))}qi.getCenter(n);for(var a=0,s=0,u=e.count;s<u;s++)Xi.fromBufferAttribute(e,s),a=Math.max(a,n.distanceToSquared(Xi));if(t)for(var c=0,l=t.length;c<l;c++)for(var f=t[c],p=this.morphTargetsRelative,h=0,d=f.count;h<d;h++)Xi.fromBufferAttribute(f,h),p&&(Wi.fromBufferAttribute(e,h),Xi.add(Wi)),a=Math.max(a,n.distanceToSquared(Xi));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.getAttribute("position");if(void 0!==t){var n=this.getAttribute("normal");if(void 0===n)n=new ki(new Float32Array(3*t.count),3),this.setAttribute("normal",n);else for(var r=0,i=n.count;r<i;r++)n.setXYZ(r,0,0,0);var o=new ir,a=new ir,s=new ir,u=new ir,c=new ir,l=new ir,f=new ir,p=new ir;if(e)for(var h=0,d=e.count;h<d;h+=3){var m=e.getX(h+0),v=e.getX(h+1),y=e.getX(h+2);o.fromBufferAttribute(t,m),a.fromBufferAttribute(t,v),s.fromBufferAttribute(t,y),f.subVectors(s,a),p.subVectors(o,a),f.cross(p),u.fromBufferAttribute(n,m),c.fromBufferAttribute(n,v),l.fromBufferAttribute(n,y),u.add(f),c.add(f),l.add(f),n.setXYZ(m,u.x,u.y,u.z),n.setXYZ(v,c.x,c.y,c.z),n.setXYZ(y,l.x,l.y,l.z)}else for(var g=0,b=t.count;g<b;g+=3)o.fromBufferAttribute(t,g+0),a.fromBufferAttribute(t,g+1),s.fromBufferAttribute(t,g+2),f.subVectors(s,a),p.subVectors(o,a),f.cross(p),n.setXYZ(g+0,f.x,f.y,f.z),n.setXYZ(g+1,f.x,f.y,f.z),n.setXYZ(g+2,f.x,f.y,f.z);this.normalizeNormals(),n.needsUpdate=!0}},merge:function(e,t){if(e&&e.isBufferGeometry){void 0===t&&(t=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var r in n)if(void 0!==e.attributes[r])for(var i=n[r].array,o=e.attributes[r],a=o.array,s=o.itemSize*t,u=Math.min(a.length,i.length-s),c=0,l=s;c<u;c++,l++)i[l]=a[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e)},normalizeNormals:function(){for(var e=this.attributes.normal,t=0,n=e.count;t<n;t++)Xi.fromBufferAttribute(e,t),Xi.normalize(),e.setXYZ(t,Xi.x,Xi.y,Xi.z)},toNonIndexed:function(){function e(e,t){for(var n=e.array,r=e.itemSize,i=e.normalized,o=new n.constructor(t.length*r),a=0,s=0,u=0,c=t.length;u<c;u++){a=t[u]*r;for(var l=0;l<r;l++)o[s++]=n[a++]}return new ki(o,r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var t=new Zi,n=this.index.array,r=this.attributes;for(var i in r){var o=e(r[i],n);t.setAttribute(i,o)}var a=this.morphAttributes;for(var s in a){for(var u=[],c=a[s],l=0,f=c.length;l<f;l++){var p=e(c[l],n);u.push(p)}t.morphAttributes[s]=u}t.morphTargetsRelative=this.morphTargetsRelative;for(var h=this.groups,d=0,m=h.length;d<m;d++){var v=h[d];t.addGroup(v.start,v.count,v.materialIndex)}return t},toJSON:function(){var e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}e.data={attributes:{}};var r=this.index;null!==r&&(e.data.index={type:r.array.constructor.name,array:Array.prototype.slice.call(r.array)});var i=this.attributes;for(var o in i){var a=i[o],s=a.toJSON(e.data);""!==a.name&&(s.name=a.name),e.data.attributes[o]=s}var u={},c=!1;for(var l in this.morphAttributes){for(var f=this.morphAttributes[l],p=[],h=0,d=f.length;h<d;h++){var m=f[h],v=m.toJSON(e.data);""!==m.name&&(v.name=m.name),p.push(v)}p.length>0&&(u[l]=p,c=!0)}c&&(e.data.morphAttributes=u,e.data.morphTargetsRelative=this.morphTargetsRelative);var y=this.groups;y.length>0&&(e.data.groups=JSON.parse(JSON.stringify(y)));var g=this.boundingSphere;return null!==g&&(e.data.boundingSphere={center:g.center.toArray(),radius:g.radius}),e},clone:function(){return(new Zi).copy(this)},copy:function(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;var t={};this.name=e.name;var n=e.index;null!==n&&this.setIndex(n.clone(t));var r=e.attributes;for(var i in r){var o=r[i];this.setAttribute(i,o.clone(t))}var a=e.morphAttributes;for(var s in a){for(var u=[],c=a[s],l=0,f=c.length;l<f;l++)u.push(c[l].clone(t));this.morphAttributes[s]=u}this.morphTargetsRelative=e.morphTargetsRelative;for(var p=e.groups,h=0,d=p.length;h<d;h++){var m=p[h];this.addGroup(m.start,m.count,m.materialIndex)}var v=e.boundingBox;null!==v&&(this.boundingBox=v.clone());var y=e.boundingSphere;return null!==y&&(this.boundingSphere=y.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Qi=new pr,Ki=new ni,Ji=new Yr,eo=new ir,to=new ir,no=new ir,ro=new ir,io=new ir,oo=new ir,ao=new ir,so=new ir,uo=new ir,co=new qn,lo=new qn,fo=new qn,po=new ir,ho=new ir;function mo(e,t){Cr.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Zi,this.material=void 0!==t?t:new Pi,this.updateMorphTargets()}function vo(e,t,n,r,i,o,a,s){if(null===(t.side===S?r.intersectTriangle(a,o,i,!0,s):r.intersectTriangle(i,o,a,t.side!==E,s)))return null;ho.copy(s),ho.applyMatrix4(e.matrixWorld);var u=n.ray.origin.distanceTo(ho);return u<n.near||u>n.far?null:{distance:u,point:ho.clone(),object:e}}function yo(e,t,n,r,i,o,a,s,u,c,l,f){eo.fromBufferAttribute(i,c),to.fromBufferAttribute(i,l),no.fromBufferAttribute(i,f);var p=e.morphTargetInfluences;if(t.morphTargets&&o&&p){ao.set(0,0,0),so.set(0,0,0),uo.set(0,0,0);for(var h=0,d=o.length;h<d;h++){var m=p[h],v=o[h];0!==m&&(ro.fromBufferAttribute(v,c),io.fromBufferAttribute(v,l),oo.fromBufferAttribute(v,f),a?(ao.addScaledVector(ro,m),so.addScaledVector(io,m),uo.addScaledVector(oo,m)):(ao.addScaledVector(ro.sub(eo),m),so.addScaledVector(io.sub(to),m),uo.addScaledVector(oo.sub(no),m)))}eo.add(ao),to.add(so),no.add(uo)}e.isSkinnedMesh&&(e.boneTransform(c,eo),e.boneTransform(l,to),e.boneTransform(f,no));var y=vo(e,t,n,r,eo,to,no,po);if(y){s&&(co.fromBufferAttribute(s,c),lo.fromBufferAttribute(s,l),fo.fromBufferAttribute(s,f),y.uv=yi.getUV(po,eo,to,no,co,lo,fo,new qn)),u&&(co.fromBufferAttribute(u,c),lo.fromBufferAttribute(u,l),fo.fromBufferAttribute(u,f),y.uv2=yi.getUV(po,eo,to,no,co,lo,fo,new qn));var g=new Oi(c,l,f);yi.getNormal(eo,to,no,g.normal),y.face=g}return y}mo.prototype=Object.assign(Object.create(Cr.prototype),{constructor:mo,isMesh:!0,copy:function(e){return Cr.prototype.copy.call(this,e),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(e,t){var n,r=this.geometry,i=this.material,o=this.matrixWorld;if(void 0!==i&&(null===r.boundingSphere&&r.computeBoundingSphere(),Ji.copy(r.boundingSphere),Ji.applyMatrix4(o),!1!==e.ray.intersectsSphere(Ji)&&(Qi.getInverse(o),Ki.copy(e.ray).applyMatrix4(Qi),null===r.boundingBox||!1!==Ki.intersectsBox(r.boundingBox))))if(r.isBufferGeometry){var a=r.index,s=r.attributes.position,u=r.morphAttributes.position,c=r.morphTargetsRelative,l=r.attributes.uv,f=r.attributes.uv2,p=r.groups,h=r.drawRange;if(null!==a)if(Array.isArray(i))for(var d=0,m=p.length;d<m;d++)for(var v=p[d],y=i[v.materialIndex],g=Math.max(v.start,h.start),b=Math.min(v.start+v.count,h.start+h.count);g<b;g+=3){var _=a.getX(g),w=a.getX(g+1),x=a.getX(g+2);(n=yo(this,y,e,Ki,s,u,c,l,f,_,w,x))&&(n.faceIndex=Math.floor(g/3),n.face.materialIndex=v.materialIndex,t.push(n))}else for(var S=Math.max(0,h.start),E=Math.min(a.count,h.start+h.count);S<E;S+=3){var O=a.getX(S),T=a.getX(S+1),M=a.getX(S+2);(n=yo(this,i,e,Ki,s,u,c,l,f,O,T,M))&&(n.faceIndex=Math.floor(S/3),t.push(n))}else if(void 0!==s)if(Array.isArray(i))for(var P=0,A=p.length;P<A;P++)for(var C=p[P],k=i[C.materialIndex],j=Math.max(C.start,h.start),R=Math.min(C.start+C.count,h.start+h.count);j<R;j+=3){(n=yo(this,k,e,Ki,s,u,c,l,f,j,j+1,j+2))&&(n.faceIndex=Math.floor(j/3),n.face.materialIndex=C.materialIndex,t.push(n))}else for(var D=Math.max(0,h.start),N=Math.min(s.count,h.start+h.count);D<N;D+=3){(n=yo(this,i,e,Ki,s,u,c,l,f,D,D+1,D+2))&&(n.faceIndex=Math.floor(D/3),t.push(n))}}else if(r.isGeometry){var L,I=Array.isArray(i),B=r.vertices,F=r.faces,U=r.faceVertexUvs[0];U.length>0&&(L=U);for(var z=0,V=F.length;z<V;z++){var H=F[z],$=I?i[H.materialIndex]:i;if(void 0!==$){var G=B[H.a],W=B[H.b],q=B[H.c];if(n=vo(this,$,e,Ki,G,W,q,po)){if(L&&L[z]){var Y=L[z];co.copy(Y[0]),lo.copy(Y[1]),fo.copy(Y[2]),n.uv=yi.getUV(po,G,W,q,co,lo,fo,new qn)}n.face=H,n.faceIndex=z,t.push(n)}}}}}});var go=0,bo=new pr,_o=new Cr,wo=new ir;function xo(){Object.defineProperty(this,"id",{value:go+=2}),this.uuid=Wn.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}xo.prototype=Object.assign(Object.create(Vn.prototype),{constructor:xo,isGeometry:!0,applyMatrix4:function(e){for(var t=(new Yn).getNormalMatrix(e),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(e)}for(var i=0,o=this.faces.length;i<o;i++){var a=this.faces[i];a.normal.applyMatrix3(t).normalize();for(var s=0,u=a.vertexNormals.length;s<u;s++)a.vertexNormals[s].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return bo.makeRotationX(e),this.applyMatrix4(bo),this},rotateY:function(e){return bo.makeRotationY(e),this.applyMatrix4(bo),this},rotateZ:function(e){return bo.makeRotationZ(e),this.applyMatrix4(bo),this},translate:function(e,t,n){return bo.makeTranslation(e,t,n),this.applyMatrix4(bo),this},scale:function(e,t,n){return bo.makeScale(e,t,n),this.applyMatrix4(bo),this},lookAt:function(e){return _o.lookAt(e),_o.updateMatrix(),this.applyMatrix4(_o.matrix),this},fromBufferGeometry:function(e){var t=this,n=null!==e.index?e.index:void 0,r=e.attributes;if(void 0===r.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var i=r.position,o=r.normal,a=r.color,s=r.uv,u=r.uv2;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var c=0;c<i.count;c++)t.vertices.push((new ir).fromBufferAttribute(i,c)),void 0!==a&&t.colors.push((new wi).fromBufferAttribute(a,c));function l(e,n,r,i){var c=void 0===a?[]:[t.colors[e].clone(),t.colors[n].clone(),t.colors[r].clone()],l=new Oi(e,n,r,void 0===o?[]:[(new ir).fromBufferAttribute(o,e),(new ir).fromBufferAttribute(o,n),(new ir).fromBufferAttribute(o,r)],c,i);t.faces.push(l),void 0!==s&&t.faceVertexUvs[0].push([(new qn).fromBufferAttribute(s,e),(new qn).fromBufferAttribute(s,n),(new qn).fromBufferAttribute(s,r)]),void 0!==u&&t.faceVertexUvs[1].push([(new qn).fromBufferAttribute(u,e),(new qn).fromBufferAttribute(u,n),(new qn).fromBufferAttribute(u,r)])}var f=e.groups;if(f.length>0)for(var p=0;p<f.length;p++)for(var h=f[p],d=h.start,m=d,v=d+h.count;m<v;m+=3)void 0!==n?l(n.getX(m),n.getX(m+1),n.getX(m+2),h.materialIndex):l(m,m+1,m+2,h.materialIndex);else if(void 0!==n)for(var y=0;y<n.count;y+=3)l(n.getX(y),n.getX(y+1),n.getX(y+2));else for(var g=0;g<i.count;g+=3)l(g,g+1,g+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(wo).negate(),this.translate(wo.x,wo.y,wo.z),this},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,n=0===t?1:1/t,r=new pr;return r.set(n,0,0,-n*e.x,0,n,0,-n*e.y,0,0,n,-n*e.z,0,0,0,1),this.applyMatrix4(r),this},computeFaceNormals:function(){for(var e=new ir,t=new ir,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){void 0===e&&(e=!0);for(var t=new Array(this.vertices.length),n=0,r=this.vertices.length;n<r;n++)t[n]=new ir;if(e)for(var i=new ir,o=new ir,a=0,s=this.faces.length;a<s;a++){var u=this.faces[a],c=this.vertices[u.a],l=this.vertices[u.b],f=this.vertices[u.c];i.subVectors(f,l),o.subVectors(c,l),i.cross(o),t[u.a].add(i),t[u.b].add(i),t[u.c].add(i)}else{this.computeFaceNormals();for(var p=0,h=this.faces.length;p<h;p++){var d=this.faces[p];t[d.a].add(d.normal),t[d.b].add(d.normal),t[d.c].add(d.normal)}}for(var m=0,v=this.vertices.length;m<v;m++)t[m].normalize();for(var y=0,g=this.faces.length;y<g;y++){var b=this.faces[y],_=b.vertexNormals;3===_.length?(_[0].copy(t[b.a]),_[1].copy(t[b.b]),_[2].copy(t[b.c])):(_[0]=t[b.a].clone(),_[1]=t[b.b].clone(),_[2]=t[b.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){this.computeFaceNormals();for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e],r=n.vertexNormals;3===r.length?(r[0].copy(n.normal),r[1].copy(n.normal),r[2].copy(n.normal)):(r[0]=n.normal.clone(),r[1]=n.normal.clone(),r[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){for(var e=0,t=this.faces.length;e<t;e++){var n=this.faces[e];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(var r=0,i=n.vertexNormals.length;r<i;r++)n.__originalVertexNormals[r]?n.__originalVertexNormals[r].copy(n.vertexNormals[r]):n.__originalVertexNormals[r]=n.vertexNormals[r].clone()}var o=new xo;o.faces=this.faces;for(var a=0,s=this.morphTargets.length;a<s;a++){if(!this.morphNormals[a]){this.morphNormals[a]={},this.morphNormals[a].faceNormals=[],this.morphNormals[a].vertexNormals=[];for(var u=this.morphNormals[a].faceNormals,c=this.morphNormals[a].vertexNormals,l=0,f=this.faces.length;l<f;l++){var p=new ir,h={a:new ir,b:new ir,c:new ir};u.push(p),c.push(h)}}var d=this.morphNormals[a];o.vertices=this.morphTargets[a].vertices,o.computeFaceNormals(),o.computeVertexNormals();for(var m=0,v=this.faces.length;m<v;m++){var y=this.faces[m],g=d.faceNormals[m],b=d.vertexNormals[m];g.copy(y.normal),b.a.copy(y.vertexNormals[0]),b.b.copy(y.vertexNormals[1]),b.c.copy(y.vertexNormals[2])}}for(var _=0,w=this.faces.length;_<w;_++){var x=this.faces[_];x.normal=x.__originalFaceNormal,x.vertexNormals=x.__originalVertexNormals}},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Gr),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Yr),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,n){if(e&&e.isGeometry){var r,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.colors,l=e.colors;void 0===n&&(n=0),void 0!==t&&(r=(new Yn).getNormalMatrix(t));for(var f=0,p=a.length;f<p;f++){var h=a[f].clone();void 0!==t&&h.applyMatrix4(t),o.push(h)}for(var d=0,m=l.length;d<m;d++)c.push(l[d].clone());for(var v=0,y=u.length;v<y;v++){var g=u[v],b=void 0,_=void 0,w=void 0,x=g.vertexNormals,S=g.vertexColors;(b=new Oi(g.a+i,g.b+i,g.c+i)).normal.copy(g.normal),void 0!==r&&b.normal.applyMatrix3(r).normalize();for(var E=0,O=x.length;E<O;E++)_=x[E].clone(),void 0!==r&&_.applyMatrix3(r).normalize(),b.vertexNormals.push(_);b.color.copy(g.color);for(var T=0,M=S.length;T<M;T++)w=S[T],b.vertexColors.push(w.clone());b.materialIndex=g.materialIndex+n,s.push(b)}for(var P=0,A=e.faceVertexUvs.length;P<A;P++){var C=e.faceVertexUvs[P];void 0===this.faceVertexUvs[P]&&(this.faceVertexUvs[P]=[]);for(var k=0,j=C.length;k<j;k++){for(var R=C[k],D=[],N=0,L=R.length;N<L;N++)D.push(R[N].clone());this.faceVertexUvs[P].push(D)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e)},mergeMesh:function(e){e&&e.isMesh?(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e)},mergeVertices:function(){for(var e={},t=[],n=[],r=Math.pow(10,4),i=0,o=this.vertices.length;i<o;i++){var a=this.vertices[i],s=Math.round(a.x*r)+"_"+Math.round(a.y*r)+"_"+Math.round(a.z*r);void 0===e[s]?(e[s]=i,t.push(this.vertices[i]),n[i]=t.length-1):n[i]=n[e[s]]}for(var u=[],c=0,l=this.faces.length;c<l;c++){var f=this.faces[c];f.a=n[f.a],f.b=n[f.b],f.c=n[f.c];for(var p=[f.a,f.b,f.c],h=0;h<3;h++)if(p[h]===p[(h+1)%3]){u.push(c);break}}for(var d=u.length-1;d>=0;d--){var m=u[d];this.faces.splice(m,1);for(var v=0,y=this.faceVertexUvs.length;v<y;v++)this.faceVertexUvs[v].splice(m,1)}var g=this.vertices.length-t.length;return this.vertices=t,g},setFromPoints:function(e){this.vertices=[];for(var t=0,n=e.length;t<n;t++){var r=e[t];this.vertices.push(new ir(r.x,r.y,r.z||0))}return this},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,n=0;n<t;n++)e[n]._id=n;e.sort((function(e,t){return e.materialIndex-t.materialIndex}));var r,i,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];o&&o.length===t&&(r=[]),a&&a.length===t&&(i=[]);for(var s=0;s<t;s++){var u=e[s]._id;r&&r.push(o[u]),i&&i.push(a[u])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var n in t)void 0!==t[n]&&(e[n]=t[n]);return e}for(var r=[],i=0;i<this.vertices.length;i++){var o=this.vertices[i];r.push(o.x,o.y,o.z)}for(var a=[],s=[],u={},c=[],l={},f=[],p={},h=0;h<this.faces.length;h++){var d=this.faces[h],m=void 0!==this.faceVertexUvs[0][h],v=d.normal.length()>0,y=d.vertexNormals.length>0,g=1!==d.color.r||1!==d.color.g||1!==d.color.b,b=d.vertexColors.length>0,_=0;if(_=E(_,0,0),_=E(_,1,!0),_=E(_,2,!1),_=E(_,3,m),_=E(_,4,v),_=E(_,5,y),_=E(_,6,g),_=E(_,7,b),a.push(_),a.push(d.a,d.b,d.c),a.push(d.materialIndex),m){var w=this.faceVertexUvs[0][h];a.push(M(w[0]),M(w[1]),M(w[2]))}if(v&&a.push(O(d.normal)),y){var x=d.vertexNormals;a.push(O(x[0]),O(x[1]),O(x[2]))}if(g&&a.push(T(d.color)),b){var S=d.vertexColors;a.push(T(S[0]),T(S[1]),T(S[2]))}}function E(e,t,n){return n?e|1<<t:e&~(1<<t)}function O(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==u[t]||(u[t]=s.length/3,s.push(e.x,e.y,e.z)),u[t]}function T(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==l[t]||(l[t]=c.length,c.push(e.getHex())),l[t]}function M(e){var t=e.x.toString()+e.y.toString();return void 0!==p[t]||(p[t]=f.length/2,f.push(e.x,e.y)),p[t]}return e.data={},e.data.vertices=r,e.data.normals=s,c.length>0&&(e.data.colors=c),f.length>0&&(e.data.uvs=[f]),e.data.faces=a,e},clone:function(){return(new xo).copy(this)},copy:function(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;for(var t=e.vertices,n=0,r=t.length;n<r;n++)this.vertices.push(t[n].clone());for(var i=e.colors,o=0,a=i.length;o<a;o++)this.colors.push(i[o].clone());for(var s=e.faces,u=0,c=s.length;u<c;u++)this.faces.push(s[u].clone());for(var l=0,f=e.faceVertexUvs.length;l<f;l++){var p=e.faceVertexUvs[l];void 0===this.faceVertexUvs[l]&&(this.faceVertexUvs[l]=[]);for(var h=0,d=p.length;h<d;h++){for(var m=p[h],v=[],y=0,g=m.length;y<g;y++){var b=m[y];v.push(b.clone())}this.faceVertexUvs[l].push(v)}}for(var _=e.morphTargets,w=0,x=_.length;w<x;w++){var S={};if(S.name=_[w].name,void 0!==_[w].vertices){S.vertices=[];for(var E=0,O=_[w].vertices.length;E<O;E++)S.vertices.push(_[w].vertices[E].clone())}if(void 0!==_[w].normals){S.normals=[];for(var T=0,M=_[w].normals.length;T<M;T++)S.normals.push(_[w].normals[T].clone())}this.morphTargets.push(S)}for(var P=e.morphNormals,A=0,C=P.length;A<C;A++){var k={};if(void 0!==P[A].vertexNormals){k.vertexNormals=[];for(var j=0,R=P[A].vertexNormals.length;j<R;j++){var D=P[A].vertexNormals[j],N={};N.a=D.a.clone(),N.b=D.b.clone(),N.c=D.c.clone(),k.vertexNormals.push(N)}}if(void 0!==P[A].faceNormals){k.faceNormals=[];for(var L=0,I=P[A].faceNormals.length;L<I;L++)k.faceNormals.push(P[A].faceNormals[L].clone())}this.morphNormals.push(k)}for(var B=e.skinWeights,F=0,U=B.length;F<U;F++)this.skinWeights.push(B[F].clone());for(var z=e.skinIndices,V=0,H=z.length;V<H;V++)this.skinIndices.push(z[V].clone());for(var $=e.lineDistances,G=0,W=$.length;G<W;G++)this.lineDistances.push($[G]);var q=e.boundingBox;null!==q&&(this.boundingBox=q.clone());var Y=e.boundingSphere;return null!==Y&&(this.boundingSphere=Y.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var So=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i,o,s,u){var c;return Object(a.a)(this,n),(c=t.call(this)).type="BoxGeometry",c.parameters={width:e,height:r,depth:i,widthSegments:o,heightSegments:s,depthSegments:u},c.fromBufferGeometry(new Eo(e,r,i,o,s,u)),c.mergeVertices(),c}return n}(xo),Eo=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r,i,s,u,c){var l;Object(a.a)(this,n),(l=t.call(this)).type="BoxBufferGeometry",l.parameters={width:e,height:r,depth:i,widthSegments:s,heightSegments:u,depthSegments:c};var f=Object(o.a)(l);e=e||1,r=r||1,i=i||1,s=Math.floor(s)||1,u=Math.floor(u)||1,c=Math.floor(c)||1;var p=[],h=[],d=[],m=[],v=0,y=0;function g(e,t,n,r,i,o,a,s,u,c,l){for(var g=o/u,b=a/c,_=o/2,w=a/2,x=s/2,S=u+1,E=c+1,O=0,T=0,M=new ir,P=0;P<E;P++)for(var A=P*b-w,C=0;C<S;C++){var k=C*g-_;M[e]=k*r,M[t]=A*i,M[n]=x,h.push(M.x,M.y,M.z),M[e]=0,M[t]=0,M[n]=s>0?1:-1,d.push(M.x,M.y,M.z),m.push(C/u),m.push(1-P/c),O+=1}for(var j=0;j<c;j++)for(var R=0;R<u;R++){var D=v+R+S*j,N=v+R+S*(j+1),L=v+(R+1)+S*(j+1),I=v+(R+1)+S*j;p.push(D,N,I),p.push(N,L,I),T+=6}f.addGroup(y,T,l),y+=T,v+=O}return g("z","y","x",-1,-1,i,r,e,c,u,0),g("z","y","x",1,-1,i,r,-e,c,u,1),g("x","z","y",1,1,e,i,r,s,c,2),g("x","z","y",1,-1,e,i,-r,s,c,3),g("x","y","z",1,-1,e,r,i,s,u,4),g("x","y","z",-1,-1,e,r,-i,s,u,5),l.setIndex(p),l.setAttribute("position",new Fi(h,3)),l.setAttribute("normal",new Fi(d,3)),l.setAttribute("uv",new Fi(m,2)),l}return n}(Zi);function Oo(e){var t={};for(var n in e)for(var r in t[n]={},e[n]){var i=e[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture)?t[n][r]=i.clone():Array.isArray(i)?t[n][r]=i.slice():t[n][r]=i}return t}function To(e){for(var t={},n=0;n<e.length;n++){var r=Oo(e[n]);for(var i in r)t[i]=r[i]}return t}var Mo={clone:Oo,merge:To};function Po(e){Mi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==e&&(void 0!==e.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(e))}function Ao(){Cr.call(this),this.type="Camera",this.matrixWorldInverse=new pr,this.projectionMatrix=new pr,this.projectionMatrixInverse=new pr}function Co(e,t,n,r){Ao.call(this),this.type="PerspectiveCamera",this.fov=void 0!==e?e:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==t?t:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}Po.prototype=Object.create(Mi.prototype),Po.prototype.constructor=Po,Po.prototype.isShaderMaterial=!0,Po.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Oo(e.uniforms),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.lights=e.lights,this.clipping=e.clipping,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=Object.assign({},e.extensions),this},Po.prototype.toJSON=function(e){var t=Mi.prototype.toJSON.call(this,e);for(var n in t.uniforms={},this.uniforms){var r=this.uniforms[n].value;r&&r.isTexture?t.uniforms[n]={type:"t",value:r.toJSON(e).uuid}:r&&r.isColor?t.uniforms[n]={type:"c",value:r.getHex()}:r&&r.isVector2?t.uniforms[n]={type:"v2",value:r.toArray()}:r&&r.isVector3?t.uniforms[n]={type:"v3",value:r.toArray()}:r&&r.isVector4?t.uniforms[n]={type:"v4",value:r.toArray()}:r&&r.isMatrix3?t.uniforms[n]={type:"m3",value:r.toArray()}:r&&r.isMatrix4?t.uniforms[n]={type:"m4",value:r.toArray()}:t.uniforms[n]={value:r}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;var i={};for(var o in this.extensions)!0===this.extensions[o]&&(i[o]=!0);return Object.keys(i).length>0&&(t.extensions=i),t},Ao.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Ao,isCamera:!0,copy:function(e,t){return Cr.prototype.copy.call(this,e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this},getWorldDirection:function(e){void 0===e&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),e=new ir),this.updateMatrixWorld(!0);var t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()},updateMatrixWorld:function(e){Cr.prototype.updateMatrixWorld.call(this,e),this.matrixWorldInverse.getInverse(this.matrixWorld)},updateWorldMatrix:function(e,t){Cr.prototype.updateWorldMatrix.call(this,e,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),Co.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Co,isPerspectiveCamera:!0,copy:function(e,t){return Ao.prototype.copy.call(this,e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this},setFocalLength:function(e){var t=.5*this.getFilmHeight()/e;this.fov=2*Wn.RAD2DEG*Math.atan(t),this.updateProjectionMatrix()},getFocalLength:function(){var e=Math.tan(.5*Wn.DEG2RAD*this.fov);return.5*this.getFilmHeight()/e},getEffectiveFOV:function(){return 2*Wn.RAD2DEG*Math.atan(Math.tan(.5*Wn.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(e,t,n,r,i,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=this.near,t=e*Math.tan(.5*Wn.DEG2RAD*this.fov)/this.zoom,n=2*t,r=this.aspect*n,i=-.5*r,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;i+=o.offsetX*r/a,t-=o.offsetY*n/s,r*=o.width/a,n*=o.height/s}var u=this.filmOffset;0!==u&&(i+=e*u/this.getFilmWidth()),this.projectionMatrix.makePerspective(i,i+r,t,t-n,e,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Cr.prototype.toJSON.call(this,e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}});function ko(e,t,n){if(Cr.call(this),this.type="CubeCamera",!0===n.isWebGLCubeRenderTarget){this.renderTarget=n;var r=new Co(90,1,e,t);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new ir(1,0,0)),this.add(r);var i=new Co(90,1,e,t);i.layers=this.layers,i.up.set(0,-1,0),i.lookAt(new ir(-1,0,0)),this.add(i);var o=new Co(90,1,e,t);o.layers=this.layers,o.up.set(0,0,1),o.lookAt(new ir(0,1,0)),this.add(o);var a=new Co(90,1,e,t);a.layers=this.layers,a.up.set(0,0,-1),a.lookAt(new ir(0,-1,0)),this.add(a);var s=new Co(90,1,e,t);s.layers=this.layers,s.up.set(0,-1,0),s.lookAt(new ir(0,0,1)),this.add(s);var u=new Co(90,1,e,t);u.layers=this.layers,u.up.set(0,-1,0),u.lookAt(new ir(0,0,-1)),this.add(u),this.update=function(e,t){null===this.parent&&this.updateMatrixWorld();var c=e.xr.enabled,l=e.getRenderTarget();e.xr.enabled=!1;var f=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,e.setRenderTarget(n,0),e.render(t,r),e.setRenderTarget(n,1),e.render(t,i),e.setRenderTarget(n,2),e.render(t,o),e.setRenderTarget(n,3),e.render(t,a),e.setRenderTarget(n,4),e.render(t,s),n.texture.generateMipmaps=f,e.setRenderTarget(n,5),e.render(t,u),e.setRenderTarget(l),e.xr.enabled=c},this.clear=function(e,t,r,i){for(var o=e.getRenderTarget(),a=0;a<6;a++)e.setRenderTarget(n,a),e.clear(t,r,i);e.setRenderTarget(o)}}else console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.")}function jo(e,t,n){Number.isInteger(t)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),t=n),Jn.call(this,e,e,t)}function Ro(e,t,n,r,i,o,a,s,u,c,l,f){Qn.call(this,null,o,a,s,u,c,r,i,l,f),this.image={data:e||null,width:t||1,height:n||1},this.magFilter=void 0!==u?u:xe,this.minFilter=void 0!==c?c:xe,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}ko.prototype=Object.create(Cr.prototype),ko.prototype.constructor=ko,jo.prototype=Object.create(Jn.prototype),jo.prototype.constructor=jo,jo.prototype.isWebGLCubeRenderTarget=!0,jo.prototype.fromEquirectangularTexture=function(e,t){this.texture.type=t.type,this.texture.format=t.format,this.texture.encoding=t.encoding;var n=new kr,r={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#include <common>","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV = equirectUv( direction );","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},i=new Po({name:"CubemapFromEquirect",uniforms:Oo(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:S,blending:M});i.uniforms.tEquirect.value=t;var o=new mo(new Eo(5,5,5),i);return n.add(o),new ko(1,10,this).update(e,n),o.geometry.dispose(),o.material.dispose(),this},Ro.prototype=Object.create(Qn.prototype),Ro.prototype.constructor=Ro,Ro.prototype.isDataTexture=!0;var Do=new Yr,No=new ir;function Lo(e,t,n,r,i,o){this.planes=[void 0!==e?e:new ai,void 0!==t?t:new ai,void 0!==n?n:new ai,void 0!==r?r:new ai,void 0!==i?i:new ai,void 0!==o?o:new ai]}Object.assign(Lo.prototype,{set:function(e,t,n,r,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(n),a[3].copy(r),a[4].copy(i),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,n=0;n<6;n++)t[n].copy(e.planes[n]);return this},setFromProjectionMatrix:function(e){var t=this.planes,n=e.elements,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n[5],c=n[6],l=n[7],f=n[8],p=n[9],h=n[10],d=n[11],m=n[12],v=n[13],y=n[14],g=n[15];return t[0].setComponents(a-r,l-s,d-f,g-m).normalize(),t[1].setComponents(a+r,l+s,d+f,g+m).normalize(),t[2].setComponents(a+i,l+u,d+p,g+v).normalize(),t[3].setComponents(a-i,l-u,d-p,g-v).normalize(),t[4].setComponents(a-o,l-c,d-h,g-y).normalize(),t[5].setComponents(a+o,l+c,d+h,g+y).normalize(),this},intersectsObject:function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),Do.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Do)},intersectsSprite:function(e){return Do.center.set(0,0,0),Do.radius=.7071067811865476,Do.applyMatrix4(e.matrixWorld),this.intersectsSphere(Do)},intersectsSphere:function(e){for(var t=this.planes,n=e.center,r=-e.radius,i=0;i<6;i++){if(t[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:function(e){for(var t=this.planes,n=0;n<6;n++){var r=t[n];if(No.x=r.normal.x>0?e.max.x:e.min.x,No.y=r.normal.y>0?e.max.y:e.min.y,No.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(No)<0)return!1}return!0},containsPoint:function(e){for(var t=this.planes,n=0;n<6;n++)if(t[n].distanceToPoint(e)<0)return!1;return!0}});var Io={common:{diffuse:{value:new wi(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Yn},uv2Transform:{value:new Yn},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new qn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new wi(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new wi(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Yn}},sprite:{diffuse:{value:new wi(15658734)},opacity:{value:1},center:{value:new qn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new Yn}}};function Bo(){var e=null,t=!1,n=null,r=null;function i(t,o){n(t,o),r=e.requestAnimationFrame(i)}return{start:function(){!0!==t&&null!==n&&(r=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(r),t=!1},setAnimationLoop:function(e){n=e},setContext:function(t){e=t}}}function Fo(e,t){var n=t.isWebGL2,r=new WeakMap;return{get:function(e){return e.isInterleavedBufferAttribute&&(e=e.data),r.get(e)},remove:function(t){t.isInterleavedBufferAttribute&&(t=t.data);var n=r.get(t);n&&(e.deleteBuffer(n.buffer),r.delete(t))},update:function(t,i){t.isInterleavedBufferAttribute&&(t=t.data);var o=r.get(t);void 0===o?r.set(t,function(t,n){var r=t.array,i=t.usage,o=e.createBuffer();e.bindBuffer(n,o),e.bufferData(n,r,i),t.onUploadCallback();var a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:t.version}}(t,i)):o.version<t.version&&(!function(t,r,i){var o=r.array,a=r.updateRange;e.bindBuffer(i,t),-1===a.count?e.bufferSubData(i,0,o):(n?e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o,a.offset,a.count):e.bufferSubData(i,a.offset*o.BYTES_PER_ELEMENT,o.subarray(a.offset,a.offset+a.count)),a.count=-1)}(o.buffer,t,i),o.version=t.version)}}}function Uo(e,t,n,r){xo.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new zo(e,t,n,r)),this.mergeVertices()}function zo(e,t,n,r){Zi.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:n,heightSegments:r};for(var i=(e=e||1)/2,o=(t=t||1)/2,a=Math.floor(n)||1,s=Math.floor(r)||1,u=a+1,c=s+1,l=e/a,f=t/s,p=[],h=[],d=[],m=[],v=0;v<c;v++)for(var y=v*f-o,g=0;g<u;g++){var b=g*l-i;h.push(b,-y,0),d.push(0,0,1),m.push(g/a),m.push(1-v/s)}for(var _=0;_<s;_++)for(var w=0;w<a;w++){var x=w+u*_,S=w+u*(_+1),E=w+1+u*(_+1),O=w+1+u*_;p.push(x,S,O),p.push(S,E,O)}this.setIndex(p),this.setAttribute("position",new Fi(h,3)),this.setAttribute("normal",new Fi(d,3)),this.setAttribute("uv",new Fi(m,2))}Uo.prototype=Object.create(xo.prototype),Uo.prototype.constructor=Uo,zo.prototype=Object.create(Zi.prototype),zo.prototype.constructor=zo;var Vo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_maxMipLevel 8.0\n#define cubeUV_minMipLevel 4.0\n#define cubeUV_maxTileSize 256.0\n#define cubeUV_minTileSize 16.0\nfloat getFace(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    float face = -1.0;\n    if (absDirection.x > absDirection.z) {\n      if (absDirection.x > absDirection.y)\n        face = direction.x > 0.0 ? 0.0 : 3.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    } else {\n      if (absDirection.z > absDirection.y)\n        face = direction.z > 0.0 ? 2.0 : 5.0;\n      else\n        face = direction.y > 0.0 ? 1.0 : 4.0;\n    }\n    return face;\n}\nvec2 getUV(vec3 direction, float face) {\n    vec2 uv;\n    if (face == 0.0) {\n      uv = vec2(direction.z, direction.y) / abs(direction.x);    } else if (face == 1.0) {\n      uv = vec2(-direction.x, -direction.z) / abs(direction.y);    } else if (face == 2.0) {\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);    } else if (face == 3.0) {\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);    } else if (face == 4.0) {\n      uv = vec2(-direction.x, direction.z) / abs(direction.y);    } else {\n      uv = vec2(direction.x, direction.y) / abs(direction.z);    }\n    return 0.5 * (uv + 1.0);\n}\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\n  float face = getFace(direction);\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\n  mipInt = max(mipInt, cubeUV_minMipLevel);\n  float faceSize = exp2(mipInt);\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\n  vec2 f = fract(uv);\n  uv += 0.5 - f;\n  if (face > 2.0) {\n    uv.y += faceSize;\n    face -= 3.0;\n  }\n  uv.x += face * faceSize;\n  if(mipInt < cubeUV_maxMipLevel){\n    uv.y += 2.0 * cubeUV_maxTileSize;\n  }\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\n  uv *= texelSize;\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x += texelSize;\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.y += texelSize;\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  uv.x -= texelSize;\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n  vec3 tm = mix(tl, tr, f.x);\n  vec3 bm = mix(bl, br, f.x);\n  return mix(tm, bm, f.y);\n}\n#define r0 1.0\n#define v0 0.339\n#define m0 -2.0\n#define r1 0.8\n#define v1 0.276\n#define m1 -1.0\n#define r4 0.4\n#define v4 0.046\n#define m4 2.0\n#define r5 0.305\n#define v5 0.016\n#define m5 3.0\n#define r6 0.21\n#define v6 0.0038\n#define m6 4.0\nfloat roughnessToMip(float roughness) {\n  float mip = 0.0;\n  if (roughness >= r1) {\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\n  } else if (roughness >= r4) {\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\n  } else if (roughness >= r5) {\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\n  } else if (roughness >= r6) {\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\n  } else {\n    mip = -2.0 * log2(1.16 * roughness);  }\n  return mip;\n}\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\n  float mipF = fract(mip);\n  float mipInt = floor(mip);\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\n  if (mipF == 0.0) {\n    return vec4(color0, 1.0);\n  } else {\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\n    return vec4(mix(color0, color1, mipF), 1.0);\n  }\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\t\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t}  else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV = equirectUv( reflectVec );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) { \n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3\tdiffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Ho={basic:{uniforms:To([Io.common,Io.specularmap,Io.envmap,Io.aomap,Io.lightmap,Io.fog]),vertexShader:Vo.meshbasic_vert,fragmentShader:Vo.meshbasic_frag},lambert:{uniforms:To([Io.common,Io.specularmap,Io.envmap,Io.aomap,Io.lightmap,Io.emissivemap,Io.fog,Io.lights,{emissive:{value:new wi(0)}}]),vertexShader:Vo.meshlambert_vert,fragmentShader:Vo.meshlambert_frag},phong:{uniforms:To([Io.common,Io.specularmap,Io.envmap,Io.aomap,Io.lightmap,Io.emissivemap,Io.bumpmap,Io.normalmap,Io.displacementmap,Io.fog,Io.lights,{emissive:{value:new wi(0)},specular:{value:new wi(1118481)},shininess:{value:30}}]),vertexShader:Vo.meshphong_vert,fragmentShader:Vo.meshphong_frag},standard:{uniforms:To([Io.common,Io.envmap,Io.aomap,Io.lightmap,Io.emissivemap,Io.bumpmap,Io.normalmap,Io.displacementmap,Io.roughnessmap,Io.metalnessmap,Io.fog,Io.lights,{emissive:{value:new wi(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Vo.meshphysical_vert,fragmentShader:Vo.meshphysical_frag},toon:{uniforms:To([Io.common,Io.aomap,Io.lightmap,Io.emissivemap,Io.bumpmap,Io.normalmap,Io.displacementmap,Io.gradientmap,Io.fog,Io.lights,{emissive:{value:new wi(0)}}]),vertexShader:Vo.meshtoon_vert,fragmentShader:Vo.meshtoon_frag},matcap:{uniforms:To([Io.common,Io.bumpmap,Io.normalmap,Io.displacementmap,Io.fog,{matcap:{value:null}}]),vertexShader:Vo.meshmatcap_vert,fragmentShader:Vo.meshmatcap_frag},points:{uniforms:To([Io.points,Io.fog]),vertexShader:Vo.points_vert,fragmentShader:Vo.points_frag},dashed:{uniforms:To([Io.common,Io.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Vo.linedashed_vert,fragmentShader:Vo.linedashed_frag},depth:{uniforms:To([Io.common,Io.displacementmap]),vertexShader:Vo.depth_vert,fragmentShader:Vo.depth_frag},normal:{uniforms:To([Io.common,Io.bumpmap,Io.normalmap,Io.displacementmap,{opacity:{value:1}}]),vertexShader:Vo.normal_vert,fragmentShader:Vo.normal_frag},sprite:{uniforms:To([Io.sprite,Io.fog]),vertexShader:Vo.sprite_vert,fragmentShader:Vo.sprite_frag},background:{uniforms:{uvTransform:{value:new Yn},t2D:{value:null}},vertexShader:Vo.background_vert,fragmentShader:Vo.background_frag},cube:{uniforms:To([Io.envmap,{opacity:{value:1}}]),vertexShader:Vo.cube_vert,fragmentShader:Vo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Vo.equirect_vert,fragmentShader:Vo.equirect_frag},distanceRGBA:{uniforms:To([Io.common,Io.displacementmap,{referencePosition:{value:new ir},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Vo.distanceRGBA_vert,fragmentShader:Vo.distanceRGBA_frag},shadow:{uniforms:To([Io.lights,Io.fog,{color:{value:new wi(0)},opacity:{value:1}}]),vertexShader:Vo.shadow_vert,fragmentShader:Vo.shadow_frag}};function $o(e,t,n,r){var i,o,a=new wi(0),s=0,u=null,c=0,l=null;function f(e,n){t.buffers.color.setClear(e.r,e.g,e.b,n,r)}return{getClearColor:function(){return a},setClearColor:function(e,t){a.set(e),f(a,s=void 0!==t?t:1)},getClearAlpha:function(){return s},setClearAlpha:function(e){f(a,s=e)},render:function(t,r,p,h){var d=!0===r.isScene?r.background:null,m=e.xr,v=m.getSession&&m.getSession();if(v&&"additive"===v.environmentBlendMode&&(d=null),null===d?f(a,s):d&&d.isColor&&(f(d,1),h=!0),(e.autoClear||h)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),d&&(d.isCubeTexture||d.isWebGLCubeRenderTarget||d.mapping===ye)){void 0===o&&((o=new mo(new Eo(1,1,1),new Po({name:"BackgroundCubeMaterial",uniforms:Oo(Ho.cube.uniforms),vertexShader:Ho.cube.vertexShader,fragmentShader:Ho.cube.fragmentShader,side:S,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),o.geometry.deleteAttribute("uv"),o.onBeforeRender=function(e,t,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(o.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(o));var y=d.isWebGLCubeRenderTarget?d.texture:d;o.material.uniforms.envMap.value=y,o.material.uniforms.flipEnvMap.value=y.isCubeTexture?-1:1,u===d&&c===y.version&&l===e.toneMapping||(o.material.needsUpdate=!0,u=d,c=y.version,l=e.toneMapping),t.unshift(o,o.geometry,o.material,0,0,null)}else d&&d.isTexture&&(void 0===i&&((i=new mo(new zo(2,2),new Po({name:"BackgroundMaterial",uniforms:Oo(Ho.background.uniforms),vertexShader:Ho.background.vertexShader,fragmentShader:Ho.background.fragmentShader,side:x,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.deleteAttribute("normal"),Object.defineProperty(i.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(i)),i.material.uniforms.t2D.value=d,!0===d.matrixAutoUpdate&&d.updateMatrix(),i.material.uniforms.uvTransform.value.copy(d.matrix),u===d&&c===d.version&&l===e.toneMapping||(i.material.needsUpdate=!0,u=d,c=d.version,l=e.toneMapping),t.unshift(i,i.geometry,i.material,0,0,null))}}}function Go(e,t,n,r){var i=e.getParameter(34921),o=r.isWebGL2?null:t.get("OES_vertex_array_object"),a=r.isWebGL2||null!==o,s={},u=p(null),c=u;function l(t){return r.isWebGL2?e.bindVertexArray(t):o.bindVertexArrayOES(t)}function f(t){return r.isWebGL2?e.deleteVertexArray(t):o.deleteVertexArrayOES(t)}function p(e){for(var t=[],n=[],r=[],o=0;o<i;o++)t[o]=0,n[o]=0,r[o]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:t,enabledAttributes:n,attributeDivisors:r,object:e,attributes:{}}}function h(){for(var e=c.newAttributes,t=0,n=e.length;t<n;t++)e[t]=0}function d(e){m(e,0)}function m(n,i){var o=c.newAttributes,a=c.enabledAttributes,s=c.attributeDivisors;(o[n]=1,0===a[n]&&(e.enableVertexAttribArray(n),a[n]=1),s[n]!==i)&&((r.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,i),s[n]=i)}function v(){for(var t=c.newAttributes,n=c.enabledAttributes,r=0,i=n.length;r<i;r++)n[r]!==t[r]&&(e.disableVertexAttribArray(r),n[r]=0)}function y(t,n,i,o,a,s){!0!==r.isWebGL2||5124!==i&&5125!==i?e.vertexAttribPointer(t,n,i,o,a,s):e.vertexAttribIPointer(t,n,i,o,a,s)}function g(){b(),c!==u&&l((c=u).object)}function b(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function(i,u,f,g,b){var _=!1;if(a){var w=function(t,n,i){var a=!0===i.wireframe,u=s[t.id];void 0===u&&(u={},s[t.id]=u);var c=u[n.id];void 0===c&&(c={},u[n.id]=c);var l=c[a];void 0===l&&(l=p(r.isWebGL2?e.createVertexArray():o.createVertexArrayOES()),c[a]=l);return l}(g,f,u);c!==w&&l((c=w).object),(_=function(e){var t=c.attributes,n=e.attributes;if(Object.keys(t).length!==Object.keys(n).length)return!0;for(var r in n){var i=t[r],o=n[r];if(i.attribute!==o)return!0;if(i.data!==o.data)return!0}return!1}(g))&&function(e){var t={},n=e.attributes;for(var r in n){var i=n[r],o={};o.attribute=i,i.data&&(o.data=i.data),t[r]=o}c.attributes=t}(g)}else{var x=!0===u.wireframe;c.geometry===g.id&&c.program===f.id&&c.wireframe===x||(c.geometry=g.id,c.program=f.id,c.wireframe=x,_=!0)}!0===i.isInstancedMesh&&(_=!0),null!==b&&n.update(b,34963),_&&(!function(i,o,a,s){if(!1===r.isWebGL2&&(i.isInstancedMesh||s.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;h();var u=s.attributes,c=a.getAttributes(),l=o.defaultAttributeValues;for(var f in c){var p=c[f];if(p>=0){var g=u[f];if(void 0!==g){var b=g.normalized,_=g.itemSize,w=n.get(g);if(void 0===w)continue;var x=w.buffer,S=w.type,E=w.bytesPerElement;if(g.isInterleavedBufferAttribute){var O=g.data,T=O.stride,M=g.offset;O&&O.isInstancedInterleavedBuffer?(m(p,O.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=O.meshPerAttribute*O.count)):d(p),e.bindBuffer(34962,x),y(p,_,S,b,T*E,M*E)}else g.isInstancedBufferAttribute?(m(p,g.meshPerAttribute),void 0===s._maxInstanceCount&&(s._maxInstanceCount=g.meshPerAttribute*g.count)):d(p),e.bindBuffer(34962,x),y(p,_,S,b,0,0)}else if("instanceMatrix"===f){var P=n.get(i.instanceMatrix);if(void 0===P)continue;var A=P.buffer,C=P.type;m(p+0,1),m(p+1,1),m(p+2,1),m(p+3,1),e.bindBuffer(34962,A),e.vertexAttribPointer(p+0,4,C,!1,64,0),e.vertexAttribPointer(p+1,4,C,!1,64,16),e.vertexAttribPointer(p+2,4,C,!1,64,32),e.vertexAttribPointer(p+3,4,C,!1,64,48)}else if(void 0!==l){var k=l[f];if(void 0!==k)switch(k.length){case 2:e.vertexAttrib2fv(p,k);break;case 3:e.vertexAttrib3fv(p,k);break;case 4:e.vertexAttrib4fv(p,k);break;default:e.vertexAttrib1fv(p,k)}}}}v()}(i,u,f,g),null!==b&&e.bindBuffer(34963,n.get(b).buffer))},reset:g,resetDefaultState:b,dispose:function(){for(var e in g(),s){var t=s[e];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e]}},releaseStatesOfGeometry:function(e){if(void 0!==s[e.id]){var t=s[e.id];for(var n in t){var r=t[n];for(var i in r)f(r[i].object),delete r[i];delete t[n]}delete s[e.id]}},releaseStatesOfProgram:function(e){for(var t in s){var n=s[t];if(void 0!==n[e.id]){var r=n[e.id];for(var i in r)f(r[i].object),delete r[i];delete n[e.id]}}},initAttributes:h,enableAttribute:d,disableUnusedAttributes:v}}function Wo(e,t,n,r){var i,o=r.isWebGL2;this.setMode=function(e){i=e},this.render=function(t,r){e.drawArrays(i,t,r),n.update(r,i)},this.renderInstances=function(r,a,s,u){if(0!==u){var c,l;if(o)c=e,l="drawArraysInstanced";else if(l="drawArraysInstancedANGLE",null===(c=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[l](i,a,s,u),n.update(s,i,u)}}}function qo(e,t,n){var r;function i(t){if("highp"===t){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";t="mediump"}return"mediump"===t&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!==typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||"undefined"!==typeof WebGL2ComputeRenderingContext&&e instanceof WebGL2ComputeRenderingContext,a=void 0!==n.precision?n.precision:"highp",s=i(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var u=!0===n.logarithmicDepthBuffer,c=e.getParameter(34930),l=e.getParameter(35660),f=e.getParameter(3379),p=e.getParameter(34076),h=e.getParameter(34921),d=e.getParameter(36347),m=e.getParameter(36348),v=e.getParameter(36349),y=l>0,g=o||!!t.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==r)return r;var n=t.get("EXT_texture_filter_anisotropic");return r=null!==n?e.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:i,precision:a,logarithmicDepthBuffer:u,maxTextures:c,maxVertexTextures:l,maxTextureSize:f,maxCubemapSize:p,maxAttributes:h,maxVertexUniforms:d,maxVaryings:m,maxFragmentUniforms:v,vertexTextures:y,floatFragmentTextures:g,floatVertexTextures:y&&g,maxSamples:o?e.getParameter(36183):0}}function Yo(){var e=this,t=null,n=0,r=!1,i=!1,o=new ai,a=new Yn,s={value:null,needsUpdate:!1};function u(){s.value!==t&&(s.value=t,s.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function c(t,n,r,i){var u=null!==t?t.length:0,c=null;if(0!==u){if(c=s.value,!0!==i||null===c){var l=r+4*u,f=n.matrixWorldInverse;a.getNormalMatrix(f),(null===c||c.length<l)&&(c=new Float32Array(l));for(var p=0,h=r;p!==u;++p,h+=4)o.copy(t[p]).applyMatrix4(f,a),o.normal.toArray(c,h),c[h+3]=o.constant}s.value=c,s.needsUpdate=!0}return e.numPlanes=u,e.numIntersection=0,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(e,i,o){var a=0!==e.length||i||0!==n||r;return r=i,t=c(e,o,0),n=e.length,a},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(e,o,a,l,f,p){if(!r||null===e||0===e.length||i&&!a)i?c(null):u();else{var h=i?0:n,d=4*h,m=f.clippingState||null;s.value=m,m=c(e,l,d,p);for(var v=0;v!==d;++v)m[v]=t[v];f.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=h}}}function Xo(e){var t={};return{get:function(n){if(void 0!==t[n])return t[n];var r;switch(n){case"WEBGL_depth_texture":r=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=e.getExtension(n)}return null===r&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),t[n]=r,r}}}function Zo(e,t,n,r){var i=new WeakMap,o=new WeakMap;function a(e){var s=e.target,u=i.get(s);for(var c in null!==u.index&&t.remove(u.index),u.attributes)t.remove(u.attributes[c]);s.removeEventListener("dispose",a),i.delete(s);var l=o.get(u);l&&(t.remove(l),o.delete(u)),r.releaseStatesOfGeometry(s),!0===s.isInstancedBufferGeometry&&delete s._maxInstanceCount,n.memory.geometries--}function s(e){var n=[],r=e.index,i=e.attributes.position,a=0;if(null!==r){var s=r.array;a=r.version;for(var u=0,c=s.length;u<c;u+=3){var l=s[u+0],f=s[u+1],p=s[u+2];n.push(l,f,f,p,p,l)}}else{var h=i.array;a=i.version;for(var d=0,m=h.length/3-1;d<m;d+=3){var v=d+0,y=d+1,g=d+2;n.push(v,y,y,g,g,v)}}var b=new(Vi(n)>65535?Bi:Li)(n,1);b.version=a;var _=o.get(e);_&&t.remove(_),o.set(e,b)}return{get:function(e,t){var r=i.get(t);return r||(t.addEventListener("dispose",a),t.isBufferGeometry?r=t:t.isGeometry&&(void 0===t._bufferGeometry&&(t._bufferGeometry=(new Zi).setFromObject(e)),r=t._bufferGeometry),i.set(t,r),n.memory.geometries++,r)},update:function(e){var n=e.attributes;for(var r in n)t.update(n[r],34962);var i=e.morphAttributes;for(var o in i)for(var a=i[o],s=0,u=a.length;s<u;s++)t.update(a[s],34962)},getWireframeAttribute:function(e){var t=o.get(e);if(t){var n=e.index;null!==n&&t.version<n.version&&s(e)}else s(e);return o.get(e)}}}function Qo(e,t,n,r){var i,o,a,s=r.isWebGL2;this.setMode=function(e){i=e},this.setIndex=function(e){o=e.type,a=e.bytesPerElement},this.render=function(t,r){e.drawElements(i,r,o,t*a),n.update(r,i)},this.renderInstances=function(r,u,c,l){if(0!==l){var f,p;if(s)f=e,p="drawElementsInstanced";else if(p="drawElementsInstancedANGLE",null===(f=t.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");f[p](i,c,o,u*a,l),n.update(c,i,l)}}}function Ko(e){var t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function(){t.frame++,t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function(e,n,r){switch(r=r||1,t.calls++,n){case 4:t.triangles+=r*(e/3);break;case 1:t.lines+=r*(e/2);break;case 3:t.lines+=r*(e-1);break;case 2:t.lines+=r*e;break;case 0:t.points+=r*e;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function Jo(e,t){return e[0]-t[0]}function ea(e,t){return Math.abs(t[1])-Math.abs(e[1])}function ta(e){for(var t={},n=new Float32Array(8),r=[],i=0;i<8;i++)r[i]=[i,0];return{update:function(i,o,a,s){var u=i.morphTargetInfluences,c=void 0===u?0:u.length,l=t[o.id];if(void 0===l){l=[];for(var f=0;f<c;f++)l[f]=[f,0];t[o.id]=l}for(var p=0;p<c;p++){var h=l[p];h[0]=p,h[1]=u[p]}l.sort(ea);for(var d=0;d<8;d++)d<c&&l[d][1]?(r[d][0]=l[d][0],r[d][1]=l[d][1]):(r[d][0]=Number.MAX_SAFE_INTEGER,r[d][1]=0);r.sort(Jo);for(var m=a.morphTargets&&o.morphAttributes.position,v=a.morphNormals&&o.morphAttributes.normal,y=0,g=0;g<8;g++){var b=r[g],_=b[0],w=b[1];_!==Number.MAX_SAFE_INTEGER&&w?(m&&o.getAttribute("morphTarget"+g)!==m[_]&&o.setAttribute("morphTarget"+g,m[_]),v&&o.getAttribute("morphNormal"+g)!==v[_]&&o.setAttribute("morphNormal"+g,v[_]),n[g]=w,y+=w):(m&&void 0!==o.getAttribute("morphTarget"+g)&&o.deleteAttribute("morphTarget"+g),v&&void 0!==o.getAttribute("morphNormal"+g)&&o.deleteAttribute("morphNormal"+g),n[g]=0)}var x=o.morphTargetsRelative?1:1-y;s.getUniforms().setValue(e,"morphTargetBaseInfluence",x),s.getUniforms().setValue(e,"morphTargetInfluences",n)}}}function na(e,t,n,r){var i=new WeakMap;return{update:function(e){var o=r.render.frame,a=e.geometry,s=t.get(e,a);return i.get(s)!==o&&(a.isGeometry&&s.updateFromObject(e),t.update(s),i.set(s,o)),e.isInstancedMesh&&n.update(e.instanceMatrix,34962),s},dispose:function(){i=new WeakMap}}}function ra(e,t,n,r,i,o,a,s,u,c){e=void 0!==e?e:[],t=void 0!==t?t:he,a=void 0!==a?a:Ge,Qn.call(this,e,t,n,r,i,o,a,s,u,c),this.flipY=!1}function ia(e,t,n,r){Qn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=xe,this.minFilter=xe,this.wrapR=_e,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function oa(e,t,n,r){Qn.call(this,null),this.image={data:e||null,width:t||1,height:n||1,depth:r||1},this.magFilter=xe,this.minFilter=xe,this.wrapR=_e,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}Ho.physical={uniforms:To([Ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new qn(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new wi(0)},transparency:{value:0}}]),vertexShader:Vo.meshphysical_vert,fragmentShader:Vo.meshphysical_frag},ra.prototype=Object.create(Qn.prototype),ra.prototype.constructor=ra,ra.prototype.isCubeTexture=!0,Object.defineProperty(ra.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),ia.prototype=Object.create(Qn.prototype),ia.prototype.constructor=ia,ia.prototype.isDataTexture2DArray=!0,oa.prototype=Object.create(Qn.prototype),oa.prototype.constructor=oa,oa.prototype.isDataTexture3D=!0;var aa=new Qn,sa=new ia,ua=new oa,ca=new ra,la=[],fa=[],pa=new Float32Array(16),ha=new Float32Array(9),da=new Float32Array(4);function ma(e,t,n){var r=e[0];if(r<=0||r>0)return e;var i=t*n,o=la[i];if(void 0===o&&(o=new Float32Array(i),la[i]=o),0!==t){r.toArray(o,0);for(var a=1,s=0;a!==t;++a)s+=n,e[a].toArray(o,s)}return o}function va(e,t){if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}function ya(e,t){for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}function ga(e,t){var n=fa[t];void 0===n&&(n=new Int32Array(t),fa[t]=n);for(var r=0;r!==t;++r)n[r]=e.allocateTextureUnit();return n}function ba(e,t){var n=this.cache;n[0]!==t&&(e.uniform1f(this.addr,t),n[0]=t)}function _a(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y||(e.uniform2f(this.addr,t.x,t.y),n[0]=t.x,n[1]=t.y);else{if(va(n,t))return;e.uniform2fv(this.addr,t),ya(n,t)}}function wa(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z||(e.uniform3f(this.addr,t.x,t.y,t.z),n[0]=t.x,n[1]=t.y,n[2]=t.z);else if(void 0!==t.r)n[0]===t.r&&n[1]===t.g&&n[2]===t.b||(e.uniform3f(this.addr,t.r,t.g,t.b),n[0]=t.r,n[1]=t.g,n[2]=t.b);else{if(va(n,t))return;e.uniform3fv(this.addr,t),ya(n,t)}}function xa(e,t){var n=this.cache;if(void 0!==t.x)n[0]===t.x&&n[1]===t.y&&n[2]===t.z&&n[3]===t.w||(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),n[0]=t.x,n[1]=t.y,n[2]=t.z,n[3]=t.w);else{if(va(n,t))return;e.uniform4fv(this.addr,t),ya(n,t)}}function Sa(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(va(n,t))return;e.uniformMatrix2fv(this.addr,!1,t),ya(n,t)}else{if(va(n,r))return;da.set(r),e.uniformMatrix2fv(this.addr,!1,da),ya(n,r)}}function Ea(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(va(n,t))return;e.uniformMatrix3fv(this.addr,!1,t),ya(n,t)}else{if(va(n,r))return;ha.set(r),e.uniformMatrix3fv(this.addr,!1,ha),ya(n,r)}}function Oa(e,t){var n=this.cache,r=t.elements;if(void 0===r){if(va(n,t))return;e.uniformMatrix4fv(this.addr,!1,t),ya(n,t)}else{if(va(n,r))return;pa.set(r),e.uniformMatrix4fv(this.addr,!1,pa),ya(n,r)}}function Ta(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTexture2D(t||aa,i)}function Ma(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(t||sa,i)}function Pa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(t||ua,i)}function Aa(e,t,n){var r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(e.uniform1i(this.addr,i),r[0]=i),n.safeSetTextureCube(t||ca,i)}function Ca(e,t){var n=this.cache;n[0]!==t&&(e.uniform1i(this.addr,t),n[0]=t)}function ka(e,t){var n=this.cache;va(n,t)||(e.uniform2iv(this.addr,t),ya(n,t))}function ja(e,t){var n=this.cache;va(n,t)||(e.uniform3iv(this.addr,t),ya(n,t))}function Ra(e,t){var n=this.cache;va(n,t)||(e.uniform4iv(this.addr,t),ya(n,t))}function Da(e,t){var n=this.cache;n[0]!==t&&(e.uniform1ui(this.addr,t),n[0]=t)}function Na(e,t){e.uniform1fv(this.addr,t)}function La(e,t){e.uniform1iv(this.addr,t)}function Ia(e,t){e.uniform2iv(this.addr,t)}function Ba(e,t){e.uniform3iv(this.addr,t)}function Fa(e,t){e.uniform4iv(this.addr,t)}function Ua(e,t){var n=ma(t,this.size,2);e.uniform2fv(this.addr,n)}function za(e,t){var n=ma(t,this.size,3);e.uniform3fv(this.addr,n)}function Va(e,t){var n=ma(t,this.size,4);e.uniform4fv(this.addr,n)}function Ha(e,t){var n=ma(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,n)}function $a(e,t){var n=ma(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,n)}function Ga(e,t){var n=ma(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,n)}function Wa(e,t,n){var r=t.length,i=ga(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTexture2D(t[o]||aa,i[o])}function qa(e,t,n){var r=t.length,i=ga(n,r);e.uniform1iv(this.addr,i);for(var o=0;o!==r;++o)n.safeSetTextureCube(t[o]||ca,i[o])}function Ya(e,t,n){this.id=e,this.addr=n,this.cache=[],this.setValue=function(e){switch(e){case 5126:return ba;case 35664:return _a;case 35665:return wa;case 35666:return xa;case 35674:return Sa;case 35675:return Ea;case 35676:return Oa;case 5124:case 35670:return Ca;case 35667:case 35671:return ka;case 35668:case 35672:return ja;case 35669:case 35673:return Ra;case 5125:return Da;case 35678:case 36198:case 36298:case 36306:case 35682:return Ta;case 35679:case 36299:case 36307:return Pa;case 35680:case 36300:case 36308:case 36293:return Aa;case 36289:case 36303:case 36311:case 36292:return Ma}}(t.type)}function Xa(e,t,n){this.id=e,this.addr=n,this.cache=[],this.size=t.size,this.setValue=function(e){switch(e){case 5126:return Na;case 35664:return Ua;case 35665:return za;case 35666:return Va;case 35674:return Ha;case 35675:return $a;case 35676:return Ga;case 5124:case 35670:return La;case 35667:case 35671:return Ia;case 35668:case 35672:return Ba;case 35669:case 35673:return Fa;case 35678:case 36198:case 36298:case 36306:case 35682:return Wa;case 35680:case 36300:case 36308:case 36293:return qa}}(t.type)}function Za(e){this.id=e,this.seq=[],this.map={}}Xa.prototype.updateCache=function(e){var t=this.cache;e instanceof Float32Array&&t.length!==e.length&&(this.cache=new Float32Array(e.length)),ya(t,e)},Za.prototype.setValue=function(e,t,n){for(var r=this.seq,i=0,o=r.length;i!==o;++i){var a=r[i];a.setValue(e,t[a.id],n)}};var Qa=/([\w\d_]+)(\])?(\[|\.)?/g;function Ka(e,t){e.seq.push(t),e.map[t.id]=t}function Ja(e,t,n){var r=e.name,i=r.length;for(Qa.lastIndex=0;;){var o=Qa.exec(r),a=Qa.lastIndex,s=o[1],u="]"===o[2],c=o[3];if(u&&(s|=0),void 0===c||"["===c&&a+2===i){Ka(n,void 0===c?new Ya(s,e,t):new Xa(s,e,t));break}var l=n.map[s];void 0===l&&Ka(n,l=new Za(s)),n=l}}function es(e,t){this.seq=[],this.map={};for(var n=e.getProgramParameter(t,35718),r=0;r<n;++r){var i=e.getActiveUniform(t,r);Ja(i,e.getUniformLocation(t,i.name),this)}}function ts(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),r}es.prototype.setValue=function(e,t,n,r){var i=this.map[t];void 0!==i&&i.setValue(e,n,r)},es.prototype.setOptional=function(e,t,n){var r=t[n];void 0!==r&&this.setValue(e,n,r)},es.upload=function(e,t,n,r){for(var i=0,o=t.length;i!==o;++i){var a=t[i],s=n[a.id];!1!==s.needsUpdate&&a.setValue(e,s.value,r)}},es.seqWithValue=function(e,t){for(var n=[],r=0,i=e.length;r!==i;++r){var o=e[r];o.id in t&&n.push(o)}return n};var ns=0;function rs(e){switch(e){case on:return["Linear","( value )"];case an:return["sRGB","( value )"];case un:return["RGBE","( value )"];case ln:return["RGBM","( value, 7.0 )"];case fn:return["RGBM","( value, 16.0 )"];case pn:return["RGBD","( value, 256.0 )"];case sn:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case cn:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function is(e,t,n){var r=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();return r&&""===i?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+i+function(e){for(var t=e.split("\n"),n=0;n<t.length;n++)t[n]=n+1+": "+t[n];return t.join("\n")}(e.getShaderSource(t))}function os(e,t){var n=rs(t);return"vec4 "+e+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function as(e,t){var n=rs(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function ss(e,t){var n;switch(t){case se:n="Linear";break;case ue:n="Reinhard";break;case ce:n="OptimizedCineon";break;case le:n="ACESFilmic";break;case fe:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),n="Linear"}return"vec3 "+e+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function us(e){return""!==e}function cs(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function ls(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var fs=/^[ \t]*#include +<([\w\d./]+)>/gm;function ps(e){return e.replace(fs,hs)}function hs(e,t){var n=Vo[t];if(void 0===n)throw new Error("Can not resolve #include <"+t+">");return ps(n)}var ds=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,ms=/#pragma unroll_loop_start[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}[\s]+?#pragma unroll_loop_end/g;function vs(e){return e.replace(ms,gs).replace(ds,ys)}function ys(e,t,n,r){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),gs(e,t,n,r)}function gs(e,t,n,r){for(var i="",o=parseInt(t);o<parseInt(n);o++)i+=r.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function bs(e){var t="precision "+e.precision+" float;\nprecision "+e.precision+" int;";return"highp"===e.precision?t+="\n#define HIGH_PRECISION":"mediump"===e.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===e.precision&&(t+="\n#define LOW_PRECISION"),t}function _s(e,t,n,r){var i,o,a=e.getContext(),s=n.defines,u=n.vertexShader,c=n.fragmentShader,l=function(e){var t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===b?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===_?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===w&&(t="SHADOWMAP_TYPE_VSM"),t}(n),f=function(e){var t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case he:case de:t="ENVMAP_TYPE_CUBE";break;case ye:case ge:t="ENVMAP_TYPE_CUBE_UV";break;case me:case ve:t="ENVMAP_TYPE_EQUIREC"}return t}(n),p=function(e){var t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case de:case ve:t="ENVMAP_MODE_REFRACTION"}return t}(n),h=function(e){var t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case re:t="ENVMAP_BLENDING_MULTIPLY";break;case ie:t="ENVMAP_BLENDING_MIX";break;case oe:t="ENVMAP_BLENDING_ADD"}return t}(n),d=e.gammaFactor>0?e.gammaFactor:1,m=n.isWebGL2?"":function(e){return[e.extensionDerivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||"physical"===e.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(us).join("\n")}(n),v=function(e){var t=[];for(var n in e){var r=e[n];!1!==r&&t.push("#define "+n+" "+r)}return t.join("\n")}(s),y=a.createProgram();if(n.isRawShaderMaterial?((i=[v].filter(us).join("\n")).length>0&&(i+="\n"),(o=[m,v].filter(us).join("\n")).length>0&&(o+="\n")):(i=[bs(n),"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+n.maxBones,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+p:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(us).join("\n"),o=[m,bs(n),"#define SHADER_NAME "+n.shaderName,v,n.alphaTest?"#define ALPHATEST "+n.alphaTest+(n.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.envMap?"#define "+p:"",n.envMap?"#define "+h:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMap&&n.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",n.normalMap&&n.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.sheen?"#define USE_SHEEN":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexUvs?"#define USE_UV":"",n.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(n.extensionShaderTextureLOD||n.envMap)&&n.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ae?"#define TONE_MAPPING":"",n.toneMapping!==ae?Vo.tonemapping_pars_fragment:"",n.toneMapping!==ae?ss("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",Vo.encodings_pars_fragment,n.map?os("mapTexelToLinear",n.mapEncoding):"",n.matcap?os("matcapTexelToLinear",n.matcapEncoding):"",n.envMap?os("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMap?os("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.lightMap?os("lightMapTexelToLinear",n.lightMapEncoding):"",as("linearToOutputTexel",n.outputEncoding),n.depthPacking?"#define DEPTH_PACKING "+n.depthPacking:"","\n"].filter(us).join("\n")),u=ls(u=cs(u=ps(u),n),n),c=ls(c=cs(c=ps(c),n),n),u=vs(u),c=vs(c),n.isWebGL2&&!n.isRawShaderMaterial){var g=!1,x=/^\s*#version\s+300\s+es\s*\n/;n.isShaderMaterial&&null!==u.match(x)&&null!==c.match(x)&&(g=!0,u=u.replace(x,""),c=c.replace(x,"")),i=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+i,o=["#version 300 es\n","#define varying in",g?"":"out highp vec4 pc_fragColor;",g?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+o}var S,E,O=o+c,T=ts(a,35633,i+u),M=ts(a,35632,O);if(a.attachShader(y,T),a.attachShader(y,M),void 0!==n.index0AttributeName?a.bindAttribLocation(y,0,n.index0AttributeName):!0===n.morphTargets&&a.bindAttribLocation(y,0,"position"),a.linkProgram(y),e.debug.checkShaderErrors){var P=a.getProgramInfoLog(y).trim(),A=a.getShaderInfoLog(T).trim(),C=a.getShaderInfoLog(M).trim(),k=!0,j=!0;if(!1===a.getProgramParameter(y,35714)){k=!1;var R=is(a,T,"vertex"),D=is(a,M,"fragment");console.error("THREE.WebGLProgram: shader error: ",a.getError(),"35715",a.getProgramParameter(y,35715),"gl.getProgramInfoLog",P,R,D)}else""!==P?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",P):""!==A&&""!==C||(j=!1);j&&(this.diagnostics={runnable:k,programLog:P,vertexShader:{log:A,prefix:i},fragmentShader:{log:C,prefix:o}})}return a.deleteShader(T),a.deleteShader(M),this.getUniforms=function(){return void 0===S&&(S=new es(a,y)),S},this.getAttributes=function(){return void 0===E&&(E=function(e,t){for(var n={},r=e.getProgramParameter(t,35721),i=0;i<r;i++){var o=e.getActiveAttrib(t,i).name;n[o]=e.getAttribLocation(t,o)}return n}(a,y)),E},this.destroy=function(){r.releaseStatesOfProgram(this),a.deleteProgram(y),this.program=void 0},this.name=n.shaderName,this.id=ns++,this.cacheKey=t,this.usedTimes=1,this.program=y,this.vertexShader=T,this.fragmentShader=M,this}function ws(e,t,n,r){var i=[],o=n.isWebGL2,a=n.logarithmicDepthBuffer,s=n.floatVertexTextures,u=n.maxVertexUniforms,c=n.vertexTextures,l=n.precision,f={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},p=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function h(e){var t;return e?e.isTexture?t=e.encoding:e.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),t=e.texture.encoding):t=on,t}return{getParameters:function(r,i,p,d,m,v,y){var g=d.fog,b=r.isMeshStandardMaterial?d.environment:null,_=r.envMap||b,w=f[r.type],x=y.isSkinnedMesh?function(e){var t=e.skeleton.bones;if(s)return 1024;var n=u,r=Math.floor((n-20)/4),i=Math.min(r,t.length);return i<t.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+t.length+" bones. This GPU supports "+i+"."),0):i}(y):0;null!==r.precision&&(l=n.getMaxPrecision(r.precision))!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",l,"instead.");var O=function(e,t){var n;if(t){var r=Ho[t];n={name:e.name||e.type,uniforms:Mo.clone(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}}else n={name:e.name||e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};return n}(r,w);r.onBeforeCompile(O,e);var T=e.getRenderTarget();return{isWebGL2:o,shaderID:w,shaderName:O.name,uniforms:O.uniforms,vertexShader:O.vertexShader,fragmentShader:O.fragmentShader,defines:r.defines,isRawShaderMaterial:r.isRawShaderMaterial,isShaderMaterial:r.isShaderMaterial,precision:l,instancing:!0===y.isInstancedMesh,supportsVertexTextures:c,outputEncoding:null!==T?h(T.texture):e.outputEncoding,map:!!r.map,mapEncoding:h(r.map),matcap:!!r.matcap,matcapEncoding:h(r.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:h(_),envMapCubeUV:!!_&&(_.mapping===ye||_.mapping===ge),lightMap:!!r.lightMap,lightMapEncoding:h(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:h(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:r.normalMapType===vn,tangentSpaceNormalMap:r.normalMapType===mn,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!r.map||!!r.bumpMap||!!r.normalMap||!!r.specularMap||!!r.alphaMap||!!r.emissiveMap||!!r.roughnessMap||!!r.metalnessMap||!!r.clearcoatMap||!!r.clearcoatRoughnessMap||!!r.clearcoatNormalMap||!!r.displacementMap,uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap)&&!!r.displacementMap,fog:!!g,useFog:r.fog,fogExp2:g&&g.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:a,skinning:r.skinning&&x>0,maxBones:x,useVertexTexture:s,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:e.maxMorphTargets,maxMorphNormals:e.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:m,numClipIntersection:v,dithering:r.dithering,shadowMapEnabled:e.shadowMap.enabled&&p.length>0,shadowMapType:e.shadowMap.type,toneMapping:r.toneMapped?e.toneMapping:ae,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:r.side===E,flipSided:r.side===S,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:o||null!==t.get("EXT_frag_depth"),rendererExtensionDrawBuffers:o||null!==t.get("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:o||null!==t.get("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(t){var n=[];if(t.shaderID?n.push(t.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);if(void 0===t.isRawShaderMaterial){for(var i=0;i<p.length;i++)n.push(t[p[i]]);n.push(e.outputEncoding),n.push(e.gammaFactor)}return n.push(t.customProgramCacheKey),n.join()},acquireProgram:function(t,n){for(var o,a=0,s=i.length;a<s;a++){var u=i[a];if(u.cacheKey===n){++(o=u).usedTimes;break}}return void 0===o&&(o=new _s(e,n,t,r),i.push(o)),o},releaseProgram:function(e){if(0===--e.usedTimes){var t=i.indexOf(e);i[t]=i[i.length-1],i.pop(),e.destroy()}},programs:i}}function xs(){var e=new WeakMap;return{get:function(t){var n=e.get(t);return void 0===n&&(n={},e.set(t,n)),n},remove:function(t){e.delete(t)},update:function(t,n,r){e.get(t)[n]=r},dispose:function(){e=new WeakMap}}}function Ss(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.program!==t.program?e.program.id-t.program.id:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function Es(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function Os(){var e=[],t=0,n=[],r=[],i={id:-1};function o(n,r,o,a,s,u){var c=e[t];return void 0===c?(c={id:n.id,object:n,geometry:r,material:o,program:o.program||i,groupOrder:a,renderOrder:n.renderOrder,z:s,group:u},e[t]=c):(c.id=n.id,c.object=n,c.geometry=r,c.material=o,c.program=o.program||i,c.groupOrder=a,c.renderOrder=n.renderOrder,c.z=s,c.group=u),t++,c}return{opaque:n,transparent:r,init:function(){t=0,n.length=0,r.length=0},push:function(e,t,i,a,s,u){var c=o(e,t,i,a,s,u);(!0===i.transparent?r:n).push(c)},unshift:function(e,t,i,a,s,u){var c=o(e,t,i,a,s,u);(!0===i.transparent?r:n).unshift(c)},finish:function(){for(var n=t,r=e.length;n<r;n++){var i=e[n];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(e,t){n.length>1&&n.sort(e||Ss),r.length>1&&r.sort(t||Es)}}}function Ts(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i,o=e.get(n);return void 0===o?(i=new Os,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):void 0===(i=o.get(r))&&(i=new Os,o.set(r,i)),i},dispose:function(){e=new WeakMap}}}function Ms(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":n={direction:new ir,color:new wi};break;case"SpotLight":n={position:new ir,direction:new ir,color:new wi,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ir,color:new wi,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ir,skyColor:new wi,groundColor:new wi};break;case"RectAreaLight":n={color:new wi,position:new ir,halfWidth:new ir,halfHeight:new ir}}return e[t.id]=n,n}}}var Ps=0;function As(e,t){return(t.castShadow?1:0)-(e.castShadow?1:0)}function Cs(){for(var e=new Ms,t=function(){var e={};return{get:function(t){if(void 0!==e[t.id])return e[t.id];var n;switch(t.type){case"DirectionalLight":case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qn};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new qn,shadowCameraNear:1,shadowCameraFar:1e3}}return e[t.id]=n,n}}}(),n={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},r=0;r<9;r++)n.probe.push(new ir);var i=new ir,o=new pr,a=new pr;return{setup:function(r,s,u){for(var c=0,l=0,f=0,p=0;p<9;p++)n.probe[p].set(0,0,0);var h=0,d=0,m=0,v=0,y=0,g=0,b=0,_=0,w=u.matrixWorldInverse;r.sort(As);for(var x=0,S=r.length;x<S;x++){var E=r[x],O=E.color,T=E.intensity,M=E.distance,P=E.shadow&&E.shadow.map?E.shadow.map.texture:null;if(E.isAmbientLight)c+=O.r*T,l+=O.g*T,f+=O.b*T;else if(E.isLightProbe)for(var A=0;A<9;A++)n.probe[A].addScaledVector(E.sh.coefficients[A],T);else if(E.isDirectionalLight){var C=e.get(E);if(C.color.copy(E.color).multiplyScalar(E.intensity),C.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),C.direction.sub(i),C.direction.transformDirection(w),E.castShadow){var k=E.shadow,j=t.get(E);j.shadowBias=k.bias,j.shadowNormalBias=k.normalBias,j.shadowRadius=k.radius,j.shadowMapSize=k.mapSize,n.directionalShadow[h]=j,n.directionalShadowMap[h]=P,n.directionalShadowMatrix[h]=E.shadow.matrix,g++}n.directional[h]=C,h++}else if(E.isSpotLight){var R=e.get(E);if(R.position.setFromMatrixPosition(E.matrixWorld),R.position.applyMatrix4(w),R.color.copy(O).multiplyScalar(T),R.distance=M,R.direction.setFromMatrixPosition(E.matrixWorld),i.setFromMatrixPosition(E.target.matrixWorld),R.direction.sub(i),R.direction.transformDirection(w),R.coneCos=Math.cos(E.angle),R.penumbraCos=Math.cos(E.angle*(1-E.penumbra)),R.decay=E.decay,E.castShadow){var D=E.shadow,N=t.get(E);N.shadowBias=D.bias,N.shadowNormalBias=D.normalBias,N.shadowRadius=D.radius,N.shadowMapSize=D.mapSize,n.spotShadow[m]=N,n.spotShadowMap[m]=P,n.spotShadowMatrix[m]=E.shadow.matrix,_++}n.spot[m]=R,m++}else if(E.isRectAreaLight){var L=e.get(E);L.color.copy(O).multiplyScalar(T),L.position.setFromMatrixPosition(E.matrixWorld),L.position.applyMatrix4(w),a.identity(),o.copy(E.matrixWorld),o.premultiply(w),a.extractRotation(o),L.halfWidth.set(.5*E.width,0,0),L.halfHeight.set(0,.5*E.height,0),L.halfWidth.applyMatrix4(a),L.halfHeight.applyMatrix4(a),n.rectArea[v]=L,v++}else if(E.isPointLight){var I=e.get(E);if(I.position.setFromMatrixPosition(E.matrixWorld),I.position.applyMatrix4(w),I.color.copy(E.color).multiplyScalar(E.intensity),I.distance=E.distance,I.decay=E.decay,E.castShadow){var B=E.shadow,F=t.get(E);F.shadowBias=B.bias,F.shadowNormalBias=B.normalBias,F.shadowRadius=B.radius,F.shadowMapSize=B.mapSize,F.shadowCameraNear=B.camera.near,F.shadowCameraFar=B.camera.far,n.pointShadow[d]=F,n.pointShadowMap[d]=P,n.pointShadowMatrix[d]=E.shadow.matrix,b++}n.point[d]=I,d++}else if(E.isHemisphereLight){var U=e.get(E);U.direction.setFromMatrixPosition(E.matrixWorld),U.direction.transformDirection(w),U.direction.normalize(),U.skyColor.copy(E.color).multiplyScalar(T),U.groundColor.copy(E.groundColor).multiplyScalar(T),n.hemi[y]=U,y++}}n.ambient[0]=c,n.ambient[1]=l,n.ambient[2]=f;var z=n.hash;z.directionalLength===h&&z.pointLength===d&&z.spotLength===m&&z.rectAreaLength===v&&z.hemiLength===y&&z.numDirectionalShadows===g&&z.numPointShadows===b&&z.numSpotShadows===_||(n.directional.length=h,n.spot.length=m,n.rectArea.length=v,n.point.length=d,n.hemi.length=y,n.directionalShadow.length=g,n.directionalShadowMap.length=g,n.pointShadow.length=b,n.pointShadowMap.length=b,n.spotShadow.length=_,n.spotShadowMap.length=_,n.directionalShadowMatrix.length=g,n.pointShadowMatrix.length=b,n.spotShadowMatrix.length=_,z.directionalLength=h,z.pointLength=d,z.spotLength=m,z.rectAreaLength=v,z.hemiLength=y,z.numDirectionalShadows=g,z.numPointShadows=b,z.numSpotShadows=_,n.version=Ps++)},state:n}}function ks(){var e=new Cs,t=[],n=[];return{init:function(){t.length=0,n.length=0},state:{lightsArray:t,shadowsArray:n,lights:e},setupLights:function(r){e.setup(t,n,r)},pushLight:function(e){t.push(e)},pushShadow:function(e){n.push(e)}}}function js(){var e=new WeakMap;function t(n){var r=n.target;r.removeEventListener("dispose",t),e.delete(r)}return{get:function(n,r){var i;return!1===e.has(n)?(i=new ks,e.set(n,new WeakMap),e.get(n).set(r,i),n.addEventListener("dispose",t)):!1===e.get(n).has(r)?(i=new ks,e.get(n).set(r,i)):i=e.get(n).get(r),i},dispose:function(){e=new WeakMap}}}function Rs(e){Mi.call(this),this.type="MeshDepthMaterial",this.depthPacking=hn,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(e)}function Ds(e){Mi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new ir,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(e)}Rs.prototype=Object.create(Mi.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isMeshDepthMaterial=!0,Rs.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.depthPacking=e.depthPacking,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Ds.prototype=Object.create(Mi.prototype),Ds.prototype.constructor=Ds,Ds.prototype.isMeshDistanceMaterial=!0,Ds.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this};function Ns(e,t,n){var r=new Lo,i=new qn,o=new qn,a=new Kn,s=[],u=[],c={},l={0:S,1:x,2:E},f=new Po({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new qn},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = sqrt( squared_mean - mean * mean );\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=f.clone();p.defines.HORIZONAL_PASS=1;var h=new Zi;h.setAttribute("position",new ki(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));var d=new mo(h,f),m=this;function v(n,r){var i=t.update(d);f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,e.setRenderTarget(n.mapPass),e.clear(),e.renderBufferDirect(r,null,i,f,d,null),p.uniforms.shadow_pass.value=n.mapPass.texture,p.uniforms.resolution.value=n.mapSize,p.uniforms.radius.value=n.radius,e.setRenderTarget(n.map),e.clear(),e.renderBufferDirect(r,null,i,p,d,null)}function y(e,t,n){var r=e<<0|t<<1|n<<2,i=s[r];return void 0===i&&(i=new Rs({depthPacking:dn,morphTargets:e,skinning:t}),s[r]=i),i}function g(e,t,n){var r=e<<0|t<<1|n<<2,i=u[r];return void 0===i&&(i=new Ds({morphTargets:e,skinning:t}),u[r]=i),i}function _(t,n,r,i,o,a,s){var u=null,f=y,p=t.customDepthMaterial;if(!0===i.isPointLight&&(f=g,p=t.customDistanceMaterial),void 0===p){var h=!1;!0===r.morphTargets&&(h=n.morphAttributes&&n.morphAttributes.position&&n.morphAttributes.position.length>0);var d=!1;!0===t.isSkinnedMesh&&(!0===r.skinning?d=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",t)),u=f(h,d,!0===t.isInstancedMesh)}else u=p;if(e.localClippingEnabled&&!0===r.clipShadows&&0!==r.clippingPlanes.length){var m=u.uuid,v=r.uuid,b=c[m];void 0===b&&(b={},c[m]=b);var _=b[v];void 0===_&&(_=u.clone(),b[v]=_),u=_}return u.visible=r.visible,u.wireframe=r.wireframe,u.side=s===w?null!==r.shadowSide?r.shadowSide:r.side:null!==r.shadowSide?r.shadowSide:l[r.side],u.clipShadows=r.clipShadows,u.clippingPlanes=r.clippingPlanes,u.clipIntersection=r.clipIntersection,u.wireframeLinewidth=r.wireframeLinewidth,u.linewidth=r.linewidth,!0===i.isPointLight&&!0===u.isMeshDistanceMaterial&&(u.referencePosition.setFromMatrixPosition(i.matrixWorld),u.nearDistance=o,u.farDistance=a),u}function O(n,i,o,a,s){if(!1!==n.visible){if(n.layers.test(i.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&s===w)&&(!n.frustumCulled||r.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var u=t.update(n),c=n.material;if(Array.isArray(c))for(var l=u.groups,f=0,p=l.length;f<p;f++){var h=l[f],d=c[h.materialIndex];if(d&&d.visible){var m=_(n,u,d,a,o.near,o.far,s);e.renderBufferDirect(o,null,u,m,n,h)}}else if(c.visible){var v=_(n,u,c,a,o.near,o.far,s);e.renderBufferDirect(o,null,u,v,n,null)}}for(var y=n.children,g=0,b=y.length;g<b;g++)O(y[g],i,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=b,this.render=function(t,s,u){if(!1!==m.enabled&&(!1!==m.autoUpdate||!1!==m.needsUpdate)&&0!==t.length){var c=e.getRenderTarget(),l=e.getActiveCubeFace(),f=e.getActiveMipmapLevel(),p=e.state;p.setBlending(M),p.buffers.color.setClear(1,1,1,1),p.buffers.depth.setTest(!0),p.setScissorTest(!1);for(var h=0,d=t.length;h<d;h++){var y=t[h],g=y.shadow;if(!1!==g.autoUpdate||!1!==g.needsUpdate)if(void 0!==g){i.copy(g.mapSize);var b=g.getFrameExtents();if(i.multiply(b),o.copy(g.mapSize),(i.x>n||i.y>n)&&(i.x>n&&(o.x=Math.floor(n/b.x),i.x=o.x*b.x,g.mapSize.x=o.x),i.y>n&&(o.y=Math.floor(n/b.y),i.y=o.y*b.y,g.mapSize.y=o.y)),null===g.map&&!g.isPointLightShadow&&this.type===w){var _={minFilter:Me,magFilter:Me,format:We};g.map=new Jn(i.x,i.y,_),g.map.texture.name=y.name+".shadowMap",g.mapPass=new Jn(i.x,i.y,_),g.camera.updateProjectionMatrix()}if(null===g.map){var x={minFilter:xe,magFilter:xe,format:We};g.map=new Jn(i.x,i.y,x),g.map.texture.name=y.name+".shadowMap",g.camera.updateProjectionMatrix()}e.setRenderTarget(g.map),e.clear();for(var S=g.getViewportCount(),E=0;E<S;E++){var T=g.getViewport(E);a.set(o.x*T.x,o.y*T.y,o.x*T.z,o.y*T.w),p.viewport(a),g.updateMatrices(y,E),r=g.getFrustum(),O(s,u,g.camera,y,this.type)}g.isPointLightShadow||this.type!==w||v(g,u),g.needsUpdate=!1}else console.warn("THREE.WebGLShadowMap:",y,"has no shadow.")}m.needsUpdate=!1,e.setRenderTarget(c,l,f)}}}function Ls(e,t,n){var r,o,a=n.isWebGL2;var s=new function(){var t=!1,n=new Kn,r=null,i=new Kn(0,0,0,0);return{setMask:function(n){r===n||t||(e.colorMask(n,n,n,n),r=n)},setLocked:function(e){t=e},setClear:function(t,r,o,a,s){!0===s&&(t*=a,r*=a,o*=a),n.set(t,r,o,a),!1===i.equals(n)&&(e.clearColor(t,r,o,a),i.copy(n))},reset:function(){t=!1,r=null,i.set(-1,0,0,0)}}},u=new function(){var t=!1,n=null,r=null,i=null;return{setTest:function(e){e?ye(2929):ge(2929)},setMask:function(r){n===r||t||(e.depthMask(r),n=r)},setFunc:function(t){if(r!==t){if(t)switch(t){case X:e.depthFunc(512);break;case Z:e.depthFunc(519);break;case Q:e.depthFunc(513);break;case K:e.depthFunc(515);break;case J:e.depthFunc(514);break;case ee:e.depthFunc(518);break;case te:e.depthFunc(516);break;case ne:e.depthFunc(517);break;default:e.depthFunc(515)}else e.depthFunc(515);r=t}},setLocked:function(e){t=e},setClear:function(t){i!==t&&(e.clearDepth(t),i=t)},reset:function(){t=!1,n=null,r=null,i=null}}},c=new function(){var t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null;return{setTest:function(e){t||(e?ye(2960):ge(2960))},setMask:function(r){n===r||t||(e.stencilMask(r),n=r)},setFunc:function(t,n,a){r===t&&i===n&&o===a||(e.stencilFunc(t,n,a),r=t,i=n,o=a)},setOp:function(t,n,r){a===t&&s===n&&u===r||(e.stencilOp(t,n,r),a=t,s=n,u=r)},setLocked:function(e){t=e},setClear:function(t){c!==t&&(e.clearStencil(t),c=t)},reset:function(){t=!1,n=null,r=null,i=null,o=null,a=null,s=null,u=null,c=null}}},l={},f=null,m=null,v=null,y=null,g=null,b=null,_=null,w=null,x=null,O=!1,T=null,re=null,ie=null,oe=null,ae=null,se=e.getParameter(35661),ue=!1,ce=0,le=e.getParameter(7938);-1!==le.indexOf("WebGL")?(ce=parseFloat(/^WebGL\ ([0-9])/.exec(le)[1]),ue=ce>=1):-1!==le.indexOf("OpenGL ES")&&(ce=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(le)[1]),ue=ce>=2);var fe=null,pe={},he=new Kn,de=new Kn;function me(t,n,r){var i=new Uint8Array(4),o=e.createTexture();e.bindTexture(t,o),e.texParameteri(t,10241,9728),e.texParameteri(t,10240,9728);for(var a=0;a<r;a++)e.texImage2D(n+a,0,6408,1,1,0,6408,5121,i);return o}var ve={};function ye(t){!0!==l[t]&&(e.enable(t),l[t]=!0)}function ge(t){!1!==l[t]&&(e.disable(t),l[t]=!1)}ve[3553]=me(3553,3553,1),ve[34067]=me(34067,34069,6),s.setClear(0,0,0,1),u.setClear(1),c.setClear(0),ye(2929),u.setFunc(K),Se(!1),Ee(h),ye(2884),xe(M);var be=(r={},Object(i.a)(r,R,32774),Object(i.a)(r,D,32778),Object(i.a)(r,N,32779),r);if(a)be[L]=32775,be[I]=32776;else{var _e=t.get("EXT_blend_minmax");null!==_e&&(be[L]=_e.MIN_EXT,be[I]=_e.MAX_EXT)}var we=(o={},Object(i.a)(o,B,0),Object(i.a)(o,F,1),Object(i.a)(o,U,768),Object(i.a)(o,V,770),Object(i.a)(o,Y,776),Object(i.a)(o,W,774),Object(i.a)(o,$,772),Object(i.a)(o,z,769),Object(i.a)(o,H,771),Object(i.a)(o,q,775),Object(i.a)(o,G,773),o);function xe(t,n,r,i,o,a,s,u){if(t!==M){if(m||(ye(3042),m=!0),t===j)o=o||n,a=a||r,s=s||i,n===y&&o===_||(e.blendEquationSeparate(be[n],be[o]),y=n,_=o),r===g&&i===b&&a===w&&s===x||(e.blendFuncSeparate(we[r],we[i],we[a],we[s]),g=r,b=i,w=a,x=s),v=t,O=null;else if(t!==v||u!==O){if(y===R&&_===R||(e.blendEquation(32774),y=R,_=R),u)switch(t){case P:e.blendFuncSeparate(1,771,1,771);break;case A:e.blendFunc(1,1);break;case C:e.blendFuncSeparate(0,0,769,771);break;case k:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}else switch(t){case P:e.blendFuncSeparate(770,771,1,771);break;case A:e.blendFunc(770,1);break;case C:e.blendFunc(0,769);break;case k:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",t)}g=null,b=null,w=null,x=null,v=t,O=u}}else m&&(ge(3042),m=!1)}function Se(t){T!==t&&(t?e.frontFace(2304):e.frontFace(2305),T=t)}function Ee(t){t!==p?(ye(2884),t!==re&&(t===h?e.cullFace(1029):t===d?e.cullFace(1028):e.cullFace(1032))):ge(2884),re=t}function Oe(t,n,r){t?(ye(32823),oe===n&&ae===r||(e.polygonOffset(n,r),oe=n,ae=r)):ge(32823)}function Te(t){void 0===t&&(t=33984+se-1),fe!==t&&(e.activeTexture(t),fe=t)}return{buffers:{color:s,depth:u,stencil:c},enable:ye,disable:ge,useProgram:function(t){return f!==t&&(e.useProgram(t),f=t,!0)},setBlending:xe,setMaterial:function(e,t){e.side===E?ge(2884):ye(2884);var n=e.side===S;t&&(n=!n),Se(n),e.blending===P&&!1===e.transparent?xe(M):xe(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),u.setFunc(e.depthFunc),u.setTest(e.depthTest),u.setMask(e.depthWrite),s.setMask(e.colorWrite);var r=e.stencilWrite;c.setTest(r),r&&(c.setMask(e.stencilWriteMask),c.setFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),c.setOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),Oe(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)},setFlipSided:Se,setCullFace:Ee,setLineWidth:function(t){t!==ie&&(ue&&e.lineWidth(t),ie=t)},setPolygonOffset:Oe,setScissorTest:function(e){e?ye(3089):ge(3089)},activeTexture:Te,bindTexture:function(t,n){null===fe&&Te();var r=pe[fe];void 0===r&&(r={type:void 0,texture:void 0},pe[fe]=r),r.type===t&&r.texture===n||(e.bindTexture(t,n||ve[t]),r.type=t,r.texture=n)},unbindTexture:function(){var t=pe[fe];void 0!==t&&void 0!==t.type&&(e.bindTexture(t.type,null),t.type=void 0,t.texture=void 0)},compressedTexImage2D:function(){try{e.compressedTexImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{e.texImage2D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{e.texImage3D.apply(e,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(t){!1===he.equals(t)&&(e.scissor(t.x,t.y,t.z,t.w),he.copy(t))},viewport:function(t){!1===de.equals(t)&&(e.viewport(t.x,t.y,t.z,t.w),de.copy(t))},reset:function(){l={},fe=null,pe={},f=null,v=null,T=null,re=null,s.reset(),u.reset(),c.reset()}}}function Is(e,t,n,r,o,a,s){var u,c,l,f=o.isWebGL2,p=o.maxTextures,h=o.maxCubemapSize,d=o.maxTextureSize,m=o.maxSamples,v=new WeakMap,y=!1;try{y="undefined"!==typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(V){}function g(e,t){return y?new OffscreenCanvas(e,t):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function b(e,t,n,r){var i=1;if((e.width>r||e.height>r)&&(i=r/Math.max(e.width,e.height)),i<1||!0===t){if("undefined"!==typeof HTMLImageElement&&e instanceof HTMLImageElement||"undefined"!==typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement||"undefined"!==typeof ImageBitmap&&e instanceof ImageBitmap){var o=t?Wn.floorPowerOfTwo:Math.floor,a=o(i*e.width),s=o(i*e.height);void 0===l&&(l=g(a,s));var u=n?g(a,s):l;return u.width=a,u.height=s,u.getContext("2d").drawImage(e,0,0,a,s),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+e.width+"x"+e.height+") to ("+a+"x"+s+")."),u}return"data"in e&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+e.width+"x"+e.height+")."),e}return e}function _(e){return Wn.isPowerOfTwo(e.width)&&Wn.isPowerOfTwo(e.height)}function w(e,t){return e.generateMipmaps&&t&&e.minFilter!==xe&&e.minFilter!==Me}function x(t,n,i,o){e.generateMipmap(t),r.get(n).__maxMipLevel=Math.log(Math.max(i,o))*Math.LOG2E}function S(n,r,i){if(!1===f)return r;if(null!==n){if(void 0!==e[n])return e[n];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+n+"'")}var o=r;return 6403===r&&(5126===i&&(o=33326),5131===i&&(o=33325),5121===i&&(o=33321)),6407===r&&(5126===i&&(o=34837),5131===i&&(o=34843),5121===i&&(o=32849)),6408===r&&(5126===i&&(o=34836),5131===i&&(o=34842),5121===i&&(o=32856)),33325!==o&&33326!==o&&34842!==o&&34836!==o||t.get("EXT_color_buffer_float"),o}function E(e){return e===xe||e===Se||e===Oe?9728:9729}function O(t){var n=t.target;n.removeEventListener("dispose",O),function(t){var n=r.get(t);if(void 0===n.__webglInit)return;e.deleteTexture(n.__webglTexture),r.remove(t)}(n),n.isVideoTexture&&v.delete(n),s.memory.textures--}function T(t){var n=t.target;n.removeEventListener("dispose",T),function(t){var n=r.get(t),i=r.get(t.texture);if(!t)return;void 0!==i.__webglTexture&&e.deleteTexture(i.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t.isWebGLCubeRenderTarget)for(var o=0;o<6;o++)e.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer[o]);else e.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&e.deleteRenderbuffer(n.__webglDepthbuffer),n.__webglMultisampledFramebuffer&&e.deleteFramebuffer(n.__webglMultisampledFramebuffer),n.__webglColorRenderbuffer&&e.deleteRenderbuffer(n.__webglColorRenderbuffer),n.__webglDepthRenderbuffer&&e.deleteRenderbuffer(n.__webglDepthRenderbuffer);r.remove(t.texture),r.remove(t)}(n),s.memory.textures--}var M=0;function P(e,t){var i=r.get(e);if(e.isVideoTexture&&function(e){var t=s.render.frame;v.get(e)!==t&&(v.set(e,t),e.update())}(e),e.version>0&&i.__version!==e.version){var o=e.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void N(i,e,t);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+t),n.bindTexture(3553,i.__webglTexture)}function A(t,i){if(6===t.image.length){var o=r.get(t);if(t.version>0&&o.__version!==t.version){D(o,t),n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture),e.pixelStorei(37440,t.flipY);for(var s=t&&(t.isCompressedTexture||t.image[0].isCompressedTexture),u=t.image[0]&&t.image[0].isDataTexture,c=[],l=0;l<6;l++)c[l]=s||u?u?t.image[l].image:t.image[l]:b(t.image[l],!1,!0,h);var p,d=c[0],m=_(d)||f,v=a.convert(t.format),y=a.convert(t.type),g=S(t.internalFormat,v,y);if(R(34067,t,m),s){for(var E=0;E<6;E++){p=c[E].mipmaps;for(var O=0;O<p.length;O++){var T=p[O];t.format!==We&&t.format!==Ge?null!==v?n.compressedTexImage2D(34069+E,O,g,T.width,T.height,0,T.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+E,O,g,T.width,T.height,0,v,y,T.data)}}o.__maxMipLevel=p.length-1}else{p=t.mipmaps;for(var M=0;M<6;M++)if(u){n.texImage2D(34069+M,0,g,c[M].width,c[M].height,0,v,y,c[M].data);for(var P=0;P<p.length;P++){var A=p[P].image[M].image;n.texImage2D(34069+M,P+1,g,A.width,A.height,0,v,y,A.data)}}else{n.texImage2D(34069+M,0,g,v,y,c[M]);for(var C=0;C<p.length;C++){var k=p[C];n.texImage2D(34069+M,C+1,g,v,y,k.image[M])}}o.__maxMipLevel=p.length}w(t,m)&&x(34067,t,d.width,d.height),o.__version=t.version,t.onUpdate&&t.onUpdate(t)}else n.activeTexture(33984+i),n.bindTexture(34067,o.__webglTexture)}}function C(e,t){n.activeTexture(33984+t),n.bindTexture(34067,r.get(e).__webglTexture)}var k=(u={},Object(i.a)(u,be,10497),Object(i.a)(u,_e,33071),Object(i.a)(u,we,33648),u),j=(c={},Object(i.a)(c,xe,9728),Object(i.a)(c,Se,9984),Object(i.a)(c,Oe,9986),Object(i.a)(c,Me,9729),Object(i.a)(c,Pe,9985),Object(i.a)(c,Ce,9987),c);function R(n,i,a){a?(e.texParameteri(n,10242,k[i.wrapS]),e.texParameteri(n,10243,k[i.wrapT]),32879!==n&&35866!==n||e.texParameteri(n,32882,k[i.wrapR]),e.texParameteri(n,10240,j[i.magFilter]),e.texParameteri(n,10241,j[i.minFilter])):(e.texParameteri(n,10242,33071),e.texParameteri(n,10243,33071),32879!==n&&35866!==n||e.texParameteri(n,32882,33071),i.wrapS===_e&&i.wrapT===_e||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(n,10240,E(i.magFilter)),e.texParameteri(n,10241,E(i.minFilter)),i.minFilter!==xe&&i.minFilter!==Me&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));var s=t.get("EXT_texture_filter_anisotropic");if(s){if(i.type===Be&&null===t.get("OES_texture_float_linear"))return;if(i.type===Fe&&null===(f||t.get("OES_texture_half_float_linear")))return;(i.anisotropy>1||r.get(i).__currentAnisotropy)&&(e.texParameterf(n,s.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i.anisotropy,o.getMaxAnisotropy())),r.get(i).__currentAnisotropy=i.anisotropy)}}function D(t,n){void 0===t.__webglInit&&(t.__webglInit=!0,n.addEventListener("dispose",O),t.__webglTexture=e.createTexture(),s.memory.textures++)}function N(t,r,i){var o=3553;r.isDataTexture2DArray&&(o=35866),r.isDataTexture3D&&(o=32879),D(t,r),n.activeTexture(33984+i),n.bindTexture(o,t.__webglTexture),e.pixelStorei(37440,r.flipY),e.pixelStorei(37441,r.premultiplyAlpha),e.pixelStorei(3317,r.unpackAlignment);var s,u=function(e){return!f&&(e.wrapS!==_e||e.wrapT!==_e||e.minFilter!==xe&&e.minFilter!==Me)}(r)&&!1===_(r.image),c=b(r.image,u,!1,d),l=_(c)||f,p=a.convert(r.format),h=a.convert(r.type),m=S(r.internalFormat,p,h);R(o,r,l);var v=r.mipmaps;if(r.isDepthTexture)m=6402,f?m=r.type===Be?36012:r.type===Ie?33190:r.type===He?35056:33189:r.type===Be&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),r.format===Ze&&6402===m&&r.type!==Ne&&r.type!==Ie&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),r.type=Ne,h=a.convert(r.type)),r.format===Qe&&6402===m&&(m=34041,r.type!==He&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),r.type=He,h=a.convert(r.type))),n.texImage2D(3553,0,m,c.width,c.height,0,p,h,null);else if(r.isDataTexture)if(v.length>0&&l){for(var y=0,g=v.length;y<g;y++)s=v[y],n.texImage2D(3553,y,m,s.width,s.height,0,p,h,s.data);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,c.width,c.height,0,p,h,c.data),t.__maxMipLevel=0;else if(r.isCompressedTexture){for(var E=0,O=v.length;E<O;E++)s=v[E],r.format!==We&&r.format!==Ge?null!==p?n.compressedTexImage2D(3553,E,m,s.width,s.height,0,s.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,E,m,s.width,s.height,0,p,h,s.data);t.__maxMipLevel=v.length-1}else if(r.isDataTexture2DArray)n.texImage3D(35866,0,m,c.width,c.height,c.depth,0,p,h,c.data),t.__maxMipLevel=0;else if(r.isDataTexture3D)n.texImage3D(32879,0,m,c.width,c.height,c.depth,0,p,h,c.data),t.__maxMipLevel=0;else if(v.length>0&&l){for(var T=0,M=v.length;T<M;T++)s=v[T],n.texImage2D(3553,T,m,p,h,s);r.generateMipmaps=!1,t.__maxMipLevel=v.length-1}else n.texImage2D(3553,0,m,p,h,c),t.__maxMipLevel=0;w(r,l)&&x(o,r,c.width,c.height),t.__version=r.version,r.onUpdate&&r.onUpdate(r)}function L(t,i,o,s){var u=a.convert(i.texture.format),c=a.convert(i.texture.type),l=S(i.texture.internalFormat,u,c);n.texImage2D(s,0,l,i.width,i.height,0,u,c,null),e.bindFramebuffer(36160,t),e.framebufferTexture2D(36160,o,s,r.get(i.texture).__webglTexture,0),e.bindFramebuffer(36160,null)}function I(t,n,r){if(e.bindRenderbuffer(36161,t),n.depthBuffer&&!n.stencilBuffer){var i=33189;if(r){var o=n.depthTexture;o&&o.isDepthTexture&&(o.type===Be?i=36012:o.type===Ie&&(i=33190));var s=F(n);e.renderbufferStorageMultisample(36161,s,i,n.width,n.height)}else e.renderbufferStorage(36161,i,n.width,n.height);e.framebufferRenderbuffer(36160,36096,36161,t)}else if(n.depthBuffer&&n.stencilBuffer){if(r){var u=F(n);e.renderbufferStorageMultisample(36161,u,35056,n.width,n.height)}else e.renderbufferStorage(36161,34041,n.width,n.height);e.framebufferRenderbuffer(36160,33306,36161,t)}else{var c=a.convert(n.texture.format),l=a.convert(n.texture.type),f=S(n.texture.internalFormat,c,l);if(r){var p=F(n);e.renderbufferStorageMultisample(36161,p,f,n.width,n.height)}else e.renderbufferStorage(36161,f,n.width,n.height)}e.bindRenderbuffer(36161,null)}function B(t){var n=r.get(t),i=!0===t.isWebGLCubeRenderTarget;if(t.depthTexture){if(i)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,n){if(n&&n.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,t),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");r.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),P(n.depthTexture,0);var i=r.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===Ze)e.framebufferTexture2D(36160,36096,3553,i,0);else{if(n.depthTexture.format!==Qe)throw new Error("Unknown depthTexture format");e.framebufferTexture2D(36160,33306,3553,i,0)}}(n.__webglFramebuffer,t)}else if(i){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)e.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=e.createRenderbuffer(),I(n.__webglDepthbuffer[o],t,!1)}else e.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=e.createRenderbuffer(),I(n.__webglDepthbuffer,t,!1);e.bindFramebuffer(36160,null)}function F(e){return f&&e.isWebGLMultisampleRenderTarget?Math.min(m,e.samples):0}var U=!1,z=!1;this.allocateTextureUnit=function(){var e=M;return e>=p&&console.warn("THREE.WebGLTextures: Trying to use "+e+" texture units while this GPU supports only "+p),M+=1,e},this.resetTextureUnits=function(){M=0},this.setTexture2D=P,this.setTexture2DArray=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):(n.activeTexture(33984+t),n.bindTexture(35866,i.__webglTexture))},this.setTexture3D=function(e,t){var i=r.get(e);e.version>0&&i.__version!==e.version?N(i,e,t):(n.activeTexture(33984+t),n.bindTexture(32879,i.__webglTexture))},this.setTextureCube=A,this.setTextureCubeDynamic=C,this.setupRenderTarget=function(t){var i=r.get(t),o=r.get(t.texture);t.addEventListener("dispose",T),o.__webglTexture=e.createTexture(),s.memory.textures++;var u=!0===t.isWebGLCubeRenderTarget,c=!0===t.isWebGLMultisampleRenderTarget,l=_(t)||f;if(!f||t.texture.format!==Ge||t.texture.type!==Be&&t.texture.type!==Fe||(t.texture.format=We,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),u){i.__webglFramebuffer=[];for(var p=0;p<6;p++)i.__webglFramebuffer[p]=e.createFramebuffer()}else if(i.__webglFramebuffer=e.createFramebuffer(),c)if(f){i.__webglMultisampledFramebuffer=e.createFramebuffer(),i.__webglColorRenderbuffer=e.createRenderbuffer(),e.bindRenderbuffer(36161,i.__webglColorRenderbuffer);var h=a.convert(t.texture.format),d=a.convert(t.texture.type),m=S(t.texture.internalFormat,h,d),v=F(t);e.renderbufferStorageMultisample(36161,v,m,t.width,t.height),e.bindFramebuffer(36160,i.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064,36161,i.__webglColorRenderbuffer),e.bindRenderbuffer(36161,null),t.depthBuffer&&(i.__webglDepthRenderbuffer=e.createRenderbuffer(),I(i.__webglDepthRenderbuffer,t,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(u){n.bindTexture(34067,o.__webglTexture),R(34067,t.texture,l);for(var y=0;y<6;y++)L(i.__webglFramebuffer[y],t,36064,34069+y);w(t.texture,l)&&x(34067,t.texture,t.width,t.height),n.bindTexture(34067,null)}else n.bindTexture(3553,o.__webglTexture),R(3553,t.texture,l),L(i.__webglFramebuffer,t,36064,3553),w(t.texture,l)&&x(3553,t.texture,t.width,t.height),n.bindTexture(3553,null);t.depthBuffer&&B(t)},this.updateRenderTargetMipmap=function(e){var t=e.texture;if(w(t,_(e)||f)){var i=e.isWebGLCubeRenderTarget?34067:3553,o=r.get(t).__webglTexture;n.bindTexture(i,o),x(i,t,e.width,e.height),n.bindTexture(i,null)}},this.updateMultisampleRenderTarget=function(t){if(t.isWebGLMultisampleRenderTarget)if(f){var n=r.get(t);e.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,n.__webglFramebuffer);var i=t.width,o=t.height,a=16384;t.depthBuffer&&(a|=256),t.stencilBuffer&&(a|=1024),e.blitFramebuffer(0,0,i,o,0,0,i,o,a,9728),e.bindFramebuffer(36160,n.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(e,t){e&&e.isWebGLRenderTarget&&(!1===U&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),U=!0),e=e.texture),P(e,t)},this.safeSetTextureCube=function(e,t){e&&e.isWebGLCubeRenderTarget&&(!1===z&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),z=!0),e=e.texture),e&&e.isCubeTexture||Array.isArray(e.image)&&6===e.image.length?A(e,t):C(e,t)}}function Bs(e,t,n){var r=n.isWebGL2;return{convert:function(e){var n;if(e===je)return 5121;if(e===Ue)return 32819;if(e===ze)return 32820;if(e===Ve)return 33635;if(e===Re)return 5120;if(e===De)return 5122;if(e===Ne)return 5123;if(e===Le)return 5124;if(e===Ie)return 5125;if(e===Be)return 5126;if(e===Fe)return r?5131:null!==(n=t.get("OES_texture_half_float"))?n.HALF_FLOAT_OES:null;if(e===$e)return 6406;if(e===Ge)return 6407;if(e===We)return 6408;if(e===qe)return 6409;if(e===Ye)return 6410;if(e===Ze)return 6402;if(e===Qe)return 34041;if(e===Ke)return 6403;if(e===Je)return 36244;if(e===et)return 33319;if(e===tt)return 33320;if(e===nt)return 36248;if(e===rt)return 36249;if(e===it||e===ot||e===at||e===st){if(null===(n=t.get("WEBGL_compressed_texture_s3tc")))return null;if(e===it)return n.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===ot)return n.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===at)return n.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===st)return n.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(e===ut||e===ct||e===lt||e===ft){if(null===(n=t.get("WEBGL_compressed_texture_pvrtc")))return null;if(e===ut)return n.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===ct)return n.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===lt)return n.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===ft)return n.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(e===pt)return null!==(n=t.get("WEBGL_compressed_texture_etc1"))?n.COMPRESSED_RGB_ETC1_WEBGL:null;if((e===ht||e===dt)&&null!==(n=t.get("WEBGL_compressed_texture_etc"))){if(e===ht)return n.COMPRESSED_RGB8_ETC2;if(e===dt)return n.COMPRESSED_RGBA8_ETC2_EAC}return e===mt||e===vt||e===yt||e===gt||e===bt||e===_t||e===wt||e===xt||e===St||e===Et||e===Ot||e===Tt||e===Mt||e===Pt||e===Ct||e===kt||e===jt||e===Rt||e===Dt||e===Nt||e===Lt||e===It||e===Bt||e===Ft||e===Ut||e===zt||e===Vt||e===Ht?null!==(n=t.get("WEBGL_compressed_texture_astc"))?e:null:e===At?null!==(n=t.get("EXT_texture_compression_bptc"))?e:null:e===He?r?34042:null!==(n=t.get("WEBGL_depth_texture"))?n.UNSIGNED_INT_24_8_WEBGL:null:void 0}}}function Fs(e){Co.call(this),this.cameras=e||[]}function Us(){Cr.call(this),this.type="Group"}function zs(){this._targetRay=null,this._grip=null}function Vs(e,t){var n=this,r=null,i=1,o=null,a="local-floor",s=null,u=[],c=new Map,l=new Co;l.layers.enable(1),l.viewport=new Kn;var f=new Co;f.layers.enable(2),f.viewport=new Kn;var p=[l,f],h=new Fs;h.layers.enable(1),h.layers.enable(2);var d=null,m=null;function v(e){var t=c.get(e.inputSource);t&&t.dispatchEvent({type:e.type})}function y(){c.forEach((function(e,t){e.disconnect(t)})),c.clear(),e.setFramebuffer(null),e.setRenderTarget(e.getRenderTarget()),E.stop(),n.isPresenting=!1,n.dispatchEvent({type:"sessionend"})}function g(e){o=e,E.setContext(r),E.start(),n.isPresenting=!0,n.dispatchEvent({type:"sessionstart"})}function b(e){for(var t=r.inputSources,n=0;n<u.length;n++)c.set(t[n],u[n]);for(var i=0;i<e.removed.length;i++){var o=e.removed[i],a=c.get(o);a&&(a.dispatchEvent({type:"disconnected",data:o}),c.delete(o))}for(var s=0;s<e.added.length;s++){var l=e.added[s],f=c.get(l);f&&f.dispatchEvent({type:"connected",data:l})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(e){var t=u[e];return void 0===t&&(t=new zs,u[e]=t),t.getTargetRaySpace()},this.getControllerGrip=function(e){var t=u[e];return void 0===t&&(t=new zs,u[e]=t),t.getGripSpace()},this.setFramebufferScaleFactor=function(e){i=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(e){a=e,!0===n.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return o},this.getSession=function(){return r},this.setSession=function(e){if(null!==(r=e)){r.addEventListener("select",v),r.addEventListener("selectstart",v),r.addEventListener("selectend",v),r.addEventListener("squeeze",v),r.addEventListener("squeezestart",v),r.addEventListener("squeezeend",v),r.addEventListener("end",y);var n=t.getContextAttributes();!0!==n.xrCompatible&&t.makeXRCompatible();var o={antialias:n.antialias,alpha:n.alpha,depth:n.depth,stencil:n.stencil,framebufferScaleFactor:i},s=new XRWebGLLayer(r,t,o);r.updateRenderState({baseLayer:s}),r.requestReferenceSpace(a).then(g),r.addEventListener("inputsourceschange",b)}};var _=new ir,w=new ir;function x(e,t){null===t?e.matrixWorld.copy(e.matrix):e.matrixWorld.multiplyMatrices(t.matrixWorld,e.matrix),e.matrixWorldInverse.getInverse(e.matrixWorld)}this.getCamera=function(e){h.near=f.near=l.near=e.near,h.far=f.far=l.far=e.far,d===h.near&&m===h.far||(r.updateRenderState({depthNear:h.near,depthFar:h.far}),d=h.near,m=h.far);var t=e.parent,n=h.cameras;x(h,t);for(var i=0;i<n.length;i++)x(n[i],t);e.matrixWorld.copy(h.matrixWorld);for(var o=e.children,a=0,s=o.length;a<s;a++)o[a].updateMatrixWorld(!0);return 2===n.length?function(e,t,n){_.setFromMatrixPosition(t.matrixWorld),w.setFromMatrixPosition(n.matrixWorld);var r=_.distanceTo(w),i=t.projectionMatrix.elements,o=n.projectionMatrix.elements,a=i[14]/(i[10]-1),s=i[14]/(i[10]+1),u=(i[9]+1)/i[5],c=(i[9]-1)/i[5],l=(i[8]-1)/i[0],f=(o[8]+1)/o[0],p=a*l,h=a*f,d=r/(-l+f),m=d*-l;t.matrixWorld.decompose(e.position,e.quaternion,e.scale),e.translateX(m),e.translateZ(d),e.matrixWorld.compose(e.position,e.quaternion,e.scale),e.matrixWorldInverse.getInverse(e.matrixWorld);var v=a+d,y=s+d,g=p-m,b=h+(r-m),x=u*s/y*v,S=c*s/y*v;e.projectionMatrix.makePerspective(g,b,x,S,v,y)}(h,l,f):h.projectionMatrix.copy(l.projectionMatrix),h};var S=null;var E=new Bo;E.setAnimationLoop((function(t,n){if(null!==(s=n.getViewerPose(o))){var i=s.views,a=r.renderState.baseLayer;e.setFramebuffer(a.framebuffer);var c=!1;i.length!==h.cameras.length&&(h.cameras.length=0,c=!0);for(var l=0;l<i.length;l++){var f=i[l],d=a.getViewport(f),m=p[l];m.matrix.fromArray(f.transform.matrix),m.projectionMatrix.fromArray(f.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===l&&h.matrix.copy(m.matrix),!0===c&&h.cameras.push(m)}}for(var v=r.inputSources,y=0;y<u.length;y++){var g=u[y],b=v[y];g.update(b,n,o)}S&&S(t,n)})),this.setAnimationLoop=function(e){S=e},this.dispose=function(){}}function Hs(e){function t(t,n,r){t.opacity.value=n.opacity,n.color&&t.diffuse.value.copy(n.color),n.emissive&&t.emissive.value.copy(n.emissive).multiplyScalar(n.emissiveIntensity),n.map&&(t.map.value=n.map),n.alphaMap&&(t.alphaMap.value=n.alphaMap),n.specularMap&&(t.specularMap.value=n.specularMap);var i,o,a=n.envMap||r;a&&(t.envMap.value=a,t.flipEnvMap.value=a.isCubeTexture?-1:1,t.reflectivity.value=n.reflectivity,t.refractionRatio.value=n.refractionRatio,t.maxMipLevel.value=e.get(a).__maxMipLevel),n.lightMap&&(t.lightMap.value=n.lightMap,t.lightMapIntensity.value=n.lightMapIntensity),n.aoMap&&(t.aoMap.value=n.aoMap,t.aoMapIntensity.value=n.aoMapIntensity),n.map?i=n.map:n.specularMap?i=n.specularMap:n.displacementMap?i=n.displacementMap:n.normalMap?i=n.normalMap:n.bumpMap?i=n.bumpMap:n.roughnessMap?i=n.roughnessMap:n.metalnessMap?i=n.metalnessMap:n.alphaMap?i=n.alphaMap:n.emissiveMap&&(i=n.emissiveMap),void 0!==i&&(i.isWebGLRenderTarget&&(i=i.texture),!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix)),n.aoMap?o=n.aoMap:n.lightMap&&(o=n.lightMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),t.uv2Transform.value.copy(o.matrix))}function n(e,t,n){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap),t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap),t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1)),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate()),t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias),(t.envMap||n)&&(e.envMapIntensity.value=t.envMapIntensity)}return{refreshFogUniforms:function(e,t){e.fogColor.value.copy(t.color),t.isFog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t.isFogExp2&&(e.fogDensity.value=t.density)},refreshMaterialUniforms:function(e,r,i,o,a){r.isMeshBasicMaterial?t(e,r):r.isMeshLambertMaterial?(t(e,r),function(e,t){t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(e,r)):r.isMeshToonMaterial?(t(e,r),function(e,t){t.gradientMap&&(e.gradientMap.value=t.gradientMap);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshPhongMaterial?(t(e,r),function(e,t){e.specular.value.copy(t.specular),e.shininess.value=Math.max(t.shininess,1e-4),t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshStandardMaterial?(t(e,r,i),r.isMeshPhysicalMaterial?function(e,t,r){n(e,t,r),e.reflectivity.value=t.reflectivity,e.clearcoat.value=t.clearcoat,e.clearcoatRoughness.value=t.clearcoatRoughness,t.sheen&&e.sheen.value.copy(t.sheen);t.clearcoatMap&&(e.clearcoatMap.value=t.clearcoatMap);t.clearcoatRoughnessMap&&(e.clearcoatRoughnessMap.value=t.clearcoatRoughnessMap);t.clearcoatNormalMap&&(e.clearcoatNormalScale.value.copy(t.clearcoatNormalScale),e.clearcoatNormalMap.value=t.clearcoatNormalMap,t.side===S&&e.clearcoatNormalScale.value.negate());e.transparency.value=t.transparency}(e,r,i):n(e,r,i)):r.isMeshMatcapMaterial?(t(e,r),function(e,t){t.matcap&&(e.matcap.value=t.matcap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDepthMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isMeshDistanceMaterial?(t(e,r),function(e,t){t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);e.referencePosition.value.copy(t.referencePosition),e.nearDistance.value=t.nearDistance,e.farDistance.value=t.farDistance}(e,r)):r.isMeshNormalMaterial?(t(e,r),function(e,t){t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale,t.side===S&&(e.bumpScale.value*=-1));t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale),t.side===S&&e.normalScale.value.negate());t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(e,r)):r.isLineBasicMaterial?(function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity}(e,r),r.isLineDashedMaterial&&function(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}(e,r)):r.isPointsMaterial?function(e,t,n,r){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.size.value=t.size*n,e.scale.value=.5*r,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var i;t.map?i=t.map:t.alphaMap&&(i=t.alphaMap);void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),e.uvTransform.value.copy(i.matrix))}(e,r,o,a):r.isSpriteMaterial?function(e,t){e.diffuse.value.copy(t.color),e.opacity.value=t.opacity,e.rotation.value=t.rotation,t.map&&(e.map.value=t.map);t.alphaMap&&(e.alphaMap.value=t.alphaMap);var n;t.map?n=t.map:t.alphaMap&&(n=t.alphaMap);void 0!==n&&(!0===n.matrixAutoUpdate&&n.updateMatrix(),e.uvTransform.value.copy(n.matrix))}(e,r):r.isShadowMaterial?(e.color.value.copy(r.color),e.opacity.value=r.opacity):r.isShaderMaterial&&(r.uniformsNeedUpdate=!1)}}}function $s(e){var t=void 0!==(e=e||{}).canvas?e.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==e.context?e.context:null,r=void 0!==e.alpha&&e.alpha,i=void 0===e.depth||e.depth,o=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,s=void 0===e.premultipliedAlpha||e.premultipliedAlpha,u=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,c=void 0!==e.powerPreference?e.powerPreference:"default",l=void 0!==e.failIfMajorPerformanceCaveat&&e.failIfMajorPerformanceCaveat,f=null,p=null;this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=on,this.physicallyCorrectLights=!1,this.toneMapping=ae,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var h=this,d=!1,m=null,v=0,y=0,g=null,b=null,_=-1,w=null,x=null,S=new Kn,E=new Kn,O=null,T=t.width,M=t.height,P=1,A=null,C=null,k=new Kn(0,0,T,M),j=new Kn(0,0,T,M),R=!1,D=new Lo,N=new Yo,L=!1,I=!1,B=new pr,F=new ir,U={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function z(){return null===g?P:1}var V,H,$,G,W,q,Y,X,Z,Q,K,J,ee,te,ne,re,ie,oe,se,ue=n;function ce(e,n){for(var r=0;r<e.length;r++){var i=e[r],o=t.getContext(i,n);if(null!==o)return o}return null}try{var le={alpha:r,depth:i,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:l};if(t.addEventListener("webglcontextlost",me,!1),t.addEventListener("webglcontextrestored",ve,!1),null===ue){var fe=["webgl2","webgl","experimental-webgl"];if(!0===h.isWebGL1Renderer&&fe.shift(),null===(ue=ce(fe,le)))throw ce(fe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ue.getShaderPrecisionFormat&&(ue.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Te){throw console.error("THREE.WebGLRenderer: "+Te.message),Te}function pe(){V=new Xo(ue),!1===(H=new qo(ue,V,e)).isWebGL2&&(V.get("WEBGL_depth_texture"),V.get("OES_texture_float"),V.get("OES_texture_half_float"),V.get("OES_texture_half_float_linear"),V.get("OES_standard_derivatives"),V.get("OES_element_index_uint"),V.get("OES_vertex_array_object"),V.get("ANGLE_instanced_arrays")),V.get("OES_texture_float_linear"),oe=new Bs(ue,V,H),($=new Ls(ue,V,H)).scissor(E.copy(j).multiplyScalar(P).floor()),$.viewport(S.copy(k).multiplyScalar(P).floor()),G=new Ko(ue),W=new xs,q=new Is(ue,V,$,W,H,oe,G),Y=new Fo(ue,H),se=new Go(ue,V,Y,H),X=new Zo(ue,Y,G,se),Z=new na(ue,X,Y,G),ne=new ta(ue),Q=new ws(h,V,H,se),K=new Hs(W),J=new Ts,ee=new js,te=new $o(h,$,Z,s),re=new Wo(ue,V,G,H),ie=new Qo(ue,V,G,H),G.programs=Q.programs,h.capabilities=H,h.extensions=V,h.properties=W,h.renderLists=J,h.state=$,h.info=G}pe();var he=new Vs(h,ue);this.xr=he;var de=new Ns(h,Z,H.maxTextureSize);function me(e){e.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),d=!0}function ve(){console.log("THREE.WebGLRenderer: Context Restored."),d=!1,pe()}function ye(e){var t=e.target;t.removeEventListener("dispose",ye),function(e){ge(e),W.remove(e)}(t)}function ge(e){var t=W.get(e).program;e.program=void 0,void 0!==t&&Q.releaseProgram(t)}this.shadowMap=de,this.getContext=function(){return ue},this.getContextAttributes=function(){return ue.getContextAttributes()},this.forceContextLoss=function(){var e=V.get("WEBGL_lose_context");e&&e.loseContext()},this.forceContextRestore=function(){var e=V.get("WEBGL_lose_context");e&&e.restoreContext()},this.getPixelRatio=function(){return P},this.setPixelRatio=function(e){void 0!==e&&(P=e,this.setSize(T,M,!1))},this.getSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),e=new qn),e.set(T,M)},this.setSize=function(e,n,r){he.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=e,M=n,t.width=Math.floor(e*P),t.height=Math.floor(n*P),!1!==r&&(t.style.width=e+"px",t.style.height=n+"px"),this.setViewport(0,0,e,n))},this.getDrawingBufferSize=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),e=new qn),e.set(T*P,M*P).floor()},this.setDrawingBufferSize=function(e,n,r){T=e,M=n,P=r,t.width=Math.floor(e*r),t.height=Math.floor(n*r),this.setViewport(0,0,e,n)},this.getCurrentViewport=function(e){return void 0===e&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),e=new Kn),e.copy(S)},this.getViewport=function(e){return e.copy(k)},this.setViewport=function(e,t,n,r){e.isVector4?k.set(e.x,e.y,e.z,e.w):k.set(e,t,n,r),$.viewport(S.copy(k).multiplyScalar(P).floor())},this.getScissor=function(e){return e.copy(j)},this.setScissor=function(e,t,n,r){e.isVector4?j.set(e.x,e.y,e.z,e.w):j.set(e,t,n,r),$.scissor(E.copy(j).multiplyScalar(P).floor())},this.getScissorTest=function(){return R},this.setScissorTest=function(e){$.setScissorTest(R=e)},this.setOpaqueSort=function(e){A=e},this.setTransparentSort=function(e){C=e},this.getClearColor=function(){return te.getClearColor()},this.setClearColor=function(){te.setClearColor.apply(te,arguments)},this.getClearAlpha=function(){return te.getClearAlpha()},this.setClearAlpha=function(){te.setClearAlpha.apply(te,arguments)},this.clear=function(e,t,n){var r=0;(void 0===e||e)&&(r|=16384),(void 0===t||t)&&(r|=256),(void 0===n||n)&&(r|=1024),ue.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",me,!1),t.removeEventListener("webglcontextrestored",ve,!1),J.dispose(),ee.dispose(),W.dispose(),Z.dispose(),se.dispose(),he.dispose(),_e.stop()},this.renderBufferImmediate=function(e,t){se.initAttributes();var n=W.get(e);e.hasPositions&&!n.position&&(n.position=ue.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=ue.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=ue.createBuffer()),e.hasColors&&!n.color&&(n.color=ue.createBuffer());var r=t.getAttributes();e.hasPositions&&(ue.bindBuffer(34962,n.position),ue.bufferData(34962,e.positionArray,35048),se.enableAttribute(r.position),ue.vertexAttribPointer(r.position,3,5126,!1,0,0)),e.hasNormals&&(ue.bindBuffer(34962,n.normal),ue.bufferData(34962,e.normalArray,35048),se.enableAttribute(r.normal),ue.vertexAttribPointer(r.normal,3,5126,!1,0,0)),e.hasUvs&&(ue.bindBuffer(34962,n.uv),ue.bufferData(34962,e.uvArray,35048),se.enableAttribute(r.uv),ue.vertexAttribPointer(r.uv,2,5126,!1,0,0)),e.hasColors&&(ue.bindBuffer(34962,n.color),ue.bufferData(34962,e.colorArray,35048),se.enableAttribute(r.color),ue.vertexAttribPointer(r.color,3,5126,!1,0,0)),se.disableUnusedAttributes(),ue.drawArrays(4,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,n,r,i,o){null===t&&(t=U);var a=i.isMesh&&i.matrixWorld.determinant()<0,s=Oe(e,t,r,i);$.setMaterial(r,a);var u=n.index,c=n.attributes.position;if(null===u){if(void 0===c||0===c.count)return}else if(0===u.count)return;var l,f=1;!0===r.wireframe&&(u=X.getWireframeAttribute(n),f=2),(r.morphTargets||r.morphNormals)&&ne.update(i,n,r,s),se.setup(i,r,s,n,u);var p=re;null!==u&&(l=Y.get(u),(p=ie).setIndex(l));var h=null!==u?u.count:c.count,d=n.drawRange.start*f,m=n.drawRange.count*f,v=null!==o?o.start*f:0,y=null!==o?o.count*f:1/0,g=Math.max(d,v),b=Math.min(h,d+m,v+y)-1,_=Math.max(0,b-g+1);if(0!==_){if(i.isMesh)!0===r.wireframe?($.setLineWidth(r.wireframeLinewidth*z()),p.setMode(1)):p.setMode(4);else if(i.isLine){var w=r.linewidth;void 0===w&&(w=1),$.setLineWidth(w*z()),i.isLineSegments?p.setMode(1):i.isLineLoop?p.setMode(2):p.setMode(3)}else i.isPoints?p.setMode(0):i.isSprite&&p.setMode(4);if(i.isInstancedMesh)p.renderInstances(n,g,_,i.count);else if(n.isInstancedBufferGeometry){var x=Math.min(n.instanceCount,n._maxInstanceCount);p.renderInstances(n,g,_,x)}else p.render(g,_)}},this.compile=function(e,t){(p=ee.get(e,t)).init(),e.traverse((function(e){e.isLight&&(p.pushLight(e),e.castShadow&&p.pushShadow(e))})),p.setupLights(t);var n=new WeakMap;e.traverse((function(t){var r=t.material;if(r)if(Array.isArray(r))for(var i=0;i<r.length;i++){var o=r[i];!1===n.has(o)&&(Ee(o,e,t),n.set(o))}else!1===n.has(r)&&(Ee(r,e,t),n.set(r))}))};var be=null;var _e=new Bo;function we(e,t,n,r){if(!1!==e.visible){if(e.layers.test(t.layers))if(e.isGroup)n=e.renderOrder;else if(e.isLOD)!0===e.autoUpdate&&e.update(t);else if(e.isLight)p.pushLight(e),e.castShadow&&p.pushShadow(e);else if(e.isSprite){if(!e.frustumCulled||D.intersectsSprite(e)){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(B);var i=Z.update(e),o=e.material;o.visible&&f.push(e,i,o,n,F.z,null)}}else if(e.isImmediateRenderObject)r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(B),f.push(e,null,e.material,n,F.z,null);else if((e.isMesh||e.isLine||e.isPoints)&&(e.isSkinnedMesh&&e.skeleton.frame!==G.render.frame&&(e.skeleton.update(),e.skeleton.frame=G.render.frame),!e.frustumCulled||D.intersectsObject(e))){r&&F.setFromMatrixPosition(e.matrixWorld).applyMatrix4(B);var a=Z.update(e),s=e.material;if(Array.isArray(s))for(var u=a.groups,c=0,l=u.length;c<l;c++){var h=u[c],d=s[h.materialIndex];d&&d.visible&&f.push(e,a,d,n,F.z,h)}else s.visible&&f.push(e,a,s,n,F.z,null)}for(var m=e.children,v=0,y=m.length;v<y;v++)we(m[v],t,n,r)}}function xe(e,t,n){for(var r=!0===t.isScene?t.overrideMaterial:null,i=0,o=e.length;i<o;i++){var a=e[i],s=a.object,u=a.geometry,c=null===r?a.material:r,l=a.group;if(n.isArrayCamera){x=n;for(var f=n.cameras,h=0,d=f.length;h<d;h++){var m=f[h];s.layers.test(m.layers)&&($.viewport(S.copy(m.viewport)),p.setupLights(m),Se(s,t,m,u,c,l))}}else x=null,Se(s,t,n,u,c,l)}}function Se(e,t,n,r,i,o){if(e.onBeforeRender(h,t,n,r,i,o),p=ee.get(t,x||n),e.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,e.matrixWorld),e.normalMatrix.getNormalMatrix(e.modelViewMatrix),e.isImmediateRenderObject){var a=Oe(n,t,i,e);$.setMaterial(i),se.reset(),function(e,t){e.render((function(e){h.renderBufferImmediate(e,t)}))}(e,a)}else h.renderBufferDirect(n,t,r,i,e,o);e.onAfterRender(h,t,n,r,i,o),p=ee.get(t,x||n)}function Ee(e,t,n){!0!==t.isScene&&(t=U);var r=W.get(e),i=p.state.lights,o=p.state.shadowsArray,a=i.state.version,s=Q.getParameters(e,i.state,o,t,N.numPlanes,N.numIntersection,n),u=Q.getProgramCacheKey(s),c=r.program,l=!0;if(void 0===c)e.addEventListener("dispose",ye);else if(c.cacheKey!==u)ge(e);else if(r.lightsStateVersion!==a)r.lightsStateVersion=a,l=!1;else{if(void 0!==s.shaderID)return;l=!1}l&&(c=Q.acquireProgram(s,u),r.program=c,r.uniforms=s.uniforms,r.outputEncoding=s.outputEncoding,e.program=c);var f=c.getAttributes();if(e.morphTargets){e.numSupportedMorphTargets=0;for(var d=0;d<h.maxMorphTargets;d++)f["morphTarget"+d]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;for(var m=0;m<h.maxMorphNormals;m++)f["morphNormal"+m]>=0&&e.numSupportedMorphNormals++}var v=r.uniforms;(e.isShaderMaterial||e.isRawShaderMaterial)&&!0!==e.clipping||(r.numClippingPlanes=N.numPlanes,r.numIntersection=N.numIntersection,v.clippingPlanes=N.uniform),r.environment=e.isMeshStandardMaterial?t.environment:null,r.fog=t.fog,r.needsLights=function(e){return e.isMeshLambertMaterial||e.isMeshToonMaterial||e.isMeshPhongMaterial||e.isMeshStandardMaterial||e.isShadowMaterial||e.isShaderMaterial&&!0===e.lights}(e),r.lightsStateVersion=a,r.needsLights&&(v.ambientLightColor.value=i.state.ambient,v.lightProbe.value=i.state.probe,v.directionalLights.value=i.state.directional,v.directionalLightShadows.value=i.state.directionalShadow,v.spotLights.value=i.state.spot,v.spotLightShadows.value=i.state.spotShadow,v.rectAreaLights.value=i.state.rectArea,v.pointLights.value=i.state.point,v.pointLightShadows.value=i.state.pointShadow,v.hemisphereLights.value=i.state.hemi,v.directionalShadowMap.value=i.state.directionalShadowMap,v.directionalShadowMatrix.value=i.state.directionalShadowMatrix,v.spotShadowMap.value=i.state.spotShadowMap,v.spotShadowMatrix.value=i.state.spotShadowMatrix,v.pointShadowMap.value=i.state.pointShadowMap,v.pointShadowMatrix.value=i.state.pointShadowMatrix);var y=r.program.getUniforms(),g=es.seqWithValue(y.seq,v);r.uniformsList=g}function Oe(e,t,n,r){!0!==t.isScene&&(t=U),q.resetTextureUnits();var i=t.fog,o=n.isMeshStandardMaterial?t.environment:null,a=null===g?h.outputEncoding:g.texture.encoding,s=W.get(n),u=p.state.lights;if(!0===L&&(!0===I||e!==w)){var c=e===w&&n.id===_;N.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,e,s,c)}n.version===s.__version?void 0===s.program||n.fog&&s.fog!==i||s.environment!==o||s.needsLights&&s.lightsStateVersion!==u.state.version?Ee(n,t,r):void 0===s.numClippingPlanes||s.numClippingPlanes===N.numPlanes&&s.numIntersection===N.numIntersection?s.outputEncoding!==a&&Ee(n,t,r):Ee(n,t,r):(Ee(n,t,r),s.__version=n.version);var l,f,d=!1,m=!1,v=!1,y=s.program,b=y.getUniforms(),x=s.uniforms;if($.useProgram(y.program)&&(d=!0,m=!0,v=!0),n.id!==_&&(_=n.id,m=!0),d||w!==e){if(b.setValue(ue,"projectionMatrix",e.projectionMatrix),H.logarithmicDepthBuffer&&b.setValue(ue,"logDepthBufFC",2/(Math.log(e.far+1)/Math.LN2)),w!==e&&(w=e,m=!0,v=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshStandardMaterial||n.envMap){var S=b.map.cameraPosition;void 0!==S&&S.setValue(ue,F.setFromMatrixPosition(e.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial)&&b.setValue(ue,"isOrthographic",!0===e.isOrthographicCamera),(n.isMeshPhongMaterial||n.isMeshToonMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.isShadowMaterial||n.skinning)&&b.setValue(ue,"viewMatrix",e.matrixWorldInverse)}if(n.skinning){b.setOptional(ue,r,"bindMatrix"),b.setOptional(ue,r,"bindMatrixInverse");var E=r.skeleton;if(E){var O=E.bones;if(H.floatVertexTextures){if(void 0===E.boneTexture){var T=Math.sqrt(4*O.length);T=Wn.ceilPowerOfTwo(T),T=Math.max(T,4);var A=new Float32Array(T*T*4);A.set(E.boneMatrices);var C=new Ro(A,T,T,We,Be);E.boneMatrices=A,E.boneTexture=C,E.boneTextureSize=T}b.setValue(ue,"boneTexture",E.boneTexture,q),b.setValue(ue,"boneTextureSize",E.boneTextureSize)}else b.setOptional(ue,E,"boneMatrices")}}return(m||s.receiveShadow!==r.receiveShadow)&&(s.receiveShadow=r.receiveShadow,b.setValue(ue,"receiveShadow",r.receiveShadow)),m&&(b.setValue(ue,"toneMappingExposure",h.toneMappingExposure),s.needsLights&&(f=v,(l=x).ambientLightColor.needsUpdate=f,l.lightProbe.needsUpdate=f,l.directionalLights.needsUpdate=f,l.directionalLightShadows.needsUpdate=f,l.pointLights.needsUpdate=f,l.pointLightShadows.needsUpdate=f,l.spotLights.needsUpdate=f,l.spotLightShadows.needsUpdate=f,l.rectAreaLights.needsUpdate=f,l.hemisphereLights.needsUpdate=f),i&&n.fog&&K.refreshFogUniforms(x,i),K.refreshMaterialUniforms(x,n,o,P,M),void 0!==x.ltc_1&&(x.ltc_1.value=Io.LTC_1),void 0!==x.ltc_2&&(x.ltc_2.value=Io.LTC_2),es.upload(ue,s.uniformsList,x,q)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(es.upload(ue,s.uniformsList,x,q),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&b.setValue(ue,"center",r.center),b.setValue(ue,"modelViewMatrix",r.modelViewMatrix),b.setValue(ue,"normalMatrix",r.normalMatrix),b.setValue(ue,"modelMatrix",r.matrixWorld),y}_e.setAnimationLoop((function(e){he.isPresenting||be&&be(e)})),"undefined"!==typeof window&&_e.setContext(window),this.setAnimationLoop=function(e){be=e,he.setAnimationLoop(e),null===e?_e.stop():_e.start()},this.render=function(e,t){var n,r;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),r=arguments[3]),void 0===t||!0===t.isCamera){if(!0!==d){se.resetDefaultState(),_=-1,w=null,!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),!0===he.enabled&&!0===he.isPresenting&&(t=he.getCamera(t)),!0===e.isScene&&e.onBeforeRender(h,e,t,n||g),(p=ee.get(e,t)).init(),B.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),D.setFromProjectionMatrix(B),I=this.localClippingEnabled,L=N.init(this.clippingPlanes,I,t),(f=J.get(e,t)).init(),we(e,t,0,h.sortObjects),f.finish(),!0===h.sortObjects&&f.sort(A,C),!0===L&&N.beginShadows();var i=p.state.shadowsArray;de.render(i,e,t),p.setupLights(t),!0===L&&N.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),te.render(f,e,t,r);var o=f.opaque,a=f.transparent;o.length>0&&xe(o,e,t),a.length>0&&xe(a,e,t),!0===e.isScene&&e.onAfterRender(h,e,t),null!==g&&(q.updateRenderTargetMipmap(g),q.updateMultisampleRenderTarget(g)),$.buffers.depth.setTest(!0),$.buffers.depth.setMask(!0),$.buffers.color.setMask(!0),$.setPolygonOffset(!1),f=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(e){m!==e&&null===g&&ue.bindFramebuffer(36160,e),m=e},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return y},this.getRenderTarget=function(){return g},this.setRenderTarget=function(e,t,n){g=e,v=t,y=n,e&&void 0===W.get(e).__webglFramebuffer&&q.setupRenderTarget(e);var r=m,i=!1;if(e){var o=W.get(e).__webglFramebuffer;e.isWebGLCubeRenderTarget?(r=o[t||0],i=!0):r=e.isWebGLMultisampleRenderTarget?W.get(e).__webglMultisampledFramebuffer:o,S.copy(e.viewport),E.copy(e.scissor),O=e.scissorTest}else S.copy(k).multiplyScalar(P).floor(),E.copy(j).multiplyScalar(P).floor(),O=R;if(b!==r&&(ue.bindFramebuffer(36160,r),b=r),$.viewport(S),$.scissor(E),$.setScissorTest(O),i){var a=W.get(e.texture);ue.framebufferTexture2D(36160,36064,34069+(t||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(e,t,n,r,i,o,a){if(e&&e.isWebGLRenderTarget){var s=W.get(e).__webglFramebuffer;if(e.isWebGLCubeRenderTarget&&void 0!==a&&(s=s[a]),s){var u=!1;s!==b&&(ue.bindFramebuffer(36160,s),u=!0);try{var c=e.texture,l=c.format,f=c.type;if(l!==We&&oe.convert(l)!==ue.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(f!==je&&oe.convert(f)!==ue.getParameter(35738)&&(f!==Be||!(H.isWebGL2||V.get("OES_texture_float")||V.get("WEBGL_color_buffer_float")))&&(f!==Fe||!(H.isWebGL2?V.get("EXT_color_buffer_float"):V.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ue.checkFramebufferStatus(36160)?t>=0&&t<=e.width-r&&n>=0&&n<=e.height-i&&ue.readPixels(t,n,r,i,oe.convert(l),oe.convert(f),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{u&&ue.bindFramebuffer(36160,b)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(e,t,n){void 0===n&&(n=0);var r=Math.pow(2,-n),i=Math.floor(t.image.width*r),o=Math.floor(t.image.height*r),a=oe.convert(t.format);q.setTexture2D(t,0),ue.copyTexImage2D(3553,n,a,e.x,e.y,i,o,0),$.unbindTexture()},this.copyTextureToTexture=function(e,t,n,r){void 0===r&&(r=0);var i=t.image.width,o=t.image.height,a=oe.convert(n.format),s=oe.convert(n.type);q.setTexture2D(n,0),ue.pixelStorei(37440,n.flipY),ue.pixelStorei(37441,n.premultiplyAlpha),ue.pixelStorei(3317,n.unpackAlignment),t.isDataTexture?ue.texSubImage2D(3553,r,e.x,e.y,i,o,a,s,t.image.data):t.isCompressedTexture?ue.compressedTexSubImage2D(3553,r,e.x,e.y,t.mipmaps[0].width,t.mipmaps[0].height,a,t.mipmaps[0].data):ue.texSubImage2D(3553,r,e.x,e.y,a,s,t.image),0===r&&n.generateMipmaps&&ue.generateMipmap(3553),$.unbindTexture()},this.initTexture=function(e){q.setTexture2D(e,0),$.unbindTexture()},"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Gs(e){$s.call(this,e)}function Ws(e,t){this.name="",this.color=new wi(e),this.density=void 0!==t?t:25e-5}function qs(e,t,n){this.name="",this.color=new wi(e),this.near=void 0!==t?t:1,this.far=void 0!==n?n:1e3}function Ys(e,t){this.array=e,this.stride=t,this.count=void 0!==e?e.length/t:0,this.usage=Rn,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Wn.generateUUID()}Fs.prototype=Object.assign(Object.create(Co.prototype),{constructor:Fs,isArrayCamera:!0}),Us.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Us,isGroup:!0}),Object.assign(zs.prototype,{constructor:zs,getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new Us,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new Us,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),this},disconnect:function(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),this},update:function(e,t,n){var r=null,i=null,o=this._targetRay,a=this._grip;return e&&(null!==o&&null!==(r=t.getPose(e.targetRaySpace,n))&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale)),null!==a&&e.gripSpace&&null!==(i=t.getPose(e.gripSpace,n))&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale))),null!==o&&(o.visible=null!==r),null!==a&&(a.visible=null!==i),this}}),Object.assign(Vs.prototype,Vn.prototype),Gs.prototype=Object.assign(Object.create($s.prototype),{constructor:Gs,isWebGL1Renderer:!0}),Object.assign(Ws.prototype,{isFogExp2:!0,clone:function(){return new Ws(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(qs.prototype,{isFog:!0,clone:function(){return new qs(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Ys.prototype,"needsUpdate",{set:function(e){!0===e&&this.version++}}),Object.assign(Ys.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(e){return this.usage=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this},copyAt:function(e,t,n){e*=this.stride,n*=t.stride;for(var r=0,i=this.stride;r<i;r++)this.array[e+r]=t.array[n+r];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(e){void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Wn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);var t=new Ys(new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),this.stride);return t.setUsage(this.usage),t},onUpload:function(e){return this.onUploadCallback=e,this},toJSON:function(e){return void 0===e.arrayBuffers&&(e.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Wn.generateUUID()),void 0===e.arrayBuffers[this.array.buffer._uuid]&&(e.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});var Xs,Zs=new ir;function Qs(e,t,n,r){this.name="",this.data=e,this.itemSize=t,this.offset=n,this.normalized=!0===r}function Ks(e){Mi.call(this),this.type="SpriteMaterial",this.color=new wi(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(e)}Object.defineProperties(Qs.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Qs.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(e){for(var t=0,n=this.data.count;t<n;t++)Zs.x=this.getX(t),Zs.y=this.getY(t),Zs.z=this.getZ(t),Zs.applyMatrix4(e),this.setXYZ(t,Zs.x,Zs.y,Zs.z);return this},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this},setXYZ:function(e,t,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this},setXYZW:function(e,t,n,r,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=n,this.data.array[e+2]=r,this.data.array[e+3]=i,this},clone:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return new ki(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Qs(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(e){if(void 0===e){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");for(var t=[],n=0;n<this.count;n++)for(var r=n*this.data.stride+this.offset,i=0;i<this.itemSize;i++)t.push(this.data.array[r+i]);return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===e.interleavedBuffers&&(e.interleavedBuffers={}),void 0===e.interleavedBuffers[this.data.uuid]&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),Ks.prototype=Object.create(Mi.prototype),Ks.prototype.constructor=Ks,Ks.prototype.isSpriteMaterial=!0,Ks.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this};var Js=new ir,eu=new ir,tu=new ir,nu=new qn,ru=new qn,iu=new pr,ou=new ir,au=new ir,su=new ir,uu=new qn,cu=new qn,lu=new qn;function fu(e){if(Cr.call(this),this.type="Sprite",void 0===Xs){Xs=new Zi;var t=new Ys(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Xs.setIndex([0,1,2,0,2,3]),Xs.setAttribute("position",new Qs(t,3,0,!1)),Xs.setAttribute("uv",new Qs(t,2,3,!1))}this.geometry=Xs,this.material=void 0!==e?e:new Ks,this.center=new qn(.5,.5)}function pu(e,t,n,r,i,o){nu.subVectors(e,n).addScalar(.5).multiply(r),void 0!==i?(ru.x=o*nu.x-i*nu.y,ru.y=i*nu.x+o*nu.y):ru.copy(nu),e.copy(t),e.x+=ru.x,e.y+=ru.y,e.applyMatrix4(iu)}fu.prototype=Object.assign(Object.create(Cr.prototype),{constructor:fu,isSprite:!0,raycast:function(e,t){null===e.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),eu.setFromMatrixScale(this.matrixWorld),iu.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),tu.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&eu.multiplyScalar(-tu.z);var n,r,i=this.material.rotation;0!==i&&(r=Math.cos(i),n=Math.sin(i));var o=this.center;pu(ou.set(-.5,-.5,0),tu,o,eu,n,r),pu(au.set(.5,-.5,0),tu,o,eu,n,r),pu(su.set(.5,.5,0),tu,o,eu,n,r),uu.set(0,0),cu.set(1,0),lu.set(1,1);var a=e.ray.intersectTriangle(ou,au,su,!1,Js);if(null!==a||(pu(au.set(-.5,.5,0),tu,o,eu,n,r),cu.set(0,1),null!==(a=e.ray.intersectTriangle(ou,su,au,!1,Js)))){var s=e.ray.origin.distanceTo(Js);s<e.near||s>e.far||t.push({distance:s,point:Js.clone(),uv:yi.getUV(Js,ou,au,su,uu,cu,lu,new qn),face:null,object:this})}},copy:function(e){return Cr.prototype.copy.call(this,e),void 0!==e.center&&this.center.copy(e.center),this.material=e.material,this}});var hu=new ir,du=new ir;function mu(){Cr.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function vu(e,t){e&&e.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),mo.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new pr,this.bindMatrixInverse=new pr}mu.prototype=Object.assign(Object.create(Cr.prototype),{constructor:mu,isLOD:!0,copy:function(e){Cr.prototype.copy.call(this,e,!1);for(var t=e.levels,n=0,r=t.length;n<r;n++){var i=t[n];this.addLevel(i.object.clone(),i.distance)}return this.autoUpdate=e.autoUpdate,this},addLevel:function(e,t){void 0===t&&(t=0),t=Math.abs(t);var n,r=this.levels;for(n=0;n<r.length&&!(t<r[n].distance);n++);return r.splice(n,0,{distance:t,object:e}),this.add(e),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(e){var t=this.levels;if(t.length>0){var n,r;for(n=1,r=t.length;n<r&&!(e<t[n].distance);n++);return t[n-1].object}return null},raycast:function(e,t){if(this.levels.length>0){hu.setFromMatrixPosition(this.matrixWorld);var n=e.ray.origin.distanceTo(hu);this.getObjectForDistance(n).raycast(e,t)}},update:function(e){var t=this.levels;if(t.length>1){hu.setFromMatrixPosition(e.matrixWorld),du.setFromMatrixPosition(this.matrixWorld);var n,r,i=hu.distanceTo(du)/e.zoom;for(t[0].object.visible=!0,n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)t[n].object.visible=!1}},toJSON:function(e){var t=Cr.prototype.toJSON.call(this,e);!1===this.autoUpdate&&(t.object.autoUpdate=!1),t.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var o=n[r];t.object.levels.push({object:o.object.uuid,distance:o.distance})}return t}}),vu.prototype=Object.assign(Object.create(mo.prototype),{constructor:vu,isSkinnedMesh:!0,copy:function(e){return mo.prototype.copy.call(this,e),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this},bind:function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var e=new Kn,t=this.geometry.attributes.skinWeight,n=0,r=t.count;n<r;n++){e.x=t.getX(n),e.y=t.getY(n),e.z=t.getZ(n),e.w=t.getW(n);var i=1/e.manhattanLength();i!==1/0?e.multiplyScalar(i):e.set(1,0,0,0),t.setXYZW(n,e.x,e.y,e.z,e.w)}},updateMatrixWorld:function(e){mo.prototype.updateMatrixWorld.call(this,e),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(){var e=new ir,t=new Kn,n=new Kn,r=new ir,i=new pr;return function(o,a){var s=this.skeleton,u=this.geometry;t.fromBufferAttribute(u.attributes.skinIndex,o),n.fromBufferAttribute(u.attributes.skinWeight,o),e.fromBufferAttribute(u.attributes.position,o).applyMatrix4(this.bindMatrix),a.set(0,0,0);for(var c=0;c<4;c++){var l=n.getComponent(c);if(0!==l){var f=t.getComponent(c);i.multiplyMatrices(s.bones[f].matrixWorld,s.boneInverses[f]),a.addScaledVector(r.copy(e).applyMatrix4(i),l)}}return a.applyMatrix4(this.bindMatrixInverse)}}()});var yu=new pr,gu=new pr;function bu(e,t){if(e=e||[],this.bones=e.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,r=this.bones.length;n<r;n++)this.boneInverses.push(new pr)}}function _u(){Cr.call(this),this.type="Bone"}Object.assign(bu.prototype,{calculateInverses:function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var n=new pr;this.bones[e]&&n.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var e=0,t=this.bones.length;e<t;e++){var n=this.bones[e];n&&n.matrixWorld.getInverse(this.boneInverses[e])}for(var r=0,i=this.bones.length;r<i;r++){var o=this.bones[r];o&&(o.parent&&o.parent.isBone?(o.matrix.getInverse(o.parent.matrixWorld),o.matrix.multiply(o.matrixWorld)):o.matrix.copy(o.matrixWorld),o.matrix.decompose(o.position,o.quaternion,o.scale))}},update:function(){for(var e=this.bones,t=this.boneInverses,n=this.boneMatrices,r=this.boneTexture,i=0,o=e.length;i<o;i++){var a=e[i]?e[i].matrixWorld:gu;yu.multiplyMatrices(a,t[i]),yu.toArray(n,16*i)}void 0!==r&&(r.needsUpdate=!0)},clone:function(){return new bu(this.bones,this.boneInverses)},getBoneByName:function(e){for(var t=0,n=this.bones.length;t<n;t++){var r=this.bones[t];if(r.name===e)return r}},dispose:function(){this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=void 0)}}),_u.prototype=Object.assign(Object.create(Cr.prototype),{constructor:_u,isBone:!0});var wu=new pr,xu=new pr,Su=[],Eu=new mo;function Ou(e,t,n){mo.call(this,e,t),this.instanceMatrix=new ki(new Float32Array(16*n),16),this.count=n,this.frustumCulled=!1}function Tu(e){Mi.call(this),this.type="LineBasicMaterial",this.color=new wi(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(e)}Ou.prototype=Object.assign(Object.create(mo.prototype),{constructor:Ou,isInstancedMesh:!0,copy:function(e){return mo.prototype.copy.call(this,e),this.instanceMatrix.copy(e.instanceMatrix),this.count=e.count,this},getMatrixAt:function(e,t){t.fromArray(this.instanceMatrix.array,16*e)},raycast:function(e,t){var n=this.matrixWorld,r=this.count;if(Eu.geometry=this.geometry,Eu.material=this.material,void 0!==Eu.material)for(var i=0;i<r;i++){this.getMatrixAt(i,wu),xu.multiplyMatrices(n,wu),Eu.matrixWorld=xu,Eu.raycast(e,Su);for(var o=0,a=Su.length;o<a;o++){var s=Su[o];s.instanceId=i,s.object=this,t.push(s)}Su.length=0}},setMatrixAt:function(e,t){t.toArray(this.instanceMatrix.array,16*e)},updateMorphTargets:function(){}}),Tu.prototype=Object.create(Mi.prototype),Tu.prototype.constructor=Tu,Tu.prototype.isLineBasicMaterial=!0,Tu.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.morphTargets=e.morphTargets,this};var Mu=new ir,Pu=new ir,Au=new pr,Cu=new ni,ku=new Yr;function ju(e,t,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),Cr.call(this),this.type="Line",this.geometry=void 0!==e?e:new Zi,this.material=void 0!==t?t:new Tu,this.updateMorphTargets()}ju.prototype=Object.assign(Object.create(Cr.prototype),{constructor:ju,isLine:!0,copy:function(e){return Cr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[0],r=1,i=t.count;r<i;r++)Mu.fromBufferAttribute(t,r-1),Pu.fromBufferAttribute(t,r),n[r]=n[r-1],n[r]+=Mu.distanceTo(Pu);e.setAttribute("lineDistance",new Fi(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry){var o=e.vertices,a=e.lineDistances;a[0]=0;for(var s=1,u=o.length;s<u;s++)a[s]=a[s-1],a[s]+=o[s-1].distanceTo(o[s])}return this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Line.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),ku.copy(n.boundingSphere),ku.applyMatrix4(r),ku.radius+=i,!1!==e.ray.intersectsSphere(ku)){Au.getInverse(r),Cu.copy(e.ray).applyMatrix4(Au);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new ir,u=new ir,c=new ir,l=new ir,f=this&&this.isLineSegments?2:1;if(n.isBufferGeometry){var p=n.index,h=n.attributes.position.array;if(null!==p)for(var d=p.array,m=0,v=d.length-1;m<v;m+=f){var y=d[m],g=d[m+1];if(s.fromArray(h,3*y),u.fromArray(h,3*g),!(Cu.distanceSqToSegment(s,u,l,c)>a)){l.applyMatrix4(this.matrixWorld);var b=e.ray.origin.distanceTo(l);b<e.near||b>e.far||t.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this})}}else for(var _=0,w=h.length/3-1;_<w;_+=f){if(s.fromArray(h,3*_),u.fromArray(h,3*_+3),!(Cu.distanceSqToSegment(s,u,l,c)>a)){l.applyMatrix4(this.matrixWorld);var x=e.ray.origin.distanceTo(l);x<e.near||x>e.far||t.push({distance:x,point:c.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}else if(n.isGeometry)for(var S=n.vertices,E=S.length,O=0;O<E-1;O+=f){if(!(Cu.distanceSqToSegment(S[O],S[O+1],l,c)>a)){l.applyMatrix4(this.matrixWorld);var T=e.ray.origin.distanceTo(l);T<e.near||T>e.far||t.push({distance:T,point:c.clone().applyMatrix4(this.matrixWorld),index:O,face:null,faceIndex:null,object:this})}}}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});var Ru=new ir,Du=new ir;function Nu(e,t){ju.call(this,e,t),this.type="LineSegments"}function Lu(e,t){ju.call(this,e,t),this.type="LineLoop"}function Iu(e){Mi.call(this),this.type="PointsMaterial",this.color=new wi(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(e)}Nu.prototype=Object.assign(Object.create(ju.prototype),{constructor:Nu,isLineSegments:!0,computeLineDistances:function(){var e=this.geometry;if(e.isBufferGeometry)if(null===e.index){for(var t=e.attributes.position,n=[],r=0,i=t.count;r<i;r+=2)Ru.fromBufferAttribute(t,r),Du.fromBufferAttribute(t,r+1),n[r]=0===r?0:n[r-1],n[r+1]=n[r]+Ru.distanceTo(Du);e.setAttribute("lineDistance",new Fi(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(e.isGeometry)for(var o=e.vertices,a=e.lineDistances,s=0,u=o.length;s<u;s+=2)Ru.copy(o[s]),Du.copy(o[s+1]),a[s]=0===s?0:a[s-1],a[s+1]=a[s]+Ru.distanceTo(Du);return this}}),Lu.prototype=Object.assign(Object.create(ju.prototype),{constructor:Lu,isLineLoop:!0}),Iu.prototype=Object.create(Mi.prototype),Iu.prototype.constructor=Iu,Iu.prototype.isPointsMaterial=!0,Iu.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.morphTargets=e.morphTargets,this};var Bu=new pr,Fu=new ni,Uu=new Yr,zu=new ir;function Vu(e,t){Cr.call(this),this.type="Points",this.geometry=void 0!==e?e:new Zi,this.material=void 0!==t?t:new Iu,this.updateMorphTargets()}function Hu(e,t,n,r,i,o,a){var s=Fu.distanceSqToPoint(e);if(s<n){var u=new ir;Fu.closestPointToPoint(e,u),u.applyMatrix4(r);var c=i.ray.origin.distanceTo(u);if(c<i.near||c>i.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:u,index:t,face:null,object:a})}}function $u(e,t,n,r,i,o,a,s,u){Qn.call(this,e,t,n,r,i,o,a,s,u),this.format=void 0!==a?a:Ge,this.minFilter=void 0!==o?o:Me,this.magFilter=void 0!==i?i:Me,this.generateMipmaps=!1}function Gu(e,t,n,r,i,o,a,s,u,c,l,f){Qn.call(this,null,o,a,s,u,c,r,i,l,f),this.image={width:t,height:n},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}function Wu(e,t,n,r,i,o,a,s,u){Qn.call(this,e,t,n,r,i,o,a,s,u),this.needsUpdate=!0}function qu(e,t,n,r,i,o,a,s,u,c){if((c=void 0!==c?c:Ze)!==Ze&&c!==Qe)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===Ze&&(n=Ne),void 0===n&&c===Qe&&(n=He),Qn.call(this,null,r,i,o,a,s,c,n,u),this.image={width:e,height:t},this.magFilter=void 0!==a?a:xe,this.minFilter=void 0!==s?s:xe,this.flipY=!1,this.generateMipmaps=!1}function Yu(e){Zi.call(this),this.type="WireframeGeometry";var t=[],n=[0,0],r={},i=["a","b","c"];if(e&&e.isGeometry){for(var o=e.faces,a=0,s=o.length;a<s;a++)for(var u=o[a],c=0;c<3;c++){var l=u[i[c]],f=u[i[(c+1)%3]];n[0]=Math.min(l,f),n[1]=Math.max(l,f);var p=n[0]+","+n[1];void 0===r[p]&&(r[p]={index1:n[0],index2:n[1]})}for(var h in r){var d=r[h],m=e.vertices[d.index1];t.push(m.x,m.y,m.z),m=e.vertices[d.index2],t.push(m.x,m.y,m.z)}}else if(e&&e.isBufferGeometry){var v=new ir;if(null!==e.index){var y=e.attributes.position,g=e.index,b=e.groups;0===b.length&&(b=[{start:0,count:g.count,materialIndex:0}]);for(var _=0,w=b.length;_<w;++_)for(var x=b[_],S=x.start,E=S,O=S+x.count;E<O;E+=3)for(var T=0;T<3;T++){var M=g.getX(E+T),P=g.getX(E+(T+1)%3);n[0]=Math.min(M,P),n[1]=Math.max(M,P);var A=n[0]+","+n[1];void 0===r[A]&&(r[A]={index1:n[0],index2:n[1]})}for(var C in r){var k=r[C];v.fromBufferAttribute(y,k.index1),t.push(v.x,v.y,v.z),v.fromBufferAttribute(y,k.index2),t.push(v.x,v.y,v.z)}}else for(var j=e.attributes.position,R=0,D=j.count/3;R<D;R++)for(var N=0;N<3;N++){var L=3*R+N;v.fromBufferAttribute(j,L),t.push(v.x,v.y,v.z);var I=3*R+(N+1)%3;v.fromBufferAttribute(j,I),t.push(v.x,v.y,v.z)}}this.setAttribute("position",new Fi(t,3))}function Xu(e,t,n){xo.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:n},this.fromBufferGeometry(new Zu(e,t,n)),this.mergeVertices()}function Zu(e,t,n){Zi.call(this),this.type="ParametricBufferGeometry",this.parameters={func:e,slices:t,stacks:n};var r=[],i=[],o=[],a=[],s=1e-5,u=new ir,c=new ir,l=new ir,f=new ir,p=new ir;e.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");for(var h=t+1,d=0;d<=n;d++)for(var m=d/n,v=0;v<=t;v++){var y=v/t;e(y,m,c),i.push(c.x,c.y,c.z),y-s>=0?(e(y-s,m,l),f.subVectors(c,l)):(e(y+s,m,l),f.subVectors(l,c)),m-s>=0?(e(y,m-s,l),p.subVectors(c,l)):(e(y,m+s,l),p.subVectors(l,c)),u.crossVectors(f,p).normalize(),o.push(u.x,u.y,u.z),a.push(y,m)}for(var g=0;g<n;g++)for(var b=0;b<t;b++){var _=g*h+b,w=g*h+b+1,x=(g+1)*h+b+1,S=(g+1)*h+b;r.push(_,w,S),r.push(w,x,S)}this.setIndex(r),this.setAttribute("position",new Fi(i,3)),this.setAttribute("normal",new Fi(o,3)),this.setAttribute("uv",new Fi(a,2))}function Qu(e,t,n,r){xo.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},this.fromBufferGeometry(new Ku(e,t,n,r)),this.mergeVertices()}function Ku(e,t,n,r){Zi.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:e,indices:t,radius:n,detail:r},n=n||1;var i=[],o=[];function a(e,t,n,r){for(var i=Math.pow(2,r),o=[],a=0;a<=i;a++){o[a]=[];for(var u=e.clone().lerp(n,a/i),c=t.clone().lerp(n,a/i),l=i-a,f=0;f<=l;f++)o[a][f]=0===f&&a===i?u:u.clone().lerp(c,f/l)}for(var p=0;p<i;p++)for(var h=0;h<2*(i-p)-1;h++){var d=Math.floor(h/2);h%2===0?(s(o[p][d+1]),s(o[p+1][d]),s(o[p][d])):(s(o[p][d+1]),s(o[p+1][d+1]),s(o[p+1][d]))}}function s(e){i.push(e.x,e.y,e.z)}function u(t,n){var r=3*t;n.x=e[r+0],n.y=e[r+1],n.z=e[r+2]}function c(e,t,n,r){r<0&&1===e.x&&(o[t]=e.x-1),0===n.x&&0===n.z&&(o[t]=r/2/Math.PI+.5)}function l(e){return Math.atan2(e.z,-e.x)}!function(e){for(var n=new ir,r=new ir,i=new ir,o=0;o<t.length;o+=3)u(t[o+0],n),u(t[o+1],r),u(t[o+2],i),a(n,r,i,e)}(r=r||0),function(e){for(var t=new ir,n=0;n<i.length;n+=3)t.x=i[n+0],t.y=i[n+1],t.z=i[n+2],t.normalize().multiplyScalar(e),i[n+0]=t.x,i[n+1]=t.y,i[n+2]=t.z}(n),function(){for(var e=new ir,t=0;t<i.length;t+=3){e.x=i[t+0],e.y=i[t+1],e.z=i[t+2];var n=l(e)/2/Math.PI+.5,r=(a=e,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-r)}var a;(function(){for(var e=new ir,t=new ir,n=new ir,r=new ir,a=new qn,s=new qn,u=new qn,f=0,p=0;f<i.length;f+=9,p+=6){e.set(i[f+0],i[f+1],i[f+2]),t.set(i[f+3],i[f+4],i[f+5]),n.set(i[f+6],i[f+7],i[f+8]),a.set(o[p+0],o[p+1]),s.set(o[p+2],o[p+3]),u.set(o[p+4],o[p+5]),r.copy(e).add(t).add(n).divideScalar(3);var h=l(r);c(a,p+0,e,h),c(s,p+2,t,h),c(u,p+4,n,h)}})(),function(){for(var e=0;e<o.length;e+=6){var t=o[e+0],n=o[e+2],r=o[e+4],i=Math.max(t,n,r),a=Math.min(t,n,r);i>.9&&a<.1&&(t<.2&&(o[e+0]+=1),n<.2&&(o[e+2]+=1),r<.2&&(o[e+4]+=1))}}()}(),this.setAttribute("position",new Fi(i,3)),this.setAttribute("normal",new Fi(i.slice(),3)),this.setAttribute("uv",new Fi(o,2)),0===r?this.computeVertexNormals():this.normalizeNormals()}function Ju(e,t){xo.call(this),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ec(e,t)),this.mergeVertices()}function ec(e,t){Ku.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronBufferGeometry",this.parameters={radius:e,detail:t}}function tc(e,t){xo.call(this),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new nc(e,t)),this.mergeVertices()}function nc(e,t){Ku.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronBufferGeometry",this.parameters={radius:e,detail:t}}function rc(e,t){xo.call(this),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ic(e,t)),this.mergeVertices()}function ic(e,t){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Ku.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronBufferGeometry",this.parameters={radius:e,detail:t}}function oc(e,t){xo.call(this),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t},this.fromBufferGeometry(new ac(e,t)),this.mergeVertices()}function ac(e,t){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];Ku.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronBufferGeometry",this.parameters={radius:e,detail:t}}function sc(e,t,n,r,i,o){xo.call(this),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new uc(e,t,n,r,i);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function uc(e,t,n,r,i){Zi.call(this),this.type="TubeBufferGeometry",this.parameters={path:e,tubularSegments:t,radius:n,radialSegments:r,closed:i},t=t||64,n=n||1,r=r||8,i=i||!1;var o=e.computeFrenetFrames(t,i);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a=new ir,s=new ir,u=new qn,c=new ir,l=[],f=[],p=[],h=[];function d(i){c=e.getPointAt(i/t,c);for(var u=o.normals[i],p=o.binormals[i],h=0;h<=r;h++){var d=h/r*Math.PI*2,m=Math.sin(d),v=-Math.cos(d);s.x=v*u.x+m*p.x,s.y=v*u.y+m*p.y,s.z=v*u.z+m*p.z,s.normalize(),f.push(s.x,s.y,s.z),a.x=c.x+n*s.x,a.y=c.y+n*s.y,a.z=c.z+n*s.z,l.push(a.x,a.y,a.z)}}!function(){for(var e=0;e<t;e++)d(e);d(!1===i?t:0),function(){for(var e=0;e<=t;e++)for(var n=0;n<=r;n++)u.x=e/t,u.y=n/r,p.push(u.x,u.y)}(),function(){for(var e=1;e<=t;e++)for(var n=1;n<=r;n++){var i=(r+1)*(e-1)+(n-1),o=(r+1)*e+(n-1),a=(r+1)*e+n,s=(r+1)*(e-1)+n;h.push(i,o,s),h.push(o,a,s)}}()}(),this.setIndex(h),this.setAttribute("position",new Fi(l,3)),this.setAttribute("normal",new Fi(f,3)),this.setAttribute("uv",new Fi(p,2))}function cc(e,t,n,r,i,o,a){xo.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new lc(e,t,n,r,i,o)),this.mergeVertices()}function lc(e,t,n,r,i,o){Zi.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:n,radialSegments:r,p:i,q:o},e=e||1,t=t||.4,n=Math.floor(n)||64,r=Math.floor(r)||8,i=i||2,o=o||3;for(var a=[],s=[],u=[],c=[],l=new ir,f=new ir,p=new ir,h=new ir,d=new ir,m=new ir,v=new ir,y=0;y<=n;++y){var g=y/n*i*Math.PI*2;A(g,i,o,e,p),A(g+.01,i,o,e,h),m.subVectors(h,p),v.addVectors(h,p),d.crossVectors(m,v),v.crossVectors(d,m),d.normalize(),v.normalize();for(var b=0;b<=r;++b){var _=b/r*Math.PI*2,w=-t*Math.cos(_),x=t*Math.sin(_);l.x=p.x+(w*v.x+x*d.x),l.y=p.y+(w*v.y+x*d.y),l.z=p.z+(w*v.z+x*d.z),s.push(l.x,l.y,l.z),f.subVectors(l,p).normalize(),u.push(f.x,f.y,f.z),c.push(y/n),c.push(b/r)}}for(var S=1;S<=n;S++)for(var E=1;E<=r;E++){var O=(r+1)*(S-1)+(E-1),T=(r+1)*S+(E-1),M=(r+1)*S+E,P=(r+1)*(S-1)+E;a.push(O,T,P),a.push(T,M,P)}function A(e,t,n,r,i){var o=Math.cos(e),a=Math.sin(e),s=n/t*e,u=Math.cos(s);i.x=r*(2+u)*.5*o,i.y=r*(2+u)*a*.5,i.z=r*Math.sin(s)*.5}this.setIndex(a),this.setAttribute("position",new Fi(s,3)),this.setAttribute("normal",new Fi(u,3)),this.setAttribute("uv",new Fi(c,2))}function fc(e,t,n,r,i){xo.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new pc(e,t,n,r,i)),this.mergeVertices()}function pc(e,t,n,r,i){Zi.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:n,tubularSegments:r,arc:i},e=e||1,t=t||.4,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;for(var o=[],a=[],s=[],u=[],c=new ir,l=new ir,f=new ir,p=0;p<=n;p++)for(var h=0;h<=r;h++){var d=h/r*i,m=p/n*Math.PI*2;l.x=(e+t*Math.cos(m))*Math.cos(d),l.y=(e+t*Math.cos(m))*Math.sin(d),l.z=t*Math.sin(m),a.push(l.x,l.y,l.z),c.x=e*Math.cos(d),c.y=e*Math.sin(d),f.subVectors(l,c).normalize(),s.push(f.x,f.y,f.z),u.push(h/r),u.push(p/n)}for(var v=1;v<=n;v++)for(var y=1;y<=r;y++){var g=(r+1)*v+y-1,b=(r+1)*(v-1)+y-1,_=(r+1)*(v-1)+y,w=(r+1)*v+y;o.push(g,b,w),o.push(b,_,w)}this.setIndex(o),this.setAttribute("position",new Fi(a,3)),this.setAttribute("normal",new Fi(s,3)),this.setAttribute("uv",new Fi(u,2))}Vu.prototype=Object.assign(Object.create(Cr.prototype),{constructor:Vu,isPoints:!0,copy:function(e){return Cr.prototype.copy.call(this,e),this.material=e.material,this.geometry=e.geometry,this},raycast:function(e,t){var n=this.geometry,r=this.matrixWorld,i=e.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Uu.copy(n.boundingSphere),Uu.applyMatrix4(r),Uu.radius+=i,!1!==e.ray.intersectsSphere(Uu)){Bu.getInverse(r),Fu.copy(e.ray).applyMatrix4(Bu);var o=i/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,u=n.attributes.position.array;if(null!==s)for(var c=s.array,l=0,f=c.length;l<f;l++){var p=c[l];zu.fromArray(u,3*p),Hu(zu,p,a,r,e,t,this)}else for(var h=0,d=u.length/3;h<d;h++)zu.fromArray(u,3*h),Hu(zu,h,a,r,e,t,this)}else for(var m=n.vertices,v=0,y=m.length;v<y;v++)Hu(m[v],v,a,r,e,t,this)}},updateMorphTargets:function(){var e=this.geometry;if(e.isBufferGeometry){var t=e.morphAttributes,n=Object.keys(t);if(n.length>0){var r=t[n[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var i=0,o=r.length;i<o;i++){var a=r[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=i}}}}else{var s=e.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),$u.prototype=Object.assign(Object.create(Qn.prototype),{constructor:$u,isVideoTexture:!0,update:function(){var e=this.image;e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Gu.prototype=Object.create(Qn.prototype),Gu.prototype.constructor=Gu,Gu.prototype.isCompressedTexture=!0,Wu.prototype=Object.create(Qn.prototype),Wu.prototype.constructor=Wu,Wu.prototype.isCanvasTexture=!0,qu.prototype=Object.create(Qn.prototype),qu.prototype.constructor=qu,qu.prototype.isDepthTexture=!0,Yu.prototype=Object.create(Zi.prototype),Yu.prototype.constructor=Yu,Xu.prototype=Object.create(xo.prototype),Xu.prototype.constructor=Xu,Zu.prototype=Object.create(Zi.prototype),Zu.prototype.constructor=Zu,Qu.prototype=Object.create(xo.prototype),Qu.prototype.constructor=Qu,Ku.prototype=Object.create(Zi.prototype),Ku.prototype.constructor=Ku,Ju.prototype=Object.create(xo.prototype),Ju.prototype.constructor=Ju,ec.prototype=Object.create(Ku.prototype),ec.prototype.constructor=ec,tc.prototype=Object.create(xo.prototype),tc.prototype.constructor=tc,nc.prototype=Object.create(Ku.prototype),nc.prototype.constructor=nc,rc.prototype=Object.create(xo.prototype),rc.prototype.constructor=rc,ic.prototype=Object.create(Ku.prototype),ic.prototype.constructor=ic,oc.prototype=Object.create(xo.prototype),oc.prototype.constructor=oc,ac.prototype=Object.create(Ku.prototype),ac.prototype.constructor=ac,sc.prototype=Object.create(xo.prototype),sc.prototype.constructor=sc,uc.prototype=Object.create(Zi.prototype),uc.prototype.constructor=uc,uc.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return e.path=this.parameters.path.toJSON(),e},cc.prototype=Object.create(xo.prototype),cc.prototype.constructor=cc,lc.prototype=Object.create(Zi.prototype),lc.prototype.constructor=lc,fc.prototype=Object.create(xo.prototype),fc.prototype.constructor=fc,pc.prototype=Object.create(Zi.prototype),pc.prototype.constructor=pc;var hc=function(e,t,n){n=n||2;var r,i,o,a,s,u,c,l=t&&t.length,f=l?t[0]*n:e.length,p=dc(e,0,f,n,!0),h=[];if(!p||p.next===p.prev)return h;if(l&&(p=function(e,t,n,r){var i,o,a,s,u,c=[];for(i=0,o=t.length;i<o;i++)a=t[i]*r,s=i<o-1?t[i+1]*r:e.length,(u=dc(e,a,s,r,!1))===u.next&&(u.steiner=!0),c.push(Oc(u));for(c.sort(wc),i=0;i<c.length;i++)xc(c[i],n),n=mc(n,n.next);return n}(e,t,p,n)),e.length>80*n){r=o=e[0],i=a=e[1];for(var d=n;d<f;d+=n)(s=e[d])<r&&(r=s),(u=e[d+1])<i&&(i=u),s>o&&(o=s),u>a&&(a=u);c=0!==(c=Math.max(o-r,a-i))?1/c:0}return vc(p,h,n,r,i,c),h};function dc(e,t,n,r,i){var o,a;if(i===function(e,t,n,r){for(var i=0,o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(o=t;o<n;o+=r)a=Nc(o,e[o],e[o+1],a);else for(o=n-r;o>=t;o-=r)a=Nc(o,e[o],e[o+1],a);return a&&Ac(a,a.next)&&(Lc(a),a=a.next),a}function mc(e,t){if(!e)return e;t||(t=e);var n,r=e;do{if(n=!1,r.steiner||!Ac(r,r.next)&&0!==Pc(r.prev,r,r.next))r=r.next;else{if(Lc(r),(r=t=r.prev)===r.next)break;n=!0}}while(n||r!==t);return t}function vc(e,t,n,r,i,o,a){if(e){!a&&o&&function(e,t,n,r){var i=e;do{null===i.z&&(i.z=Ec(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){var t,n,r,i,o,a,s,u,c=1;do{for(n=e,e=null,o=null,a=0;n;){for(a++,r=n,s=0,t=0;t<c&&(s++,r=r.nextZ);t++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;n=r}o.nextZ=null,c*=2}while(a>1)}(i)}(e,r,i,o);for(var s,u,c=e;e.prev!==e.next;)if(s=e.prev,u=e.next,o?gc(e,r,i,o):yc(e))t.push(s.i/n),t.push(e.i/n),t.push(u.i/n),Lc(e),e=u.next,c=u.next;else if((e=u)===c){a?1===a?vc(e=bc(mc(e),t,n),t,n,r,i,o,2):2===a&&_c(e,t,n,r,i,o):vc(mc(e),t,n,r,i,o,1);break}}}function yc(e){var t=e.prev,n=e,r=e.next;if(Pc(t,n,r)>=0)return!1;for(var i=e.next.next;i!==e.prev;){if(Tc(t.x,t.y,n.x,n.y,r.x,r.y,i.x,i.y)&&Pc(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function gc(e,t,n,r){var i=e.prev,o=e,a=e.next;if(Pc(i,o,a)>=0)return!1;for(var s=i.x<o.x?i.x<a.x?i.x:a.x:o.x<a.x?o.x:a.x,u=i.y<o.y?i.y<a.y?i.y:a.y:o.y<a.y?o.y:a.y,c=i.x>o.x?i.x>a.x?i.x:a.x:o.x>a.x?o.x:a.x,l=i.y>o.y?i.y>a.y?i.y:a.y:o.y>a.y?o.y:a.y,f=Ec(s,u,t,n,r),p=Ec(c,l,t,n,r),h=e.prevZ,d=e.nextZ;h&&h.z>=f&&d&&d.z<=p;){if(h!==e.prev&&h!==e.next&&Tc(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Pc(h.prev,h,h.next)>=0)return!1;if(h=h.prevZ,d!==e.prev&&d!==e.next&&Tc(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Pc(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(;h&&h.z>=f;){if(h!==e.prev&&h!==e.next&&Tc(i.x,i.y,o.x,o.y,a.x,a.y,h.x,h.y)&&Pc(h.prev,h,h.next)>=0)return!1;h=h.prevZ}for(;d&&d.z<=p;){if(d!==e.prev&&d!==e.next&&Tc(i.x,i.y,o.x,o.y,a.x,a.y,d.x,d.y)&&Pc(d.prev,d,d.next)>=0)return!1;d=d.nextZ}return!0}function bc(e,t,n){var r=e;do{var i=r.prev,o=r.next.next;!Ac(i,o)&&Cc(i,r,r.next,o)&&Rc(i,o)&&Rc(o,i)&&(t.push(i.i/n),t.push(r.i/n),t.push(o.i/n),Lc(r),Lc(r.next),r=e=o),r=r.next}while(r!==e);return mc(r)}function _c(e,t,n,r,i,o){var a=e;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&Mc(a,s)){var u=Dc(a,s);return a=mc(a,a.next),u=mc(u,u.next),vc(a,t,n,r,i,o),void vc(u,t,n,r,i,o)}s=s.next}a=a.next}while(a!==e)}function wc(e,t){return e.x-t.x}function xc(e,t){if(t=function(e,t){var n,r=t,i=e.x,o=e.y,a=-1/0;do{if(o<=r.y&&o>=r.next.y&&r.next.y!==r.y){var s=r.x+(o-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>a){if(a=s,s===i){if(o===r.y)return r;if(o===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==t);if(!n)return null;if(i===a)return n;var u,c=n,l=n.x,f=n.y,p=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&Tc(o<f?i:a,o,l,f,o<f?a:i,o,r.x,r.y)&&(u=Math.abs(o-r.y)/(i-r.x),Rc(r,e)&&(u<p||u===p&&(r.x>n.x||r.x===n.x&&Sc(n,r)))&&(n=r,p=u)),r=r.next}while(r!==c);return n}(e,t)){var n=Dc(t,e);mc(t,t.next),mc(n,n.next)}}function Sc(e,t){return Pc(e.prev,e,t.prev)<0&&Pc(t.next,e,e.next)<0}function Ec(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*i)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-r)*i)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Oc(e){var t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Tc(e,t,n,r,i,o,a,s){return(i-a)*(t-s)-(e-a)*(o-s)>=0&&(e-a)*(r-s)-(n-a)*(t-s)>=0&&(n-a)*(o-s)-(i-a)*(r-s)>=0}function Mc(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&Cc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(Rc(e,t)&&Rc(t,e)&&function(e,t){var n=e,r=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!==n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(Pc(e.prev,e,t.prev)||Pc(e,t.prev,t))||Ac(e,t)&&Pc(e.prev,e,e.next)>0&&Pc(t.prev,t,t.next)>0)}function Pc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function Ac(e,t){return e.x===t.x&&e.y===t.y}function Cc(e,t,n,r){var i=jc(Pc(e,t,n)),o=jc(Pc(e,t,r)),a=jc(Pc(n,r,e)),s=jc(Pc(n,r,t));return i!==o&&a!==s||(!(0!==i||!kc(e,n,t))||(!(0!==o||!kc(e,r,t))||(!(0!==a||!kc(n,e,r))||!(0!==s||!kc(n,t,r)))))}function kc(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function jc(e){return e>0?1:e<0?-1:0}function Rc(e,t){return Pc(e.prev,e,e.next)<0?Pc(e,t,e.next)>=0&&Pc(e,e.prev,t)>=0:Pc(e,t,e.prev)<0||Pc(e,e.next,t)<0}function Dc(e,t){var n=new Ic(e.i,e.x,e.y),r=new Ic(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function Nc(e,t,n,r){var i=new Ic(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Lc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Ic(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var Bc={area:function(e){for(var t=e.length,n=0,r=t-1,i=0;i<t;r=i++)n+=e[r].x*e[i].y-e[i].x*e[r].y;return.5*n},isClockWise:function(e){return Bc.area(e)<0},triangulateShape:function(e,t){var n=[],r=[],i=[];Fc(e),Uc(n,e);var o=e.length;t.forEach(Fc);for(var a=0;a<t.length;a++)r.push(o),o+=t[a].length,Uc(n,t[a]);for(var s=hc(n,r),u=0;u<s.length;u+=3)i.push(s.slice(u,u+3));return i}};function Fc(e){var t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function Uc(e,t){for(var n=0;n<t.length;n++)e.push(t[n].x),e.push(t[n].y)}function zc(e,t){xo.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},this.fromBufferGeometry(new Vc(e,t)),this.mergeVertices()}function Vc(e,t){Zi.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];for(var n=this,r=[],i=[],o=0,a=e.length;o<a;o++){s(e[o])}function s(e){var o=[],a=void 0!==t.curveSegments?t.curveSegments:12,s=void 0!==t.steps?t.steps:1,u=void 0!==t.depth?t.depth:100,c=void 0===t.bevelEnabled||t.bevelEnabled,l=void 0!==t.bevelThickness?t.bevelThickness:6,f=void 0!==t.bevelSize?t.bevelSize:l-2,p=void 0!==t.bevelOffset?t.bevelOffset:0,h=void 0!==t.bevelSegments?t.bevelSegments:3,d=t.extrudePath,m=void 0!==t.UVGenerator?t.UVGenerator:Hc;void 0!==t.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),u=t.amount);var v,y,g,b,_,w=!1;d&&(v=d.getSpacedPoints(s),w=!0,c=!1,y=d.computeFrenetFrames(s,!1),g=new ir,b=new ir,_=new ir),c||(h=0,l=0,f=0,p=0);var x=e.extractPoints(a),S=x.shape,E=x.holes;if(!Bc.isClockWise(S)){S=S.reverse();for(var O=0,T=E.length;O<T;O++){var M=E[O];Bc.isClockWise(M)&&(E[O]=M.reverse())}}for(var P=Bc.triangulateShape(S,E),A=S,C=0,k=E.length;C<k;C++){var j=E[C];S=S.concat(j)}function R(e,t,n){return t||console.error("THREE.ExtrudeGeometry: vec does not exist"),t.clone().multiplyScalar(n).add(e)}var D=S.length,N=P.length;function L(e,t,n){var r,i,o,a=e.x-t.x,s=e.y-t.y,u=n.x-e.x,c=n.y-e.y,l=a*a+s*s,f=a*c-s*u;if(Math.abs(f)>Number.EPSILON){var p=Math.sqrt(l),h=Math.sqrt(u*u+c*c),d=t.x-s/p,m=t.y+a/p,v=((n.x-c/h-d)*c-(n.y+u/h-m)*u)/(a*c-s*u),y=(r=d+a*v-e.x)*r+(i=m+s*v-e.y)*i;if(y<=2)return new qn(r,i);o=Math.sqrt(y/2)}else{var g=!1;a>Number.EPSILON?u>Number.EPSILON&&(g=!0):a<-Number.EPSILON?u<-Number.EPSILON&&(g=!0):Math.sign(s)===Math.sign(c)&&(g=!0),g?(r=-s,i=a,o=Math.sqrt(l)):(r=a,i=s,o=Math.sqrt(l/2))}return new qn(r/o,i/o)}for(var I=[],B=0,F=A.length,U=F-1,z=B+1;B<F;B++,U++,z++)U===F&&(U=0),z===F&&(z=0),I[B]=L(A[B],A[U],A[z]);for(var V,H=[],$=I.concat(),G=0,W=E.length;G<W;G++){var q=E[G];V=[];for(var Y=0,X=q.length,Z=X-1,Q=Y+1;Y<X;Y++,Z++,Q++)Z===X&&(Z=0),Q===X&&(Q=0),V[Y]=L(q[Y],q[Z],q[Q]);H.push(V),$=$.concat(V)}for(var K=0;K<h;K++){for(var J=K/h,ee=l*Math.cos(J*Math.PI/2),te=f*Math.sin(J*Math.PI/2)+p,ne=0,re=A.length;ne<re;ne++){var ie=R(A[ne],I[ne],te);ke(ie.x,ie.y,-ee)}for(var oe=0,ae=E.length;oe<ae;oe++){var se=E[oe];V=H[oe];for(var ue=0,ce=se.length;ue<ce;ue++){var le=R(se[ue],V[ue],te);ke(le.x,le.y,-ee)}}}for(var fe=f+p,pe=0;pe<D;pe++){var he=c?R(S[pe],$[pe],fe):S[pe];w?(b.copy(y.normals[0]).multiplyScalar(he.x),g.copy(y.binormals[0]).multiplyScalar(he.y),_.copy(v[0]).add(b).add(g),ke(_.x,_.y,_.z)):ke(he.x,he.y,0)}for(var de=1;de<=s;de++)for(var me=0;me<D;me++){var ve=c?R(S[me],$[me],fe):S[me];w?(b.copy(y.normals[de]).multiplyScalar(ve.x),g.copy(y.binormals[de]).multiplyScalar(ve.y),_.copy(v[de]).add(b).add(g),ke(_.x,_.y,_.z)):ke(ve.x,ve.y,u/s*de)}for(var ye=h-1;ye>=0;ye--){for(var ge=ye/h,be=l*Math.cos(ge*Math.PI/2),_e=f*Math.sin(ge*Math.PI/2)+p,we=0,xe=A.length;we<xe;we++){var Se=R(A[we],I[we],_e);ke(Se.x,Se.y,u+be)}for(var Ee=0,Oe=E.length;Ee<Oe;Ee++){var Te=E[Ee];V=H[Ee];for(var Me=0,Pe=Te.length;Me<Pe;Me++){var Ae=R(Te[Me],V[Me],_e);w?ke(Ae.x,Ae.y+v[s-1].y,v[s-1].x+be):ke(Ae.x,Ae.y,u+be)}}}function Ce(e,t){for(var n=e.length;--n>=0;){var r=n,i=n-1;i<0&&(i=e.length-1);for(var o=0,a=s+2*h;o<a;o++){var u=D*o,c=D*(o+1);Re(t+r+u,t+i+u,t+i+c,t+r+c)}}}function ke(e,t,n){o.push(e),o.push(t),o.push(n)}function je(e,t,i){De(e),De(t),De(i);var o=r.length/3,a=m.generateTopUV(n,r,o-3,o-2,o-1);Ne(a[0]),Ne(a[1]),Ne(a[2])}function Re(e,t,i,o){De(e),De(t),De(o),De(t),De(i),De(o);var a=r.length/3,s=m.generateSideWallUV(n,r,a-6,a-3,a-2,a-1);Ne(s[0]),Ne(s[1]),Ne(s[3]),Ne(s[1]),Ne(s[2]),Ne(s[3])}function De(e){r.push(o[3*e+0]),r.push(o[3*e+1]),r.push(o[3*e+2])}function Ne(e){i.push(e.x),i.push(e.y)}!function(){var e=r.length/3;if(c){for(var t=0,i=D*t,o=0;o<N;o++){var a=P[o];je(a[2]+i,a[1]+i,a[0]+i)}i=D*(t=s+2*h);for(var u=0;u<N;u++){var l=P[u];je(l[0]+i,l[1]+i,l[2]+i)}}else{for(var f=0;f<N;f++){var p=P[f];je(p[2],p[1],p[0])}for(var d=0;d<N;d++){var m=P[d];je(m[0]+D*s,m[1]+D*s,m[2]+D*s)}}n.addGroup(e,r.length/3-e,0)}(),function(){var e=r.length/3,t=0;Ce(A,t),t+=A.length;for(var i=0,o=E.length;i<o;i++){var a=E[i];Ce(a,t),t+=a.length}n.addGroup(e,r.length/3-e,1)}()}this.setAttribute("position",new Fi(r,3)),this.setAttribute("uv",new Fi(i,2)),this.computeVertexNormals()}zc.prototype=Object.create(xo.prototype),zc.prototype.constructor=zc,zc.prototype.toJSON=function(){var e=xo.prototype.toJSON.call(this);return $c(this.parameters.shapes,this.parameters.options,e)},Vc.prototype=Object.create(Zi.prototype),Vc.prototype.constructor=Vc,Vc.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return $c(this.parameters.shapes,this.parameters.options,e)};var Hc={generateTopUV:function(e,t,n,r,i){var o=t[3*n],a=t[3*n+1],s=t[3*r],u=t[3*r+1],c=t[3*i],l=t[3*i+1];return[new qn(o,a),new qn(s,u),new qn(c,l)]},generateSideWallUV:function(e,t,n,r,i,o){var a=t[3*n],s=t[3*n+1],u=t[3*n+2],c=t[3*r],l=t[3*r+1],f=t[3*r+2],p=t[3*i],h=t[3*i+1],d=t[3*i+2],m=t[3*o],v=t[3*o+1],y=t[3*o+2];return Math.abs(s-l)<.01?[new qn(a,1-u),new qn(c,1-f),new qn(p,1-d),new qn(m,1-y)]:[new qn(s,1-u),new qn(l,1-f),new qn(h,1-d),new qn(v,1-y)]}};function $c(e,t,n){if(n.shapes=[],Array.isArray(e))for(var r=0,i=e.length;r<i;r++){var o=e[r];n.shapes.push(o.uuid)}else n.shapes.push(e.uuid);return void 0!==t.extrudePath&&(n.options.extrudePath=t.extrudePath.toJSON()),n}function Gc(e,t){xo.call(this),this.type="TextGeometry",this.parameters={text:e,parameters:t},this.fromBufferGeometry(new Wc(e,t)),this.mergeVertices()}function Wc(e,t){var n=(t=t||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new xo;var r=n.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Vc.call(this,r,t),this.type="TextBufferGeometry"}function qc(e,t,n,r,i,o,a){xo.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Yc(e,t,n,r,i,o,a)),this.mergeVertices()}function Yc(e,t,n,r,i,o,a){Zi.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:n,phiStart:r,phiLength:i,thetaStart:o,thetaLength:a},e=e||1,t=Math.max(3,Math.floor(t)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;for(var s=Math.min(o+a,Math.PI),u=0,c=[],l=new ir,f=new ir,p=[],h=[],d=[],m=[],v=0;v<=n;v++){var y=[],g=v/n,b=0;0==v&&0==o?b=.5/t:v==n&&s==Math.PI&&(b=-.5/t);for(var _=0;_<=t;_++){var w=_/t;l.x=-e*Math.cos(r+w*i)*Math.sin(o+g*a),l.y=e*Math.cos(o+g*a),l.z=e*Math.sin(r+w*i)*Math.sin(o+g*a),h.push(l.x,l.y,l.z),f.copy(l).normalize(),d.push(f.x,f.y,f.z),m.push(w+b,1-g),y.push(u++)}c.push(y)}for(var x=0;x<n;x++)for(var S=0;S<t;S++){var E=c[x][S+1],O=c[x][S],T=c[x+1][S],M=c[x+1][S+1];(0!==x||o>0)&&p.push(E,O,M),(x!==n-1||s<Math.PI)&&p.push(O,T,M)}this.setIndex(p),this.setAttribute("position",new Fi(h,3)),this.setAttribute("normal",new Fi(d,3)),this.setAttribute("uv",new Fi(m,2))}function Xc(e,t,n,r,i,o){xo.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},this.fromBufferGeometry(new Zc(e,t,n,r,i,o)),this.mergeVertices()}function Zc(e,t,n,r,i,o){Zi.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:o},e=e||.5,t=t||1,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;for(var a=[],s=[],u=[],c=[],l=e,f=(t-e)/(r=void 0!==r?Math.max(1,r):1),p=new ir,h=new qn,d=0;d<=r;d++){for(var m=0;m<=n;m++){var v=i+m/n*o;p.x=l*Math.cos(v),p.y=l*Math.sin(v),s.push(p.x,p.y,p.z),u.push(0,0,1),h.x=(p.x/t+1)/2,h.y=(p.y/t+1)/2,c.push(h.x,h.y)}l+=f}for(var y=0;y<r;y++)for(var g=y*(n+1),b=0;b<n;b++){var _=b+g,w=_,x=_+n+1,S=_+n+2,E=_+1;a.push(w,x,E),a.push(x,S,E)}this.setIndex(a),this.setAttribute("position",new Fi(s,3)),this.setAttribute("normal",new Fi(u,3)),this.setAttribute("uv",new Fi(c,2))}function Qc(e,t,n,r){xo.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},this.fromBufferGeometry(new Kc(e,t,n,r)),this.mergeVertices()}function Kc(e,t,n,r){Zi.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:n,phiLength:r},t=Math.floor(t)||12,n=n||0,r=r||2*Math.PI,r=Wn.clamp(r,0,2*Math.PI);for(var i=[],o=[],a=[],s=1/t,u=new ir,c=new qn,l=0;l<=t;l++)for(var f=n+l*s*r,p=Math.sin(f),h=Math.cos(f),d=0;d<=e.length-1;d++)u.x=e[d].x*p,u.y=e[d].y,u.z=e[d].x*h,o.push(u.x,u.y,u.z),c.x=l/t,c.y=d/(e.length-1),a.push(c.x,c.y);for(var m=0;m<t;m++)for(var v=0;v<e.length-1;v++){var y=v+m*e.length,g=y,b=y+e.length,_=y+e.length+1,w=y+1;i.push(g,b,w),i.push(b,_,w)}if(this.setIndex(i),this.setAttribute("position",new Fi(o,3)),this.setAttribute("uv",new Fi(a,2)),this.computeVertexNormals(),r===2*Math.PI)for(var x=this.attributes.normal.array,S=new ir,E=new ir,O=new ir,T=t*e.length*3,M=0,P=0;M<e.length;M++,P+=3)S.x=x[P+0],S.y=x[P+1],S.z=x[P+2],E.x=x[T+P+0],E.y=x[T+P+1],E.z=x[T+P+2],O.addVectors(S,E).normalize(),x[P+0]=x[T+P+0]=O.x,x[P+1]=x[T+P+1]=O.y,x[P+2]=x[T+P+2]=O.z}function Jc(e,t){xo.call(this),this.type="ShapeGeometry","object"===typeof t&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),t=t.curveSegments),this.parameters={shapes:e,curveSegments:t},this.fromBufferGeometry(new el(e,t)),this.mergeVertices()}function el(e,t){Zi.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:e,curveSegments:t},t=t||12;var n=[],r=[],i=[],o=[],a=0,s=0;if(!1===Array.isArray(e))c(e);else for(var u=0;u<e.length;u++)c(e[u]),this.addGroup(a,s,u),a+=s,s=0;function c(e){var a=r.length/3,u=e.extractPoints(t),c=u.shape,l=u.holes;!1===Bc.isClockWise(c)&&(c=c.reverse());for(var f=0,p=l.length;f<p;f++){var h=l[f];!0===Bc.isClockWise(h)&&(l[f]=h.reverse())}for(var d=Bc.triangulateShape(c,l),m=0,v=l.length;m<v;m++){var y=l[m];c=c.concat(y)}for(var g=0,b=c.length;g<b;g++){var _=c[g];r.push(_.x,_.y,0),i.push(0,0,1),o.push(_.x,_.y)}for(var w=0,x=d.length;w<x;w++){var S=d[w],E=S[0]+a,O=S[1]+a,T=S[2]+a;n.push(E,O,T),s+=3}}this.setIndex(n),this.setAttribute("position",new Fi(r,3)),this.setAttribute("normal",new Fi(i,3)),this.setAttribute("uv",new Fi(o,2))}function tl(e,t){if(t.shapes=[],Array.isArray(e))for(var n=0,r=e.length;n<r;n++){var i=e[n];t.shapes.push(i.uuid)}else t.shapes.push(e.uuid);return t}function nl(e,t){Zi.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:t},t=void 0!==t?t:1;var n,r,i,o,a=[],s=Math.cos(Wn.DEG2RAD*t),u=[0,0],c={},l=["a","b","c"];e.isBufferGeometry?(o=new xo).fromBufferGeometry(e):o=e.clone(),o.mergeVertices(),o.computeFaceNormals();for(var f=o.vertices,p=o.faces,h=0,d=p.length;h<d;h++)for(var m=p[h],v=0;v<3;v++)n=m[l[v]],r=m[l[(v+1)%3]],u[0]=Math.min(n,r),u[1]=Math.max(n,r),void 0===c[i=u[0]+","+u[1]]?c[i]={index1:u[0],index2:u[1],face1:h,face2:void 0}:c[i].face2=h;for(i in c){var y=c[i];if(void 0===y.face2||p[y.face1].normal.dot(p[y.face2].normal)<=s){var g=f[y.index1];a.push(g.x,g.y,g.z),g=f[y.index2],a.push(g.x,g.y,g.z)}}this.setAttribute("position",new Fi(a,3))}function rl(e,t,n,r,i,o,a,s){xo.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new il(e,t,n,r,i,o,a,s)),this.mergeVertices()}function il(e,t,n,r,i,o,a,s){Zi.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s};var u=this;e=void 0!==e?e:1,t=void 0!==t?t:1,n=n||1,r=Math.floor(r)||8,i=Math.floor(i)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],l=[],f=[],p=[],h=0,d=[],m=n/2,v=0;function y(n){var i,o,d=new qn,y=new ir,g=0,b=!0===n?e:t,_=!0===n?1:-1;i=h;for(var w=1;w<=r;w++)l.push(0,m*_,0),f.push(0,_,0),p.push(.5,.5),h++;o=h;for(var x=0;x<=r;x++){var S=x/r*s+a,E=Math.cos(S),O=Math.sin(S);y.x=b*O,y.y=m*_,y.z=b*E,l.push(y.x,y.y,y.z),f.push(0,_,0),d.x=.5*E+.5,d.y=.5*O*_+.5,p.push(d.x,d.y),h++}for(var T=0;T<r;T++){var M=i+T,P=o+T;!0===n?c.push(P,P+1,M):c.push(P+1,P,M),g+=3}u.addGroup(v,g,!0===n?1:2),v+=g}!function(){for(var o=new ir,y=new ir,g=0,b=(t-e)/n,_=0;_<=i;_++){for(var w=[],x=_/i,S=x*(t-e)+e,E=0;E<=r;E++){var O=E/r,T=O*s+a,M=Math.sin(T),P=Math.cos(T);y.x=S*M,y.y=-x*n+m,y.z=S*P,l.push(y.x,y.y,y.z),o.set(M,b,P).normalize(),f.push(o.x,o.y,o.z),p.push(O,1-x),w.push(h++)}d.push(w)}for(var A=0;A<r;A++)for(var C=0;C<i;C++){var k=d[C][A],j=d[C+1][A],R=d[C+1][A+1],D=d[C][A+1];c.push(k,j,D),c.push(j,R,D),g+=6}u.addGroup(v,g,0),v+=g}(),!1===o&&(e>0&&y(!0),t>0&&y(!1)),this.setIndex(c),this.setAttribute("position",new Fi(l,3)),this.setAttribute("normal",new Fi(f,3)),this.setAttribute("uv",new Fi(p,2))}function ol(e,t,n,r,i,o,a){rl.call(this,0,e,t,n,r,i,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function al(e,t,n,r,i,o,a){il.call(this,0,e,t,n,r,i,o,a),this.type="ConeBufferGeometry",this.parameters={radius:e,height:t,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:o,thetaLength:a}}function sl(e,t,n,r){xo.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new ul(e,t,n,r)),this.mergeVertices()}function ul(e,t,n,r){Zi.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:n,thetaLength:r},e=e||1,t=void 0!==t?Math.max(3,t):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=[],o=[],a=[],s=[],u=new ir,c=new qn;o.push(0,0,0),a.push(0,0,1),s.push(.5,.5);for(var l=0,f=3;l<=t;l++,f+=3){var p=n+l/t*r;u.x=e*Math.cos(p),u.y=e*Math.sin(p),o.push(u.x,u.y,u.z),a.push(0,0,1),c.x=(o[f]/e+1)/2,c.y=(o[f+1]/e+1)/2,s.push(c.x,c.y)}for(var h=1;h<=t;h++)i.push(h,h+1,0);this.setIndex(i),this.setAttribute("position",new Fi(o,3)),this.setAttribute("normal",new Fi(a,3)),this.setAttribute("uv",new Fi(s,2))}Gc.prototype=Object.create(xo.prototype),Gc.prototype.constructor=Gc,Wc.prototype=Object.create(Vc.prototype),Wc.prototype.constructor=Wc,qc.prototype=Object.create(xo.prototype),qc.prototype.constructor=qc,Yc.prototype=Object.create(Zi.prototype),Yc.prototype.constructor=Yc,Xc.prototype=Object.create(xo.prototype),Xc.prototype.constructor=Xc,Zc.prototype=Object.create(Zi.prototype),Zc.prototype.constructor=Zc,Qc.prototype=Object.create(xo.prototype),Qc.prototype.constructor=Qc,Kc.prototype=Object.create(Zi.prototype),Kc.prototype.constructor=Kc,Jc.prototype=Object.create(xo.prototype),Jc.prototype.constructor=Jc,Jc.prototype.toJSON=function(){var e=xo.prototype.toJSON.call(this);return tl(this.parameters.shapes,e)},el.prototype=Object.create(Zi.prototype),el.prototype.constructor=el,el.prototype.toJSON=function(){var e=Zi.prototype.toJSON.call(this);return tl(this.parameters.shapes,e)},nl.prototype=Object.create(Zi.prototype),nl.prototype.constructor=nl,rl.prototype=Object.create(xo.prototype),rl.prototype.constructor=rl,il.prototype=Object.create(Zi.prototype),il.prototype.constructor=il,ol.prototype=Object.create(rl.prototype),ol.prototype.constructor=ol,al.prototype=Object.create(il.prototype),al.prototype.constructor=al,sl.prototype=Object.create(xo.prototype),sl.prototype.constructor=sl,ul.prototype=Object.create(Zi.prototype),ul.prototype.constructor=ul;var cl=Object.freeze({__proto__:null,WireframeGeometry:Yu,ParametricGeometry:Xu,ParametricBufferGeometry:Zu,TetrahedronGeometry:Ju,TetrahedronBufferGeometry:ec,OctahedronGeometry:tc,OctahedronBufferGeometry:nc,IcosahedronGeometry:rc,IcosahedronBufferGeometry:ic,DodecahedronGeometry:oc,DodecahedronBufferGeometry:ac,PolyhedronGeometry:Qu,PolyhedronBufferGeometry:Ku,TubeGeometry:sc,TubeBufferGeometry:uc,TorusKnotGeometry:cc,TorusKnotBufferGeometry:lc,TorusGeometry:fc,TorusBufferGeometry:pc,TextGeometry:Gc,TextBufferGeometry:Wc,SphereGeometry:qc,SphereBufferGeometry:Yc,RingGeometry:Xc,RingBufferGeometry:Zc,PlaneGeometry:Uo,PlaneBufferGeometry:zo,LatheGeometry:Qc,LatheBufferGeometry:Kc,ShapeGeometry:Jc,ShapeBufferGeometry:el,ExtrudeGeometry:zc,ExtrudeBufferGeometry:Vc,EdgesGeometry:nl,ConeGeometry:ol,ConeBufferGeometry:al,CylinderGeometry:rl,CylinderBufferGeometry:il,CircleGeometry:sl,CircleBufferGeometry:ul,BoxGeometry:So,BoxBufferGeometry:Eo});function ll(e){Mi.call(this),this.type="ShadowMaterial",this.color=new wi(0),this.transparent=!0,this.setValues(e)}function fl(e){Po.call(this,e),this.type="RawShaderMaterial"}function pl(e){Mi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new wi(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(e)}function hl(e){pl.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new qn(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,this.sheen=null,this.transparency=0,this.setValues(e)}function dl(e){Mi.call(this),this.type="MeshPhongMaterial",this.color=new wi(16777215),this.specular=new wi(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=re,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function ml(e){Mi.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new wi(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function vl(e){Mi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function yl(e){Mi.call(this),this.type="MeshLambertMaterial",this.color=new wi(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new wi(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=re,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function gl(e){Mi.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new wi(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mn,this.normalScale=new qn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)}function bl(e){Tu.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}ll.prototype=Object.create(Mi.prototype),ll.prototype.constructor=ll,ll.prototype.isShadowMaterial=!0,ll.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this},fl.prototype=Object.create(Po.prototype),fl.prototype.constructor=fl,fl.prototype.isRawShaderMaterial=!0,pl.prototype=Object.create(Mi.prototype),pl.prototype.constructor=pl,pl.prototype.isMeshStandardMaterial=!0,pl.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.vertexTangents=e.vertexTangents,this},hl.prototype=Object.create(pl.prototype),hl.prototype.constructor=hl,hl.prototype.isMeshPhysicalMaterial=!0,hl.prototype.copy=function(e){return pl.prototype.copy.call(this,e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.reflectivity=e.reflectivity,e.sheen?this.sheen=(this.sheen||new wi).copy(e.sheen):this.sheen=null,this.transparency=e.transparency,this},dl.prototype=Object.create(Mi.prototype),dl.prototype.constructor=dl,dl.prototype.isMeshPhongMaterial=!0,dl.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},ml.prototype=Object.create(Mi.prototype),ml.prototype.constructor=ml,ml.prototype.isMeshToonMaterial=!0,ml.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},vl.prototype=Object.create(Mi.prototype),vl.prototype.constructor=vl,vl.prototype.isMeshNormalMaterial=!0,vl.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},yl.prototype=Object.create(Mi.prototype),yl.prototype.constructor=yl,yl.prototype.isMeshLambertMaterial=!0,yl.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},gl.prototype=Object.create(Mi.prototype),gl.prototype.constructor=gl,gl.prototype.isMeshMatcapMaterial=!0,gl.prototype.copy=function(e){return Mi.prototype.copy.call(this,e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},bl.prototype=Object.create(Tu.prototype),bl.prototype.constructor=bl,bl.prototype.isLineDashedMaterial=!0,bl.prototype.copy=function(e){return Tu.prototype.copy.call(this,e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this};var _l=Object.freeze({__proto__:null,ShadowMaterial:ll,SpriteMaterial:Ks,RawShaderMaterial:fl,ShaderMaterial:Po,PointsMaterial:Iu,MeshPhysicalMaterial:hl,MeshStandardMaterial:pl,MeshPhongMaterial:dl,MeshToonMaterial:ml,MeshNormalMaterial:vl,MeshLambertMaterial:yl,MeshDepthMaterial:Rs,MeshDistanceMaterial:Ds,MeshBasicMaterial:Pi,MeshMatcapMaterial:gl,LineDashedMaterial:bl,LineBasicMaterial:Tu,Material:Mi}),wl={arraySlice:function(e,t,n){return wl.isTypedArray(e)?new e.constructor(e.subarray(t,void 0!==n?n:e.length)):e.slice(t,n)},convertArray:function(e,t,n){return!e||!n&&e.constructor===t?e:"number"===typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(e){for(var t=e.length,n=new Array(t),r=0;r!==t;++r)n[r]=r;return n.sort((function(t,n){return e[t]-e[n]})),n},sortedArray:function(e,t,n){for(var r=e.length,i=new e.constructor(r),o=0,a=0;a!==r;++o)for(var s=n[o]*t,u=0;u!==t;++u)i[a++]=e[s+u];return i},flattenJSON:function(e,t,n,r){for(var i=1,o=e[0];void 0!==o&&void 0===o[r];)o=e[i++];if(void 0!==o){var a=o[r];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[r])&&(t.push(o.time),n.push.apply(n,a)),o=e[i++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[r])&&(t.push(o.time),a.toArray(n,n.length)),o=e[i++]}while(void 0!==o);else do{void 0!==(a=o[r])&&(t.push(o.time),n.push(a)),o=e[i++]}while(void 0!==o)}},subclip:function(e,t,n,r,i){i=i||30;var o=e.clone();o.name=t;for(var a=[],s=0;s<o.tracks.length;++s){for(var u=o.tracks[s],c=u.getValueSize(),l=[],f=[],p=0;p<u.times.length;++p){var h=u.times[p]*i;if(!(h<n||h>=r)){l.push(u.times[p]);for(var d=0;d<c;++d)f.push(u.values[p*c+d])}}0!==l.length&&(u.times=wl.convertArray(l,u.times.constructor),u.values=wl.convertArray(f,u.values.constructor),a.push(u))}o.tracks=a;for(var m=1/0,v=0;v<o.tracks.length;++v)m>o.tracks[v].times[0]&&(m=o.tracks[v].times[0]);for(var y=0;y<o.tracks.length;++y)o.tracks[y].shift(-1*m);return o.resetDuration(),o},makeClipAdditive:function(e,t,n,r){void 0===t&&(t=0),void 0===n&&(n=e),(void 0===r||r<=0)&&(r=30);for(var i=e.tracks.length,o=t/r,a=function(t){var r=n.tracks[t],i=r.ValueTypeName;if("bool"===i||"string"===i)return"continue";var a=e.tracks.find((function(e){return e.name===r.name&&e.ValueTypeName===i}));if(void 0===a)return"continue";var s=r.getValueSize(),u=r.times.length-1,c=void 0;if(o<=r.times[0])c=wl.arraySlice(r.values,0,r.valueSize);else if(o>=r.times[u]){var l=u*s;c=wl.arraySlice(r.values,l)}else{var f=r.createInterpolant();f.evaluate(o),c=f.resultBuffer}"quaternion"===i&&new tr(c[0],c[1],c[2],c[3]).normalize().conjugate().toArray(c);for(var p=a.times.length,h=0;h<p;++h){var d=h*s;if("quaternion"===i)tr.multiplyQuaternionsFlat(a.values,d,c,0,a.values,d);else for(var m=0;m<s;++m)a.values[d+m]-=c[m]}},s=0;s<i;++s)a(s);return e.blendMode=en,e}};function xl(e,t,n,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(n),this.sampleValues=t,this.valueSize=n}function Sl(e,t,n,r){xl.call(this,e,t,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function El(e,t,n,r){xl.call(this,e,t,n,r)}function Ol(e,t,n,r){xl.call(this,e,t,n,r)}function Tl(e,t,n,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=wl.convertArray(t,this.TimeBufferType),this.values=wl.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}function Ml(e,t,n){Tl.call(this,e,t,n)}function Pl(e,t,n,r){Tl.call(this,e,t,n,r)}function Al(e,t,n,r){Tl.call(this,e,t,n,r)}function Cl(e,t,n,r){xl.call(this,e,t,n,r)}function kl(e,t,n,r){Tl.call(this,e,t,n,r)}function jl(e,t,n,r){Tl.call(this,e,t,n,r)}function Rl(e,t,n,r){Tl.call(this,e,t,n,r)}function Dl(e,t,n,r){this.name=e,this.tracks=n,this.duration=void 0!==t?t:-1,this.blendMode=void 0!==r?r:Jt,this.uuid=Wn.generateUUID(),this.duration<0&&this.resetDuration()}function Nl(e){if(void 0===e.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var t=function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Al;case"vector":case"vector2":case"vector3":case"vector4":return Rl;case"color":return Pl;case"quaternion":return kl;case"bool":case"boolean":return Ml;case"string":return jl}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}(e.type);if(void 0===e.times){var n=[],r=[];wl.flattenJSON(e.keys,n,r,"value"),e.times=n,e.values=r}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}Object.assign(xl.prototype,{evaluate:function(e){var t=this.parameterPositions,n=this._cachedIndex,r=t[n],i=t[n-1];e:{t:{var o;n:{r:if(!(e<r)){for(var a=n+2;;){if(void 0===r){if(e<i)break r;return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,e,i)}if(n===a)break;if(i=r,e<(r=t[++n]))break t}o=t.length;break n}if(e>=i)break e;var s=t[1];e<s&&(n=2,i=s);for(var u=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,e,r);if(n===u)break;if(r=i,e>=(i=t[--n-1]))break t}o=n,n=0}for(;n<o;){var c=n+o>>>1;e<t[c]?o=c:n=c+1}if(r=t[n],void 0===(i=t[n-1]))return this._cachedIndex=0,this.beforeStart_(0,e,r);if(void 0===r)return n=t.length,this._cachedIndex=n,this.afterEnd_(n-1,i,e)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,e,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=e*r,o=0;o!==r;++o)t[o]=n[i+o];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(xl.prototype,{beforeStart_:xl.prototype.copySampleValue_,afterEnd_:xl.prototype.copySampleValue_}),Sl.prototype=Object.assign(Object.create(xl.prototype),{constructor:Sl,DefaultSettings_:{endingStart:Zt,endingEnd:Zt},intervalChanged_:function(e,t,n){var r=this.parameterPositions,i=e-2,o=e+1,a=r[i],s=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case Qt:i=e,a=2*t-n;break;case Kt:a=t+r[i=r.length-2]-r[i+1];break;default:i=e,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case Qt:o=e,s=2*n-t;break;case Kt:o=1,s=n+r[1]-r[0];break;default:o=e-1,s=t}var u=.5*(n-t),c=this.valueSize;this._weightPrev=u/(t-a),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=o*c},interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=this._offsetPrev,l=this._offsetNext,f=this._weightPrev,p=this._weightNext,h=(n-t)/(r-t),d=h*h,m=d*h,v=-f*m+2*f*d-f*h,y=(1+f)*m+(-1.5-2*f)*d+(-.5+f)*h+1,g=(-1-p)*m+(1.5+p)*d+.5*h,b=p*m-p*d,_=0;_!==a;++_)i[_]=v*o[c+_]+y*o[u+_]+g*o[s+_]+b*o[l+_];return i}}),El.prototype=Object.assign(Object.create(xl.prototype),{constructor:El,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=e*a,u=s-a,c=(n-t)/(r-t),l=1-c,f=0;f!==a;++f)i[f]=o[u+f]*l+o[s+f]*c;return i}}),Ol.prototype=Object.assign(Object.create(xl.prototype),{constructor:Ol,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Object.assign(Tl,{toJSON:function(e){var t,n=e.constructor;if(void 0!==n.toJSON)t=n.toJSON(e);else{t={name:e.name,times:wl.convertArray(e.times,Array),values:wl.convertArray(e.values,Array)};var r=e.getInterpolation();r!==e.DefaultInterpolation&&(t.interpolation=r)}return t.type=e.ValueTypeName,t}}),Object.assign(Tl.prototype,{constructor:Tl,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Yt,InterpolantFactoryMethodDiscrete:function(e){return new Ol(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new El(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Sl(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t;switch(e){case qt:t=this.InterpolantFactoryMethodDiscrete;break;case Yt:t=this.InterpolantFactoryMethodLinear;break;case Xt:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=t,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return qt;case this.InterpolantFactoryMethodLinear:return Yt;case this.InterpolantFactoryMethodSmooth:return Xt}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,n=0,r=t.length;n!==r;++n)t[n]*=e;return this},trim:function(e,t){for(var n=this.times,r=n.length,i=0,o=r-1;i!==r&&n[i]<e;)++i;for(;-1!==o&&n[o]>t;)--o;if(++o,0!==i||o!==r){i>=o&&(i=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=wl.arraySlice(n,i,o),this.values=wl.arraySlice(this.values,i*a,o*a)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);var n=this.times,r=this.values,i=n.length;0===i&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);for(var o=null,a=0;a!==i;a++){var s=n[a];if("number"===typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),e=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),e=!1;break}o=s}if(void 0!==r&&wl.isTypedArray(r))for(var u=0,c=r.length;u!==c;++u){var l=r[u];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,u,l),e=!1;break}}return e},optimize:function(){for(var e=wl.arraySlice(this.times),t=wl.arraySlice(this.values),n=this.getValueSize(),r=this.getInterpolation()===Xt,i=e.length-1,o=1,a=1;a<i;++a){var s=!1,u=e[a];if(u!==e[a+1]&&(1!==a||u!==u[0]))if(r)s=!0;else for(var c=a*n,l=c-n,f=c+n,p=0;p!==n;++p){var h=t[c+p];if(h!==t[l+p]||h!==t[f+p]){s=!0;break}}if(s){if(a!==o){e[o]=e[a];for(var d=a*n,m=o*n,v=0;v!==n;++v)t[m+v]=t[d+v]}++o}}if(i>0){e[o]=e[i];for(var y=i*n,g=o*n,b=0;b!==n;++b)t[g+b]=t[y+b];++o}return o!==e.length?(this.times=wl.arraySlice(e,0,o),this.values=wl.arraySlice(t,0,o*n)):(this.times=e,this.values=t),this},clone:function(){var e=wl.arraySlice(this.times,0),t=wl.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}}),Ml.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Ml,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Pl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Pl,ValueTypeName:"color"}),Al.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Al,ValueTypeName:"number"}),Cl.prototype=Object.assign(Object.create(xl.prototype),{constructor:Cl,interpolate_:function(e,t,n,r){for(var i=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=(n-t)/(r-t),u=e*a,c=u+a;u!==c;u+=4)tr.slerpFlat(i,0,o,u-a,o,u,s);return i}}),kl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:kl,ValueTypeName:"quaternion",DefaultInterpolation:Yt,InterpolantFactoryMethodLinear:function(e){return new Cl(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),jl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:jl,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:qt,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Rl.prototype=Object.assign(Object.create(Tl.prototype),{constructor:Rl,ValueTypeName:"vector"}),Object.assign(Dl,{parse:function(e){for(var t=[],n=e.tracks,r=1/(e.fps||1),i=0,o=n.length;i!==o;++i)t.push(Nl(n[i]).scale(r));return new Dl(e.name,e.duration,t,e.blendMode)},toJSON:function(e){for(var t=[],n=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode},i=0,o=n.length;i!==o;++i)t.push(Tl.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(e,t,n,r){for(var i=t.length,o=[],a=0;a<i;a++){var s=[],u=[];s.push((a+i-1)%i,a,(a+1)%i),u.push(0,1,0);var c=wl.getKeyframeOrder(s);s=wl.sortedArray(s,1,c),u=wl.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),o.push(new Al(".morphTargetInfluences["+t[a].name+"]",s,u).scale(1/n))}return new Dl(e,-1,o)},findByName:function(e,t){var n=e;if(!Array.isArray(e)){var r=e;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===t)return n[i];return null},CreateClipsFromMorphTargetSequences:function(e,t,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,o=0,a=e.length;o<a;o++){var s=e[o],u=s.name.match(i);if(u&&u.length>1){var c=u[1],l=r[c];l||(r[c]=l=[]),l.push(s)}}var f=[];for(var p in r)f.push(Dl.CreateFromMorphTargetSequence(p,r[p],t,n));return f},parseAnimation:function(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(e,t,n,r,i){if(0!==n.length){var o=[],a=[];wl.flattenJSON(n,o,a,r),0!==o.length&&i.push(new e(t,o,a))}},r=[],i=e.name||"default",o=e.fps||30,a=e.blendMode,s=e.length||-1,u=e.hierarchy||[],c=0;c<u.length;c++){var l=u[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){var f={},p=void 0;for(p=0;p<l.length;p++)if(l[p].morphTargets)for(var h=0;h<l[p].morphTargets.length;h++)f[l[p].morphTargets[h]]=-1;for(var d in f){for(var m=[],v=[],y=0;y!==l[p].morphTargets.length;++y){var g=l[p];m.push(g.time),v.push(g.morphTarget===d?1:0)}r.push(new Al(".morphTargetInfluence["+d+"]",m,v))}s=f.length*(o||1)}else{var b=".bones["+t[c].name+"]";n(Rl,b+".position",l,"pos",r),n(kl,b+".quaternion",l,"rot",r),n(Rl,b+".scale",l,"scl",r)}}return 0===r.length?null:new Dl(i,s,r,a)}}),Object.assign(Dl.prototype,{resetDuration:function(){for(var e=0,t=0,n=this.tracks.length;t!==n;++t){var r=this.tracks[t];e=Math.max(e,r.times[r.times.length-1])}return this.duration=e,this},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},validate:function(){for(var e=!0,t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this},clone:function(){for(var e=[],t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new Dl(this.name,this.duration,e,this.blendMode)}});var Ll={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}};function Il(e,t,n){var r=this,i=!1,o=0,a=0,s=void 0,u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=n,this.itemStart=function(e){a++,!1===i&&void 0!==r.onStart&&r.onStart(e,o,a),i=!0},this.itemEnd=function(e){o++,void 0!==r.onProgress&&r.onProgress(e,o,a),o===a&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(e){void 0!==r.onError&&r.onError(e)},this.resolveURL=function(e){return s?s(e):e},this.setURLModifier=function(e){return s=e,this},this.addHandler=function(e,t){return u.push(e,t),this},this.removeHandler=function(e){var t=u.indexOf(e);return-1!==t&&u.splice(t,2),this},this.getHandler=function(e){for(var t=0,n=u.length;t<n;t+=2){var r=u[t],i=u[t+1];if(r.global&&(r.lastIndex=0),r.test(e))return i}return null}}var Bl=new Il;function Fl(e){this.manager=void 0!==e?e:Bl,this.crossOrigin="anonymous",this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(Fl.prototype,{load:function(){},loadAsync:function(e,t){var n=this;return new Promise((function(r,i){n.load(e,r,t,i)}))},parse:function(){},setCrossOrigin:function(e){return this.crossOrigin=e,this},setPath:function(e){return this.path=e,this},setResourcePath:function(e){return this.resourcePath=e,this},setRequestHeader:function(e){return this.requestHeader=e,this}});var Ul={};function zl(e){Fl.call(this,e)}function Vl(e){Fl.call(this,e)}function Hl(e){Fl.call(this,e)}function $l(e){Fl.call(this,e)}function Gl(e){Fl.call(this,e)}function Wl(e){Fl.call(this,e)}function ql(e){Fl.call(this,e)}function Yl(){this.type="Curve",this.arcLengthDivisions=200}function Xl(e,t,n,r,i,o,a,s){Yl.call(this),this.type="EllipseCurve",this.aX=e||0,this.aY=t||0,this.xRadius=n||1,this.yRadius=r||1,this.aStartAngle=i||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Zl(e,t,n,r,i,o){Xl.call(this,e,t,n,n,r,i,o),this.type="ArcCurve"}function Ql(){var e=0,t=0,n=0,r=0;function i(i,o,a,s){e=i,t=a,n=-3*i+3*o-2*a-s,r=2*i-2*o+a+s}return{initCatmullRom:function(e,t,n,r,o){i(t,n,o*(n-e),o*(r-t))},initNonuniformCatmullRom:function(e,t,n,r,o,a,s){var u=(t-e)/o-(n-e)/(o+a)+(n-t)/a,c=(n-t)/a-(r-t)/(a+s)+(r-n)/s;i(t,n,u*=a,c*=a)},calc:function(i){var o=i*i;return e+t*i+n*o+r*(o*i)}}}zl.prototype=Object.assign(Object.create(Fl.prototype),{constructor:zl,load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Ll.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;if(void 0===Ul[e]){var a,s=e.match(/^data:(.*?)(;base64)?,(.*)$/);if(s){var u=s[1],c=!!s[2],l=s[3];l=decodeURIComponent(l),c&&(l=atob(l));try{var f,p=(this.responseType||"").toLowerCase();switch(p){case"arraybuffer":case"blob":for(var h=new Uint8Array(l.length),d=0;d<l.length;d++)h[d]=l.charCodeAt(d);f="blob"===p?new Blob([h.buffer],{type:u}):h.buffer;break;case"document":var m=new DOMParser;f=m.parseFromString(l,u);break;case"json":f=JSON.parse(l);break;default:f=l}setTimeout((function(){t&&t(f),i.manager.itemEnd(e)}),0)}catch(y){setTimeout((function(){r&&r(y),i.manager.itemError(e),i.manager.itemEnd(e)}),0)}}else{for(var v in Ul[e]=[],Ul[e].push({onLoad:t,onProgress:n,onError:r}),(a=new XMLHttpRequest).open("GET",e,!0),a.addEventListener("load",(function(t){var n=this.response,r=Ul[e];if(delete Ul[e],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Ll.add(e,n);for(var o=0,a=r.length;o<a;o++){var s=r[o];s.onLoad&&s.onLoad(n)}i.manager.itemEnd(e)}else{for(var u=0,c=r.length;u<c;u++){var l=r[u];l.onError&&l.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}}),!1),a.addEventListener("progress",(function(t){for(var n=Ul[e],r=0,i=n.length;r<i;r++){var o=n[r];o.onProgress&&o.onProgress(t)}}),!1),a.addEventListener("error",(function(t){var n=Ul[e];delete Ul[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),a.addEventListener("abort",(function(t){var n=Ul[e];delete Ul[e];for(var r=0,o=n.length;r<o;r++){var a=n[r];a.onError&&a.onError(t)}i.manager.itemError(e),i.manager.itemEnd(e)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)a.setRequestHeader(v,this.requestHeader[v]);a.send(null)}return i.manager.itemStart(e),a}Ul[e].push({onLoad:t,onProgress:n,onError:r})},setResponseType:function(e){return this.responseType=e,this},setWithCredentials:function(e){return this.withCredentials=e,this},setMimeType:function(e){return this.mimeType=e,this}}),Vl.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Vl,load:function(e,t,n,r){var i=this,o=new zl(i.manager);o.setPath(i.path),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(e){for(var t=[],n=0;n<e.length;n++){var r=Dl.parse(e[n]);t.push(r)}return t}}),Hl.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Hl,load:function(e,t,n,r){var i=this,o=[],a=new Gu;a.image=o;var s=new zl(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer");var u=0;function c(c){s.load(e[c],(function(e){var n=i.parse(e,!0);o[c]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(u+=1)&&(1===n.mipmapCount&&(a.minFilter=Me),a.format=n.format,a.needsUpdate=!0,t&&t(a))}),n,r)}if(Array.isArray(e))for(var l=0,f=e.length;l<f;++l)c(l);else s.load(e,(function(e){var n=i.parse(e,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){o[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=Me),a.format=n.format,a.needsUpdate=!0,t&&t(a)}),n,r);return a}}),$l.prototype=Object.assign(Object.create(Fl.prototype),{constructor:$l,load:function(e,t,n,r){var i=this,o=new Ro,a=new zl(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(e,(function(e){var n=i.parse(e);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:_e,o.wrapT=void 0!==n.wrapT?n.wrapT:_e,o.magFilter=void 0!==n.magFilter?n.magFilter:Me,o.minFilter=void 0!==n.minFilter?n.minFilter:Me,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps,o.minFilter=Ce),1===n.mipmapCount&&(o.minFilter=Me),o.needsUpdate=!0,t&&t(o,n))}),n,r),o}}),Gl.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Gl,load:function(e,t,n,r){void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Ll.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),Ll.add(e,this),t&&t(this),i.manager.itemEnd(e)}function u(t){a.removeEventListener("load",s,!1),a.removeEventListener("error",u,!1),r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)}return a.addEventListener("load",s,!1),a.addEventListener("error",u,!1),"data:"!==e.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),i.manager.itemStart(e),a.src=e,a}}),Wl.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Wl,load:function(e,t,n,r){var i=new ra,o=new Gl(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(e[n],(function(e){i.images[n]=e,6===++a&&(i.needsUpdate=!0,t&&t(i))}),void 0,r)}for(var u=0;u<e.length;++u)s(u);return i}}),ql.prototype=Object.assign(Object.create(Fl.prototype),{constructor:ql,load:function(e,t,n,r){var i=new Qn,o=new Gl(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,(function(n){i.image=n;var r=e.search(/\.jpe?g($|\?)/i)>0||0===e.search(/^data\:image\/jpeg/);i.format=r?Ge:We,i.needsUpdate=!0,void 0!==t&&t(i)}),n,r),i}}),Object.assign(Yl.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(e,t){var n=this.getUtoTmapping(e);return this.getPoint(n,t)},getPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return t},getSpacedPoints:function(e){void 0===e&&(e=5);for(var t=[],n=0;n<=e;n++)t.push(this.getPointAt(n/e));return t},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(void 0===e&&(e=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,n=[],r=this.getPoint(0),i=0;n.push(0);for(var o=1;o<=e;o++)i+=(t=this.getPoint(o/e)).distanceTo(r),n.push(i),r=t;return this.cacheArcLengths=n,n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var n,r=this.getLengths(),i=0,o=r.length;n=t||e*r[o-1];for(var a,s=0,u=o-1;s<=u;)if((a=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(o-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(o-1)},getTangent:function(e,t){var n=e-1e-4,r=e+1e-4;n<0&&(n=0),r>1&&(r=1);var i=this.getPoint(n),o=this.getPoint(r),a=t||(i.isVector2?new qn:new ir);return a.copy(o).sub(i).normalize(),a},getTangentAt:function(e,t){var n=this.getUtoTmapping(e);return this.getTangent(n,t)},computeFrenetFrames:function(e,t){for(var n=new ir,r=[],i=[],o=[],a=new ir,s=new pr,u=0;u<=e;u++){var c=u/e;r[u]=this.getTangentAt(c,new ir),r[u].normalize()}i[0]=new ir,o[0]=new ir;var l=Number.MAX_VALUE,f=Math.abs(r[0].x),p=Math.abs(r[0].y),h=Math.abs(r[0].z);f<=l&&(l=f,n.set(1,0,0)),p<=l&&(l=p,n.set(0,1,0)),h<=l&&n.set(0,0,1),a.crossVectors(r[0],n).normalize(),i[0].crossVectors(r[0],a),o[0].crossVectors(r[0],i[0]);for(var d=1;d<=e;d++){if(i[d]=i[d-1].clone(),o[d]=o[d-1].clone(),a.crossVectors(r[d-1],r[d]),a.length()>Number.EPSILON){a.normalize();var m=Math.acos(Wn.clamp(r[d-1].dot(r[d]),-1,1));i[d].applyMatrix4(s.makeRotationAxis(a,m))}o[d].crossVectors(r[d],i[d])}if(!0===t){var v=Math.acos(Wn.clamp(i[0].dot(i[e]),-1,1));v/=e,r[0].dot(a.crossVectors(i[0],i[e]))>0&&(v=-v);for(var y=1;y<=e;y++)i[y].applyMatrix4(s.makeRotationAxis(r[y],v*y)),o[y].crossVectors(r[y],i[y])}return{tangents:r,normals:i,binormals:o}},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this},toJSON:function(){var e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e},fromJSON:function(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}),Xl.prototype=Object.create(Yl.prototype),Xl.prototype.constructor=Xl,Xl.prototype.isEllipseCurve=!0,Xl.prototype.getPoint=function(e,t){for(var n=t||new qn,r=2*Math.PI,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;i<0;)i+=r;for(;i>r;)i-=r;i<Number.EPSILON&&(i=o?0:r),!0!==this.aClockwise||o||(i===r?i=-r:i-=r);var a=this.aStartAngle+e*i,s=this.aX+this.xRadius*Math.cos(a),u=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),l=Math.sin(this.aRotation),f=s-this.aX,p=u-this.aY;s=f*c-p*l+this.aX,u=f*l+p*c+this.aY}return n.set(s,u)},Xl.prototype.copy=function(e){return Yl.prototype.copy.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Xl.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e},Xl.prototype.fromJSON=function(e){return Yl.prototype.fromJSON.call(this,e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this},Zl.prototype=Object.create(Xl.prototype),Zl.prototype.constructor=Zl,Zl.prototype.isArcCurve=!0;var Kl=new ir,Jl=new Ql,ef=new Ql,tf=new Ql;function nf(e,t,n,r){Yl.call(this),this.type="CatmullRomCurve3",this.points=e||[],this.closed=t||!1,this.curveType=n||"centripetal",this.tension=r||.5}function rf(e,t,n,r,i){var o=.5*(r-t),a=.5*(i-n),s=e*e;return(2*n-2*r+o+a)*(e*s)+(-3*n+3*r-2*o-a)*s+o*e+n}function of(e,t,n,r){return function(e,t){var n=1-e;return n*n*t}(e,t)+function(e,t){return 2*(1-e)*e*t}(e,n)+function(e,t){return e*e*t}(e,r)}function af(e,t,n,r,i){return function(e,t){var n=1-e;return n*n*n*t}(e,t)+function(e,t){var n=1-e;return 3*n*n*e*t}(e,n)+function(e,t){return 3*(1-e)*e*e*t}(e,r)+function(e,t){return e*e*e*t}(e,i)}function sf(e,t,n,r){Yl.call(this),this.type="CubicBezierCurve",this.v0=e||new qn,this.v1=t||new qn,this.v2=n||new qn,this.v3=r||new qn}function uf(e,t,n,r){Yl.call(this),this.type="CubicBezierCurve3",this.v0=e||new ir,this.v1=t||new ir,this.v2=n||new ir,this.v3=r||new ir}function cf(e,t){Yl.call(this),this.type="LineCurve",this.v1=e||new qn,this.v2=t||new qn}function lf(e,t){Yl.call(this),this.type="LineCurve3",this.v1=e||new ir,this.v2=t||new ir}function ff(e,t,n){Yl.call(this),this.type="QuadraticBezierCurve",this.v0=e||new qn,this.v1=t||new qn,this.v2=n||new qn}function pf(e,t,n){Yl.call(this),this.type="QuadraticBezierCurve3",this.v0=e||new ir,this.v1=t||new ir,this.v2=n||new ir}function hf(e){Yl.call(this),this.type="SplineCurve",this.points=e||[]}nf.prototype=Object.create(Yl.prototype),nf.prototype.constructor=nf,nf.prototype.isCatmullRomCurve3=!0,nf.prototype.getPoint=function(e,t){var n,r,i,o,a=t||new ir,s=this.points,u=s.length,c=(u-(this.closed?0:1))*e,l=Math.floor(c),f=c-l;if(this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/u)+1)*u:0===f&&l===u-1&&(l=u-2,f=1),this.closed||l>0?n=s[(l-1)%u]:(Kl.subVectors(s[0],s[1]).add(s[0]),n=Kl),r=s[l%u],i=s[(l+1)%u],this.closed||l+2<u?o=s[(l+2)%u]:(Kl.subVectors(s[u-1],s[u-2]).add(s[u-1]),o=Kl),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,h=Math.pow(n.distanceToSquared(r),p),d=Math.pow(r.distanceToSquared(i),p),m=Math.pow(i.distanceToSquared(o),p);d<1e-4&&(d=1),h<1e-4&&(h=d),m<1e-4&&(m=d),Jl.initNonuniformCatmullRom(n.x,r.x,i.x,o.x,h,d,m),ef.initNonuniformCatmullRom(n.y,r.y,i.y,o.y,h,d,m),tf.initNonuniformCatmullRom(n.z,r.z,i.z,o.z,h,d,m)}else"catmullrom"===this.curveType&&(Jl.initCatmullRom(n.x,r.x,i.x,o.x,this.tension),ef.initCatmullRom(n.y,r.y,i.y,o.y,this.tension),tf.initCatmullRom(n.z,r.z,i.z,o.z,this.tension));return a.set(Jl.calc(f),ef.calc(f),tf.calc(f)),a},nf.prototype.copy=function(e){Yl.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},nf.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e},nf.prototype.fromJSON=function(e){Yl.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new ir).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this},sf.prototype=Object.create(Yl.prototype),sf.prototype.constructor=sf,sf.prototype.isCubicBezierCurve=!0,sf.prototype.getPoint=function(e,t){var n=t||new qn,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(af(e,r.x,i.x,o.x,a.x),af(e,r.y,i.y,o.y,a.y)),n},sf.prototype.copy=function(e){return Yl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},sf.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},sf.prototype.fromJSON=function(e){return Yl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},uf.prototype=Object.create(Yl.prototype),uf.prototype.constructor=uf,uf.prototype.isCubicBezierCurve3=!0,uf.prototype.getPoint=function(e,t){var n=t||new ir,r=this.v0,i=this.v1,o=this.v2,a=this.v3;return n.set(af(e,r.x,i.x,o.x,a.x),af(e,r.y,i.y,o.y,a.y),af(e,r.z,i.z,o.z,a.z)),n},uf.prototype.copy=function(e){return Yl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this},uf.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e},uf.prototype.fromJSON=function(e){return Yl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this},cf.prototype=Object.create(Yl.prototype),cf.prototype.constructor=cf,cf.prototype.isLineCurve=!0,cf.prototype.getPoint=function(e,t){var n=t||new qn;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},cf.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},cf.prototype.getTangent=function(e,t){var n=t||new qn;return n.copy(this.v2).sub(this.v1).normalize(),n},cf.prototype.copy=function(e){return Yl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},cf.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},cf.prototype.fromJSON=function(e){return Yl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},lf.prototype=Object.create(Yl.prototype),lf.prototype.constructor=lf,lf.prototype.isLineCurve3=!0,lf.prototype.getPoint=function(e,t){var n=t||new ir;return 1===e?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(e).add(this.v1)),n},lf.prototype.getPointAt=function(e,t){return this.getPoint(e,t)},lf.prototype.copy=function(e){return Yl.prototype.copy.call(this,e),this.v1.copy(e.v1),this.v2.copy(e.v2),this},lf.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},lf.prototype.fromJSON=function(e){return Yl.prototype.fromJSON.call(this,e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},ff.prototype=Object.create(Yl.prototype),ff.prototype.constructor=ff,ff.prototype.isQuadraticBezierCurve=!0,ff.prototype.getPoint=function(e,t){var n=t||new qn,r=this.v0,i=this.v1,o=this.v2;return n.set(of(e,r.x,i.x,o.x),of(e,r.y,i.y,o.y)),n},ff.prototype.copy=function(e){return Yl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},ff.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},ff.prototype.fromJSON=function(e){return Yl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},pf.prototype=Object.create(Yl.prototype),pf.prototype.constructor=pf,pf.prototype.isQuadraticBezierCurve3=!0,pf.prototype.getPoint=function(e,t){var n=t||new ir,r=this.v0,i=this.v1,o=this.v2;return n.set(of(e,r.x,i.x,o.x),of(e,r.y,i.y,o.y),of(e,r.z,i.z,o.z)),n},pf.prototype.copy=function(e){return Yl.prototype.copy.call(this,e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this},pf.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e},pf.prototype.fromJSON=function(e){return Yl.prototype.fromJSON.call(this,e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this},hf.prototype=Object.create(Yl.prototype),hf.prototype.constructor=hf,hf.prototype.isSplineCurve=!0,hf.prototype.getPoint=function(e,t){var n=t||new qn,r=this.points,i=(r.length-1)*e,o=Math.floor(i),a=i-o,s=r[0===o?o:o-1],u=r[o],c=r[o>r.length-2?r.length-1:o+1],l=r[o>r.length-3?r.length-1:o+2];return n.set(rf(a,s.x,u.x,c.x,l.x),rf(a,s.y,u.y,c.y,l.y)),n},hf.prototype.copy=function(e){Yl.prototype.copy.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push(r.clone())}return this},hf.prototype.toJSON=function(){var e=Yl.prototype.toJSON.call(this);e.points=[];for(var t=0,n=this.points.length;t<n;t++){var r=this.points[t];e.points.push(r.toArray())}return e},hf.prototype.fromJSON=function(e){Yl.prototype.fromJSON.call(this,e),this.points=[];for(var t=0,n=e.points.length;t<n;t++){var r=e.points[t];this.points.push((new qn).fromArray(r))}return this};var df=Object.freeze({__proto__:null,ArcCurve:Zl,CatmullRomCurve3:nf,CubicBezierCurve:sf,CubicBezierCurve3:uf,EllipseCurve:Xl,LineCurve:cf,LineCurve3:lf,QuadraticBezierCurve:ff,QuadraticBezierCurve3:pf,SplineCurve:hf});function mf(){Yl.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function vf(e){mf.call(this),this.type="Path",this.currentPoint=new qn,e&&this.setFromPoints(e)}function yf(e){vf.call(this,e),this.uuid=Wn.generateUUID(),this.type="Shape",this.holes=[]}function gf(e,t){Cr.call(this),this.type="Light",this.color=new wi(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0}function bf(e,t,n){gf.call(this,e,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Cr.DefaultUp),this.updateMatrix(),this.groundColor=new wi(t)}function _f(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new qn(512,512),this.map=null,this.mapPass=null,this.matrix=new pr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Lo,this._frameExtents=new qn(1,1),this._viewportCount=1,this._viewports=[new Kn(0,0,1,1)]}function wf(){_f.call(this,new Co(50,1,.5,500))}function xf(e,t,n,r,i,o){gf.call(this,e,t),this.type="SpotLight",this.position.copy(Cr.DefaultUp),this.updateMatrix(),this.target=new Cr,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==o?o:1,this.shadow=new wf}function Sf(){_f.call(this,new Co(90,1,.5,500)),this._frameExtents=new qn(4,2),this._viewportCount=6,this._viewports=[new Kn(2,1,1,1),new Kn(0,1,1,1),new Kn(3,1,1,1),new Kn(1,1,1,1),new Kn(3,0,1,1),new Kn(1,0,1,1)],this._cubeDirections=[new ir(1,0,0),new ir(-1,0,0),new ir(0,0,1),new ir(0,0,-1),new ir(0,1,0),new ir(0,-1,0)],this._cubeUps=[new ir(0,1,0),new ir(0,1,0),new ir(0,1,0),new ir(0,1,0),new ir(0,0,1),new ir(0,0,-1)]}function Ef(e,t,n,r){gf.call(this,e,t),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new Sf}function Of(e,t,n,r,i,o){Ao.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==e?e:-1,this.right=void 0!==t?t:1,this.top=void 0!==n?n:1,this.bottom=void 0!==r?r:-1,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function Tf(){_f.call(this,new Of(-5,5,5,-5,.5,500))}function Mf(e,t){gf.call(this,e,t),this.type="DirectionalLight",this.position.copy(Cr.DefaultUp),this.updateMatrix(),this.target=new Cr,this.shadow=new Tf}function Pf(e,t){gf.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0}function Af(e,t,n,r){gf.call(this,e,t),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==r?r:10}function Cf(){this.coefficients=[];for(var e=0;e<9;e++)this.coefficients.push(new ir)}function kf(e,t){gf.call(this,void 0,t),this.type="LightProbe",this.sh=void 0!==e?e:new Cf}function jf(e){Fl.call(this,e),this.textures={}}mf.prototype=Object.assign(Object.create(Yl.prototype),{constructor:mf,add:function(e){this.curves.push(e)},closePath:function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new cf(t,e))},getPoint:function(e){for(var t=e*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=t){var i=n[r]-t,o=this.curves[r],a=o.getLength(),s=0===a?0:1-i/a;return o.getPointAt(s)}r++}return null},getLength:function(){var e=this.getCurveLengths();return e[e.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,n=0,r=this.curves.length;n<r;n++)t+=this.curves[n].getLength(),e.push(t);return this.cacheLengths=e,e},getSpacedPoints:function(e){void 0===e&&(e=40);for(var t=[],n=0;n<=e;n++)t.push(this.getPoint(n/e));return this.autoClose&&t.push(t[0]),t},getPoints:function(e){e=e||12;for(var t,n=[],r=0,i=this.curves;r<i.length;r++)for(var o=i[r],a=o&&o.isEllipseCurve?2*e:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?e*o.points.length:e,s=o.getPoints(a),u=0;u<s.length;u++){var c=s[u];t&&t.equals(c)||(n.push(c),t=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(e){Yl.prototype.copy.call(this,e),this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this},toJSON:function(){var e=Yl.prototype.toJSON.call(this);e.autoClose=this.autoClose,e.curves=[];for(var t=0,n=this.curves.length;t<n;t++){var r=this.curves[t];e.curves.push(r.toJSON())}return e},fromJSON:function(e){Yl.prototype.fromJSON.call(this,e),this.autoClose=e.autoClose,this.curves=[];for(var t=0,n=e.curves.length;t<n;t++){var r=e.curves[t];this.curves.push((new df[r.type]).fromJSON(r))}return this}}),vf.prototype=Object.assign(Object.create(mf.prototype),{constructor:vf,setFromPoints:function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,n=e.length;t<n;t++)this.lineTo(e[t].x,e[t].y);return this},moveTo:function(e,t){return this.currentPoint.set(e,t),this},lineTo:function(e,t){var n=new cf(this.currentPoint.clone(),new qn(e,t));return this.curves.push(n),this.currentPoint.set(e,t),this},quadraticCurveTo:function(e,t,n,r){var i=new ff(this.currentPoint.clone(),new qn(e,t),new qn(n,r));return this.curves.push(i),this.currentPoint.set(n,r),this},bezierCurveTo:function(e,t,n,r,i,o){var a=new sf(this.currentPoint.clone(),new qn(e,t),new qn(n,r),new qn(i,o));return this.curves.push(a),this.currentPoint.set(i,o),this},splineThru:function(e){var t=new hf([this.currentPoint.clone()].concat(e));return this.curves.push(t),this.currentPoint.copy(e[e.length-1]),this},arc:function(e,t,n,r,i,o){var a=this.currentPoint.x,s=this.currentPoint.y;return this.absarc(e+a,t+s,n,r,i,o),this},absarc:function(e,t,n,r,i,o){return this.absellipse(e,t,n,n,r,i,o),this},ellipse:function(e,t,n,r,i,o,a,s){var u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,n,r,i,o,a,s),this},absellipse:function(e,t,n,r,i,o,a,s){var u=new Xl(e,t,n,r,i,o,a,s);if(this.curves.length>0){var c=u.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(u);var l=u.getPoint(1);return this.currentPoint.copy(l),this},copy:function(e){return mf.prototype.copy.call(this,e),this.currentPoint.copy(e.currentPoint),this},toJSON:function(){var e=mf.prototype.toJSON.call(this);return e.currentPoint=this.currentPoint.toArray(),e},fromJSON:function(e){return mf.prototype.fromJSON.call(this,e),this.currentPoint.fromArray(e.currentPoint),this}}),yf.prototype=Object.assign(Object.create(vf.prototype),{constructor:yf,getPointsHoles:function(e){for(var t=[],n=0,r=this.holes.length;n<r;n++)t[n]=this.holes[n].getPoints(e);return t},extractPoints:function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},copy:function(e){vf.prototype.copy.call(this,e),this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push(r.clone())}return this},toJSON:function(){var e=vf.prototype.toJSON.call(this);e.uuid=this.uuid,e.holes=[];for(var t=0,n=this.holes.length;t<n;t++){var r=this.holes[t];e.holes.push(r.toJSON())}return e},fromJSON:function(e){vf.prototype.fromJSON.call(this,e),this.uuid=e.uuid,this.holes=[];for(var t=0,n=e.holes.length;t<n;t++){var r=e.holes[t];this.holes.push((new vf).fromJSON(r))}return this}}),gf.prototype=Object.assign(Object.create(Cr.prototype),{constructor:gf,isLight:!0,copy:function(e){return Cr.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},toJSON:function(e){var t=Cr.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),void 0!==this.shadow&&(t.object.shadow=this.shadow.toJSON()),t}}),bf.prototype=Object.assign(Object.create(gf.prototype),{constructor:bf,isHemisphereLight:!0,copy:function(e){return gf.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this}}),Object.assign(_f.prototype,{_projScreenMatrix:new pr,_lightPositionWorld:new ir,_lookTarget:new ir,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(e){var t=this.camera,n=this.matrix,r=this._projScreenMatrix,i=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(e.matrixWorld),t.position.copy(o),i.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(i),t.updateMatrixWorld(),r.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(t.projectionMatrix),n.multiply(t.matrixWorldInverse)},getViewport:function(e){return this._viewports[e]},getFrameExtents:function(){return this._frameExtents},copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e={};return 0!==this.bias&&(e.bias=this.bias),0!==this.normalBias&&(e.normalBias=this.normalBias),1!==this.radius&&(e.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}),wf.prototype=Object.assign(Object.create(_f.prototype),{constructor:wf,isSpotLightShadow:!0,updateMatrices:function(e){var t=this.camera,n=2*Wn.RAD2DEG*e.angle,r=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;n===t.fov&&r===t.aspect&&i===t.far||(t.fov=n,t.aspect=r,t.far=i,t.updateProjectionMatrix()),_f.prototype.updateMatrices.call(this,e)}}),xf.prototype=Object.assign(Object.create(gf.prototype),{constructor:xf,isSpotLight:!0,copy:function(e){return gf.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Sf.prototype=Object.assign(Object.create(_f.prototype),{constructor:Sf,isPointLightShadow:!0,updateMatrices:function(e,t){void 0===t&&(t=0);var n=this.camera,r=this.matrix,i=this._lightPositionWorld,o=this._lookTarget,a=this._projScreenMatrix;i.setFromMatrixPosition(e.matrixWorld),n.position.copy(i),o.copy(n.position),o.add(this._cubeDirections[t]),n.up.copy(this._cubeUps[t]),n.lookAt(o),n.updateMatrixWorld(),r.makeTranslation(-i.x,-i.y,-i.z),a.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(a)}}),Ef.prototype=Object.assign(Object.create(gf.prototype),{constructor:Ef,isPointLight:!0,copy:function(e){return gf.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}),Of.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Of,isOrthographicCamera:!0,copy:function(e,t){return Ao.prototype.copy.call(this,e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this},setViewOffset:function(e,t,n,r,i,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=n,this.view.offsetY=r,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2,i=n-e,o=n+e,a=r+t,s=r-t;if(null!==this.view&&this.view.enabled){var u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o=(i+=u*this.view.offsetX)+u*this.view.width,s=(a-=c*this.view.offsetY)-c*this.view.height}this.projectionMatrix.makeOrthographic(i,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(e){var t=Cr.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}),Tf.prototype=Object.assign(Object.create(_f.prototype),{constructor:Tf,isDirectionalLightShadow:!0,updateMatrices:function(e){_f.prototype.updateMatrices.call(this,e)}}),Mf.prototype=Object.assign(Object.create(gf.prototype),{constructor:Mf,isDirectionalLight:!0,copy:function(e){return gf.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}),Pf.prototype=Object.assign(Object.create(gf.prototype),{constructor:Pf,isAmbientLight:!0}),Af.prototype=Object.assign(Object.create(gf.prototype),{constructor:Af,isRectAreaLight:!0,copy:function(e){return gf.prototype.copy.call(this,e),this.width=e.width,this.height=e.height,this},toJSON:function(e){var t=gf.prototype.toJSON.call(this,e);return t.object.width=this.width,t.object.height=this.height,t}}),Object.assign(Cf.prototype,{isSphericalHarmonics3:!0,set:function(e){for(var t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this},zero:function(){for(var e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this},getAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*r),t.addScaledVector(o[2],.488603*i),t.addScaledVector(o[3],.488603*n),t.addScaledVector(o[4],n*r*1.092548),t.addScaledVector(o[5],r*i*1.092548),t.addScaledVector(o[6],.315392*(3*i*i-1)),t.addScaledVector(o[7],n*i*1.092548),t.addScaledVector(o[8],.546274*(n*n-r*r)),t},getIrradianceAt:function(e,t){var n=e.x,r=e.y,i=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],1.023328*r),t.addScaledVector(o[2],1.023328*i),t.addScaledVector(o[3],1.023328*n),t.addScaledVector(o[4],.858086*n*r),t.addScaledVector(o[5],.858086*r*i),t.addScaledVector(o[6],.743125*i*i-.247708),t.addScaledVector(o[7],.858086*n*i),t.addScaledVector(o[8],.429043*(n*n-r*r)),t},add:function(e){for(var t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this},addScaledSH:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].addScaledVector(e.coefficients[n],t);return this},scale:function(e){for(var t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this},lerp:function(e,t){for(var n=0;n<9;n++)this.coefficients[n].lerp(e.coefficients[n],t);return this},equals:function(e){for(var t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0},copy:function(e){return this.set(e.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(e,t){void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].fromArray(e,t+3*r);return this},toArray:function(e,t){void 0===e&&(e=[]),void 0===t&&(t=0);for(var n=this.coefficients,r=0;r<9;r++)n[r].toArray(e,t+3*r);return e}}),Object.assign(Cf,{getBasisAt:function(e,t){var n=e.x,r=e.y,i=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*i,t[3]=.488603*n,t[4]=1.092548*n*r,t[5]=1.092548*r*i,t[6]=.315392*(3*i*i-1),t[7]=1.092548*n*i,t[8]=.546274*(n*n-r*r)}}),kf.prototype=Object.assign(Object.create(gf.prototype),{constructor:kf,isLightProbe:!0,copy:function(e){return gf.prototype.copy.call(this,e),this.sh.copy(e.sh),this},fromJSON:function(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this},toJSON:function(e){var t=gf.prototype.toJSON.call(this,e);return t.object.sh=this.sh.toArray(),t}}),jf.prototype=Object.assign(Object.create(Fl.prototype),{constructor:jf,load:function(e,t,n,r){var i=this,o=new zl(i.manager);o.setPath(i.path),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(e){var t=this.textures;function n(e){return void 0===t[e]&&console.warn("THREE.MaterialLoader: Undefined texture",e),t[e]}var r=new _l[e.type];if(void 0!==e.uuid&&(r.uuid=e.uuid),void 0!==e.name&&(r.name=e.name),void 0!==e.color&&r.color.setHex(e.color),void 0!==e.roughness&&(r.roughness=e.roughness),void 0!==e.metalness&&(r.metalness=e.metalness),void 0!==e.sheen&&(r.sheen=(new wi).setHex(e.sheen)),void 0!==e.emissive&&r.emissive.setHex(e.emissive),void 0!==e.specular&&r.specular.setHex(e.specular),void 0!==e.shininess&&(r.shininess=e.shininess),void 0!==e.clearcoat&&(r.clearcoat=e.clearcoat),void 0!==e.clearcoatRoughness&&(r.clearcoatRoughness=e.clearcoatRoughness),void 0!==e.fog&&(r.fog=e.fog),void 0!==e.flatShading&&(r.flatShading=e.flatShading),void 0!==e.blending&&(r.blending=e.blending),void 0!==e.combine&&(r.combine=e.combine),void 0!==e.side&&(r.side=e.side),void 0!==e.opacity&&(r.opacity=e.opacity),void 0!==e.transparent&&(r.transparent=e.transparent),void 0!==e.alphaTest&&(r.alphaTest=e.alphaTest),void 0!==e.depthTest&&(r.depthTest=e.depthTest),void 0!==e.depthWrite&&(r.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(r.colorWrite=e.colorWrite),void 0!==e.stencilWrite&&(r.stencilWrite=e.stencilWrite),void 0!==e.stencilWriteMask&&(r.stencilWriteMask=e.stencilWriteMask),void 0!==e.stencilFunc&&(r.stencilFunc=e.stencilFunc),void 0!==e.stencilRef&&(r.stencilRef=e.stencilRef),void 0!==e.stencilFuncMask&&(r.stencilFuncMask=e.stencilFuncMask),void 0!==e.stencilFail&&(r.stencilFail=e.stencilFail),void 0!==e.stencilZFail&&(r.stencilZFail=e.stencilZFail),void 0!==e.stencilZPass&&(r.stencilZPass=e.stencilZPass),void 0!==e.wireframe&&(r.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(r.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.wireframeLinecap&&(r.wireframeLinecap=e.wireframeLinecap),void 0!==e.wireframeLinejoin&&(r.wireframeLinejoin=e.wireframeLinejoin),void 0!==e.rotation&&(r.rotation=e.rotation),1!==e.linewidth&&(r.linewidth=e.linewidth),void 0!==e.dashSize&&(r.dashSize=e.dashSize),void 0!==e.gapSize&&(r.gapSize=e.gapSize),void 0!==e.scale&&(r.scale=e.scale),void 0!==e.polygonOffset&&(r.polygonOffset=e.polygonOffset),void 0!==e.polygonOffsetFactor&&(r.polygonOffsetFactor=e.polygonOffsetFactor),void 0!==e.polygonOffsetUnits&&(r.polygonOffsetUnits=e.polygonOffsetUnits),void 0!==e.skinning&&(r.skinning=e.skinning),void 0!==e.morphTargets&&(r.morphTargets=e.morphTargets),void 0!==e.morphNormals&&(r.morphNormals=e.morphNormals),void 0!==e.dithering&&(r.dithering=e.dithering),void 0!==e.vertexTangents&&(r.vertexTangents=e.vertexTangents),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.toneMapped&&(r.toneMapped=e.toneMapped),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.vertexColors&&("number"===typeof e.vertexColors?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),void 0!==e.uniforms)for(var i in e.uniforms){var o=e.uniforms[i];switch(r.uniforms[i]={},o.type){case"t":r.uniforms[i].value=n(o.value);break;case"c":r.uniforms[i].value=(new wi).setHex(o.value);break;case"v2":r.uniforms[i].value=(new qn).fromArray(o.value);break;case"v3":r.uniforms[i].value=(new ir).fromArray(o.value);break;case"v4":r.uniforms[i].value=(new Kn).fromArray(o.value);break;case"m3":r.uniforms[i].value=(new Yn).fromArray(o.value);case"m4":r.uniforms[i].value=(new pr).fromArray(o.value);break;default:r.uniforms[i].value=o.value}}if(void 0!==e.defines&&(r.defines=e.defines),void 0!==e.vertexShader&&(r.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(r.fragmentShader=e.fragmentShader),void 0!==e.extensions)for(var a in e.extensions)r.extensions[a]=e.extensions[a];if(void 0!==e.shading&&(r.flatShading=1===e.shading),void 0!==e.size&&(r.size=e.size),void 0!==e.sizeAttenuation&&(r.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(r.map=n(e.map)),void 0!==e.matcap&&(r.matcap=n(e.matcap)),void 0!==e.alphaMap&&(r.alphaMap=n(e.alphaMap)),void 0!==e.bumpMap&&(r.bumpMap=n(e.bumpMap)),void 0!==e.bumpScale&&(r.bumpScale=e.bumpScale),void 0!==e.normalMap&&(r.normalMap=n(e.normalMap)),void 0!==e.normalMapType&&(r.normalMapType=e.normalMapType),void 0!==e.normalScale){var s=e.normalScale;!1===Array.isArray(s)&&(s=[s,s]),r.normalScale=(new qn).fromArray(s)}return void 0!==e.displacementMap&&(r.displacementMap=n(e.displacementMap)),void 0!==e.displacementScale&&(r.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(r.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(r.roughnessMap=n(e.roughnessMap)),void 0!==e.metalnessMap&&(r.metalnessMap=n(e.metalnessMap)),void 0!==e.emissiveMap&&(r.emissiveMap=n(e.emissiveMap)),void 0!==e.emissiveIntensity&&(r.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(r.specularMap=n(e.specularMap)),void 0!==e.envMap&&(r.envMap=n(e.envMap)),void 0!==e.envMapIntensity&&(r.envMapIntensity=e.envMapIntensity),void 0!==e.reflectivity&&(r.reflectivity=e.reflectivity),void 0!==e.refractionRatio&&(r.refractionRatio=e.refractionRatio),void 0!==e.lightMap&&(r.lightMap=n(e.lightMap)),void 0!==e.lightMapIntensity&&(r.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(r.aoMap=n(e.aoMap)),void 0!==e.aoMapIntensity&&(r.aoMapIntensity=e.aoMapIntensity),void 0!==e.gradientMap&&(r.gradientMap=n(e.gradientMap)),void 0!==e.clearcoatMap&&(r.clearcoatMap=n(e.clearcoatMap)),void 0!==e.clearcoatRoughnessMap&&(r.clearcoatRoughnessMap=n(e.clearcoatRoughnessMap)),void 0!==e.clearcoatNormalMap&&(r.clearcoatNormalMap=n(e.clearcoatNormalMap)),void 0!==e.clearcoatNormalScale&&(r.clearcoatNormalScale=(new qn).fromArray(e.clearcoatNormalScale)),r},setTextures:function(e){return this.textures=e,this}});var Rf={decodeText:function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",n=0,r=e.length;n<r;n++)t+=String.fromCharCode(e[n]);try{return decodeURIComponent(escape(t))}catch(i){return t}},extractUrlBase:function(e){var t=e.lastIndexOf("/");return-1===t?"./":e.substr(0,t+1)}};function Df(){Zi.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Nf(e,t,n,r){"number"===typeof n&&(r=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),ki.call(this,e,t,n),this.meshPerAttribute=r||1}function Lf(e){Fl.call(this,e)}Df.prototype=Object.assign(Object.create(Zi.prototype),{constructor:Df,isInstancedBufferGeometry:!0,copy:function(e){return Zi.prototype.copy.call(this,e),this.instanceCount=e.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var e=Zi.prototype.toJSON.call(this);return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}),Nf.prototype=Object.assign(Object.create(ki.prototype),{constructor:Nf,isInstancedBufferAttribute:!0,copy:function(e){return ki.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},toJSON:function(){var e=ki.prototype.toJSON.call(this);return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}),Lf.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Lf,load:function(e,t,n,r){var i=this,o=new zl(i.manager);o.setPath(i.path),o.load(e,(function(n){try{t(i.parse(JSON.parse(n)))}catch(o){r?r(o):console.error(o),i.manager.itemError(e)}}),n,r)},parse:function(e){var t={},n={};function r(e,r){if(void 0!==t[r])return t[r];var i=e.interleavedBuffers[r],o=function(e,t){if(void 0!==n[t])return n[t];var r=e.arrayBuffers[t],i=new Uint32Array(r).buffer;return n[t]=i,i}(e,i.buffer),a=new Ys(new If[i.type](o),i.stride);return a.uuid=i.uuid,t[r]=a,a}var i=e.isInstancedBufferGeometry?new Df:new Zi,o=e.data.index;if(void 0!==o){var a=new If[o.type](o.array);i.setIndex(new ki(a,1))}var s=e.data.attributes;for(var u in s){var c=s[u],l=void 0;if(c.isInterleavedBufferAttribute){l=new Qs(r(e.data,c.data),c.itemSize,c.offset,c.normalized)}else{var f=new If[c.type](c.array);l=new(c.isInstancedBufferAttribute?Nf:ki)(f,c.itemSize,c.normalized)}void 0!==c.name&&(l.name=c.name),i.setAttribute(u,l)}var p=e.data.morphAttributes;if(p)for(var h in p){for(var d=p[h],m=[],v=0,y=d.length;v<y;v++){var g=d[v],b=void 0;if(g.isInterleavedBufferAttribute)b=new Qs(r(e.data,g.data),g.itemSize,g.offset,g.normalized);else b=new ki(new If[g.type](g.array),g.itemSize,g.normalized);void 0!==g.name&&(b.name=g.name),m.push(b)}i.morphAttributes[h]=m}e.data.morphTargetsRelative&&(i.morphTargetsRelative=!0);var _=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==_)for(var w=0,x=_.length;w!==x;++w){var S=_[w];i.addGroup(S.start,S.count,S.materialIndex)}var E=e.data.boundingSphere;if(void 0!==E){var O=new ir;void 0!==E.center&&O.fromArray(E.center),i.boundingSphere=new Yr(O,E.radius)}return e.name&&(i.name=e.name),e.userData&&(i.userData=e.userData),i}});var If={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!==typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function Bf(e){Fl.call(this,e)}Bf.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Bf,load:function(e,t,n,r){var i=this,o=""===this.path?Rf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;var a=new zl(i.manager);a.setPath(this.path),a.load(e,(function(n){var o=null;try{o=JSON.parse(n)}catch(s){return void 0!==r&&r(s),void console.error("THREE:ObjectLoader: Can't parse "+e+".",s.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?i.parse(o,t):console.error("THREE.ObjectLoader: Can't load "+e)}),n,r)},parse:function(e,t){var n=this.parseShape(e.shapes),r=this.parseGeometries(e.geometries,n),i=this.parseImages(e.images,(function(){void 0!==t&&t(s)})),o=this.parseTextures(e.textures,i),a=this.parseMaterials(e.materials,o),s=this.parseObject(e.object,r,a);return e.animations&&(s.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(s),s},parseShape:function(e){var t={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var i=(new yf).fromJSON(e[n]);t[i.uuid]=i}return t},parseGeometries:function(e,t){var n,r={};if(void 0!==e)for(var i=new Lf,o=0,a=e.length;o<a;o++){var s=void 0,u=e[o];switch(u.type){case"PlaneGeometry":case"PlaneBufferGeometry":s=new cl[u.type](u.width,u.height,u.widthSegments,u.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":s=new cl[u.type](u.width,u.height,u.depth,u.widthSegments,u.heightSegments,u.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":s=new cl[u.type](u.radius,u.segments,u.thetaStart,u.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":s=new cl[u.type](u.radiusTop,u.radiusBottom,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":s=new cl[u.type](u.radius,u.height,u.radialSegments,u.heightSegments,u.openEnded,u.thetaStart,u.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":s=new cl[u.type](u.radius,u.widthSegments,u.heightSegments,u.phiStart,u.phiLength,u.thetaStart,u.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":s=new cl[u.type](u.radius,u.detail);break;case"RingGeometry":case"RingBufferGeometry":s=new cl[u.type](u.innerRadius,u.outerRadius,u.thetaSegments,u.phiSegments,u.thetaStart,u.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":s=new cl[u.type](u.radius,u.tube,u.radialSegments,u.tubularSegments,u.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":s=new cl[u.type](u.radius,u.tube,u.tubularSegments,u.radialSegments,u.p,u.q);break;case"TubeGeometry":case"TubeBufferGeometry":s=new cl[u.type]((new df[u.path.type]).fromJSON(u.path),u.tubularSegments,u.radius,u.radialSegments,u.closed);break;case"LatheGeometry":case"LatheBufferGeometry":s=new cl[u.type](u.points,u.segments,u.phiStart,u.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":s=new cl[u.type](u.vertices,u.indices,u.radius,u.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":n=[];for(var c=0,l=u.shapes.length;c<l;c++){var f=t[u.shapes[c]];n.push(f)}s=new cl[u.type](n,u.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":n=[];for(var p=0,h=u.shapes.length;p<h;p++){var d=t[u.shapes[p]];n.push(d)}var m=u.options.extrudePath;void 0!==m&&(u.options.extrudePath=(new df[m.type]).fromJSON(m)),s=new cl[u.type](n,u.options);break;case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(u);break;case"Geometry":console.error('THREE.ObjectLoader: Loading "Geometry" is not supported anymore.');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+u.type+'"');continue}s.uuid=u.uuid,void 0!==u.name&&(s.name=u.name),!0===s.isBufferGeometry&&void 0!==u.userData&&(s.userData=u.userData),r[u.uuid]=s}return r},parseMaterials:function(e,t){var n={},r={};if(void 0!==e){var i=new jf;i.setTextures(t);for(var o=0,a=e.length;o<a;o++){var s=e[o];if("MultiMaterial"===s.type){for(var u=[],c=0;c<s.materials.length;c++){var l=s.materials[c];void 0===n[l.uuid]&&(n[l.uuid]=i.parse(l)),u.push(n[l.uuid])}r[s.uuid]=u}else void 0===n[s.uuid]&&(n[s.uuid]=i.parse(s)),r[s.uuid]=n[s.uuid]}}return r},parseAnimations:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n],i=Dl.parse(r);void 0!==r.uuid&&(i.uuid=r.uuid),t.push(i)}return t},parseImages:function(e,t){var n,r=this,i={};function o(e){return r.manager.itemStart(e),n.load(e,(function(){r.manager.itemEnd(e)}),void 0,(function(){r.manager.itemError(e),r.manager.itemEnd(e)}))}if(void 0!==e&&e.length>0){var a=new Il(t);(n=new Gl(a)).setCrossOrigin(this.crossOrigin);for(var s=0,u=e.length;s<u;s++){var c=e[s],l=c.url;if(Array.isArray(l)){i[c.uuid]=[];for(var f=0,p=l.length;f<p;f++){var h=l[f],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:r.resourcePath+h;i[c.uuid].push(o(d))}}else{var m=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:r.resourcePath+c.url;i[c.uuid]=o(m)}}}return i},parseTextures:function(e,t){function n(e,t){return"number"===typeof e?e:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",e),t[e])}var r={};if(void 0!==e)for(var i=0,o=e.length;i<o;i++){var a=e[i];void 0===a.image&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),void 0===t[a.image]&&console.warn("THREE.ObjectLoader: Undefined image",a.image);var s=void 0;(s=Array.isArray(t[a.image])?new ra(t[a.image]):new Qn(t[a.image])).needsUpdate=!0,s.uuid=a.uuid,void 0!==a.name&&(s.name=a.name),void 0!==a.mapping&&(s.mapping=n(a.mapping,Uf)),void 0!==a.offset&&s.offset.fromArray(a.offset),void 0!==a.repeat&&s.repeat.fromArray(a.repeat),void 0!==a.center&&s.center.fromArray(a.center),void 0!==a.rotation&&(s.rotation=a.rotation),void 0!==a.wrap&&(s.wrapS=n(a.wrap[0],zf),s.wrapT=n(a.wrap[1],zf)),void 0!==a.format&&(s.format=a.format),void 0!==a.type&&(s.type=a.type),void 0!==a.encoding&&(s.encoding=a.encoding),void 0!==a.minFilter&&(s.minFilter=n(a.minFilter,Vf)),void 0!==a.magFilter&&(s.magFilter=n(a.magFilter,Vf)),void 0!==a.anisotropy&&(s.anisotropy=a.anisotropy),void 0!==a.flipY&&(s.flipY=a.flipY),void 0!==a.premultiplyAlpha&&(s.premultiplyAlpha=a.premultiplyAlpha),void 0!==a.unpackAlignment&&(s.unpackAlignment=a.unpackAlignment),r[a.uuid]=s}return r},parseObject:function(e,t,n){var r,i,o;function a(e){return void 0===t[e]&&console.warn("THREE.ObjectLoader: Undefined geometry",e),t[e]}function s(e){if(void 0!==e){if(Array.isArray(e)){for(var t=[],r=0,i=e.length;r<i;r++){var o=e[r];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),t.push(n[o])}return t}return void 0===n[e]&&console.warn("THREE.ObjectLoader: Undefined material",e),n[e]}}switch(e.type){case"Scene":r=new kr,void 0!==e.background&&Number.isInteger(e.background)&&(r.background=new wi(e.background)),void 0!==e.fog&&("Fog"===e.fog.type?r.fog=new qs(e.fog.color,e.fog.near,e.fog.far):"FogExp2"===e.fog.type&&(r.fog=new Ws(e.fog.color,e.fog.density)));break;case"PerspectiveCamera":r=new Co(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(r.focus=e.focus),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.filmGauge&&(r.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(r.filmOffset=e.filmOffset),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"OrthographicCamera":r=new Of(e.left,e.right,e.top,e.bottom,e.near,e.far),void 0!==e.zoom&&(r.zoom=e.zoom),void 0!==e.view&&(r.view=Object.assign({},e.view));break;case"AmbientLight":r=new Pf(e.color,e.intensity);break;case"DirectionalLight":r=new Mf(e.color,e.intensity);break;case"PointLight":r=new Ef(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":r=new Af(e.color,e.intensity,e.width,e.height);break;case"SpotLight":r=new xf(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":r=new bf(e.color,e.groundColor,e.intensity);break;case"LightProbe":r=(new kf).fromJSON(e);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":r=new mo(i=a(e.geometry),o=s(e.material));break;case"InstancedMesh":i=a(e.geometry),o=s(e.material);var u=e.count,c=e.instanceMatrix;(r=new Ou(i,o,u)).instanceMatrix=new ki(new Float32Array(c.array),16);break;case"LOD":r=new mu;break;case"Line":r=new ju(a(e.geometry),s(e.material),e.mode);break;case"LineLoop":r=new Lu(a(e.geometry),s(e.material));break;case"LineSegments":r=new Nu(a(e.geometry),s(e.material));break;case"PointCloud":case"Points":r=new Vu(a(e.geometry),s(e.material));break;case"Sprite":r=new fu(s(e.material));break;case"Group":r=new Us;break;default:r=new Cr}if(r.uuid=e.uuid,void 0!==e.name&&(r.name=e.name),void 0!==e.matrix?(r.matrix.fromArray(e.matrix),void 0!==e.matrixAutoUpdate&&(r.matrixAutoUpdate=e.matrixAutoUpdate),r.matrixAutoUpdate&&r.matrix.decompose(r.position,r.quaternion,r.scale)):(void 0!==e.position&&r.position.fromArray(e.position),void 0!==e.rotation&&r.rotation.fromArray(e.rotation),void 0!==e.quaternion&&r.quaternion.fromArray(e.quaternion),void 0!==e.scale&&r.scale.fromArray(e.scale)),void 0!==e.castShadow&&(r.castShadow=e.castShadow),void 0!==e.receiveShadow&&(r.receiveShadow=e.receiveShadow),e.shadow&&(void 0!==e.shadow.bias&&(r.shadow.bias=e.shadow.bias),void 0!==e.shadow.normalBias&&(r.shadow.normalBias=e.shadow.normalBias),void 0!==e.shadow.radius&&(r.shadow.radius=e.shadow.radius),void 0!==e.shadow.mapSize&&r.shadow.mapSize.fromArray(e.shadow.mapSize),void 0!==e.shadow.camera&&(r.shadow.camera=this.parseObject(e.shadow.camera))),void 0!==e.visible&&(r.visible=e.visible),void 0!==e.frustumCulled&&(r.frustumCulled=e.frustumCulled),void 0!==e.renderOrder&&(r.renderOrder=e.renderOrder),void 0!==e.userData&&(r.userData=e.userData),void 0!==e.layers&&(r.layers.mask=e.layers),void 0!==e.children)for(var l=e.children,f=0;f<l.length;f++)r.add(this.parseObject(l[f],t,n));if("LOD"===e.type){void 0!==e.autoUpdate&&(r.autoUpdate=e.autoUpdate);for(var p=e.levels,h=0;h<p.length;h++){var d=p[h],m=r.getObjectByProperty("uuid",d.object);void 0!==m&&r.addLevel(m,d.distance)}}return r}});var Ff,Uf={UVMapping:pe,CubeReflectionMapping:he,CubeRefractionMapping:de,EquirectangularReflectionMapping:me,EquirectangularRefractionMapping:ve,CubeUVReflectionMapping:ye,CubeUVRefractionMapping:ge},zf={RepeatWrapping:be,ClampToEdgeWrapping:_e,MirroredRepeatWrapping:we},Vf={NearestFilter:xe,NearestMipmapNearestFilter:Se,NearestMipmapLinearFilter:Oe,LinearFilter:Me,LinearMipmapNearestFilter:Pe,LinearMipmapLinearFilter:Ce};function Hf(e){"undefined"===typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"===typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Fl.call(this,e),this.options={premultiplyAlpha:"none"}}function $f(){this.type="ShapePath",this.color=new wi,this.subPaths=[],this.currentPath=null}function Gf(e){this.type="Font",this.data=e}function Wf(e,t,n,r,i){var o=i.glyphs[e]||i.glyphs["?"];if(o){var a,s,u,c,l,f,p,h,d=new $f;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),v=0,y=m.length;v<y;){switch(m[v++]){case"m":a=m[v++]*t+n,s=m[v++]*t+r,d.moveTo(a,s);break;case"l":a=m[v++]*t+n,s=m[v++]*t+r,d.lineTo(a,s);break;case"q":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,f=m[v++]*t+r,d.quadraticCurveTo(l,f,u,c);break;case"b":u=m[v++]*t+n,c=m[v++]*t+r,l=m[v++]*t+n,f=m[v++]*t+r,p=m[v++]*t+n,h=m[v++]*t+r,d.bezierCurveTo(l,f,p,h,u,c)}}return{offsetX:o.ha*t,path:d}}console.error('THREE.Font: character "'+e+'" does not exists in font family '+i.familyName+".")}function qf(e){Fl.call(this,e)}Hf.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Hf,isImageBitmapLoader:!0,setOptions:function(e){return this.options=e,this},load:function(e,t,n,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);var i=this,o=Ll.get(e);if(void 0!==o)return i.manager.itemStart(e),setTimeout((function(){t&&t(o),i.manager.itemEnd(e)}),0),o;fetch(e).then((function(e){return e.blob()})).then((function(e){return createImageBitmap(e,i.options)})).then((function(n){Ll.add(e,n),t&&t(n),i.manager.itemEnd(e)})).catch((function(t){r&&r(t),i.manager.itemError(e),i.manager.itemEnd(e)})),i.manager.itemStart(e)}}),Object.assign($f.prototype,{moveTo:function(e,t){return this.currentPath=new vf,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this},lineTo:function(e,t){return this.currentPath.lineTo(e,t),this},quadraticCurveTo:function(e,t,n,r){return this.currentPath.quadraticCurveTo(e,t,n,r),this},bezierCurveTo:function(e,t,n,r,i,o){return this.currentPath.bezierCurveTo(e,t,n,r,i,o),this},splineThru:function(e){return this.currentPath.splineThru(e),this},toShapes:function(e,t){function n(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n],o=new yf;o.curves=i.curves,t.push(o)}return t}function r(e,t){for(var n=t.length,r=!1,i=n-1,o=0;o<n;i=o++){var a=t[i],s=t[o],u=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=t[o],u=-u,s=t[i],c=-c),e.y<a.y||e.y>s.y)continue;if(e.y===a.y){if(e.x===a.x)return!0}else{var l=c*(e.x-a.x)-u*(e.y-a.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(e.y!==a.y)continue;if(s.x<=e.x&&e.x<=a.x||a.x<=e.x&&e.x<=s.x)return!0}}return r}var i=Bc.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===t)return n(o);var a,s,u,c=[];if(1===o.length)return s=o[0],(u=new yf).curves=s.curves,c.push(u),c;var l=!i(o[0].getPoints());l=e?!l:l;var f,p,h=[],d=[],m=[],v=0;d[v]=void 0,m[v]=[];for(var y=0,g=o.length;y<g;y++)a=i(f=(s=o[y]).getPoints()),(a=e?!a:a)?(!l&&d[v]&&v++,d[v]={s:new yf,p:f},d[v].s.curves=s.curves,l&&v++,m[v]=[]):m[v].push({h:s,p:f[0]});if(!d[0])return n(o);if(d.length>1){for(var b=!1,_=[],w=0,x=d.length;w<x;w++)h[w]=[];for(var S=0,E=d.length;S<E;S++)for(var O=m[S],T=0;T<O.length;T++){for(var M=O[T],P=!0,A=0;A<d.length;A++)r(M.p,d[A].p)&&(S!==A&&_.push({froms:S,tos:A,hole:T}),P?(P=!1,h[A].push(M)):b=!0);P&&h[S].push(M)}_.length>0&&(b||(m=h))}for(var C=0,k=d.length;C<k;C++){u=d[C].s,c.push(u);for(var j=0,R=(p=m[C]).length;j<R;j++)u.holes.push(p[j].h)}return c}}),Object.assign(Gf.prototype,{isFont:!0,generateShapes:function(e,t){void 0===t&&(t=100);for(var n=[],r=function(e,t,n){for(var r=Array.from?Array.from(e):String(e).split(""),i=t/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*i,a=[],s=0,u=0,c=0;c<r.length;c++){var l=r[c];if("\n"===l)s=0,u-=o;else{var f=Wf(l,i,s,u,n);s+=f.offsetX,a.push(f.path)}}return a}(e,t,this.data),i=0,o=r.length;i<o;i++)Array.prototype.push.apply(n,r[i].toShapes());return n}}),qf.prototype=Object.assign(Object.create(Fl.prototype),{constructor:qf,load:function(e,t,n,r){var i=this,o=new zl(this.manager);o.setPath(this.path),o.load(e,(function(e){var n;try{n=JSON.parse(e)}catch(o){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(e.substring(65,e.length-2))}var r=i.parse(n);t&&t(r)}),n,r)},parse:function(e){return new Gf(e)}});var Yf={getContext:function(){return void 0===Ff&&(Ff=new(window.AudioContext||window.webkitAudioContext)),Ff},setContext:function(e){Ff=e}};function Xf(e){Fl.call(this,e)}function Zf(e,t,n){kf.call(this,void 0,n);var r=(new wi).set(e),i=(new wi).set(t),o=new ir(r.r,r.g,r.b),a=new ir(i.r,i.g,i.b),s=Math.sqrt(Math.PI),u=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(u)}function Qf(e,t){kf.call(this,void 0,t);var n=(new wi).set(e);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Xf.prototype=Object.assign(Object.create(Fl.prototype),{constructor:Xf,load:function(e,t,n,r){var i=this,o=new zl(i.manager);o.setResponseType("arraybuffer"),o.setPath(i.path),o.load(e,(function(n){try{var o=n.slice(0);Yf.getContext().decodeAudioData(o,(function(e){t(e)}))}catch(a){r?r(a):console.error(a),i.manager.itemError(e)}}),n,r)}}),Zf.prototype=Object.assign(Object.create(kf.prototype),{constructor:Zf,isHemisphereLightProbe:!0,copy:function(e){return kf.prototype.copy.call(this,e),this},toJSON:function(e){return kf.prototype.toJSON.call(this,e)}}),Qf.prototype=Object.assign(Object.create(kf.prototype),{constructor:Qf,isAmbientLightProbe:!0,copy:function(e){return kf.prototype.copy.call(this,e),this},toJSON:function(e){return kf.prototype.toJSON.call(this,e)}});var Kf=new pr,Jf=new pr;function ep(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Co,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Co,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}function tp(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(ep.prototype,{update:function(e){var t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep;var n,r,i=e.projectionMatrix.clone(),o=t.eyeSep/2,a=o*t.near/t.focus,s=t.near*Math.tan(Wn.DEG2RAD*t.fov*.5)/t.zoom;Jf.elements[12]=-o,Kf.elements[12]=o,n=-s*t.aspect+a,r=s*t.aspect+a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraL.projectionMatrix.copy(i),n=-s*t.aspect-a,r=s*t.aspect-a,i.elements[0]=2*t.near/(r-n),i.elements[8]=(r+n)/(r-n),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Jf),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Kf)}}),Object.assign(tp.prototype,{start:function(){this.startTime=("undefined"===typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var t=("undefined"===typeof performance?Date:performance).now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}});var np=new ir,rp=new tr,ip=new ir,op=new ir;function ap(){Cr.call(this),this.type="AudioListener",this.context=Yf.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new tp}function sp(e){Cr.call(this),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this._startedAt=0,this._progress=0,this.filters=[]}ap.prototype=Object.assign(Object.create(Cr.prototype),{constructor:ap,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(e){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this},updateMatrixWorld:function(e){Cr.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(np,rp,ip),op.set(0,0,-1).applyQuaternion(rp),t.positionX){var r=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(np.x,r),t.positionY.linearRampToValueAtTime(np.y,r),t.positionZ.linearRampToValueAtTime(np.z,r),t.forwardX.linearRampToValueAtTime(op.x,r),t.forwardY.linearRampToValueAtTime(op.y,r),t.forwardZ.linearRampToValueAtTime(op.z,r),t.upX.linearRampToValueAtTime(n.x,r),t.upY.linearRampToValueAtTime(n.y,r),t.upZ.linearRampToValueAtTime(n.z,r)}else t.setPosition(np.x,np.y,np.z),t.setOrientation(op.x,op.y,op.z,n.x,n.y,n.z)}}),sp.prototype=Object.assign(Object.create(Cr.prototype),{constructor:sp,getOutput:function(){return this.gain},setNodeSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},setMediaElementSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this},setMediaStreamSource:function(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this},setBuffer:function(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(e){if(void 0===e&&(e=0),!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){this._startedAt=this.context.currentTime+e;var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(e){return e||(e=[]),!0===this.isPlaying?(this.disconnect(),this.filters=e,this.connect()):this.filters=e,this},setDetune:function(e){if(this.detune=e,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(e){return this.setFilters(e?[e]:[])},setPlaybackRate:function(e){if(!1!==this.hasPlaybackControl)return this.playbackRate=e,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(e){if(!1!==this.hasPlaybackControl)return this.loop=e,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},setLoopStart:function(e){return this.loopStart=e,this},setLoopEnd:function(e){return this.loopEnd=e,this},getVolume:function(){return this.gain.gain.value},setVolume:function(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}});var up=new ir,cp=new tr,lp=new ir,fp=new ir;function pp(e){sp.call(this,e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function hp(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}function dp(e,t,n){var r,i,o;switch(this.binding=e,this.valueSize=n,t){case"quaternion":r=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*n),this._workIndex=5;break;case"string":case"bool":r=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(5*n);break;default:r=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*n)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}pp.prototype=Object.assign(Object.create(sp.prototype),{constructor:pp,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(e){return this.panner.refDistance=e,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(e){return this.panner.rolloffFactor=e,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(e){return this.panner.distanceModel=e,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(e){return this.panner.maxDistance=e,this},setDirectionalCone:function(e,t,n){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(e){if(Cr.prototype.updateMatrixWorld.call(this,e),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(up,cp,lp),fp.set(0,0,1).applyQuaternion(cp);var t=this.panner;if(t.positionX){var n=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(up.x,n),t.positionY.linearRampToValueAtTime(up.y,n),t.positionZ.linearRampToValueAtTime(up.z,n),t.orientationX.linearRampToValueAtTime(fp.x,n),t.orientationY.linearRampToValueAtTime(fp.y,n),t.orientationZ.linearRampToValueAtTime(fp.z,n)}else t.setPosition(up.x,up.y,up.z),t.setOrientation(fp.x,fp.y,fp.z)}}}),Object.assign(hp.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var e=0,t=this.getFrequencyData(),n=0;n<t.length;n++)e+=t[n];return e/t.length}}),Object.assign(dp.prototype,{accumulate:function(e,t){var n=this.buffer,r=this.valueSize,i=e*r+r,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==r;++a)n[i+a]=n[a];o=t}else{var s=t/(o+=t);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=o},accumulateAdditive:function(e){var t=this.buffer,n=this.valueSize,r=n*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,n),this.cumulativeWeightAdditive+=e},apply:function(e){var t=this.valueSize,n=this.buffer,r=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){var s=t*this._origIndex;this._mixBufferRegion(n,r,s,1-i,t)}o>0&&this._mixBufferRegionAdditive(n,r,this._addIndex*t,1,t);for(var u=t,c=t+t;u!==c;++u)if(n[u]!==n[u+t]){a.setValue(n,r);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,n=this.valueSize,r=n*this._origIndex;e.getValue(t,r);for(var i=n,o=r;i!==o;++i)t[i]=t[r+i%n];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_setAdditiveIdentityNumeric:function(){for(var e=this._addIndex*this.valueSize,t=e+this.valueSize,n=e;n<t;n++)this.buffer[n]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[4*this._addIndex+3]=1},_setAdditiveIdentityOther:function(){for(var e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize,n=0;n<this.valueSize;n++)this.buffer[t+n]=this.buffer[e+n]},_select:function(e,t,n,r,i){if(r>=.5)for(var o=0;o!==i;++o)e[t+o]=e[n+o]},_slerp:function(e,t,n,r){tr.slerpFlat(e,t,e,t,e,n,r)},_slerpAdditive:function(e,t,n,r,i){var o=this._workIndex*i;tr.multiplyQuaternionsFlat(e,o,e,t,e,n),tr.slerpFlat(e,t,e,t,e,o,r)},_lerp:function(e,t,n,r,i){for(var o=1-r,a=0;a!==i;++a){var s=t+a;e[s]=e[s]*o+e[n+a]*r}},_lerpAdditive:function(e,t,n,r,i){for(var o=0;o!==i;++o){var a=t+o;e[a]=e[a]+e[n+o]*r}}});var mp=new RegExp("[\\[\\]\\.:\\/]","g"),vp="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",yp=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),gp=/(WCOD+)?/.source.replace("WCOD",vp),bp=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),_p=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),wp=new RegExp("^"+yp+gp+bp+_p+"$"),xp=["material","materials","bones"];function Sp(e,t,n){var r=n||Ep.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}function Ep(e,t,n){this.path=t,this.parsedPath=n||Ep.parseTrackName(t),this.node=Ep.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e}function Op(){this.uuid=Wn.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var t=0,n=arguments.length;t!==n;++t)e[arguments[t].uuid]=t;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}}function Tp(e,t,n,r){this._mixer=e,this._clip=t,this._localRoot=n||null,this.blendMode=r||t.blendMode;for(var i=t.tracks,o=i.length,a=new Array(o),s={endingStart:Zt,endingEnd:Zt},u=0;u!==o;++u){var c=i[u].createInterpolant(null);a[u]=c,c.settings=s}this._interpolantSettings=s,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Gt,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Mp(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function Pp(e){"string"===typeof e&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),e=arguments[1]),this.value=e}function Ap(e,t,n){Ys.call(this,e,t),this.meshPerAttribute=n||1}function Cp(e,t,n,r){this.ray=new ni(e,t),this.near=n||0,this.far=r||1/0,this.camera=null,this.layers=new vr,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function kp(e,t){return e.distance-t.distance}function jp(e,t,n,r){if(e.layers.test(t.layers)&&e.raycast(t,n),!0===r)for(var i=e.children,o=0,a=i.length;o<a;o++)jp(i[o],t,n,!0)}function Rp(e,t,n){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==n?n:0,this}function Dp(e,t,n){return this.radius=void 0!==e?e:1,this.theta=void 0!==t?t:0,this.y=void 0!==n?n:0,this}Object.assign(Sp.prototype,{getValue:function(e,t){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(e,t)},setValue:function(e,t){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,n=e.length;t!==n;++t)e[t].unbind()}}),Object.assign(Ep,{Composite:Sp,create:function(e,t,n){return e&&e.isAnimationObjectGroup?new Ep.Composite(e,t,n):new Ep(e,t,n)},sanitizeNodeName:function(e){return e.replace(/\s/g,"_").replace(mp,"")},parseTrackName:function(e){var t=wp.exec(e);if(!t)throw new Error("PropertyBinding: Cannot parse trackName: "+e);var n={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==r&&-1!==r){var i=n.nodeName.substring(r+1);-1!==xp.indexOf(i)&&(n.nodeName=n.nodeName.substring(0,r),n.objectName=i)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return n},findNode:function(e,t){if(!t||""===t||"."===t||-1===t||t===e.name||t===e.uuid)return e;if(e.skeleton){var n=e.skeleton.getBoneByName(t);if(void 0!==n)return n}if(e.children){var r=function e(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===t||i.uuid===t)return i;var o=e(i.children);if(o)return o}return null}(e.children);if(r)return r}return null}}),Object.assign(Ep.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)e[t++]=n[r]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.targetObject[this.propertyName]=e[t]},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++]},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,n=t.objectName,r=t.propertyName,i=t.propertyIndex;if(e||(e=Ep.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(n){var o=t.objectIndex;switch(n){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(var a=0;a<e.length;a++)if(e[a].name===o){o=a;break}break;default:if(void 0===e[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[n]}if(void 0!==o){if(void 0===e[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[o]}}var s=e[r];if(void 0!==s){var u=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[i]&&(i=e.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else{var l=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+l+"."+r+" but it wasn't found.",e)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Ep.prototype,{_getValue_unbound:Ep.prototype.getValue,_setValue_unbound:Ep.prototype.setValue}),Object.assign(Op.prototype,{isAnimationObjectGroup:!0,add:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._paths,r=this._parsedPaths,i=this._bindings,o=i.length,a=void 0,s=e.length,u=this.nCachedObjects_,c=0,l=arguments.length;c!==l;++c){var f=arguments[c],p=f.uuid,h=t[p];if(void 0===h){h=s++,t[p]=h,e.push(f);for(var d=0,m=o;d!==m;++d)i[d].push(new Ep(f,n[d],r[d]))}else if(h<u){a=e[h];var v=--u,y=e[v];t[y.uuid]=h,e[h]=y,t[p]=v,e[v]=f;for(var g=0,b=o;g!==b;++g){var _=i[g],w=_[v],x=_[h];_[h]=w,void 0===x&&(x=new Ep(f,n[g],r[g])),_[v]=x}}else e[h]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u},remove:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],u=s.uuid,c=t[u];if(void 0!==c&&c>=i){var l=i++,f=e[l];t[f.uuid]=c,e[c]=f,t[u]=l,e[l]=s;for(var p=0,h=r;p!==h;++p){var d=n[p],m=d[l],v=d[c];d[c]=m,d[l]=v}}}this.nCachedObjects_=i},uncache:function(){for(var e=this._objects,t=this._indicesByUUID,n=this._bindings,r=n.length,i=this.nCachedObjects_,o=e.length,a=0,s=arguments.length;a!==s;++a){var u=arguments[a],c=u.uuid,l=t[c];if(void 0!==l)if(delete t[c],l<i){var f=--i,p=e[f],h=--o,d=e[h];t[p.uuid]=l,e[l]=p,t[d.uuid]=f,e[f]=d,e.pop();for(var m=0,v=r;m!==v;++m){var y=n[m],g=y[f],b=y[h];y[l]=g,y[f]=b,y.pop()}}else{var _=--o,w=e[_];t[w.uuid]=l,e[l]=w,e.pop();for(var x=0,S=r;x!==S;++x){var E=n[x];E[l]=E[_],E.pop()}}}this.nCachedObjects_=i},subscribe_:function(e,t){var n=this._bindingsIndicesByPath,r=n[e],i=this._bindings;if(void 0!==r)return i[r];var o=this._paths,a=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[e]=r,o.push(e),a.push(t),i.push(l);for(var f=c,p=s.length;f!==p;++f){var h=s[f];l[f]=new Ep(h,e,t)}return l},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,n=t[e];if(void 0!==n){var r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];t[e[a]]=n,o[n]=s,o.pop(),i[n]=i[a],i.pop(),r[n]=r[a],r.pop()}}}),Object.assign(Tp.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,n){if(e.fadeOut(t),this.fadeIn(t),n){var r=this._clip.duration,i=e._clip.duration,o=i/r,a=r/i;e.warp(1,o,t),this.warp(a,1,t)}return this},crossFadeTo:function(e,t,n){return e.crossFadeFrom(this,t,n)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._effectiveTimeScale,0,e)},warp:function(e,t,n){var r=this._mixer,i=r.time,o=this.timeScale,a=this._timeScaleInterpolant;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=i,s[1]=i+n,u[0]=e/o,u[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,n,r){if(this.enabled){var i=this._startTime;if(null!==i){var o=(e-i)*n;if(o<0||0===n)return;this._startTime=null,t=n*o}t*=this._updateTimeScale(e);var a=this._updateTime(t),s=this._updateWeight(e);if(s>0){var u=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case en:for(var l=0,f=u.length;l!==f;++l)u[l].evaluate(a),c[l].accumulateAdditive(s);break;case Jt:default:for(var p=0,h=u.length;p!==h;++p)u[p].evaluate(a),c[p].accumulate(r,s)}}}else this._updateWeight(e)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(e)[0];t*=r,e>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=t,t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)t*=n.evaluate(e)[0],e>n.parameterPositions[1]&&(this.stopWarping(),0===t?this.paused=!0:this.timeScale=t)}return this._effectiveTimeScale=t,t},_updateTime:function(e){var t=this._clip.duration,n=this.loop,r=this.time+e,i=this._loopCount,o=n===Wt;if(0===e)return-1===i?r:o&&1===(1&i)?t-r:r;if(n===$t){-1===i&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else{if(!(r<0)){this.time=r;break e}r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(-1===i&&(e>=0?(i=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),r>=t||r<0){var a=Math.floor(r/t);r-=t*a,i+=Math.abs(a);var s=this.repetitions-i;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(1===s){var u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=r;if(o&&1===(1&i))return t-r}return r},_setEndings:function(e,t,n){var r=this._interpolantSettings;n?(r.endingStart=Qt,r.endingEnd=Qt):(r.endingStart=e?this.zeroSlopeAtStart?Qt:Zt:Kt,r.endingEnd=t?this.zeroSlopeAtEnd?Qt:Zt:Kt)},_scheduleFading:function(e,t,n){var r=this._mixer,i=r.time,o=this._weightInterpolant;null===o&&(o=r._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=i,s[0]=t,a[1]=i+e,s[1]=n,this}}),Mp.prototype=Object.assign(Object.create(Vn.prototype),{constructor:Mp,_bindAction:function(e,t){var n=e._localRoot||this._root,r=e._clip.tracks,i=r.length,o=e._propertyBindings,a=e._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var f=r[l],p=f.name,h=c[p];if(void 0!==h)o[l]=h;else{if(void 0!==(h=o[l])){null===h._cacheIndex&&(++h.referenceCount,this._addInactiveBinding(h,s,p));continue}var d=t&&t._propertyBindings[l].binding.parsedPath;++(h=new dp(Ep.create(n,p,d),f.ValueTypeName,f.getValueSize())).referenceCount,this._addInactiveBinding(h,s,p),o[l]=h}a[l].resultBuffer=h.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,n=e._clip.uuid,r=this._actionsByClip[n];this._bindAction(e,r&&r.knownActions[0]),this._addInactiveAction(e,n,t)}for(var i=e._propertyBindings,o=0,a=i.length;o!==a;++o){var s=i[o];0===s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,n){var r=this._actions,i=this._actionsByClip,o=i[t];if(void 0===o)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{var a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=r.length,r.push(e),o.actionByRoot[n]=e},_removeInactiveAction:function(e){var t=this._actions,n=t[t.length-1],r=e._cacheIndex;n._cacheIndex=r,t[r]=n,t.pop(),e._cacheIndex=null;var i=e._clip.uuid,o=this._actionsByClip,a=o[i],s=a.knownActions,u=s[s.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),e._byClipCacheIndex=null,delete a.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete o[i],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,n=0,r=t.length;n!==r;++n){var i=t[n];0===--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(e){var t=this._actions,n=e._cacheIndex,r=this._nActiveActions++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackAction:function(e){var t=this._actions,n=e._cacheIndex,r=--this._nActiveActions,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_addInactiveBinding:function(e,t,n){var r=this._bindingsByRootAndName,i=this._bindings,o=r[t];void 0===o&&(o={},r[t]=o),o[n]=e,e._cacheIndex=i.length,i.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,n=e.binding,r=n.rootNode.uuid,i=n.path,o=this._bindingsByRootAndName,a=o[r],s=t[t.length-1],u=e._cacheIndex;s._cacheIndex=u,t[u]=s,t.pop(),delete a[i],0===Object.keys(a).length&&delete o[r]},_lendBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=this._nActiveBindings++,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_takeBackBinding:function(e){var t=this._bindings,n=e._cacheIndex,r=--this._nActiveBindings,i=t[r];e._cacheIndex=r,t[r]=e,i._cacheIndex=n,t[n]=i},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,n=e[t];return void 0===n&&((n=new El(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t,e[t]=n),n},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,n=e.__cacheIndex,r=--this._nActiveControlInterpolants,i=t[r];e.__cacheIndex=r,t[r]=e,i.__cacheIndex=n,t[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(e,t,n){var r=t||this._root,i=r.uuid,o="string"===typeof e?Dl.findByName(r,e):e,a=null!==o?o.uuid:e,s=this._actionsByClip[a],u=null;if(void 0===n&&(n=null!==o?o.blendMode:Jt),void 0!==s){var c=s.actionByRoot[i];if(void 0!==c&&c.blendMode===n)return c;u=s.knownActions[0],null===o&&(o=u._clip)}if(null===o)return null;var l=new Tp(this,o,t,n);return this._bindAction(l,u),this._addInactiveAction(l,a,i),l},existingAction:function(e,t){var n=t||this._root,r=n.uuid,i="string"===typeof e?Dl.findByName(n,e):e,o=i?i.uuid:e,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[r]||null},stopAllAction:function(){for(var e=this._actions,t=this._nActiveActions-1;t>=0;--t)e[t].stop();return this},update:function(e){e*=this.timeScale;for(var t=this._actions,n=this._nActiveActions,r=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1,a=0;a!==n;++a){t[a]._update(r,e,i,o)}for(var s=this._bindings,u=this._nActiveBindings,c=0;c!==u;++c)s[c].apply(o);return this},setTime:function(e){this.time=0;for(var t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,n=e.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var o=i.knownActions,a=0,s=o.length;a!==s;++a){var u=o[a];this._deactivateAction(u);var c=u._cacheIndex,l=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,t[c]=l,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(e){var t=e.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[t];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var o=this._bindingsByRootAndName[t];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var n=this.existingAction(e,t);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),Pp.prototype.clone=function(){return new Pp(void 0===this.value.clone?this.value:this.value.clone())},Ap.prototype=Object.assign(Object.create(Ys.prototype),{constructor:Ap,isInstancedInterleavedBuffer:!0,copy:function(e){return Ys.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},clone:function(e){var t=Ys.prototype.clone.call(this,e);return t.meshPerAttribute=this.meshPerAttribute,t},toJSON:function(e){var t=Ys.prototype.toJSON.call(this,e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}),Object.assign(Cp.prototype,{set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t&&t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t&&t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,t,n){var r=n||[];return jp(e,this,r,t),r.sort(kp),r},intersectObjects:function(e,t,n){var r=n||[];if(!1===Array.isArray(e))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),r;for(var i=0,o=e.length;i<o;i++)jp(e[i],this,r,t);return r.sort(kp),r}}),Object.assign(Rp.prototype,{set:function(e,t,n){return this.radius=e,this.phi=t,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+t*t+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,n),this.phi=Math.acos(Wn.clamp(t/this.radius,-1,1))),this}}),Object.assign(Dp.prototype,{set:function(e,t,n){return this.radius=e,this.theta=t,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this},setFromVector3:function(e){return this.setFromCartesianCoords(e.x,e.y,e.z)},setFromCartesianCoords:function(e,t,n){return this.radius=Math.sqrt(e*e+n*n),this.theta=Math.atan2(e,n),this.y=t,this}});var Np=new qn;function Lp(e,t){this.min=void 0!==e?e:new qn(1/0,1/0),this.max=void 0!==t?t:new qn(-1/0,-1/0)}Object.assign(Lp.prototype,{set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(e,t){var n=Np.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(n),this.max.copy(e).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(e){return void 0===e&&(console.warn("THREE.Box2: .getCenter() target is now required"),e=new qn),this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(e){return void 0===e&&(console.warn("THREE.Box2: .getSize() target is now required"),e=new qn),this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .getParameter() target is now required"),t=new qn),t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return void 0===t&&(console.warn("THREE.Box2: .clampPoint() target is now required"),t=new qn),t.copy(e).clamp(this.min,this.max)},distanceToPoint:function(e){return Np.copy(e).clamp(this.min,this.max).sub(e).length()},intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}});var Ip=new ir,Bp=new ir;function Fp(e,t){this.start=void 0!==e?e:new ir,this.end=void 0!==t?t:new ir}function Up(e){Cr.call(this),this.material=e,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}Object.assign(Fp.prototype,{set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},getCenter:function(e){return void 0===e&&(console.warn("THREE.Line3: .getCenter() target is now required"),e=new ir),e.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return void 0===e&&(console.warn("THREE.Line3: .delta() target is now required"),e=new ir),e.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){return void 0===t&&(console.warn("THREE.Line3: .at() target is now required"),t=new ir),this.delta(t).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(e,t){Ip.subVectors(e,this.start),Bp.subVectors(this.end,this.start);var n=Bp.dot(Bp),r=Bp.dot(Ip)/n;return t&&(r=Wn.clamp(r,0,1)),r},closestPointToPoint:function(e,t,n){var r=this.closestPointToPointParameter(e,t);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new ir),this.delta(n).multiplyScalar(r).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}}),Up.prototype=Object.create(Cr.prototype),Up.prototype.constructor=Up,Up.prototype.isImmediateRenderObject=!0;var zp=new ir;function Vp(e,t){Cr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t;for(var n=new Zi,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],i=0,o=1;i<32;i++,o++){var a=i/32*Math.PI*2,s=o/32*Math.PI*2;r.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.setAttribute("position",new Fi(r,3));var u=new Tu({fog:!1,toneMapped:!1});this.cone=new Nu(n,u),this.add(this.cone),this.update()}Vp.prototype=Object.create(Cr.prototype),Vp.prototype.constructor=Vp,Vp.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Vp.prototype.update=function(){this.light.updateMatrixWorld();var e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),zp.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(zp),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Hp=new ir,$p=new pr,Gp=new pr;function Wp(e){for(var t=function e(t){var n=[];t&&t.isBone&&n.push(t);for(var r=0;r<t.children.length;r++)n.push.apply(n,e(t.children[r]));return n}(e),n=new Zi,r=[],i=[],o=new wi(0,0,1),a=new wi(0,1,0),s=0;s<t.length;s++){var u=t[s];u.parent&&u.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),i.push(o.r,o.g,o.b),i.push(a.r,a.g,a.b))}n.setAttribute("position",new Fi(r,3)),n.setAttribute("color",new Fi(i,3));var c=new Tu({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});Nu.call(this,n,c),this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}function qp(e,t,n){this.light=e,this.light.updateMatrixWorld(),this.color=n;var r=new Yc(t,4,2),i=new Pi({wireframe:!0,fog:!1,toneMapped:!1});mo.call(this,r,i),this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}Wp.prototype=Object.create(Nu.prototype),Wp.prototype.constructor=Wp,Wp.prototype.isSkeletonHelper=!0,Wp.prototype.updateMatrixWorld=function(e){var t=this.bones,n=this.geometry,r=n.getAttribute("position");Gp.getInverse(this.root.matrixWorld);for(var i=0,o=0;i<t.length;i++){var a=t[i];a.parent&&a.parent.isBone&&($p.multiplyMatrices(Gp,a.matrixWorld),Hp.setFromMatrixPosition($p),r.setXYZ(o,Hp.x,Hp.y,Hp.z),$p.multiplyMatrices(Gp,a.parent.matrixWorld),Hp.setFromMatrixPosition($p),r.setXYZ(o+1,Hp.x,Hp.y,Hp.z),o+=2)}n.getAttribute("position").needsUpdate=!0,Cr.prototype.updateMatrixWorld.call(this,e)},qp.prototype=Object.create(mo.prototype),qp.prototype.constructor=qp,qp.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},qp.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)};var Yp=new ir,Xp=new wi,Zp=new wi;function Qp(e,t,n){Cr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var r=new nc(t);r.rotateY(.5*Math.PI),this.material=new Pi({wireframe:!0,fog:!1,toneMapped:!1}),void 0===this.color&&(this.material.vertexColors=!0);var i=r.getAttribute("position"),o=new Float32Array(3*i.count);r.setAttribute("color",new ki(o,3)),this.add(new mo(r,this.material)),this.update()}function Kp(e,t,n,r){e=e||10,t=t||10,n=new wi(void 0!==n?n:4473924),r=new wi(void 0!==r?r:8947848);for(var i=t/2,o=e/t,a=e/2,s=[],u=[],c=0,l=0,f=-a;c<=t;c++,f+=o){s.push(-a,0,f,a,0,f),s.push(f,0,-a,f,0,a);var p=c===i?n:r;p.toArray(u,l),l+=3,p.toArray(u,l),l+=3,p.toArray(u,l),l+=3,p.toArray(u,l),l+=3}var h=new Zi;h.setAttribute("position",new Fi(s,3)),h.setAttribute("color",new Fi(u,3));var d=new Tu({vertexColors:!0,toneMapped:!1});Nu.call(this,h,d),this.type="GridHelper"}function Jp(e,t,n,r,i,o){e=e||10,t=t||16,n=n||8,r=r||64,i=new wi(void 0!==i?i:4473924),o=new wi(void 0!==o?o:8947848);for(var a=[],s=[],u=0;u<=t;u++){var c=u/t*(2*Math.PI),l=Math.sin(c)*e,f=Math.cos(c)*e;a.push(0,0,0),a.push(l,0,f);var p=1&u?i:o;s.push(p.r,p.g,p.b),s.push(p.r,p.g,p.b)}for(var h=0;h<=n;h++)for(var d=1&h?i:o,m=e-e/n*h,v=0;v<r;v++){var y=v/r*(2*Math.PI),g=Math.sin(y)*m,b=Math.cos(y)*m;a.push(g,0,b),s.push(d.r,d.g,d.b),y=(v+1)/r*(2*Math.PI),g=Math.sin(y)*m,b=Math.cos(y)*m,a.push(g,0,b),s.push(d.r,d.g,d.b)}var _=new Zi;_.setAttribute("position",new Fi(a,3)),_.setAttribute("color",new Fi(s,3));var w=new Tu({vertexColors:!0,toneMapped:!1});Nu.call(this,_,w),this.type="PolarGridHelper"}Qp.prototype=Object.create(Cr.prototype),Qp.prototype.constructor=Qp,Qp.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Qp.prototype.update=function(){var e=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var t=e.geometry.getAttribute("color");Xp.copy(this.light.color),Zp.copy(this.light.groundColor);for(var n=0,r=t.count;n<r;n++){var i=n<r/2?Xp:Zp;t.setXYZ(n,i.r,i.g,i.b)}t.needsUpdate=!0}e.lookAt(Yp.setFromMatrixPosition(this.light.matrixWorld).negate())},Kp.prototype=Object.assign(Object.create(Nu.prototype),{constructor:Kp,copy:function(e){return Nu.prototype.copy.call(this,e),this.geometry.copy(e.geometry),this.material.copy(e.material),this},clone:function(){return(new this.constructor).copy(this)}}),Jp.prototype=Object.create(Nu.prototype),Jp.prototype.constructor=Jp;var eh=new ir,th=new ir,nh=new ir;function rh(e,t,n){Cr.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===t&&(t=1);var r=new Zi;r.setAttribute("position",new Fi([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));var i=new Tu({fog:!1,toneMapped:!1});this.lightPlane=new ju(r,i),this.add(this.lightPlane),(r=new Zi).setAttribute("position",new Fi([0,0,0,0,0,1],3)),this.targetLine=new ju(r,i),this.add(this.targetLine),this.update()}rh.prototype=Object.create(Cr.prototype),rh.prototype.constructor=rh,rh.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},rh.prototype.update=function(){eh.setFromMatrixPosition(this.light.matrixWorld),th.setFromMatrixPosition(this.light.target.matrixWorld),nh.subVectors(th,eh),this.lightPlane.lookAt(th),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(th),this.targetLine.scale.z=nh.length()};var ih=new ir,oh=new Ao;function ah(e){var t=new Zi,n=new Tu({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],i=[],o={},a=new wi(16755200),s=new wi(16711680),u=new wi(43775),c=new wi(16777215),l=new wi(3355443);function f(e,t,n){p(e,n),p(t,n)}function p(e,t){r.push(0,0,0),i.push(t.r,t.g,t.b),void 0===o[e]&&(o[e]=[]),o[e].push(r.length/3-1)}f("n1","n2",a),f("n2","n4",a),f("n4","n3",a),f("n3","n1",a),f("f1","f2",a),f("f2","f4",a),f("f4","f3",a),f("f3","f1",a),f("n1","f1",a),f("n2","f2",a),f("n3","f3",a),f("n4","f4",a),f("p","n1",s),f("p","n2",s),f("p","n3",s),f("p","n4",s),f("u1","u2",u),f("u2","u3",u),f("u3","u1",u),f("c","t",c),f("p","c",l),f("cn1","cn2",l),f("cn3","cn4",l),f("cf1","cf2",l),f("cf3","cf4",l),t.setAttribute("position",new Fi(r,3)),t.setAttribute("color",new Fi(i,3)),Nu.call(this,t,n),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function sh(e,t,n,r,i,o,a){ih.set(i,o,a).unproject(r);var s=t[e];if(void 0!==s)for(var u=n.getAttribute("position"),c=0,l=s.length;c<l;c++)u.setXYZ(s[c],ih.x,ih.y,ih.z)}ah.prototype=Object.create(Nu.prototype),ah.prototype.constructor=ah,ah.prototype.update=function(){var e=this.geometry,t=this.pointMap;oh.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),sh("c",t,e,oh,0,0,-1),sh("t",t,e,oh,0,0,1),sh("n1",t,e,oh,-1,-1,-1),sh("n2",t,e,oh,1,-1,-1),sh("n3",t,e,oh,-1,1,-1),sh("n4",t,e,oh,1,1,-1),sh("f1",t,e,oh,-1,-1,1),sh("f2",t,e,oh,1,-1,1),sh("f3",t,e,oh,-1,1,1),sh("f4",t,e,oh,1,1,1),sh("u1",t,e,oh,.7,1.1,-1),sh("u2",t,e,oh,-.7,1.1,-1),sh("u3",t,e,oh,0,2,-1),sh("cf1",t,e,oh,-1,0,1),sh("cf2",t,e,oh,1,0,1),sh("cf3",t,e,oh,0,-1,1),sh("cf4",t,e,oh,0,1,1),sh("cn1",t,e,oh,-1,0,-1),sh("cn2",t,e,oh,1,0,-1),sh("cn3",t,e,oh,0,-1,-1),sh("cn4",t,e,oh,0,1,-1),e.getAttribute("position").needsUpdate=!0};var uh=new Gr;function ch(e,t){this.object=e,void 0===t&&(t=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(24),i=new Zi;i.setIndex(new ki(n,1)),i.setAttribute("position",new ki(r,3)),Nu.call(this,i,new Tu({color:t,toneMapped:!1})),this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}function lh(e,t){this.type="Box3Helper",this.box=e,t=t||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Zi;r.setIndex(new ki(n,1)),r.setAttribute("position",new Fi([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),Nu.call(this,r,new Tu({color:t,toneMapped:!1})),this.type="Box3Helper",this.geometry.computeBoundingSphere()}function fh(e,t,n){this.plane=e,this.size=void 0===t?1:t;var r=void 0!==n?n:16776960,i=new Zi;i.setAttribute("position",new Fi([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),i.computeBoundingSphere(),ju.call(this,i,new Tu({color:r,toneMapped:!1})),this.type="PlaneHelper";var o=new Zi;o.setAttribute("position",new Fi([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new mo(o,new Pi({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}ch.prototype=Object.create(Nu.prototype),ch.prototype.constructor=ch,ch.prototype.update=function(e){if(void 0!==e&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&uh.setFromObject(this.object),!uh.isEmpty()){var t=uh.min,n=uh.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=t.x,i[4]=n.y,i[5]=n.z,i[6]=t.x,i[7]=t.y,i[8]=n.z,i[9]=n.x,i[10]=t.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=t.z,i[15]=t.x,i[16]=n.y,i[17]=t.z,i[18]=t.x,i[19]=t.y,i[20]=t.z,i[21]=n.x,i[22]=t.y,i[23]=t.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}},ch.prototype.setFromObject=function(e){return this.object=e,this.update(),this},ch.prototype.copy=function(e){return Nu.prototype.copy.call(this,e),this.object=e.object,this},ch.prototype.clone=function(){return(new this.constructor).copy(this)},lh.prototype=Object.create(Nu.prototype),lh.prototype.constructor=lh,lh.prototype.updateMatrixWorld=function(e){var t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),Cr.prototype.updateMatrixWorld.call(this,e))},fh.prototype=Object.create(ju.prototype),fh.prototype.constructor=fh,fh.prototype.updateMatrixWorld=function(e){var t=-this.plane.constant;Math.abs(t)<1e-8&&(t=1e-8),this.scale.set(.5*this.size,.5*this.size,t),this.children[0].material.side=t<0?S:x,this.lookAt(this.plane.normal),Cr.prototype.updateMatrixWorld.call(this,e)};var ph,hh,dh=new ir;function mh(e,t,n,r,i,o){Cr.call(this),this.type="ArrowHelper",void 0===e&&(e=new ir(0,0,1)),void 0===t&&(t=new ir(0,0,0)),void 0===n&&(n=1),void 0===r&&(r=16776960),void 0===i&&(i=.2*n),void 0===o&&(o=.2*i),void 0===ph&&((ph=new Zi).setAttribute("position",new Fi([0,0,0,0,1,0],3)),(hh=new il(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(t),this.line=new ju(ph,new Tu({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new mo(hh,new Pi({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(n,i,o)}function vh(e){var t=[0,0,0,e=e||1,0,0,0,0,0,0,e,0,0,0,0,0,0,e],n=new Zi;n.setAttribute("position",new Fi(t,3)),n.setAttribute("color",new Fi([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var r=new Tu({vertexColors:!0,toneMapped:!1});Nu.call(this,n,r),this.type="AxesHelper"}mh.prototype=Object.create(Cr.prototype),mh.prototype.constructor=mh,mh.prototype.setDirection=function(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{dh.set(e.z,0,-e.x).normalize();var t=Math.acos(e.y);this.quaternion.setFromAxisAngle(dh,t)}},mh.prototype.setLength=function(e,t,n){void 0===t&&(t=.2*e),void 0===n&&(n=.2*t),this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(n,t,n),this.cone.position.y=e,this.cone.updateMatrix()},mh.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},mh.prototype.copy=function(e){return Cr.prototype.copy.call(this,e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this},mh.prototype.clone=function(){return(new this.constructor).copy(this)},vh.prototype=Object.create(Nu.prototype),vh.prototype.constructor=vh;var yh=Math.pow(2,8),gh=[.125,.215,.35,.446,.526,.582],bh=5+gh.length,_h=(r={},Object(i.a)(r,on,0),Object(i.a)(r,an,1),Object(i.a)(r,un,2),Object(i.a)(r,ln,3),Object(i.a)(r,fn,4),Object(i.a)(r,pn,5),Object(i.a)(r,sn,6),r),wh=new Of,xh=function(){for(var e=[],t=[],n=[],r=8,i=0;i<bh;i++){var o=Math.pow(2,r);t.push(o);var a=1/o;i>4?a=gh[i-8+4-1]:0==i&&(a=0),n.push(a);for(var s=1/(o-1),u=-s/2,c=1+s/2,l=[u,u,c,u,c,c,u,u,c,c,u,c],f=new Float32Array(108),p=new Float32Array(72),h=new Float32Array(36),d=0;d<6;d++){var m=d%3*2/3-1,v=d>2?0:-1,y=[m,v,0,m+2/3,v,0,m+2/3,v+1,0,m,v,0,m+2/3,v+1,0,m,v+1,0];f.set(y,18*d),p.set(l,12*d);var g=[d,d,d,d,d,d];h.set(g,6*d)}var b=new Zi;b.setAttribute("position",new ki(f,3)),b.setAttribute("uv",new ki(p,2)),b.setAttribute("faceIndex",new ki(h,1)),e.push(b),r>4&&r--}return{_lodPlanes:e,_sizeLods:t,_sigmas:n}}(),Sh=xh._lodPlanes,Eh=xh._sizeLods,Oh=xh._sigmas,Th=null,Mh=(1+Math.sqrt(5))/2,Ph=1/Mh,Ah=[new ir(1,1,1),new ir(-1,1,1),new ir(1,1,-1),new ir(-1,1,-1),new ir(0,Mh,Ph),new ir(0,Mh,-Ph),new ir(Ph,0,Mh),new ir(-Ph,0,Mh),new ir(Mh,Ph,0),new ir(-Mh,Ph,0)];function Ch(e){this._renderer=e,this._pingPongRenderTarget=null,this._blurMaterial=function(e){var t=new Float32Array(e),n=new ir(0,1,0);return new fl({name:"SphericalGaussianBlur",defines:{n:e},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:n},inputEncoding:{value:_h[on]},outputEncoding:{value:_h[on]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvec3 getSample(float theta, vec3 axis) {\n\tfloat cosTheta = cos(theta);\n\t// Rodrigues' axis-angle rotation\n\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\treturn bilinearCubeUV(envMap, sampleDirection, mipInt);\n}\n\nvoid main() {\n\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\tif (all(equal(axis, vec3(0.0))))\n\t\taxis = vec3(vOutputDirection.z, 0.0, - vOutputDirection.x);\n\taxis = normalize(axis);\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb += weights[0] * getSample(0.0, axis);\n\tfor (int i = 1; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfloat theta = dTheta * float(i);\n\t\tgl_FragColor.rgb += weights[i] * getSample(-1.0 * theta, axis);\n\t\tgl_FragColor.rgb += weights[i] * getSample(theta, axis);\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:M,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}function kh(e){return void 0!==e&&e.type===je&&(e.encoding===on||e.encoding===an||e.encoding===sn)}function jh(e){var t=new Jn(3*yh,3*yh,e);return t.texture.mapping=ye,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function Rh(e,t,n,r,i){e.viewport.set(t,n,r,i),e.scissor.set(t,n,r,i)}function Dh(){return new fl({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new qn(1,1)},inputEncoding:{value:_h[on]},outputEncoding:{value:_h[on]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n\n#include <common>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv = equirectUv( outputDirection );\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:M,depthTest:!1,depthWrite:!1})}function Nh(){return new fl({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:_h[on]},outputEncoding:{value:_h[on]}},vertexShader:"\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\n\n// RH coordinate system; PMREM face-indexing convention\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\t} else if (face == 2.0) {\n\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\t} else if (face == 5.0) {\n\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\t}\n\treturn direction;\n}\n\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t",fragmentShader:"\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n".concat("\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t","\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t"),blending:M,depthTest:!1,depthWrite:!1})}function Lh(e,t,n,r,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new Oi(e,t,n,i,o,a)}Ch.prototype={constructor:Ch,fromScene:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100;Th=this._renderer.getRenderTarget();var i=this._allocateTargets();return this._sceneToCubeUV(e,n,r,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i},fromEquirectangular:function(e){return this._fromTexture(e)},fromCubemap:function(e){return this._fromTexture(e)},compileCubemapShader:function(){null===this._cubemapShader&&(this._cubemapShader=Nh(),this._compileMaterial(this._cubemapShader))},compileEquirectangularShader:function(){null===this._equirectShader&&(this._equirectShader=Dh(),this._compileMaterial(this._equirectShader))},dispose:function(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(var e=0;e<Sh.length;e++)Sh[e].dispose()},_cleanup:function(e){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Th),e.scissorTest=!1,Rh(e,0,0,e.width,e.height)},_fromTexture:function(e){Th=this._renderer.getRenderTarget();var t=this._allocateTargets(e);return this._textureToCubeUV(e,t),this._applyPMREM(t),this._cleanup(t),t},_allocateTargets:function(e){var t={magFilter:xe,minFilter:xe,generateMipmaps:!1,type:je,format:Xe,encoding:kh(e)?e.encoding:un,depthBuffer:!1,stencilBuffer:!1},n=jh(t);return n.depthBuffer=!e,this._pingPongRenderTarget=jh(t),n},_compileMaterial:function(e){var t=new mo(Sh[0],e);this._renderer.compile(t,wh)},_sceneToCubeUV:function(e,t,n,r){var i=new Co(90,1,t,n),o=[1,-1,1,1,1,1],a=[1,1,1,-1,-1,-1],s=this._renderer,u=s.outputEncoding,c=s.toneMapping,l=s.getClearColor(),f=s.getClearAlpha();s.toneMapping=ae,s.outputEncoding=on;var p=e.background;if(p&&p.isColor){p.convertSRGBToLinear();var h=Math.max(p.r,p.g,p.b),d=Math.min(Math.max(Math.ceil(Math.log2(h)),-128),127);p=p.multiplyScalar(Math.pow(2,-d));var m=(d+128)/255;s.setClearColor(p,m),e.background=null}for(var v=0;v<6;v++){var y=v%3;0==y?(i.up.set(0,o[v],0),i.lookAt(a[v],0,0)):1==y?(i.up.set(0,0,o[v]),i.lookAt(0,a[v],0)):(i.up.set(0,o[v],0),i.lookAt(0,0,a[v])),Rh(r,y*yh,v>2?yh:0,yh,yh),s.setRenderTarget(r),s.render(e,i)}s.toneMapping=c,s.outputEncoding=u,s.setClearColor(l,f)},_textureToCubeUV:function(e,t){var n=this._renderer;e.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Nh()):null==this._equirectShader&&(this._equirectShader=Dh());var r=e.isCubeTexture?this._cubemapShader:this._equirectShader,i=new mo(Sh[0],r),o=r.uniforms;o.envMap.value=e,e.isCubeTexture||o.texelSize.value.set(1/e.image.width,1/e.image.height),o.inputEncoding.value=_h[e.encoding],o.outputEncoding.value=_h[t.texture.encoding],Rh(t,0,0,3*yh,2*yh),n.setRenderTarget(t),n.render(i,wh)},_applyPMREM:function(e){var t=this._renderer,n=t.autoClear;t.autoClear=!1;for(var r=1;r<bh;r++){var i=Math.sqrt(Oh[r]*Oh[r]-Oh[r-1]*Oh[r-1]),o=Ah[(r-1)%Ah.length];this._blur(e,r-1,r,i,o)}t.autoClear=n},_blur:function(e,t,n,r,i){var o=this._pingPongRenderTarget;this._halfBlur(e,o,t,n,r,"latitudinal",i),this._halfBlur(o,e,n,n,r,"longitudinal",i)},_halfBlur:function(e,t,n,r,i,o,a){var s=this._renderer,u=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");var c=new mo(Sh[r],u),l=u.uniforms,f=Eh[n]-1,p=isFinite(i)?Math.PI/(2*f):2*Math.PI/39,h=i/p,d=isFinite(i)?1+Math.floor(3*h):20;d>20&&console.warn("sigmaRadians, ".concat(i,", is too large and will clip, as it requested ").concat(d," samples when the maximum is set to ").concat(20));for(var m=[],v=0,y=0;y<20;++y){var g=y/h,b=Math.exp(-g*g/2);m.push(b),0==y?v+=b:y<d&&(v+=2*b)}for(var _=0;_<m.length;_++)m[_]=m[_]/v;l.envMap.value=e.texture,l.samples.value=d,l.weights.value=m,l.latitudinal.value="latitudinal"===o,a&&(l.poleAxis.value=a),l.dTheta.value=p,l.mipInt.value=8-n,l.inputEncoding.value=_h[e.texture.encoding],l.outputEncoding.value=_h[e.texture.encoding];var w=Eh[r];Rh(t,3*Math.max(0,yh-2*w),(0===r?0:2*yh)+2*w*(r>4?r-8+4:0),3*w,2*w),s.setRenderTarget(t),s.render(c,wh)}};var Ih=0,Bh=1,Fh=0,Uh=1,zh=2;function Vh(e){return console.warn("THREE.MeshFaceMaterial has been removed. Use an Array instead."),e}function Hh(e){return void 0===e&&(e=[]),console.warn("THREE.MultiMaterial has been removed. Use an Array instead."),e.isMultiMaterial=!0,e.materials=e,e.clone=function(){return e.slice()},e}function $h(e,t){return console.warn("THREE.PointCloud has been renamed to THREE.Points."),new Vu(e,t)}function Gh(e){return console.warn("THREE.Particle has been renamed to THREE.Sprite."),new fu(e)}function Wh(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.Points."),new Vu(e,t)}function qh(e){return console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial."),new Iu(e)}function Yh(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial."),new Iu(e)}function Xh(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial."),new Iu(e)}function Zh(e,t,n){return console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead."),new ir(e,t,n)}function Qh(e,t){return console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead."),new ki(e,t).setUsage(Dn)}function Kh(e,t){return console.warn("THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead."),new ji(e,t)}function Jh(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead."),new Ri(e,t)}function ed(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead."),new Di(e,t)}function td(e,t){return console.warn("THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead."),new Ni(e,t)}function nd(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead."),new Li(e,t)}function rd(e,t){return console.warn("THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead."),new Ii(e,t)}function id(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead."),new Bi(e,t)}function od(e,t){return console.warn("THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead."),new Fi(e,t)}function ad(e,t){return console.warn("THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead."),new Ui(e,t)}function sd(e){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),nf.call(this,e),this.type="catmullrom",this.closed=!0}function ud(e){console.warn("THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead."),nf.call(this,e),this.type="catmullrom"}function cd(e){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),nf.call(this,e),this.type="catmullrom"}function ld(e){return console.warn("THREE.AxisHelper has been renamed to THREE.AxesHelper."),new vh(e)}function fd(e,t){return console.warn("THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead."),new ch(e,t)}function pd(e,t){return console.warn("THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead."),new Nu(new nl(e.geometry),new Tu({color:void 0!==t?t:16777215}))}function hd(e,t){return console.warn("THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead."),new Nu(new Yu(e.geometry),new Tu({color:void 0!==t?t:16777215}))}function dd(e){return console.warn("THREE.XHRLoader has been renamed to THREE.FileLoader."),new zl(e)}function md(e){return console.warn("THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader."),new $l(e)}function vd(e,t,n){return console.warn("THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options )."),new jo(e,n)}Yl.create=function(e,t){return console.log("THREE.Curve.create() has been deprecated"),e.prototype=Object.create(Yl.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},Object.assign(mf.prototype,{createPointsGeometry:function(e){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getPoints(e);return this.createGeometry(t)},createSpacedPointsGeometry:function(e){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var t=this.getSpacedPoints(e);return this.createGeometry(t)},createGeometry:function(e){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var t=new xo,n=0,r=e.length;n<r;n++){var i=e[n];t.vertices.push(new ir(i.x,i.y,i.z||0))}return t}}),Object.assign(vf.prototype,{fromPoints:function(e){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(e)}}),sd.prototype=Object.create(nf.prototype),ud.prototype=Object.create(nf.prototype),cd.prototype=Object.create(nf.prototype),Object.assign(cd.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Kp.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Wp.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Fl.prototype,{extractUrlBase:function(e){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Rf.extractUrlBase(e)}}),Fl.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(Bf.prototype,{setTexturePath:function(e){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(e)}}),Object.assign(Lp.prototype,{center:function(e){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},size:function(e){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Gr.prototype,{center:function(e){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(e)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(e){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionSphere:function(e){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)},size:function(e){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(e)}}),Object.assign(Yr.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),Lo.prototype.setFromMatrix=function(e){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(e)},Fp.prototype.center=function(e){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(e)},Object.assign(Wn,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(e){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Wn.floorPowerOfTwo(e)},nextPowerOfTwo:function(e){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Wn.ceilPowerOfTwo(e)}}),Object.assign(Yn.prototype,{flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(pr.prototype,{extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},flattenToArrayOffset:function(e,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(e,t)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new ir).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(e){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(e,t,n,r,i,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(e,t,r,n,i,o)}}),ai.prototype.isIntersectionLine=function(e){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(e)},tr.prototype.multiplyVector3=function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},Object.assign(ni.prototype,{isIntersectionBox:function(e){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(e)},isIntersectionPlane:function(e){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(e)},isIntersectionSphere:function(e){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(e)}}),Object.assign(yi.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(e,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(e,t)},midpoint:function(e){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(e)},normal:function(e){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(e)},plane:function(e){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(e)}}),Object.assign(yi,{barycoordFromPoint:function(e,t,n,r,i){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),yi.getBarycoord(e,t,n,r,i)},normal:function(e,t,n,r){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),yi.getNormal(e,t,n,r)}}),Object.assign(yf.prototype,{extractAllPoints:function(e){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(e)},extrude:function(e){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new zc(this,e)},makeGeometry:function(e){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Jc(this,e)}}),Object.assign(qn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(ir.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,e)},applyProjection:function(e){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(e)},fromAttribute:function(e,t,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},distanceToManhattan:function(e){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(e)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Kn.prototype,{fromAttribute:function(e,t,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(e,t,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(xo.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")},applyMatrix:function(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.assign(Cr.prototype,{getChildByName:function(e){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(e){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Cr.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(e){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=e}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(mo.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(mo.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),tn},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(mu.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(bu.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),vu.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Yl.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(e){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=e}}),Co.prototype.setLens=function(e,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(e)},Object.defineProperties(gf.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(e){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(e){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=e}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(e){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=e}}}),Object.defineProperties(ki.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===Dn},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(Dn)}}}),Object.assign(ki.prototype,{setDynamic:function(e){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Dn:Rn),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Zi.prototype,{addIndex:function(e){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(e)},addAttribute:function(e,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===e?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(e,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(e,new ki(arguments[1],arguments[2])))},addDrawCall:function(e,t,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(e,t)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(e){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(e)},applyMatrix:function(e){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}}),Object.defineProperties(Zi.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Df.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(e){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=e}}}),Object.defineProperties(Cp.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(e){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=e}}}),Object.defineProperties(Ys.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.usage===Dn},set:function(e){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(e)}}}),Object.assign(Ys.prototype,{setDynamic:function(e){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===e?Dn:Rn),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Vc.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(Pp.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(Mi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new wi}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=e===O}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(e){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=e}}}),Object.defineProperties(dl.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Po.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(e){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=e}}}),Object.assign($s.prototype,{clearTarget:function(e,t,n,r){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(e),this.clear(t,n,r)},animate:function(e){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(e)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(e){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(e)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties($s.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=e}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(e){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===e?an:on}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(Ns.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Jn.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=e}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(e){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=e}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=e}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(e){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=e}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(e){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=e}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(e){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=e}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(e){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=e}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(e){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=e}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(e){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=e}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(e){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=e}}}),Object.defineProperties(sp.prototype,{load:{value:function(e){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var t=this;return(new Xf).load(e,(function(e){t.setBuffer(e)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),hp.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},ko.prototype.updateCubeMap=function(e,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(e,t)};var yd={merge:function(e,t,n){var r;console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead."),t.isMesh&&(t.matrixAutoUpdate&&t.updateMatrix(),r=t.matrix,t=t.geometry),e.merge(t,r,n)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}};function gd(){console.error("THREE.CanvasRenderer has been removed")}function bd(){console.error("THREE.JSONLoader has been removed.")}Xn.crossOrigin=void 0,Xn.loadTexture=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var i=new ql;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Xn.loadTextureCube=function(e,t,n,r){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var i=new Wl;i.setCrossOrigin(this.crossOrigin);var o=i.load(e,n,void 0,r);return t&&(o.mapping=t),o},Xn.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},Xn.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")};var _d={createMultiMaterialObject:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},detach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")},attach:function(){console.error("THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js")}};function wd(){console.error("THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js")}"undefined"!==typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:c}}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(83);var i=n(60),o=n(84);function a(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||Object(i.a)(e,t)||Object(o.a)()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Se}));var r=n(6),i=n(8),o=n(7),a=n(63),s=(n(32),n(2)),u=n(5),c=n(0),l=n.n(c),f=n(4),p=n(18),h=(n(37),n(1)),d=function(e,t){void 0===t&&console.warn('THREE.TrackballControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.TrackballControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');var n=this,r=-1,i=0,o=1,a=2,s=3,u=4;this.object=e,this.domElement=t,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.mouseButtons={LEFT:h.MOUSE.ROTATE,MIDDLE:h.MOUSE.ZOOM,RIGHT:h.MOUSE.PAN},this.target=new h.Vector3;var c=new h.Vector3,l=1,f=r,p=r,d=new h.Vector3,m=new h.Vector2,v=new h.Vector2,y=new h.Vector3,g=0,b=new h.Vector2,_=new h.Vector2,w=0,x=0,S=new h.Vector2,E=new h.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone(),this.zoom0=this.object.zoom;var O={type:"change"},T={type:"start"},M={type:"end"};this.handleResize=function(){var e=n.domElement.getBoundingClientRect(),t=n.domElement.ownerDocument.documentElement;n.screen.left=e.left+window.pageXOffset-t.clientLeft,n.screen.top=e.top+window.pageYOffset-t.clientTop,n.screen.width=e.width,n.screen.height=e.height};var P=function(){var e=new h.Vector2;return function(t,r){return e.set((t-n.screen.left)/n.screen.width,(r-n.screen.top)/n.screen.height),e}}(),A=function(){var e=new h.Vector2;return function(t,r){return e.set((t-.5*n.screen.width-n.screen.left)/(.5*n.screen.width),(n.screen.height+2*(n.screen.top-r))/n.screen.width),e}}();function C(e){!1!==n.enabled&&(window.removeEventListener("keydown",C),p===r&&(e.keyCode!==n.keys[i]||n.noRotate?e.keyCode!==n.keys[o]||n.noZoom?e.keyCode!==n.keys[a]||n.noPan||(p=a):p=o:p=i))}function k(){!1!==n.enabled&&(p=r,window.addEventListener("keydown",C,!1))}function j(e){if(!1!==n.enabled){if(e.preventDefault(),e.stopPropagation(),f===r)switch(e.button){case n.mouseButtons.LEFT:f=i;break;case n.mouseButtons.MIDDLE:f=o;break;case n.mouseButtons.RIGHT:f=a;break;default:f=r}var t=p!==r?p:f;t!==i||n.noRotate?t!==o||n.noZoom?t!==a||n.noPan||(S.copy(P(e.pageX,e.pageY)),E.copy(S)):(b.copy(P(e.pageX,e.pageY)),_.copy(b)):(v.copy(A(e.pageX,e.pageY)),m.copy(v)),n.domElement.ownerDocument.addEventListener("mousemove",R,!1),n.domElement.ownerDocument.addEventListener("mouseup",D,!1),n.dispatchEvent(T)}}function R(e){if(!1!==n.enabled){e.preventDefault(),e.stopPropagation();var t=p!==r?p:f;t!==i||n.noRotate?t!==o||n.noZoom?t!==a||n.noPan||E.copy(P(e.pageX,e.pageY)):_.copy(P(e.pageX,e.pageY)):(m.copy(v),v.copy(A(e.pageX,e.pageY)))}}function D(e){!1!==n.enabled&&(e.preventDefault(),e.stopPropagation(),f=r,n.domElement.ownerDocument.removeEventListener("mousemove",R),n.domElement.ownerDocument.removeEventListener("mouseup",D),n.dispatchEvent(M))}function N(e){if(!1!==n.enabled&&!0!==n.noZoom){switch(e.preventDefault(),e.stopPropagation(),e.deltaMode){case 2:b.y-=.025*e.deltaY;break;case 1:b.y-=.01*e.deltaY;break;default:b.y-=25e-5*e.deltaY}n.dispatchEvent(T),n.dispatchEvent(M)}}function L(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:f=s,v.copy(A(e.touches[0].pageX,e.touches[0].pageY)),m.copy(v);break;default:f=u;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;x=w=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;S.copy(P(i,o)),E.copy(S)}n.dispatchEvent(T)}}function I(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:m.copy(v),v.copy(A(e.touches[0].pageX,e.touches[0].pageY));break;default:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;x=Math.sqrt(t*t+r*r);var i=(e.touches[0].pageX+e.touches[1].pageX)/2,o=(e.touches[0].pageY+e.touches[1].pageY)/2;E.copy(P(i,o))}}function B(e){if(!1!==n.enabled){switch(e.touches.length){case 0:f=r;break;case 1:f=s,v.copy(A(e.touches[0].pageX,e.touches[0].pageY)),m.copy(v)}n.dispatchEvent(M)}}function F(e){!1!==n.enabled&&e.preventDefault()}this.rotateCamera=function(){var e,t=new h.Vector3,r=new h.Quaternion,i=new h.Vector3,o=new h.Vector3,a=new h.Vector3,s=new h.Vector3;return function(){s.set(v.x-m.x,v.y-m.y,0),(e=s.length())?(d.copy(n.object.position).sub(n.target),i.copy(d).normalize(),o.copy(n.object.up).normalize(),a.crossVectors(o,i).normalize(),o.setLength(v.y-m.y),a.setLength(v.x-m.x),s.copy(o.add(a)),t.crossVectors(s,d).normalize(),e*=n.rotateSpeed,r.setFromAxisAngle(t,e),d.applyQuaternion(r),n.object.up.applyQuaternion(r),y.copy(t),g=e):!n.staticMoving&&g&&(g*=Math.sqrt(1-n.dynamicDampingFactor),d.copy(n.object.position).sub(n.target),r.setFromAxisAngle(y,g),d.applyQuaternion(r),n.object.up.applyQuaternion(r)),m.copy(v)}}(),this.zoomCamera=function(){var e;f===u?(e=w/x,w=x,n.object.isPerspectiveCamera?d.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom*=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")):(1!==(e=1+(_.y-b.y)*n.zoomSpeed)&&e>0&&(n.object.isPerspectiveCamera?d.multiplyScalar(e):n.object.isOrthographicCamera?(n.object.zoom/=e,n.object.updateProjectionMatrix()):console.warn("THREE.TrackballControls: Unsupported camera type")),n.staticMoving?b.copy(_):b.y+=(_.y-b.y)*this.dynamicDampingFactor)},this.panCamera=function(){var e=new h.Vector2,t=new h.Vector3,r=new h.Vector3;return function(){if(e.copy(E).sub(S),e.lengthSq()){if(n.object.isOrthographicCamera){var i=(n.object.right-n.object.left)/n.object.zoom/n.domElement.clientWidth,o=(n.object.top-n.object.bottom)/n.object.zoom/n.domElement.clientWidth;e.x*=i,e.y*=o}e.multiplyScalar(d.length()*n.panSpeed),r.copy(d).cross(n.object.up).setLength(e.x),r.add(t.copy(n.object.up).setLength(e.y)),n.object.position.add(r),n.target.add(r),n.staticMoving?S.copy(E):S.add(e.subVectors(E,S).multiplyScalar(n.dynamicDampingFactor))}}}(),this.checkDistances=function(){n.noZoom&&n.noPan||(d.lengthSq()>n.maxDistance*n.maxDistance&&(n.object.position.addVectors(n.target,d.setLength(n.maxDistance)),b.copy(_)),d.lengthSq()<n.minDistance*n.minDistance&&(n.object.position.addVectors(n.target,d.setLength(n.minDistance)),b.copy(_)))},this.update=function(){d.subVectors(n.object.position,n.target),n.noRotate||n.rotateCamera(),n.noZoom||n.zoomCamera(),n.noPan||n.panCamera(),n.object.position.addVectors(n.target,d),n.object.isPerspectiveCamera?(n.checkDistances(),n.object.lookAt(n.target),c.distanceToSquared(n.object.position)>1e-6&&(n.dispatchEvent(O),c.copy(n.object.position))):n.object.isOrthographicCamera?(n.object.lookAt(n.target),(c.distanceToSquared(n.object.position)>1e-6||l!==n.object.zoom)&&(n.dispatchEvent(O),c.copy(n.object.position),l=n.object.zoom)):console.warn("THREE.TrackballControls: Unsupported camera type")},this.reset=function(){f=r,p=r,n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.up.copy(n.up0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),d.subVectors(n.object.position,n.target),n.object.lookAt(n.target),n.dispatchEvent(O),c.copy(n.object.position),l=n.object.zoom},this.dispose=function(){n.domElement.removeEventListener("contextmenu",F,!1),n.domElement.removeEventListener("mousedown",j,!1),n.domElement.removeEventListener("wheel",N,!1),n.domElement.removeEventListener("touchstart",L,!1),n.domElement.removeEventListener("touchend",B,!1),n.domElement.removeEventListener("touchmove",I,!1),n.domElement.ownerDocument.removeEventListener("mousemove",R,!1),n.domElement.ownerDocument.removeEventListener("mouseup",D,!1),window.removeEventListener("keydown",C,!1),window.removeEventListener("keyup",k,!1)},this.domElement.addEventListener("contextmenu",F,!1),this.domElement.addEventListener("mousedown",j,!1),this.domElement.addEventListener("wheel",N,!1),this.domElement.addEventListener("touchstart",L,!1),this.domElement.addEventListener("touchend",B,!1),this.domElement.addEventListener("touchmove",I,!1),window.addEventListener("keydown",C,!1),window.addEventListener("keyup",k,!1),this.handleResize(),this.update()};(d.prototype=Object.create(h.EventDispatcher.prototype)).constructor=d;var m=n(14),v=function(e,t){void 0===t&&(console.warn('THREE.TransformControls: The second parameter "domElement" is now mandatory.'),t=document),h.Object3D.call(this),this.visible=!1,this.domElement=t;var n=new y;this.add(n);var r=new g;this.add(r);var i=this;H("camera",e),H("object",void 0),H("enabled",!0),H("axis",null),H("mode","translate"),H("translationSnap",null),H("rotationSnap",null),H("scaleSnap",null),H("space","world"),H("size",1),H("dragging",!1),H("showX",!0),H("showY",!0),H("showZ",!0);var o={type:"change"},a={type:"mouseDown"},s={type:"mouseUp",mode:i.mode},u={type:"objectChange"},c=new h.Raycaster;function l(e,t,n){for(var r=t.intersectObject(e,!0),i=0;i<r.length;i++)if(r[i].object.visible||n)return r[i];return!1}var f=new h.Vector3,p=new h.Vector3,d=new h.Quaternion,m={X:new h.Vector3(1,0,0),Y:new h.Vector3(0,1,0),Z:new h.Vector3(0,0,1)},v=new h.Vector3,b=new h.Vector3,_=new h.Vector3,w=new h.Vector3,x=new h.Vector3,S=new h.Vector3,E=0,O=new h.Vector3,T=new h.Quaternion,M=new h.Vector3,P=new h.Vector3,A=new h.Quaternion,C=new h.Quaternion,k=new h.Vector3,j=new h.Vector3,R=new h.Quaternion,D=new h.Vector3,N=new h.Vector3,L=new h.Quaternion,I=new h.Quaternion,B=new h.Vector3,F=new h.Vector3,U=new h.Vector3,z=new h.Quaternion,V=new h.Vector3;function H(e,t){var a=t;Object.defineProperty(i,e,{get:function(){return void 0!==a?a:t},set:function(t){a!==t&&(a=t,r[e]=t,n[e]=t,i.dispatchEvent({type:e+"-changed",value:t}),i.dispatchEvent(o))}}),i[e]=t,r[e]=t,n[e]=t}function $(e){if(i.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:e.button};var n=e.changedTouches?e.changedTouches[0]:e,r=t.getBoundingClientRect();return{x:(n.clientX-r.left)/r.width*2-1,y:-(n.clientY-r.top)/r.height*2+1,button:e.button}}function G(e){i.enabled&&i.pointerHover($(e))}function W(e){i.enabled&&(i.domElement.ownerDocument.addEventListener("mousemove",q,!1),i.pointerHover($(e)),i.pointerDown($(e)))}function q(e){i.enabled&&i.pointerMove($(e))}function Y(e){i.enabled&&(i.domElement.ownerDocument.removeEventListener("mousemove",q,!1),i.pointerUp($(e)))}H("worldPosition",N),H("worldPositionStart",j),H("worldQuaternion",L),H("worldQuaternionStart",R),H("cameraPosition",O),H("cameraQuaternion",T),H("pointStart",v),H("pointEnd",b),H("rotationAxis",w),H("rotationAngle",E),H("eye",F),t.addEventListener("mousedown",W,!1),t.addEventListener("touchstart",W,!1),t.addEventListener("mousemove",G,!1),t.addEventListener("touchmove",G,!1),t.addEventListener("touchmove",q,!1),i.domElement.ownerDocument.addEventListener("mouseup",Y,!1),t.addEventListener("touchend",Y,!1),t.addEventListener("touchcancel",Y,!1),t.addEventListener("touchleave",Y,!1),this.dispose=function(){t.removeEventListener("mousedown",W),t.removeEventListener("touchstart",W),t.removeEventListener("mousemove",G),i.domElement.ownerDocument.removeEventListener("mousemove",q),t.removeEventListener("touchmove",G),t.removeEventListener("touchmove",q),i.domElement.ownerDocument.removeEventListener("mouseup",Y),t.removeEventListener("touchend",Y),t.removeEventListener("touchcancel",Y),t.removeEventListener("touchleave",Y),this.traverse((function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()}))},this.attach=function(e){return this.object=e,this.visible=!0,this},this.detach=function(){return this.object=void 0,this.visible=!1,this.axis=null,this},this.updateMatrixWorld=function(){void 0!==this.object&&(this.object.updateMatrixWorld(),null===this.object.parent?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):this.object.parent.matrixWorld.decompose(P,A,k),this.object.matrixWorld.decompose(N,L,B),C.copy(A).inverse(),I.copy(L).inverse()),this.camera.updateMatrixWorld(),this.camera.matrixWorld.decompose(O,T,M),F.copy(O).sub(N).normalize(),h.Object3D.prototype.updateMatrixWorld.call(this)},this.pointerHover=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var t=l(n.picker[this.mode],c);this.axis=t?t.object.name:null}},this.pointerDown=function(e){if(void 0!==this.object&&!0!==this.dragging&&(void 0===e.button||0===e.button)&&(0===e.button||void 0===e.button)&&null!==this.axis){c.setFromCamera(e,this.camera);var t=l(r,c,!0);if(t){var n=this.space;if("scale"===this.mode?n="local":"E"!==this.axis&&"XYZE"!==this.axis&&"XYZ"!==this.axis||(n="world"),"local"===n&&"rotate"===this.mode){var i=this.rotationSnap;"X"===this.axis&&i&&(this.object.rotation.x=Math.round(this.object.rotation.x/i)*i),"Y"===this.axis&&i&&(this.object.rotation.y=Math.round(this.object.rotation.y/i)*i),"Z"===this.axis&&i&&(this.object.rotation.z=Math.round(this.object.rotation.z/i)*i)}this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),U.copy(this.object.position),z.copy(this.object.quaternion),V.copy(this.object.scale),this.object.matrixWorld.decompose(j,R,D),v.copy(t.point).sub(j)}this.dragging=!0,a.mode=this.mode,this.dispatchEvent(a)}},this.pointerMove=function(e){var t=this.axis,n=this.mode,i=this.object,a=this.space;if("scale"===n?a="local":"E"!==t&&"XYZE"!==t&&"XYZ"!==t||(a="world"),void 0!==i&&null!==t&&!1!==this.dragging&&(void 0===e.button||0===e.button)){c.setFromCamera(e,this.camera);var s=l(r,c,!0);if(s){if(b.copy(s.point).sub(j),"translate"===n)_.copy(b).sub(v),"local"===a&&"XYZ"!==t&&_.applyQuaternion(I),-1===t.indexOf("X")&&(_.x=0),-1===t.indexOf("Y")&&(_.y=0),-1===t.indexOf("Z")&&(_.z=0),"local"===a&&"XYZ"!==t?_.applyQuaternion(z).divide(k):_.applyQuaternion(C).divide(k),i.position.copy(_).add(U),this.translationSnap&&("local"===a&&(i.position.applyQuaternion(d.copy(z).inverse()),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.position.applyQuaternion(z)),"world"===a&&(i.parent&&i.position.add(f.setFromMatrixPosition(i.parent.matrixWorld)),-1!==t.search("X")&&(i.position.x=Math.round(i.position.x/this.translationSnap)*this.translationSnap),-1!==t.search("Y")&&(i.position.y=Math.round(i.position.y/this.translationSnap)*this.translationSnap),-1!==t.search("Z")&&(i.position.z=Math.round(i.position.z/this.translationSnap)*this.translationSnap),i.parent&&i.position.sub(f.setFromMatrixPosition(i.parent.matrixWorld))));else if("scale"===n){if(-1!==t.search("XYZ")){var h=b.length()/v.length();b.dot(v)<0&&(h*=-1),p.set(h,h,h)}else f.copy(v),p.copy(b),f.applyQuaternion(I),p.applyQuaternion(I),p.divide(f),-1===t.search("X")&&(p.x=1),-1===t.search("Y")&&(p.y=1),-1===t.search("Z")&&(p.z=1);i.scale.copy(V).multiply(p),this.scaleSnap&&(-1!==t.search("X")&&(i.scale.x=Math.round(i.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Y")&&(i.scale.y=Math.round(i.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),-1!==t.search("Z")&&(i.scale.z=Math.round(i.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if("rotate"===n){_.copy(b).sub(v);var y=20/N.distanceTo(f.setFromMatrixPosition(this.camera.matrixWorld));"E"===t?(w.copy(F),E=b.angleTo(v),x.copy(v).normalize(),S.copy(b).normalize(),E*=S.cross(x).dot(F)<0?1:-1):"XYZE"===t?(w.copy(_).cross(F).normalize(),E=_.dot(f.copy(w).cross(this.eye))*y):"X"!==t&&"Y"!==t&&"Z"!==t||(w.copy(m[t]),f.copy(m[t]),"local"===a&&f.applyQuaternion(L),E=_.dot(f.cross(F).normalize())*y),this.rotationSnap&&(E=Math.round(E/this.rotationSnap)*this.rotationSnap),this.rotationAngle=E,"local"===a&&"E"!==t&&"XYZE"!==t?(i.quaternion.copy(z),i.quaternion.multiply(d.setFromAxisAngle(w,E)).normalize()):(w.applyQuaternion(C),i.quaternion.copy(d.setFromAxisAngle(w,E)),i.quaternion.multiply(z).normalize())}this.dispatchEvent(o),this.dispatchEvent(u)}}},this.pointerUp=function(e){void 0!==e.button&&0!==e.button||(this.dragging&&null!==this.axis&&(s.mode=this.mode,this.dispatchEvent(s)),this.dragging=!1,void 0===e.button&&(this.axis=null))},this.getMode=function(){return i.mode},this.setMode=function(e){i.mode=e},this.setTranslationSnap=function(e){i.translationSnap=e},this.setRotationSnap=function(e){i.rotationSnap=e},this.setScaleSnap=function(e){i.scaleSnap=e},this.setSize=function(e){i.size=e},this.setSpace=function(e){i.space=e},this.update=function(){console.warn("THREE.TransformControls: update function has no more functionality and therefore has been deprecated.")}};v.prototype=Object.assign(Object.create(h.Object3D.prototype),{constructor:v,isTransformControls:!0});var y=function(){h.Object3D.call(this),this.type="TransformControlsGizmo";var e=new h.MeshBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,side:h.DoubleSide,fog:!1,toneMapped:!1}),t=new h.LineBasicMaterial({depthTest:!1,depthWrite:!1,transparent:!0,linewidth:1,fog:!1,toneMapped:!1}),n=e.clone();n.opacity=.15;var r=e.clone();r.opacity=.33;var i=e.clone();i.color.set(16711680);var o=e.clone();o.color.set(65280);var a=e.clone();a.color.set(255);var s=e.clone();s.opacity=.25;var u=s.clone();u.color.set(16776960);var c=s.clone();c.color.set(65535);var l=s.clone();l.color.set(16711935),e.clone().color.set(16776960);var f=t.clone();f.color.set(16711680);var p=t.clone();p.color.set(65280);var d=t.clone();d.color.set(255);var m=t.clone();m.color.set(65535);var v=t.clone();v.color.set(16711935);var y=t.clone();y.color.set(16776960);var g=t.clone();g.color.set(7895160);var b=y.clone();b.opacity=.25;var _=new h.CylinderBufferGeometry(0,.05,.2,12,1,!1),w=new h.BoxBufferGeometry(.125,.125,.125),x=new h.BufferGeometry;x.setAttribute("position",new h.Float32BufferAttribute([0,0,0,1,0,0],3));var S=function(e,t){for(var n=new h.BufferGeometry,r=[],i=0;i<=64*t;++i)r.push(0,Math.cos(i/32*Math.PI)*e,Math.sin(i/32*Math.PI)*e);return n.setAttribute("position",new h.Float32BufferAttribute(r,3)),n},E={X:[[new h.Mesh(_,i),[1,0,0],[0,0,-Math.PI/2],null,"fwd"],[new h.Mesh(_,i),[1,0,0],[0,0,Math.PI/2],null,"bwd"],[new h.Line(x,f)]],Y:[[new h.Mesh(_,o),[0,1,0],null,null,"fwd"],[new h.Mesh(_,o),[0,1,0],[Math.PI,0,0],null,"bwd"],[new h.Line(x,p),null,[0,0,Math.PI/2]]],Z:[[new h.Mesh(_,a),[0,0,1],[Math.PI/2,0,0],null,"fwd"],[new h.Mesh(_,a),[0,0,1],[-Math.PI/2,0,0],null,"bwd"],[new h.Line(x,d),null,[0,-Math.PI/2,0]]],XYZ:[[new h.Mesh(new h.OctahedronBufferGeometry(.1,0),s.clone()),[0,0,0],[0,0,0]]],XY:[[new h.Mesh(new h.PlaneBufferGeometry(.295,.295),u.clone()),[.15,.15,0]],[new h.Line(x,y),[.18,.3,0],null,[.125,1,1]],[new h.Line(x,y),[.3,.18,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new h.Mesh(new h.PlaneBufferGeometry(.295,.295),c.clone()),[0,.15,.15],[0,Math.PI/2,0]],[new h.Line(x,m),[0,.18,.3],[0,0,Math.PI/2],[.125,1,1]],[new h.Line(x,m),[0,.3,.18],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new h.Mesh(new h.PlaneBufferGeometry(.295,.295),l.clone()),[.15,0,.15],[-Math.PI/2,0,0]],[new h.Line(x,v),[.18,0,.3],null,[.125,1,1]],[new h.Line(x,v),[.3,0,.18],[0,-Math.PI/2,0],[.125,1,1]]]},O={X:[[new h.Mesh(new h.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[.6,0,0],[0,0,-Math.PI/2]]],Y:[[new h.Mesh(new h.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,.6,0]]],Z:[[new h.Mesh(new h.CylinderBufferGeometry(.2,0,1,4,1,!1),n),[0,0,.6],[Math.PI/2,0,0]]],XYZ:[[new h.Mesh(new h.OctahedronBufferGeometry(.2,0),n)]],XY:[[new h.Mesh(new h.PlaneBufferGeometry(.4,.4),n),[.2,.2,0]]],YZ:[[new h.Mesh(new h.PlaneBufferGeometry(.4,.4),n),[0,.2,.2],[0,Math.PI/2,0]]],XZ:[[new h.Mesh(new h.PlaneBufferGeometry(.4,.4),n),[.2,0,.2],[-Math.PI/2,0,0]]]},T={START:[[new h.Mesh(new h.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],END:[[new h.Mesh(new h.OctahedronBufferGeometry(.01,2),r),null,null,null,"helper"]],DELTA:[[new h.Line(function(){var e=new h.BufferGeometry;return e.setAttribute("position",new h.Float32BufferAttribute([0,0,0,1,1,1],3)),e}(),r),null,null,null,"helper"]],X:[[new h.Line(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new h.Line(x,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new h.Line(x,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},M={X:[[new h.Line(S(1,.5),f)],[new h.Mesh(new h.OctahedronBufferGeometry(.04,0),i),[0,0,.99],null,[1,3,1]]],Y:[[new h.Line(S(1,.5),p),null,[0,0,-Math.PI/2]],[new h.Mesh(new h.OctahedronBufferGeometry(.04,0),o),[0,0,.99],null,[3,1,1]]],Z:[[new h.Line(S(1,.5),d),null,[0,Math.PI/2,0]],[new h.Mesh(new h.OctahedronBufferGeometry(.04,0),a),[.99,0,0],null,[1,3,1]]],E:[[new h.Line(S(1.25,1),b),null,[0,Math.PI/2,0]],[new h.Mesh(new h.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[1.17,0,0],[0,0,-Math.PI/2],[1,1,.001]],[new h.Mesh(new h.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[-1.17,0,0],[0,0,Math.PI/2],[1,1,.001]],[new h.Mesh(new h.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,-1.17,0],[Math.PI,0,0],[1,1,.001]],[new h.Mesh(new h.CylinderBufferGeometry(.03,0,.15,4,1,!1),b),[0,1.17,0],[0,0,0],[1,1,.001]]],XYZE:[[new h.Line(S(1,1),g),null,[0,Math.PI/2,0]]]},P={AXIS:[[new h.Line(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},A={X:[[new h.Mesh(new h.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new h.Mesh(new h.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[Math.PI/2,0,0]]],Z:[[new h.Mesh(new h.TorusBufferGeometry(1,.1,4,24),n),[0,0,0],[0,0,-Math.PI/2]]],E:[[new h.Mesh(new h.TorusBufferGeometry(1.25,.1,2,24),n)]],XYZE:[[new h.Mesh(new h.SphereBufferGeometry(.7,10,8),n)]]},C={X:[[new h.Mesh(w,i),[.8,0,0],[0,0,-Math.PI/2]],[new h.Line(x,f),null,null,[.8,1,1]]],Y:[[new h.Mesh(w,o),[0,.8,0]],[new h.Line(x,p),null,[0,0,Math.PI/2],[.8,1,1]]],Z:[[new h.Mesh(w,a),[0,0,.8],[Math.PI/2,0,0]],[new h.Line(x,d),null,[0,-Math.PI/2,0],[.8,1,1]]],XY:[[new h.Mesh(w,u),[.85,.85,0],null,[2,2,.2]],[new h.Line(x,y),[.855,.98,0],null,[.125,1,1]],[new h.Line(x,y),[.98,.855,0],[0,0,Math.PI/2],[.125,1,1]]],YZ:[[new h.Mesh(w,c),[0,.85,.85],null,[.2,2,2]],[new h.Line(x,m),[0,.855,.98],[0,0,Math.PI/2],[.125,1,1]],[new h.Line(x,m),[0,.98,.855],[0,-Math.PI/2,0],[.125,1,1]]],XZ:[[new h.Mesh(w,l),[.85,0,.85],null,[2,.2,2]],[new h.Line(x,v),[.855,0,.98],null,[.125,1,1]],[new h.Line(x,v),[.98,0,.855],[0,-Math.PI/2,0],[.125,1,1]]],XYZX:[[new h.Mesh(new h.BoxBufferGeometry(.125,.125,.125),s.clone()),[1.1,0,0]]],XYZY:[[new h.Mesh(new h.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,1.1,0]]],XYZZ:[[new h.Mesh(new h.BoxBufferGeometry(.125,.125,.125),s.clone()),[0,0,1.1]]]},k={X:[[new h.Mesh(new h.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[.5,0,0],[0,0,-Math.PI/2]]],Y:[[new h.Mesh(new h.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,.5,0]]],Z:[[new h.Mesh(new h.CylinderBufferGeometry(.2,0,.8,4,1,!1),n),[0,0,.5],[Math.PI/2,0,0]]],XY:[[new h.Mesh(w,n),[.85,.85,0],null,[3,3,.2]]],YZ:[[new h.Mesh(w,n),[0,.85,.85],null,[.2,3,3]]],XZ:[[new h.Mesh(w,n),[.85,0,.85],null,[3,.2,3]]],XYZX:[[new h.Mesh(new h.BoxBufferGeometry(.2,.2,.2),n),[1.1,0,0]]],XYZY:[[new h.Mesh(new h.BoxBufferGeometry(.2,.2,.2),n),[0,1.1,0]]],XYZZ:[[new h.Mesh(new h.BoxBufferGeometry(.2,.2,.2),n),[0,0,1.1]]]},j={X:[[new h.Line(x,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new h.Line(x,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new h.Line(x,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},R=function(e){var t=new h.Object3D;for(var n in e)for(var r=e[n].length;r--;){var i=e[n][r][0].clone(),o=e[n][r][1],a=e[n][r][2],s=e[n][r][3],u=e[n][r][4];i.name=n,i.tag=u,o&&i.position.set(o[0],o[1],o[2]),a&&i.rotation.set(a[0],a[1],a[2]),s&&i.scale.set(s[0],s[1],s[2]),i.updateMatrix();var c=i.geometry.clone();c.applyMatrix4(i.matrix),i.geometry=c,i.renderOrder=1/0,i.position.set(0,0,0),i.rotation.set(0,0,0),i.scale.set(1,1,1),t.add(i)}return t},D=new h.Vector3(0,0,0),N=new h.Euler,L=new h.Vector3(0,1,0),I=new h.Vector3(0,0,0),B=new h.Matrix4,F=new h.Quaternion,U=new h.Quaternion,z=new h.Quaternion,V=new h.Vector3(1,0,0),H=new h.Vector3(0,1,0),$=new h.Vector3(0,0,1);this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=R(E)),this.add(this.gizmo.rotate=R(M)),this.add(this.gizmo.scale=R(C)),this.add(this.picker.translate=R(O)),this.add(this.picker.rotate=R(A)),this.add(this.picker.scale=R(k)),this.add(this.helper.translate=R(T)),this.add(this.helper.rotate=R(P)),this.add(this.helper.scale=R(j)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1,this.updateMatrixWorld=function(){var e=this.space;"scale"===this.mode&&(e="local");var t="local"===e?this.worldQuaternion:z;this.gizmo.translate.visible="translate"===this.mode,this.gizmo.rotate.visible="rotate"===this.mode,this.gizmo.scale.visible="scale"===this.mode,this.helper.translate.visible="translate"===this.mode,this.helper.rotate.visible="rotate"===this.mode,this.helper.scale.visible="scale"===this.mode;var n=[];n=(n=(n=n.concat(this.picker[this.mode].children)).concat(this.gizmo[this.mode].children)).concat(this.helper[this.mode].children);for(var r=0;r<n.length;r++){var i,o=n[r];if(o.visible=!0,o.rotation.set(0,0,0),o.position.copy(this.worldPosition),i=this.camera.isOrthographicCamera?(this.camera.top-this.camera.bottom)/this.camera.zoom:this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),o.scale.set(1,1,1).multiplyScalar(i*this.size/7),"helper"!==o.tag){if(o.quaternion.copy(t),"translate"===this.mode||"scale"===this.mode){"X"!==o.name&&"XYZX"!==o.name||Math.abs(L.copy(V).applyQuaternion(t).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"Y"!==o.name&&"XYZY"!==o.name||Math.abs(L.copy(H).applyQuaternion(t).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"Z"!==o.name&&"XYZZ"!==o.name||Math.abs(L.copy($).applyQuaternion(t).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"XY"===o.name&&Math.abs(L.copy($).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"YZ"===o.name&&Math.abs(L.copy(V).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),"XZ"===o.name&&Math.abs(L.copy(H).applyQuaternion(t).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),-1!==o.name.search("X")&&(L.copy(V).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.x*=-1:"bwd"===o.tag&&(o.visible=!1)),-1!==o.name.search("Y")&&(L.copy(H).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.y*=-1:"bwd"===o.tag&&(o.visible=!1)),-1!==o.name.search("Z")&&(L.copy($).applyQuaternion(t).dot(this.eye)<0?"fwd"===o.tag?o.visible=!1:o.scale.z*=-1:"bwd"===o.tag&&(o.visible=!1))}else"rotate"===this.mode&&(U.copy(t),L.copy(this.eye).applyQuaternion(F.copy(t).inverse()),-1!==o.name.search("E")&&o.quaternion.setFromRotationMatrix(B.lookAt(this.eye,I,H)),"X"===o.name&&(F.setFromAxisAngle(V,Math.atan2(-L.y,L.z)),F.multiplyQuaternions(U,F),o.quaternion.copy(F)),"Y"===o.name&&(F.setFromAxisAngle(H,Math.atan2(L.x,L.z)),F.multiplyQuaternions(U,F),o.quaternion.copy(F)),"Z"===o.name&&(F.setFromAxisAngle($,Math.atan2(L.y,L.x)),F.multiplyQuaternions(U,F),o.quaternion.copy(F)));o.visible=o.visible&&(-1===o.name.indexOf("X")||this.showX),o.visible=o.visible&&(-1===o.name.indexOf("Y")||this.showY),o.visible=o.visible&&(-1===o.name.indexOf("Z")||this.showZ),o.visible=o.visible&&(-1===o.name.indexOf("E")||this.showX&&this.showY&&this.showZ),o.material._opacity=o.material._opacity||o.material.opacity,o.material._color=o.material._color||o.material.color.clone(),o.material.color.copy(o.material._color),o.material.opacity=o.material._opacity,this.enabled?this.axis&&(o.name===this.axis||this.axis.split("").some((function(e){return o.name===e}))?(o.material.opacity=1,o.material.color.lerp(new h.Color(1,1,1),.5)):(o.material.opacity*=.25,o.material.color.lerp(new h.Color(1,1,1),.5))):(o.material.opacity*=.5,o.material.color.lerp(new h.Color(1,1,1),.5))}else o.visible=!1,"AXIS"===o.name?(o.position.copy(this.worldPositionStart),o.visible=!!this.axis,"X"===this.axis&&(F.setFromEuler(N.set(0,0,0)),o.quaternion.copy(t).multiply(F),Math.abs(L.copy(V).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"Y"===this.axis&&(F.setFromEuler(N.set(0,0,Math.PI/2)),o.quaternion.copy(t).multiply(F),Math.abs(L.copy(H).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"Z"===this.axis&&(F.setFromEuler(N.set(0,Math.PI/2,0)),o.quaternion.copy(t).multiply(F),Math.abs(L.copy($).applyQuaternion(t).dot(this.eye))>.9&&(o.visible=!1)),"XYZE"===this.axis&&(F.setFromEuler(N.set(0,Math.PI/2,0)),L.copy(this.rotationAxis),o.quaternion.setFromRotationMatrix(B.lookAt(I,L,H)),o.quaternion.multiply(F),o.visible=this.dragging),"E"===this.axis&&(o.visible=!1)):"START"===o.name?(o.position.copy(this.worldPositionStart),o.visible=this.dragging):"END"===o.name?(o.position.copy(this.worldPosition),o.visible=this.dragging):"DELTA"===o.name?(o.position.copy(this.worldPositionStart),o.quaternion.copy(this.worldQuaternionStart),D.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),D.applyQuaternion(this.worldQuaternionStart.clone().inverse()),o.scale.copy(D),o.visible=this.dragging):(o.quaternion.copy(t),this.dragging?o.position.copy(this.worldPositionStart):o.position.copy(this.worldPosition),this.axis&&(o.visible=-1!==this.axis.search(o.name)))}h.Object3D.prototype.updateMatrixWorld.call(this)}};y.prototype=Object.assign(Object.create(h.Object3D.prototype),{constructor:y,isTransformControlsGizmo:!0});var g=function(){h.Mesh.call(this,new h.PlaneBufferGeometry(1e5,1e5,2,2),new h.MeshBasicMaterial({visible:!1,wireframe:!0,side:h.DoubleSide,transparent:!0,opacity:.1,toneMapped:!1})),this.type="TransformControlsPlane";var e=new h.Vector3(1,0,0),t=new h.Vector3(0,1,0),n=new h.Vector3(0,0,1),r=new h.Vector3,i=new h.Vector3,o=new h.Vector3,a=new h.Matrix4,s=new h.Quaternion;this.updateMatrixWorld=function(){var u=this.space;switch(this.position.copy(this.worldPosition),"scale"===this.mode&&(u="local"),e.set(1,0,0).applyQuaternion("local"===u?this.worldQuaternion:s),t.set(0,1,0).applyQuaternion("local"===u?this.worldQuaternion:s),n.set(0,0,1).applyQuaternion("local"===u?this.worldQuaternion:s),o.copy(t),this.mode){case"translate":case"scale":switch(this.axis){case"X":o.copy(this.eye).cross(e),i.copy(e).cross(o);break;case"Y":o.copy(this.eye).cross(t),i.copy(t).cross(o);break;case"Z":o.copy(this.eye).cross(n),i.copy(n).cross(o);break;case"XY":i.copy(n);break;case"YZ":i.copy(e);break;case"XZ":o.copy(n),i.copy(t);break;case"XYZ":case"E":i.set(0,0,0)}break;case"rotate":default:i.set(0,0,0)}0===i.length()?this.quaternion.copy(this.cameraQuaternion):(a.lookAt(r.set(0,0,0),i,o),this.quaternion.setFromRotationMatrix(a)),h.Object3D.prototype.updateMatrixWorld.call(this)}};g.prototype=Object.assign(Object.create(h.Mesh.prototype),{constructor:g,isTransformControlsPlane:!0});n(170),n(171);var b=n(30),_=n(69);function w(e){var t="function"===typeof Map?new Map:void 0;return(w=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Object(a.a)(e,arguments,Object(b.a)(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Object(_.a)(r,e)})(e)}function x(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(b.a)(e)););return e}n(13);function S(e,t,n){return(S="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=x(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}n(36);var E=n(19),O=n(10),T=0,M="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",P=(h.ShaderMaterial,"uniform sampler2D inputBuffer;uniform sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;\n#if PASS == 1\nuniform float kernel64[128];\n#else\nuniform float kernel16[32];\n#endif\nvarying vec2 vUv;void main(){\n#ifdef FOREGROUND\nvec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;\n#else\nfloat CoC=texture2D(cocBuffer,vUv).g*scale;\n#endif\nif(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{\n#ifdef FOREGROUND\nvec2 step=texelSize*max(CoC,CoCNearFar.g*scale);\n#else\nvec2 step=texelSize*CoC;\n#endif\n#if PASS == 1\nvec4 acc=vec4(0.0);for(int i=0;i<128;i+=2){vec2 uv=step*vec2(kernel64[i],kernel64[i+1])+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;\n#else\nvec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<32;i+=2){vec2 uv=step*vec2(kernel16[i],kernel16[i+1])+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;\n#endif\n}}"),A=(h.ShaderMaterial,h.ShaderMaterial,"uniform sampler2D inputBuffer;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;void main(){const vec2 threshold=vec2(EDGE_THRESHOLD);vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);}"),C="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;\n#if EDGE_DETECTION_MODE != 0\nvarying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;\n#endif\nvoid main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);\n#if EDGE_DETECTION_MODE != 0\nvUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);\n#endif\ngl_Position=vec4(position.xy,1.0,1.0);}",k=(h.ShaderMaterial,"#include <common>\n#include <dithering_pars_fragment>\nuniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;\n#include <dithering_fragment>\n}"),j="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;/*Packing multiple texture coordinates into one varying and using a swizzle toextract them in the fragment shader still causes a dependent texture read.*/varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",R=(h.ShaderMaterial,[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])]),D={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},N=(h.ShaderMaterial,"#include <packing>\n#include <clipping_planes_pars_fragment>\n#ifdef GL_FRAGMENT_PRECISION_HIGH\nuniform highp sampler2D depthBuffer;\n#else\nuniform mediump sampler2D depthBuffer;\n#endif\nuniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <clipping_planes_fragment>\nvec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));\n#ifdef PERSPECTIVE_CAMERA\nfloat viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#else\nfloat viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);\n#endif\nfloat depthTest=(-vViewZ>-viewZ)? 1.0 : 0.0;gl_FragColor.rg=vec2(0.0,depthTest);}"),L="#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying float vViewZ;varying vec4 vProjTexCoord;void main(){\n#include <skinbase_vertex>\n#include <begin_vertex>\n#include <morphtarget_vertex>\n#include <skinning_vertex>\n#include <project_vertex>\nvViewZ=mvPosition.z;vProjTexCoord=gl_Position;\n#include <clipping_planes_vertex>\n}",I=(h.ShaderMaterial,h.ShaderMaterial,h.ShaderMaterial,h.ShaderMaterial,{DEPTH:0,LUMA:1,COLOR:2}),B=(h.ShaderMaterial,{FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"}),F=(h.ShaderMaterial,"#include <common>\nuniform sampler2D inputBuffer;\n#ifdef RANGE\nuniform vec2 range;\n#elif defined(THRESHOLD)\nuniform float threshold;uniform float smoothing;\n#endif\nvarying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=linearToRelativeLuminance(texel.rgb);\n#ifdef RANGE\nfloat low=step(range.x,l);float high=step(l,range.y);l*=low*high;\n#elif defined(THRESHOLD)\nl=smoothstep(threshold,threshold+smoothing,l);\n#endif\n#ifdef COLOR\ngl_FragColor=vec4(texel.rgb*l,l);\n#else\ngl_FragColor=vec4(l);\n#endif\n}"),U=(h.ShaderMaterial,"uniform sampler2D maskTexture;uniform sampler2D inputBuffer;\n#if MASK_FUNCTION != 0\nuniform float strength;\n#endif\nvarying vec2 vUv;void main(){\n#if COLOR_CHANNEL == 0\nfloat mask=texture2D(maskTexture,vUv).r;\n#elif COLOR_CHANNEL == 1\nfloat mask=texture2D(maskTexture,vUv).g;\n#elif COLOR_CHANNEL == 2\nfloat mask=texture2D(maskTexture,vUv).b;\n#else\nfloat mask=texture2D(maskTexture,vUv).a;\n#endif\n#if MASK_FUNCTION == 0\n#ifdef INVERTED\nif(mask>0.0){discard;}\n#else\nif(mask==0.0){discard;}\n#endif\n#else\nmask=clamp(mask*strength,0.0,1.0);\n#ifdef INVERTED\nmask=(1.0-mask);\n#endif\n#if MASK_FUNCTION == 1\ngl_FragColor=mask*texture2D(inputBuffer,vUv);\n#else\ngl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);\n#endif\n#endif\n}"),z=(h.ShaderMaterial,{DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2}),V="uniform sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)? vec2(d,0.0): vec2(0.0,d);}",H="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",$=(h.ShaderMaterial,"#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)\n#if __VERSION__ < 300\n#define round(v) floor(v + 0.5)\n#endif\nuniform sampler2D inputBuffer;uniform sampler2D areaTexture;uniform sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;/***Moves values to a target vector based on a given conditional vector.*/void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}/***Allows to decode two binary values from a bilinear-filtered access.**Bilinear access for fetching 'e' have a 0.25 offset,and we are interested*in the R and G edges:**+---G---+-------+*|x o R   x|*+-------+-------+**Then,if one of these edge is enabled:*Red:(0.75*X+0.25*1)=>0.25 or 1.0*Green:(0.75*1+0.25*X)=>0.75 or 1.0**This function will unpack the values(mad+mul+round):*wolframalpha.com: round(x*abs(5*x-5*0.75))plot 0 to 1*/vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}/***Diagonal pattern searches.*/vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}/***Calculates the area corresponding to a certain diagonal distance and crossing*edges 'e'.*/vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}/***Searches for diagonal patterns and returns the corresponding weights.*/vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}/***Determines how much length should be added in the last step of the searches.**Takes the bilinearly interpolated edge(see @PSEUDO_GATHER4),and adds 0,1*or 2 depending on which edges and crossing edges are active.*/float searchLength(const in vec2 e,const in float offset){/*The texture is flipped vertically,with left and right cases taking halfof the space horizontally.*/vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}/***Horizontal search for the second pass.*/float searchXLeft(in vec2 texCoord,const in float end){/*@PSEUDO_GATHER4This texCoord has been offset by(-0.25,-0.125)in the vertex shader tosample between edges,thus fetching four edges in a row.Sampling with different offsets in each direction allows to disambiguatewhich edges are active from the four fetched ones.*/vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}/***Vertical search for the second pass.*/float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}/***Determines the areas at each side of the current edge.*/vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}/***Corner detection.*/void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);\n#endif\n}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){\n#if !defined(DISABLE_CORNER_DETECTION)\nvec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);\n#endif\n}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){\n#if !defined(DISABLE_DIAG_DETECTION)\n/*Diagonals have both north and west edges,so searching for them in one ofthe boundaries is enough.*/weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){\n#endif\nvec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;/*Now fetch the left crossing edges,two at a time using bilinearfiltering. Sampling at-0.25(see @CROSSING_OFFSET)enables to discern whatvalue each edge has.*/float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;/*Translate distances to pixel units for better interleave arithmetic andmemory accesses.*/d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);\n#if !defined(DISABLE_DIAG_DETECTION)\n}else{e.r=0.0;}\n#endif\n}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}"),G="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}";h.ShaderMaterial,h.ShaderMaterial,new h.Camera;new h.Color;var W=0,q=2,Y=10,X=13,Z=14,Q=16,K=new Map([[W,null],[1,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}"],[q,"vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}"],[3,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}"],[4,"float blend(const in float x,const in float y){return(y==0.0)? y : max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[5,"float blend(const in float x,const in float y){return(y==1.0)? y : min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[6,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}"],[7,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}"],[8,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}"],[9,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}"],[Y,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}"],[11,"float blend(const in float x,const in float y){return(y>0.0)? min(x/y,1.0): 1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[12,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}"],[X,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}"],[Z,"float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[15,"float blend(const in float x,const in float y){return(y==1.0)? y : min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[Q,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}"],[17,"float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}"],[18,"vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}"]]),J=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(r.a)(this,n),(i=t.call(this)).blendFunction=e,i.opacity=new h.Uniform(o),i}return Object(O.a)(n,[{key:"getBlendFunction",value:function(){return this.blendFunction}},{key:"setBlendFunction",value:function(e){this.blendFunction=e,this.dispatchEvent({type:"change"})}},{key:"getShaderCode",value:function(){return K.get(this.blendFunction)}}]),n}(h.EventDispatcher),ee=(h.EventDispatcher,{NONE:0,DEPTH:1,CONVOLUTION:2});Set;function te(e,t,n){var r,i=new Map([[h.LuminanceFormat,1],[h.RedFormat,1],[h.RGFormat,2],[h.RGBFormat,3],[h.RGBAFormat,4]]);if(i.has(t)||console.error("Invalid noise texture format"),n===h.UnsignedByteType)for(var o=0,a=(r=new Uint8Array(e*i.get(t))).length;o<a;++o)r[o]=255*Math.random();else for(var s=0,u=(r=new Float32Array(e*i.get(t))).length;s<u;++s)r[s]=Math.random();return r}h.DataTexture;var ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(r.a)(this,e),this.width=t,this.height=n,this.data=i}return Object(O.a)(e,[{key:"toCanvas",value:function(){return"undefined"===typeof document?null:function(e,t,n){var r=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=r.getContext("2d"),o=i.createImageData(e,t);return o.data.set(n),r.width=e,r.height=t,i.putImageData(o,0,0),r}(this.width,this.height,this.data)}}],[{key:"from",value:function(t){return new e(t.width,t.height,t.data)}}]),e}(),re='!function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,a,n){return a&&t(e.prototype,a),n&&t(e,n),e}var n=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e(this,t),this.width=a,this.height=n,this.data=s}return a(t,[{key:"toCanvas",value:function(){return"undefined"==typeof document?null:(e=this.width,t=this.height,a=this.data,n=document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),s=n.getContext("2d"),(r=s.createImageData(e,t)).data.set(a),n.width=e,n.height=t,s.putImageData(r,0,0),n);var e,t,a,n,s,r}}],[{key:"from",value:function(e){return new t(e.width,e.height,e.data)}}]),t}(),s=function(){function t(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e(this,t),this.x=a,this.y=n}return a(t,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"equals",value:function(e){return this===e||this.x===e.x&&this.y===e.y}}]),t}(),r=function t(){e(this,t),this.min=new s,this.max=new s},i=new r,y=new r,c=new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),u=[new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125])],h=[new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4])],o=[new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3])];function w(e,t,a){return e+(t-e)*a}function x(e,t){var a,n=t.min,s=t.max,r=.5*Math.sqrt(2*n.x),i=.5*Math.sqrt(2*n.y),y=.5*Math.sqrt(2*s.x),c=.5*Math.sqrt(2*s.y),u=(a=e/32,Math.min(Math.max(a,0),1));return n.set(w(r,n.x,u),w(i,n.y,u)),s.set(w(y,s.x,u),w(c,s.y,u)),t}function f(e,t,a,n){var s,r,i,y,c=t.x-e.x,u=t.y-e.y,h=a,o=a+1,w=e.y+u*(h-e.x)/c,x=e.y+u*(o-e.x)/c;return h>=e.x&&h<t.x||o>e.x&&o<=t.x?Math.sign(w)===Math.sign(x)||Math.abs(w)<1e-4||Math.abs(x)<1e-4?(s=(w+x)/2)<0?n.set(Math.abs(s),0):n.set(0,Math.abs(s)):(r=(y=-e.y*c/u+e.x)>e.x?w*(y-Math.trunc(y))/2:0,i=y<t.x?x*(1-(y-Math.trunc(y)))/2:0,(s=Math.abs(r)>Math.abs(i)?r:-i)<0?n.set(Math.abs(r),Math.abs(i)):n.set(Math.abs(i),Math.abs(r))):n.set(0,0),n}function l(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=y,w=.5+n,l=.5+n-1,b=t+a+1;switch(e){case 0:s.set(0,0);break;case 1:t<=a?f(r.set(0,l),c.set(b/2,0),t,s):s.set(0,0);break;case 2:t>=a?f(r.set(b/2,0),c.set(b,l),t,s):s.set(0,0);break;case 3:f(r.set(0,l),c.set(b/2,0),t,u),f(r.set(b/2,0),c.set(b,l),t,h),x(b,o),s.set(u.x+h.x,u.y+h.y);break;case 4:t<=a?f(r.set(0,w),c.set(b/2,0),t,s):s.set(0,0);break;case 5:s.set(0,0);break;case 6:Math.abs(n)>0?(f(r.set(0,w),c.set(b,l),t,u),f(r.set(0,w),c.set(b/2,0),t,h),f(r.set(b/2,0),c.set(b,l),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):f(r.set(0,w),c.set(b,l),t,s);break;case 7:f(r.set(0,w),c.set(b,l),t,s);break;case 8:t>=a?f(r.set(b/2,0),c.set(b,w),t,s):s.set(0,0);break;case 9:Math.abs(n)>0?(f(r.set(0,l),c.set(b,w),t,u),f(r.set(0,l),c.set(b/2,0),t,h),f(r.set(b/2,0),c.set(b,w),t,s),h.set(h.x+s.x,h.y+s.y),s.set((u.x+h.x)/2,(u.y+h.y)/2)):f(r.set(0,l),c.set(b,w),t,s);break;case 10:s.set(0,0);break;case 11:f(r.set(0,l),c.set(b,w),t,s);break;case 12:f(r.set(0,w),c.set(b/2,0),t,u),f(r.set(b/2,0),c.set(b,w),t,h),x(b,o),s.set(u.x+h.x,u.y+h.y);break;case 13:f(r.set(0,l),c.set(b,w),t,s);break;case 14:f(r.set(0,w),c.set(b,l),t,s);break;case 15:s.set(0,0)}return s}function b(e,t,a,n){var s=e.equals(t);if(!s){var r=(e.x+t.x)/2,i=(e.y+t.y)/2;s=(t.y-e.y)*(a-r)+(e.x-t.x)*(n-i)>0}return s}function A(e,t,a,n){var s,r,i;for(s=0,i=0;i<30;++i)for(r=0;r<30;++r)b(e,t,a+r/29,n+i/29)&&++s;return s/900}function v(e,t,a,n,s,r){var i=o[e],y=i[0],c=i[1];return y>0&&(t.x+=s[0],t.y+=s[1]),c>0&&(a.x+=s[0],a.y+=s[1]),r.set(1-A(t,a,1+n,0+n),A(t,a,1+n,1+n))}function k(e,t,a,n,s){var r=i.min,c=i.max,u=y.min,h=y.max,o=t+a+1;switch(e){case 0:v(e,r.set(1,1),c.set(1+o,1+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 1:v(e,r.set(1,0),c.set(0+o,0+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 2:v(e,r.set(0,0),c.set(1+o,0+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 3:v(e,r.set(1,0),c.set(1+o,0+o),t,n,s);break;case 4:v(e,r.set(1,1),c.set(0+o,0+o),t,n,u),v(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 5:v(e,r.set(1,1),c.set(0+o,0+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 6:v(e,r.set(1,1),c.set(1+o,0+o),t,n,s);break;case 7:v(e,r.set(1,1),c.set(1+o,0+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 8:v(e,r.set(0,0),c.set(1+o,1+o),t,n,u),v(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 9:v(e,r.set(1,0),c.set(1+o,1+o),t,n,s);break;case 10:v(e,r.set(0,0),c.set(1+o,1+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 11:v(e,r.set(1,0),c.set(1+o,1+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 12:v(e,r.set(1,1),c.set(1+o,1+o),t,n,s);break;case 13:v(e,r.set(1,1),c.set(1+o,1+o),t,n,u),v(e,r.set(1,0),c.set(1+o,1+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 14:v(e,r.set(1,1),c.set(1+o,1+o),t,n,u),v(e,r.set(1,1),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2);break;case 15:v(e,r.set(1,1),c.set(1+o,1+o),t,n,u),v(e,r.set(1,0),c.set(1+o,0+o),t,n,h),s.set((u.x+h.x)/2,(u.y+h.y)/2)}return s}function U(e,t,a){var n,r,i,y,c,u,h,o,w=new s;for(n=0,r=e.length;n<r;++n)for(h=(u=e[n]).data,o=u.width,y=0;y<o;++y)for(i=0;i<o;++i)a?l(n,i,y,t,w):k(n,i,y,t,w),h[c=2*(y*o+i)]=255*w.x,h[c+1]=255*w.y}function d(e,t,a,n,r,i){var y,c,u,h,o,w,x,f,l,b,A=new s,v=i.data,k=i.width;for(y=0,c=t.length;y<c;++y)for(x=a[y],l=(f=t[y]).data,b=f.width,h=0;h<n;++h)for(u=0;u<n;++u)A.set(x[0]*n+e.x+u,x[1]*n+e.y+h),w=r?2*(h*h*b+u*u):2*(h*b+u),v[o=4*(A.y*k+A.x)]=l[w],v[o+1]=l[w+1],v[o+2]=0,v[o+3]=255}var g=function(){function t(){e(this,t)}return a(t,null,[{key:"generate",value:function(){var e,t,a=5*c.length*16,r=new Uint8ClampedArray(160*a*4),i=new n(160,a,r),y=Math.pow(15,2)+1,w=[],x=[],f=new s;for(e=0;e<16;++e)w.push(new n(y,y,new Uint8ClampedArray(y*y*2),2)),x.push(new n(20,20,new Uint8ClampedArray(800),2));for(e=0,t=c.length;e<t;++e)U(w,c[e],!0),f.set(0,80*e),d(f,w,h,16,!0,i);for(e=0,t=u.length;e<t;++e)U(x,u[e],!1),f.set(80,80*e),d(f,x,o,20,!1,i);return i}}]),t}(),m=new Map([[p([0,0,0,0]),[0,0,0,0]],[p([0,0,0,1]),[0,0,0,1]],[p([0,0,1,0]),[0,0,1,0]],[p([0,0,1,1]),[0,0,1,1]],[p([0,1,0,0]),[0,1,0,0]],[p([0,1,0,1]),[0,1,0,1]],[p([0,1,1,0]),[0,1,1,0]],[p([0,1,1,1]),[0,1,1,1]],[p([1,0,0,0]),[1,0,0,0]],[p([1,0,0,1]),[1,0,0,1]],[p([1,0,1,0]),[1,0,1,0]],[p([1,0,1,1]),[1,0,1,1]],[p([1,1,0,0]),[1,1,0,0]],[p([1,1,0,1]),[1,1,0,1]],[p([1,1,1,0]),[1,1,1,0]],[p([1,1,1,1]),[1,1,1,1]]]);function M(e,t,a){return e+(t-e)*a}function p(e){var t=M(e[0],e[1],.75),a=M(e[2],e[3],.75);return M(t,a,.875)}function C(e,t){var a=0;return 1===t[3]&&1!==e[1]&&1!==e[3]&&(a+=1),1===a&&1===t[2]&&1!==e[0]&&1!==e[2]&&(a+=1),a}var q=function(){function t(){e(this,t)}return a(t,null,[{key:"generate",value:function(){var e,t,a,s,r,i,y,c,u,h,o=new Uint8ClampedArray(2178),w=new Uint8ClampedArray(4096);for(t=0;t<33;++t)for(e=0;e<66;++e)a=.03125*e,s=.03125*t,m.has(a)&&m.has(s)&&(i=m.get(a),y=m.get(s),o[r=66*t+e]=127*(c=i,h=void 0,h=0,1===(u=y)[3]&&(h+=1),1===h&&1===u[2]&&1!==c[1]&&1!==c[3]&&(h+=1),h),o[r+33]=127*C(i,y));for(r=0,t=17;t<33;++t)for(e=0;e<64;++e,r+=4)w[r]=o[66*t+e],w[r+3]=255;return new n(64,16,w)}}]),t}();self.addEventListener("message",(function(e){var t=g.generate(),a=q.generate();postMessage({areaImageData:t,searchImageData:a},[t.data.buffer,a.data.buffer]),close()}))}();\n';function ie(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=URL.createObjectURL(new Blob([re],{type:"text/javascript"})),n=new Worker(t);return new Promise((function(r,i){n.addEventListener("error",(function(e){return i(e.error)})),n.addEventListener("message",(function(n){var i=ne.from(n.data.searchImageData),o=ne.from(n.data.areaImageData),a=[i.toCanvas().toDataURL(),o.toCanvas().toDataURL()];e||void 0===window.localStorage||(localStorage.setItem("smaa-search",a[0]),localStorage.setItem("smaa-area",a[1])),URL.revokeObjectURL(t),r(a)})),n.postMessage(null)}))}h.Loader;var oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Object(r.a)(this,e),this.x=t,this.y=n}return Object(O.a)(e,[{key:"set",value:function(e,t){return this.x=e,this.y=t,this}},{key:"equals",value:function(e){return this===e||this.x===e.x&&this.y===e.y}}]),e}(),ae=function e(){Object(r.a)(this,e),this.min=new oe,this.max=new oe};new ae,new ae,new Float32Array([0,-.25,.25,-.125,.125,-.375,.375]),new Float32Array([0,0]),new Float32Array([.25,-.25]),new Float32Array([-.25,.25]),new Float32Array([.125,-.125]),new Float32Array([-.125,.125]),new Uint8Array([0,0]),new Uint8Array([3,0]),new Uint8Array([0,3]),new Uint8Array([3,3]),new Uint8Array([1,0]),new Uint8Array([4,0]),new Uint8Array([1,3]),new Uint8Array([4,3]),new Uint8Array([0,1]),new Uint8Array([3,1]),new Uint8Array([0,4]),new Uint8Array([3,4]),new Uint8Array([1,1]),new Uint8Array([4,1]),new Uint8Array([1,4]),new Uint8Array([4,4]),new Uint8Array([0,0]),new Uint8Array([1,0]),new Uint8Array([0,2]),new Uint8Array([1,2]),new Uint8Array([2,0]),new Uint8Array([3,0]),new Uint8Array([2,2]),new Uint8Array([3,2]),new Uint8Array([0,1]),new Uint8Array([1,1]),new Uint8Array([0,3]),new Uint8Array([1,3]),new Uint8Array([2,1]),new Uint8Array([3,1]),new Uint8Array([2,3]),new Uint8Array([3,3]);new Map([[ue([0,0,0,0]),[0,0,0,0]],[ue([0,0,0,1]),[0,0,0,1]],[ue([0,0,1,0]),[0,0,1,0]],[ue([0,0,1,1]),[0,0,1,1]],[ue([0,1,0,0]),[0,1,0,0]],[ue([0,1,0,1]),[0,1,0,1]],[ue([0,1,1,0]),[0,1,1,0]],[ue([0,1,1,1]),[0,1,1,1]],[ue([1,0,0,0]),[1,0,0,0]],[ue([1,0,0,1]),[1,0,0,1]],[ue([1,0,1,0]),[1,0,1,0]],[ue([1,0,1,1]),[1,0,1,1]],[ue([1,1,0,0]),[1,1,0,0]],[ue([1,1,0,1]),[1,1,0,1]],[ue([1,1,1,0]),[1,1,1,0]],[ue([1,1,1,1]),[1,1,1,1]]]);function se(e,t,n){return e+(t-e)*n}function ue(e){var t=se(e[0],e[1],.75),n=se(e[2],e[3],.75);return se(t,n,.875)}new h.Vector3,new h.Matrix4,Math.PI,new h.Vector3,new h.Vector3;var ce=n(172),le=n(51),fe=n.n(le),pe=(n(173),function e(){var t=e.SkyShader,n=new h.ShaderMaterial({name:"SkyShader",fragmentShader:t.fragmentShader,vertexShader:t.vertexShader,uniforms:h.UniformsUtils.clone(t.uniforms),side:h.BackSide,depthWrite:!1});h.Mesh.call(this,new h.BoxBufferGeometry(1,1,1),n)});pe.prototype=Object.create(h.Mesh.prototype),pe.SkyShader={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new h.Vector3},up:{value:new h.Vector3(0,1,0)}},vertexShader:["uniform vec3 sunPosition;","uniform float rayleigh;","uniform float turbidity;","uniform float mieCoefficient;","uniform vec3 up;","varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","const float e = 2.71828182845904523536028747135266249775724709369995957;","const float pi = 3.141592653589793238462643383279502884197169;","const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );","const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );","const float v = 4.0;","const vec3 K = vec3( 0.686, 0.678, 0.666 );","const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );","const float cutoffAngle = 1.6110731556870734;","const float steepness = 1.5;","const float EE = 1000.0;","float sunIntensity( float zenithAngleCos ) {","\tzenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );","\treturn EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );","}","vec3 totalMie( float T ) {","\tfloat c = ( 0.2 * T ) * 10E-18;","\treturn 0.434 * c * MieConst;","}","void main() {","\tvec4 worldPosition = modelMatrix * vec4( position, 1.0 );","\tvWorldPosition = worldPosition.xyz;","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","\tgl_Position.z = gl_Position.w;","\tvSunDirection = normalize( sunPosition );","\tvSunE = sunIntensity( dot( vSunDirection, up ) );","\tvSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );","\tfloat rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );","\tvBetaR = totalRayleigh * rayleighCoefficient;","\tvBetaM = totalMie( turbidity ) * mieCoefficient;","}"].join("\n"),fragmentShader:["varying vec3 vWorldPosition;","varying vec3 vSunDirection;","varying float vSunfade;","varying vec3 vBetaR;","varying vec3 vBetaM;","varying float vSunE;","uniform float mieDirectionalG;","uniform vec3 up;","const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );","const float pi = 3.141592653589793238462643383279502884197169;","const float n = 1.0003;","const float N = 2.545E25;","const float rayleighZenithLength = 8.4E3;","const float mieZenithLength = 1.25E3;","const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;","const float THREE_OVER_SIXTEENPI = 0.05968310365946075;","const float ONE_OVER_FOURPI = 0.07957747154594767;","float rayleighPhase( float cosTheta ) {","\treturn THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );","}","float hgPhase( float cosTheta, float g ) {","\tfloat g2 = pow( g, 2.0 );","\tfloat inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );","\treturn ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );","}","void main() {","\tvec3 direction = normalize( vWorldPosition - cameraPos );","\tfloat zenithAngle = acos( max( 0.0, dot( up, direction ) ) );","\tfloat inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );","\tfloat sR = rayleighZenithLength * inverse;","\tfloat sM = mieZenithLength * inverse;","\tvec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );","\tfloat cosTheta = dot( direction, vSunDirection );","\tfloat rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );","\tvec3 betaRTheta = vBetaR * rPhase;","\tfloat mPhase = hgPhase( cosTheta, mieDirectionalG );","\tvec3 betaMTheta = vBetaM * mPhase;","\tvec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );","\tLin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );","\tfloat theta = acos( direction.y ); // elevation --\x3e y-axis, [-pi/2, pi/2]","\tfloat phi = atan( direction.z, direction.x ); // azimuth --\x3e x-axis [-pi/2, pi/2]","\tvec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );","\tvec3 L0 = vec3( 0.1 ) * Fex;","\tfloat sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );","\tL0 += ( vSunE * 19000.0 * Fex ) * sundisk;","\tvec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );","\tvec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );","\tgl_FragColor = vec4( retColor, 1.0 );","#include <tonemapping_fragment>","#include <encodings_fragment>","}"].join("\n")};var he=function(){h.InstancedBufferGeometry.call(this),this.type="LineSegmentsGeometry";this.setIndex([0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5]),this.setAttribute("position",new h.Float32BufferAttribute([-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],3)),this.setAttribute("uv",new h.Float32BufferAttribute([-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],2))};he.prototype=Object.assign(Object.create(h.InstancedBufferGeometry.prototype),{constructor:he,isLineSegmentsGeometry:!0,applyMatrix4:function(e){var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;return void 0!==t&&(t.applyMatrix4(e),n.applyMatrix4(e),t.data.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},setPositions:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new h.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceStart",new h.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceEnd",new h.InterleavedBufferAttribute(n,3,3)),this.computeBoundingBox(),this.computeBoundingSphere(),this},setColors:function(e){var t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));var n=new h.InstancedInterleavedBuffer(t,6,1);return this.setAttribute("instanceColorStart",new h.InterleavedBufferAttribute(n,3,0)),this.setAttribute("instanceColorEnd",new h.InterleavedBufferAttribute(n,3,3)),this},fromWireframeGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromEdgesGeometry:function(e){return this.setPositions(e.attributes.position.array),this},fromMesh:function(e){return this.fromWireframeGeometry(new h.WireframeGeometry(e.geometry)),this},fromLineSegments:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},computeBoundingBox:function(){var e=new h.Box3;return function(){null===this.boundingBox&&(this.boundingBox=new h.Box3);var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;void 0!==t&&void 0!==n&&(this.boundingBox.setFromBufferAttribute(t),e.setFromBufferAttribute(n),this.boundingBox.union(e))}}(),computeBoundingSphere:function(){var e=new h.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new h.Sphere),null===this.boundingBox&&this.computeBoundingBox();var t=this.attributes.instanceStart,n=this.attributes.instanceEnd;if(void 0!==t&&void 0!==n){var r=this.boundingSphere.center;this.boundingBox.getCenter(r);for(var i=0,o=0,a=t.count;o<a;o++)e.fromBufferAttribute(t,o),i=Math.max(i,r.distanceToSquared(e)),e.fromBufferAttribute(n,o),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}}(),toJSON:function(){},applyMatrix:function(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}});var de=function(){he.call(this),this.type="LineGeometry"};de.prototype=Object.assign(Object.create(he.prototype),{constructor:de,isLineGeometry:!0,setPositions:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return he.prototype.setPositions.call(this,n),this},setColors:function(e){for(var t=e.length-3,n=new Float32Array(2*t),r=0;r<t;r+=3)n[2*r]=e[r],n[2*r+1]=e[r+1],n[2*r+2]=e[r+2],n[2*r+3]=e[r+3],n[2*r+4]=e[r+4],n[2*r+5]=e[r+5];return he.prototype.setColors.call(this,n),this},fromLine:function(e){var t=e.geometry;return t.isGeometry?this.setPositions(t.vertices):t.isBufferGeometry&&this.setPositions(t.attributes.position.array),this},copy:function(){return this}}),h.UniformsLib.line={linewidth:{value:1},resolution:{value:new h.Vector2(1,1)},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1},opacity:{value:1}},h.ShaderLib.line={uniforms:h.UniformsUtils.merge([h.UniformsLib.common,h.UniformsLib.fog,h.UniformsLib.line]),vertexShader:"\n\t\t#include <common>\n\t\t#include <color_pars_vertex>\n\t\t#include <fog_pars_vertex>\n\t\t#include <logdepthbuf_pars_vertex>\n\t\t#include <clipping_planes_pars_vertex>\n\n\t\tuniform float linewidth;\n\t\tuniform vec2 resolution;\n\n\t\tattribute vec3 instanceStart;\n\t\tattribute vec3 instanceEnd;\n\n\t\tattribute vec3 instanceColorStart;\n\t\tattribute vec3 instanceColorEnd;\n\n\t\tvarying vec2 vUv;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashScale;\n\t\t\tattribute float instanceDistanceStart;\n\t\t\tattribute float instanceDistanceEnd;\n\t\t\tvarying float vLineDistance;\n\n\t\t#endif\n\n\t\tvoid trimSegment( const in vec4 start, inout vec4 end ) {\n\n\t\t\t// trim end segment so it terminates between the camera plane and the near plane\n\n\t\t\t// conservative estimate of the near plane\n\t\t\tfloat a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column\n\t\t\tfloat b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column\n\t\t\tfloat nearEstimate = - 0.5 * b / a;\n\n\t\t\tfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\n\n\t\t\tend.xyz = mix( start.xyz, end.xyz, alpha );\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\t#ifdef USE_COLOR\n\n\t\t\t\tvColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;\n\n\t\t\t#endif\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tvLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;\n\n\t\t\t#endif\n\n\t\t\tfloat aspect = resolution.x / resolution.y;\n\n\t\t\tvUv = uv;\n\n\t\t\t// camera space\n\t\t\tvec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );\n\t\t\tvec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );\n\n\t\t\t// special case for perspective projection, and segments that terminate either in, or behind, the camera plane\n\t\t\t// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space\n\t\t\t// but we need to perform ndc-space calculations in the shader, so we must address this issue directly\n\t\t\t// perhaps there is a more elegant solution -- WestLangley\n\n\t\t\tbool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column\n\n\t\t\tif ( perspective ) {\n\n\t\t\t\tif ( start.z < 0.0 && end.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( start, end );\n\n\t\t\t\t} else if ( end.z < 0.0 && start.z >= 0.0 ) {\n\n\t\t\t\t\ttrimSegment( end, start );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// clip space\n\t\t\tvec4 clipStart = projectionMatrix * start;\n\t\t\tvec4 clipEnd = projectionMatrix * end;\n\n\t\t\t// ndc space\n\t\t\tvec2 ndcStart = clipStart.xy / clipStart.w;\n\t\t\tvec2 ndcEnd = clipEnd.xy / clipEnd.w;\n\n\t\t\t// direction\n\t\t\tvec2 dir = ndcEnd - ndcStart;\n\n\t\t\t// account for clip-space aspect ratio\n\t\t\tdir.x *= aspect;\n\t\t\tdir = normalize( dir );\n\n\t\t\t// perpendicular to dir\n\t\t\tvec2 offset = vec2( dir.y, - dir.x );\n\n\t\t\t// undo aspect ratio adjustment\n\t\t\tdir.x /= aspect;\n\t\t\toffset.x /= aspect;\n\n\t\t\t// sign flip\n\t\t\tif ( position.x < 0.0 ) offset *= - 1.0;\n\n\t\t\t// endcaps\n\t\t\tif ( position.y < 0.0 ) {\n\n\t\t\t\toffset += - dir;\n\n\t\t\t} else if ( position.y > 1.0 ) {\n\n\t\t\t\toffset += dir;\n\n\t\t\t}\n\n\t\t\t// adjust for linewidth\n\t\t\toffset *= linewidth;\n\n\t\t\t// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...\n\t\t\toffset /= resolution.y;\n\n\t\t\t// select end\n\t\t\tvec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;\n\n\t\t\t// back to clip space\n\t\t\toffset *= clip.w;\n\n\t\t\tclip.xy += offset;\n\n\t\t\tgl_Position = clip;\n\n\t\t\tvec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation\n\n\t\t\t#include <logdepthbuf_vertex>\n\t\t\t#include <clipping_planes_vertex>\n\t\t\t#include <fog_vertex>\n\n\t\t}\n\t\t",fragmentShader:"\n\t\tuniform vec3 diffuse;\n\t\tuniform float opacity;\n\n\t\t#ifdef USE_DASH\n\n\t\t\tuniform float dashSize;\n\t\t\tuniform float gapSize;\n\n\t\t#endif\n\n\t\tvarying float vLineDistance;\n\n\t\t#include <common>\n\t\t#include <color_pars_fragment>\n\t\t#include <fog_pars_fragment>\n\t\t#include <logdepthbuf_pars_fragment>\n\t\t#include <clipping_planes_pars_fragment>\n\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\n\t\t\t#include <clipping_planes_fragment>\n\n\t\t\t#ifdef USE_DASH\n\n\t\t\t\tif ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps\n\n\t\t\t\tif ( mod( vLineDistance, dashSize + gapSize ) > dashSize ) discard; // todo - FIX\n\n\t\t\t#endif\n\n\t\t\tif ( abs( vUv.y ) > 1.0 ) {\n\n\t\t\t\tfloat a = vUv.x;\n\t\t\t\tfloat b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;\n\t\t\t\tfloat len2 = a * a + b * b;\n\n\t\t\t\tif ( len2 > 1.0 ) discard;\n\n\t\t\t}\n\n\t\t\tvec4 diffuseColor = vec4( diffuse, opacity );\n\n\t\t\t#include <logdepthbuf_fragment>\n\t\t\t#include <color_fragment>\n\n\t\t\tgl_FragColor = vec4( diffuseColor.rgb, diffuseColor.a );\n\n\t\t\t#include <tonemapping_fragment>\n\t\t\t#include <encodings_fragment>\n\t\t\t#include <fog_fragment>\n\t\t\t#include <premultiplied_alpha_fragment>\n\n\t\t}\n\t\t"};var me=function(e){h.ShaderMaterial.call(this,{type:"LineMaterial",uniforms:h.UniformsUtils.clone(h.ShaderLib.line.uniforms),vertexShader:h.ShaderLib.line.vertexShader,fragmentShader:h.ShaderLib.line.fragmentShader,clipping:!0}),this.dashed=!1,Object.defineProperties(this,{color:{enumerable:!0,get:function(){return this.uniforms.diffuse.value},set:function(e){this.uniforms.diffuse.value=e}},linewidth:{enumerable:!0,get:function(){return this.uniforms.linewidth.value},set:function(e){this.uniforms.linewidth.value=e}},dashScale:{enumerable:!0,get:function(){return this.uniforms.dashScale.value},set:function(e){this.uniforms.dashScale.value=e}},dashSize:{enumerable:!0,get:function(){return this.uniforms.dashSize.value},set:function(e){this.uniforms.dashSize.value=e}},gapSize:{enumerable:!0,get:function(){return this.uniforms.gapSize.value},set:function(e){this.uniforms.gapSize.value=e}},opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(e){this.uniforms.opacity.value=e}},resolution:{enumerable:!0,get:function(){return this.uniforms.resolution.value},set:function(e){this.uniforms.resolution.value.copy(e)}}}),this.setValues(e)};(me.prototype=Object.create(h.ShaderMaterial.prototype)).constructor=me,me.prototype.isLineMaterial=!0;var ve=function(e,t){h.Mesh.call(this),this.type="LineSegments2",this.geometry=void 0!==e?e:new he,this.material=void 0!==t?t:new me({color:16777215*Math.random()})};ve.prototype=Object.assign(Object.create(h.Mesh.prototype),{constructor:ve,isLineSegments2:!0,computeLineDistances:function(){var e=new h.Vector3,t=new h.Vector3;return function(){for(var n=this.geometry,r=n.attributes.instanceStart,i=n.attributes.instanceEnd,o=new Float32Array(2*r.data.count),a=0,s=0,u=r.data.count;a<u;a++,s+=2)e.fromBufferAttribute(r,a),t.fromBufferAttribute(i,a),o[s]=0===s?0:o[s-1],o[s+1]=o[s]+e.distanceTo(t);var c=new h.InstancedInterleavedBuffer(o,2,1);return n.setAttribute("instanceDistanceStart",new h.InterleavedBufferAttribute(c,1,0)),n.setAttribute("instanceDistanceEnd",new h.InterleavedBufferAttribute(c,1,1)),this}}(),raycast:function(){var e=new h.Vector4,t=new h.Vector4,n=new h.Vector4,r=new h.Vector3,i=new h.Matrix4,o=new h.Line3,a=new h.Vector3;return function(s,u){null===s.camera&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2.');var c=s.ray,l=s.camera,f=l.projectionMatrix,p=this.geometry,d=this.material,m=d.resolution,v=d.linewidth,y=p.attributes.instanceStart,g=p.attributes.instanceEnd;c.at(1,n),n.w=1,n.applyMatrix4(l.matrixWorldInverse),n.applyMatrix4(f),n.multiplyScalar(1/n.w),n.x*=m.x/2,n.y*=m.y/2,n.z=0,r.copy(n);var b=this.matrixWorld;i.multiplyMatrices(l.matrixWorldInverse,b);for(var _=0,w=y.count;_<w;_++){e.fromBufferAttribute(y,_),t.fromBufferAttribute(g,_),e.w=1,t.w=1,e.applyMatrix4(i),t.applyMatrix4(i),e.applyMatrix4(f),t.applyMatrix4(f),e.multiplyScalar(1/e.w),t.multiplyScalar(1/t.w);var x=e.z<-1&&t.z<-1,S=e.z>1&&t.z>1;if(!x&&!S){e.x*=m.x/2,e.y*=m.y/2,t.x*=m.x/2,t.y*=m.y/2,o.start.copy(e),o.start.z=0,o.end.copy(t),o.end.z=0;var E=o.closestPointToPointParameter(r,!0);o.at(E,a);var O=h.MathUtils.lerp(e.z,t.z,E),T=O>=-1&&O<=1,M=r.distanceTo(a)<.5*v;if(T&&M){o.start.fromBufferAttribute(y,_),o.end.fromBufferAttribute(g,_),o.start.applyMatrix4(b),o.end.applyMatrix4(b);var P=new h.Vector3,A=new h.Vector3;c.distanceSqToSegment(o.start,o.end,A,P),u.push({point:A,pointOnLine:P,distance:c.origin.distanceTo(A),object:this,face:null,faceIndex:_,uv:null,uv2:null})}}}}}()});var ye=function(e,t){ve.call(this),this.type="Line2",this.geometry=void 0!==e?e:new de,this.material=void 0!==t?t:new me({color:16777215*Math.random()})};ye.prototype=Object.assign(Object.create(ve.prototype),{constructor:ye,isLine2:!0});var ge=function(e){h.Loader.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};ge.prototype=Object.assign(Object.create(h.Loader.prototype),{constructor:ge,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,n,r){var i=this,o=new h.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),"use-credentials"===this.crossOrigin&&o.setWithCredentials(!0),o.load(e,(function(e){var n={attributeIDs:i.defaultAttributeIDs,attributeTypes:i.defaultAttributeTypes,useUniqueIDs:!1};i.decodeGeometry(e,n).then(t).catch(r)}),n,r)},decodeDracoFile:function(e,t,n,r){var i={attributeIDs:n||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!n};this.decodeGeometry(e,i).then(t)},decodeGeometry:function(e,t){var n=this;for(var r in t.attributeTypes){var i=t.attributeTypes[r];void 0!==i.BYTES_PER_ELEMENT&&(t.attributeTypes[r]=i.name)}var o,a=JSON.stringify(t);if(ge.taskCache.has(e)){var s=ge.taskCache.get(e);if(s.key===a)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var u=this.workerNextTaskID++,c=e.byteLength,l=this._getWorker(u,c).then((function(n){return o=n,new Promise((function(n,r){o._callbacks[u]={resolve:n,reject:r},o.postMessage({type:"decode",id:u,taskConfig:t,buffer:e},[e])}))})).then((function(e){return n._createGeometry(e.geometry)}));return l.catch((function(){return!0})).then((function(){o&&u&&n._releaseTask(o,u)})),ge.taskCache.set(e,{key:a,promise:l}),l},_createGeometry:function(e){var t=new h.BufferGeometry;e.index&&t.setIndex(new h.BufferAttribute(e.index.array,1));for(var n=0;n<e.attributes.length;n++){var r=e.attributes[n],i=r.name,o=r.array,a=r.itemSize;t.setAttribute(i,new h.BufferAttribute(o,a))}return t},_loadLibrary:function(e,t){var n=new h.FileLoader(this.manager);return n.setPath(this.decoderPath),n.setResponseType(t),new Promise((function(t,r){n.load(e,t,void 0,r)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!==typeof WebAssembly||"js"===this.decoderConfig.type,n=[];return t?n.push(this._loadLibrary("draco_decoder.js","text")):(n.push(this._loadLibrary("draco_wasm_wrapper.js","text")),n.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(n).then((function(n){var r=n[0];t||(e.decoderConfig.wasmBinary=n[1]);var i=ge.DRACOWorker.toString(),o=["/* draco decoder */",r,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([o]))})),this.decoderPending},_getWorker:function(e,t){var n=this;return this._initDecoder().then((function(){var r;n.workerPool.length<n.workerLimit?((r=new Worker(n.workerSourceURL))._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:n.decoderConfig}),r.onmessage=function(e){var t=e.data;switch(t.type){case"decode":r._callbacks[t.id].resolve(t);break;case"error":r._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},n.workerPool.push(r)):n.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(r=n.workerPool[n.workerPool.length-1])._taskCosts[e]=t,r._taskLoad+=t,r}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),ge.DRACOWorker=function(){var e,t;function n(e,t,n,r,i,o){var a,s,u=o.num_components(),c=n.num_points()*u;switch(i){case Float32Array:a=new e.DracoFloat32Array,t.GetAttributeFloatForAllPoints(n,o,a),s=new Float32Array(c);break;case Int8Array:a=new e.DracoInt8Array,t.GetAttributeInt8ForAllPoints(n,o,a),s=new Int8Array(c);break;case Int16Array:a=new e.DracoInt16Array,t.GetAttributeInt16ForAllPoints(n,o,a),s=new Int16Array(c);break;case Int32Array:a=new e.DracoInt32Array,t.GetAttributeInt32ForAllPoints(n,o,a),s=new Int32Array(c);break;case Uint8Array:a=new e.DracoUInt8Array,t.GetAttributeUInt8ForAllPoints(n,o,a),s=new Uint8Array(c);break;case Uint16Array:a=new e.DracoUInt16Array,t.GetAttributeUInt16ForAllPoints(n,o,a),s=new Uint16Array(c);break;case Uint32Array:a=new e.DracoUInt32Array,t.GetAttributeUInt32ForAllPoints(n,o,a),s=new Uint32Array(c);break;default:throw new Error("THREE.DRACOLoader: Unexpected attribute type.")}for(var l=0;l<c;l++)s[l]=a.GetValue(l);return e.destroy(a),{name:r,array:s,itemSize:u}}onmessage=function(r){var i=r.data;switch(i.type){case"init":e=i.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var o=i.buffer,a=i.taskConfig;t.then((function(e){var t=e.draco,r=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(o),o.byteLength);try{var u=function(e,t,r,i){var o,a,s=i.attributeIDs,u=i.attributeTypes,c=t.GetEncodedGeometryType(r);if(c===e.TRIANGULAR_MESH)o=new e.Mesh,a=t.DecodeBufferToMesh(r,o);else{if(c!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");o=new e.PointCloud,a=t.DecodeBufferToPointCloud(r,o)}if(!a.ok()||0===o.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+a.error_msg());var l={index:null,attributes:[]};for(var f in s){var p,h,d=self[u[f]];if(i.useUniqueIDs)h=s[f],p=t.GetAttributeByUniqueId(o,h);else{if(-1===(h=t.GetAttributeId(o,e[s[f]])))continue;p=t.GetAttribute(o,h)}l.attributes.push(n(e,t,o,f,d,p))}if(c===e.TRIANGULAR_MESH){for(var m=o.num_faces(),v=new Uint32Array(3*m),y=new e.DracoInt32Array,g=0;g<m;++g){t.GetFaceFromMesh(o,g,y);for(var b=0;b<3;++b)v[3*g+b]=y.GetValue(b)}l.index={array:v,itemSize:1},e.destroy(y)}return e.destroy(o),l}(t,r,s,a),c=u.attributes.map((function(e){return e.array.buffer}));u.index&&c.push(u.index.array.buffer),self.postMessage({type:"decode",id:i.id,geometry:u},c)}catch(l){console.error(l),self.postMessage({type:"error",id:i.id,error:l.message})}finally{t.destroy(s),t.destroy(r)}}))}}},ge.taskCache=new WeakMap,ge.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},ge.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},ge.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},ge.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")},Object(f.e)({OrbitControlsImpl:p.b});Object(f.e)({MapControlsImpl:p.a});Object(f.e)({TrackballControlsImpl:d});Object(f.e)({TransformControlsImpl:v});Object(f.e)({TextMeshImpl:ce.Text});var be=new h.Vector3,_e=new h.Vector3,we=new h.Vector3;function xe(e,t,n){var r=be.setFromMatrixPosition(e.matrixWorld);r.project(t);var i=n.width/2,o=n.height/2;return[r.x*i+i,-r.y*o+o]}var Se=l.a.forwardRef((function(e,t){var n,r=e.children,i=e.eps,o=void 0===i?.001:i,a=e.style,p=e.className,d=e.prepend,v=e.center,y=e.fullscreen,g=e.portal,b=e.scaleFactor,_=e.zIndexRange,w=void 0===_?[16777271,0]:_,x=Object(m.a)(e,["children","eps","style","className","prepend","center","fullscreen","portal","scaleFactor","zIndexRange"]),S=Object(f.h)(),E=S.gl,O=S.scene,T=S.camera,M=S.size,P=Object(c.useState)((function(){return document.createElement("div")})),A=Object(s.a)(P,1)[0],C=Object(c.useRef)(null),k=Object(c.useRef)([0,0]),j=null!=(n=null==g?void 0:g.current)?n:E.domElement.parentNode;Object(c.useEffect)((function(){if(C.current){O.updateMatrixWorld();var e=xe(C.current,T,M);return A.style.cssText="position:absolute;top:0;left:0;transform:translate3d("+e[0]+"px,"+e[1]+"px,0);transform-origin:0 0;",j&&(d?j.prepend(A):j.appendChild(A)),function(){j&&j.removeChild(A),fe.a.unmountComponentAtNode(A)}}}),[j]);var R=Object(c.useMemo)((function(){return Object(u.a)({position:"absolute",transform:v?"translate3d(-50%,-50%,0)":"none"},y&&{top:-M.height/2,left:-M.width/2,width:M.width,height:M.height},a)}),[a,v,y,M]);return Object(c.useEffect)((function(){fe.a.render(l.a.createElement("div",{ref:t,style:R,className:p,children:r}),A)})),Object(f.f)((function(){if(C.current){var e=xe(C.current,T,M);if(Math.abs(k.current[0]-e[0])>o||Math.abs(k.current[1]-e[1])>o){A.style.display=function(e,t){var n=be.setFromMatrixPosition(e.matrixWorld),r=_e.setFromMatrixPosition(t.matrixWorld),i=n.sub(r),o=t.getWorldDirection(we);return i.angleTo(o)>Math.PI/2}(C.current,T)?"none":"block";var t=void 0===b?1:function(e,t){if(t instanceof h.PerspectiveCamera){var n=be.setFromMatrixPosition(e.matrixWorld),r=_e.setFromMatrixPosition(t.matrixWorld),i=t.fov*Math.PI/180,o=n.distanceTo(r);return 1/(2*Math.tan(i/2)*o)}return t instanceof h.OrthographicCamera?t.zoom:1}(C.current,T)*b;A.style.transform="translate3d("+e[0]+"px,"+e[1]+"px,0) scale("+t+")",A.style.zIndex=""+function(e,t,n){if(t instanceof h.PerspectiveCamera||t instanceof h.OrthographicCamera){var r=be.setFromMatrixPosition(e.matrixWorld),i=_e.setFromMatrixPosition(t.matrixWorld),o=r.distanceTo(i),a=(n[1]-n[0])/(t.far-t.near),s=n[1]-a*t.far;return Math.round(a*o+s)}}(C.current,T,w)}k.current=e}})),l.a.createElement("group",Object(u.a)({},x,{ref:C}))}));function Ee(e){var t=this;h.MeshStandardMaterial.call(this),this.setValues(e),this._time={value:0},this._factor={value:1},this.onBeforeCompile=function(e){e.uniforms.time=t._time,e.uniforms.factor=t._factor,e.vertexShader="uniform float time; uniform float factor;\n"+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>","float theta = sin( time + position.y ) / 2.0 * factor;\n        float c = cos( theta );\n        float s = sin( theta );\n        mat3 m = mat3( c, 0, s, 0, 1, 0, -s, 0, c );\n        vec3 transformed = vec3( position ) * m;\n        vNormal = vNormal * m;")},Object.defineProperty(this,"time",{get:function(){return t._time},set:function(e){return t._time.value=e}}),Object.defineProperty(this,"factor",{get:function(){return t._factor},set:function(e){return t._factor.value=e}})}Ee.prototype=Object.create(h.MeshStandardMaterial.prototype),Ee.prototype.constructor=h.MeshStandardMaterial,Ee.prototype.isMeshStandardMaterial=!0,Object(f.e)({WobbleMaterialImpl:Ee});Object(f.e)({SkyImpl:pe});Object(f.e)({Line2:ye,LineGeometry:de,LineMaterial:me});var Oe=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.call(this,{uniforms:{time:{value:0},fade:{value:1}},vertexShader:"uniform float time;\n      attribute float size;\n      varying vec3 vColor;\n      void main() {\n        vColor = color;\n        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);\n        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(mvPosition.x + 2.0 * time + 100.0));\n        gl_Position = projectionMatrix * mvPosition;\n      }",fragmentShader:"uniform sampler2D pointTexture;\n      uniform float fade;\n      varying vec3 vColor;\n      void main() {\n        float opacity = 1.0;\n        if (fade == 1.0) {\n          float d = distance(gl_PointCoord, vec2(0.5, 0.5));\n          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));\n        }\n        gl_FragColor = vec4(vColor, opacity);\n      }"})}return n}(h.ShaderMaterial);Object(f.e)({StarfieldMaterial:Oe});new h.Matrix4,new h.Ray,new h.Sphere,new h.Vector3;function Te(e){var t=e+"BufferGeometry";return Object(c.forwardRef)((function(e,n){var r=e.args,i=e.children,o=Object(m.a)(e,["args","children"]);return l.a.createElement("mesh",Object(u.a)({ref:n},o),l.a.createElement(t,{attach:"geometry",args:r}),i)}))}Te("box"),Te("circle"),Te("cone"),Te("cylinder"),Te("sphere"),Te("plane"),Te("tube"),Te("torus"),Te("torusKnot"),Te("tetrahedron"),Te("ring"),Te("polyhedron"),Te("icosahedron"),Te("octahedron"),Te("dodecahedron"),Te("extrude"),Te("lathe"),Te("parametric")},function(e,t,n){"use strict";n.d(t,"a",(function(){return Xe})),n.d(t,"b",(function(){return be})),n.d(t,"c",(function(){return ge})),n.d(t,"d",(function(){return Te})),n.d(t,"e",(function(){return Oe})),n.d(t,"f",(function(){return ze})),n.d(t,"g",(function(){return Ge})),n.d(t,"h",(function(){return Ve})),n.d(t,"i",(function(){return He}));var r=n(19),i=n(63),o=n(13),a=n(83),s=n(91),u=n(60),c=n(84);function l(e){return Object(a.a)(e)||Object(s.a)(e)||Object(u.a)(e)||Object(c.a)()}var f,p=n(2),h=n(32),d=n(5),m=n(14),v=n(1),y=n(174),g=n.n(y),b=n(68),_=n(0),w=n.n(_),x=n(175),S=n(176),E=n.n(S),O=n(177),T=[],M="ResizeObserver loop completed with undelivered notifications.";!function(e){e.BORDER_BOX="border-box",e.CONTENT_BOX="content-box",e.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(f||(f={}));var P,A=function(){function e(e,t,n,r){return this.x=e,this.y=t,this.width=n,this.height=r,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,Object.freeze(this)}return e.prototype.toJSON=function(){var e=this;return{x:e.x,y:e.y,top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.width,height:e.height}},e.fromRect=function(t){return new e(t.x,t.y,t.width,t.height)},e}(),C=function(e){return e instanceof SVGElement&&"getBBox"in e},k=function(e){if(C(e)){var t=e.getBBox(),n=t.width,r=t.height;return!n&&!r}var i=e,o=i.offsetWidth,a=i.offsetHeight;return!(o||a||e.getClientRects().length)},j=function(e){var t,n,r=null===(n=null===(t=e)||void 0===t?void 0:t.ownerDocument)||void 0===n?void 0:n.defaultView;return!!(r&&e instanceof r.Element)},R="undefined"!==typeof window?window:{},D=new WeakMap,N=/auto|scroll/,L=/^tb|vertical/,I=/msie|trident/i.test(R.navigator&&R.navigator.userAgent),B=function(e){return parseFloat(e||"0")},F=function(e,t,n){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===n&&(n=!1),Object.freeze({inlineSize:(n?t:e)||0,blockSize:(n?e:t)||0})},U=Object.freeze({devicePixelContentBoxSize:F(),borderBoxSize:F(),contentBoxSize:F(),contentRect:new A(0,0,0,0)}),z=function(e,t){if(void 0===t&&(t=!1),D.has(e)&&!t)return D.get(e);if(k(e))return D.set(e,U),U;var n=getComputedStyle(e),r=C(e)&&e.ownerSVGElement&&e.getBBox(),i=!I&&"border-box"===n.boxSizing,o=L.test(n.writingMode||""),a=!r&&N.test(n.overflowY||""),s=!r&&N.test(n.overflowX||""),u=r?0:B(n.paddingTop),c=r?0:B(n.paddingRight),l=r?0:B(n.paddingBottom),f=r?0:B(n.paddingLeft),p=r?0:B(n.borderTopWidth),h=r?0:B(n.borderRightWidth),d=r?0:B(n.borderBottomWidth),m=f+c,v=u+l,y=(r?0:B(n.borderLeftWidth))+h,g=p+d,b=s?e.offsetHeight-g-e.clientHeight:0,_=a?e.offsetWidth-y-e.clientWidth:0,w=i?m+y:0,x=i?v+g:0,S=r?r.width:B(n.width)-w-_,E=r?r.height:B(n.height)-x-b,O=S+m+_+y,T=E+v+b+g,M=Object.freeze({devicePixelContentBoxSize:F(Math.round(S*devicePixelRatio),Math.round(E*devicePixelRatio),o),borderBoxSize:F(O,T,o),contentBoxSize:F(S,E,o),contentRect:new A(f,u,S,E)});return D.set(e,M),M},V=function(e,t,n){var r=z(e,n),i=r.borderBoxSize,o=r.contentBoxSize,a=r.devicePixelContentBoxSize;switch(t){case f.DEVICE_PIXEL_CONTENT_BOX:return a;case f.BORDER_BOX:return i;default:return o}},H=function(e){var t=z(e);this.target=e,this.contentRect=t.contentRect,this.borderBoxSize=[t.borderBoxSize],this.contentBoxSize=[t.contentBoxSize],this.devicePixelContentBoxSize=[t.devicePixelContentBoxSize]},$=function(e){if(k(e))return 1/0;for(var t=0,n=e.parentNode;n;)t+=1,n=n.parentNode;return t},G=function(){var e=1/0,t=[];T.forEach((function(n){if(0!==n.activeTargets.length){var r=[];n.activeTargets.forEach((function(t){var n=new H(t.target),i=$(t.target);r.push(n),t.lastReportedSize=V(t.target,t.observedBox),i<e&&(e=i)})),t.push((function(){n.callback.call(n.observer,r,n.observer)})),n.activeTargets.splice(0,n.activeTargets.length)}}));for(var n=0,r=t;n<r.length;n++){(0,r[n])()}return e},W=function(e){T.forEach((function(t){t.activeTargets.splice(0,t.activeTargets.length),t.skippedTargets.splice(0,t.skippedTargets.length),t.observationTargets.forEach((function(n){n.isActive()&&($(n.target)>e?t.activeTargets.push(n):t.skippedTargets.push(n))}))}))},q=function(){var e=0;for(W(e);T.some((function(e){return e.activeTargets.length>0}));)e=G(),W(e);return T.some((function(e){return e.skippedTargets.length>0}))&&function(){var e;"function"===typeof ErrorEvent?e=new ErrorEvent("error",{message:M}):((e=document.createEvent("Event")).initEvent("error",!1,!1),e.message=M),window.dispatchEvent(e)}(),e>0},Y=[],X=function(e){if(!P){var t=0,n=document.createTextNode("");new MutationObserver((function(){return Y.splice(0).forEach((function(e){return e()}))})).observe(n,{characterData:!0}),P=function(){n.textContent=""+(t?t--:t++)}}Y.push(e),P()},Z=0,Q={attributes:!0,characterData:!0,childList:!0,subtree:!0},K=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],J=function(e){return void 0===e&&(e=0),Date.now()+e},ee=!1,te=new(function(){function e(){var e=this;this.stopped=!0,this.listener=function(){return e.schedule()}}return e.prototype.run=function(e){var t=this;if(void 0===e&&(e=250),!ee){ee=!0;var n,r=J(e);n=function(){var n=!1;try{n=q()}finally{if(ee=!1,e=r-J(),!Z)return;n?t.run(1e3):e>0?t.run(e):t.start()}},X((function(){requestAnimationFrame(n)}))}},e.prototype.schedule=function(){this.stop(),this.run()},e.prototype.observe=function(){var e=this,t=function(){return e.observer&&e.observer.observe(document.body,Q)};document.body?t():R.addEventListener("DOMContentLoaded",t)},e.prototype.start=function(){var e=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),K.forEach((function(t){return R.addEventListener(t,e.listener,!0)})))},e.prototype.stop=function(){var e=this;this.stopped||(this.observer&&this.observer.disconnect(),K.forEach((function(t){return R.removeEventListener(t,e.listener,!0)})),this.stopped=!0)},e}()),ne=function(e){!Z&&e>0&&te.start(),!(Z+=e)&&te.stop()},re=function(){function e(e,t){this.target=e,this.observedBox=t||f.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return e.prototype.isActive=function(){var e,t=V(this.target,this.observedBox,!0);return e=this.target,C(e)||function(e){switch(e.tagName){case"INPUT":if("image"!==e.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(e)||"inline"!==getComputedStyle(e).display||(this.lastReportedSize=t),this.lastReportedSize.inlineSize!==t.inlineSize||this.lastReportedSize.blockSize!==t.blockSize},e}(),ie=function(e,t){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=e,this.callback=t},oe=new WeakMap,ae=function(e,t){for(var n=0;n<e.length;n+=1)if(e[n].target===t)return n;return-1},se=function(){function e(){}return e.connect=function(e,t){var n=new ie(e,t);oe.set(e,n)},e.observe=function(e,t,n){var r=oe.get(e),i=0===r.observationTargets.length;ae(r.observationTargets,t)<0&&(i&&T.push(r),r.observationTargets.push(new re(t,n&&n.box)),ne(1),te.schedule())},e.unobserve=function(e,t){var n=oe.get(e),r=ae(n.observationTargets,t),i=1===n.observationTargets.length;r>=0&&(i&&T.splice(T.indexOf(n),1),n.observationTargets.splice(r,1),ne(-1))},e.disconnect=function(e){var t=this,n=oe.get(e);n.observationTargets.slice().forEach((function(n){return t.unobserve(e,n.target)})),n.activeTargets.splice(0,n.activeTargets.length)},e}(),ue=function(){function e(e){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!==typeof e)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");se.connect(this,e)}return e.prototype.observe=function(e,t){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!j(e))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");se.observe(this,e,t)},e.prototype.unobserve=function(e){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!j(e))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");se.unobserve(this,e)},e.prototype.disconnect=function(){se.disconnect(this)},e.toString=function(){return"function ResizeObserver () { [polyfill code] }"},e}(),ce=n(37);function le(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var fe=new Map,pe={},he={obj:function(e){return e===Object(e)&&!he.arr(e)},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e},arr:function(e){return Array.isArray(e)},equ:function(e,t){if(typeof e!==typeof t||!!e!==!!t)return!1;if(he.str(e)||he.num(e)||he.obj(e))return e===t;if(he.arr(e)&&e==t)return!0;var n;for(n in e)if(!(n in t))return!1;for(n in t)if(e[n]!==t[n])return!1;return!he.und(n)||e===t}};function de(e,t){var n=t.length;return t.push(e),function(){t.splice(n,1)}}var me=[],ve=[],ye=[],ge=function(e){return de(e,me)},be=function(e){return de(e,ve)};function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];r&&me.forEach((function(e){return e(t)&&n++}));var i=e.current.clock.getDelta();return e.current.subscribers.forEach((function(t){return t.ref.current(e.current,i)})),e.current.frames=Math.max(0,e.current.frames-1),n+=e.current.invalidateFrameloop?e.current.frames:1,e.current.manual||e.current.gl.render(e.current.scene,e.current.camera),r&&ve.forEach((function(e){return e(t)})),n}var we=!1;function xe(e){we=!0;var t=0;if(me.forEach((function(n){return n(e)&&t++})),fe.forEach((function(n){var r=n.containerInfo.__state;r.current.active&&r.current.ready&&(!r.current.invalidateFrameloop||r.current.frames>0)&&(t=_e(r,e,t))})),ve.forEach((function(t){return t(e)})),0!==t)return requestAnimationFrame(xe);ye.forEach((function(t){return t(e)})),we=!1}function Se(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(!0===e)fe.forEach((function(e){return e.containerInfo.__state.current.frames=t}));else if(e&&e.current){if(e.current.vr)return;e.current.frames=t}we||(we=!0,requestAnimationFrame(xe))}var Ee={},Oe=function(e){Ee=Object(d.a)({},Ee,e)};function Te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=e.__container,a=Object.keys(t).filter((function(e){return he.equ(t[e],n[e])})),s=Object.keys(t).filter((function(e){if(he.fun(t[e])&&e.startsWith("on"))return e.includes("Pointer")||e.includes("Click")||e.includes("ContextMenu")||e.includes("Wheel")})),u=r?Object.keys(n).filter((function(e){return void 0===t[e]})):[],c=[].concat(Object(h.a)(a),["children","key","ref"]).reduce((function(e,t){return Object(m.a)(e,[t].map(le))}),t);if(u.forEach((function(e){return"children"!==e&&(c[e]=void 0)})),Object.keys(c).length>0){if(Object.entries(c).forEach((function(t){var n=Object(p.a)(t,2),r=n[0],i=n[1];if(!s.includes(r)){var o,a=e,u=a[r];if(r.includes("-")){var c=r.split("-");if(!(u=c.reduce((function(e,t){return e[t]}),e))||!u.set){var f=l(c.reverse()),d=f[0];a=f.slice(1).reverse().reduce((function(e,t){return e[t]}),e),r=d}}var m,y=null==(o=e.__container)?void 0:o.__state.current.colorManagement;if(u&&u.set&&(u.copy||u instanceof v.Layers))Array.isArray(i)?(m=u).set.apply(m,Object(h.a)(i)):u.copy&&i&&i.constructor&&u.constructor.name===i.constructor.name?u.copy(i):void 0!==i&&(u.set(i),y&&u instanceof v.Color&&u.convertSRGBToLinear());else a[r]=i,y&&a[r]instanceof v.Texture&&(a[r].encoding=v.sRGBEncoding);Me(e)}})),r&&i&&e.raycast&&e.__handlers){e.__handlers=void 0;var f=i.__interaction.indexOf(e);f>-1&&i.__interaction.splice(f,1)}s.length&&(i&&e.raycast&&i.__interaction.push(e),e.__handlers=s.reduce((function(e,n){return Object(d.a)({},e,Object(o.a)({},n.charAt(2).toLowerCase()+n.substr(3),t[n]))}),{})),e.parent&&Pe(e)}}function Me(e){e.__container&&e.__container.__state&&Se(e.__container.__state)}function Pe(e){e.onUpdate&&e.onUpdate(e)}function Ae(e,t,n,r,o){var a,s=t.args,u=void 0===s?[]:s,c=Object(m.a)(t,["args"]),l=""+e[0].toUpperCase()+e.slice(1);if("primitive"===e)(a=c.object).__instance=!0;else if("new"===e)a=new c.object(u);else{var f=Ee[l]||v[l];if(!f)throw'"'+l+'" is not part of the THREE namespace! Did you forget to extend it? See: https://github.com/react-spring/react-three-fiber#using-3rd-party-non-three-namespaced-objects-in-the-scene-graph';a=he.arr(u)?Object(i.a)(f,Object(h.a)(u)):new f(u)}for(;n.__container;)n=n.__container;if(!fe.has(n)){n=function e(t){return t.return?e(t.return):t.stateNode&&t.stateNode.containerInfo}(o)}return a.__objects=[],a.__container=n,Te(a,c,{}),a}function Ce(e,t){t&&(t.isObject3D?e.add(t):(e.__objects.push(t),t.parent=e,t.attach?e[t.attach]=t:t.attachArray?(he.arr(e[t.attachArray])||(e[t.attachArray]=[]),e[t.attachArray].push(t)):t.attachObject&&(he.obj(e[t.attachObject[0]])||(e[t.attachObject[0]]={}),e[t.attachObject[0]][t.attachObject[1]]=t)),Pe(t),Me(t))}function ke(e,t,n){if(t){if(t.isObject3D){t.parent=e,t.dispatchEvent({type:"added"});var r=e.children.filter((function(e){return e!==t})),i=r.indexOf(n);e.children=[].concat(Object(h.a)(r.slice(0,i)),[t],Object(h.a)(r.slice(i))),Pe(t)}else Ce(e,t);Me(t)}}function je(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e){var r=n?Object(h.a)(e):e;r.forEach((function(e){return Re(t,e)}))}}function Re(e,t){t&&(t.isObject3D?e.remove(t):(t.parent=null,e.__objects&&(e.__objects=e.__objects.filter((function(e){return e!==t}))),t.attach?e[t.attach]=null:t.attachArray?e[t.attachArray]=e[t.attachArray].filter((function(e){return e!==t})):t.attachObject&&delete e[t.attachObject[0]][t.attachObject[1]]),Me(t),null!==t.dispose&&Object(b.unstable_runWithPriority)(b.unstable_IdlePriority,(function(){t.__container&&(t.__container.__interaction=t.__container.__interaction.filter((function(e){return e!==t}))),je(t.__objects,t),je(t.children,t,!0),t.dispose&&t.dispose(),delete t.__container,delete t.__objects})))}function De(e,t,n,r){var i=e.parent,o=Ae(t,n,e.__container,0,r);Re(i,e),Ce(i,o),[r,r.alternate].forEach((function(e){null!==e&&(e.stateNode=o,e.ref&&(he.fun(e.ref)?e.ref(o):e.ref.current=o))}))}var Ne=g()({now:b.unstable_now,createInstance:Ae,removeChild:Re,appendChild:Ce,insertBefore:ke,warnsIfNotActing:!0,supportsMutation:!0,isPrimaryRenderer:!1,scheduleTimeout:he.fun(setTimeout)?setTimeout:void 0,cancelTimeout:he.fun(clearTimeout)?clearTimeout:void 0,setTimeout:he.fun(setTimeout)?setTimeout:void 0,clearTimeout:he.fun(clearTimeout)?clearTimeout:void 0,noTimeout:-1,appendInitialChild:Ce,appendChildToContainer:Ce,removeChildFromContainer:Re,insertInContainerBefore:ke,commitUpdate:function(e,t,n,r,i,o){if(e.__instance&&i.object&&i.object!==e)De(e,n,i,o);else{var a=i.args,s=void 0===a?[]:a,u=Object(m.a)(i,["args"]),c=r.args,l=void 0===c?[]:c,f=Object(m.a)(r,["args"]);s.some((function(e,t){return he.obj(e)?Object.entries(e).some((function(e){var n=Object(p.a)(e,2),r=n[0];return n[1]!==l[t][r]})):e!==l[t]}))?De(e,n,i,o):Te(e,u,f,!0)}},hideInstance:function(e){e.isObject3D&&(e.visible=!1,Me(e))},unhideInstance:function(e,t){(e.isObject3D&&null==t.visible||t.visible)&&(e.visible=!0,Me(e))},hideTextInstance:function(){throw new Error("Text is not allowed in the react-three-fibre tree. You may have extraneous whitespace between components.")},getPublicInstance:function(e){return e},getRootHostContext:function(){return pe},getChildHostContext:function(){return pe},createTextInstance:function(){},finalizeInitialChildren:function(){return!1},prepareUpdate:function(){return pe},shouldDeprioritizeSubtree:function(){return!1},prepareForCommit:function(){},resetAfterCommit:function(){},shouldSetTextContent:function(){return!1}});he.fun(Symbol)&&Symbol.for&&Symbol.for("react.portal");function Le(e){return e.isOrthographicCamera}function Ie(e){return(e.eventObject||e.object).uuid+"/"+e.index}Ne.injectIntoDevTools({bundleType:0,version:"4.2.20",rendererPackageName:"react-three-fiber",findHostInstanceByFiber:Ne.findHostInstance});var Be=Object(_.createContext)({}),Fe=function(e){var t=e.children,n=e.gl,i=e.camera,o=e.orthographic,a=e.raycaster,s=e.size,u=e.pixelRatio,c=e.vr,l=void 0!==c&&c,f=e.concurrent,h=void 0!==f&&f,y=e.shadowMap,g=void 0!==y&&y,b=e.sRGB,w=void 0!==b&&b,S=e.colorManagement,E=void 0!==S&&S,O=e.invalidateFrameloop,T=void 0!==O&&O,M=e.updateDefaultCamera,P=void 0===M||M,A=e.noEvents,C=void 0!==A&&A,k=e.onCreated,j=e.onPointerMissed,R=Object(_.useState)(!1),D=Object(p.a)(R,2),N=D[0],L=D[1],I=Object(_.useState)((function(){return new v.Vector2})),B=Object(p.a)(I,1)[0],F=Object(_.useState)((function(){var e=new v.Raycaster;a&&Te(e,Object(m.a)(a,["filter"]),{});return e})),U=Object(p.a)(F,1)[0],z=Object(_.useState)((function(){var e=new v.Scene;return e.__interaction=[],e.__objects=[],e})),V=Object(p.a)(z,1)[0],H=Object(_.useState)((function(){var e=o?new v.OrthographicCamera(0,0,0,0,.1,1e3):new v.PerspectiveCamera(75,0,.1,1e3);return e.position.z=5,i&&Te(e,i,{}),e.lookAt(0,0,0),e})),$=Object(p.a)(H,2),G=$[0],W=$[1],q=Object(_.useState)((function(){return new v.Clock})),Y=Object(p.a)(q,1)[0],X=Object(_.useRef)({ready:!1,active:!0,manual:0,colorManagement:E,sRGB:w,vr:l,concurrent:h,noEvents:C,invalidateFrameloop:!1,frames:0,aspect:0,subscribers:[],camera:G,scene:V,raycaster:U,mouse:B,clock:Y,gl:n,size:s,viewport:{width:0,height:0,factor:0},initialClick:[0,0],initialHits:[],pointer:new x.TinyEmitter,captured:void 0,events:void 0,subscribe:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t&&X.current.manual++,X.current.subscribers.push({ref:e,priority:t}),X.current.subscribers=X.current.subscribers.sort((function(e,t){return e.priority-t.priority})),function(){t&&X.current.manual--,X.current.subscribers=X.current.subscribers.filter((function(t){return t.ref!==e}))}},setDefaultCamera:function(e){return W(e)},invalidate:function(){return Se(X)},intersect:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return ne(e,t)}});Object(_.useMemo)((function(){X.current.ready=N,X.current.size=s,X.current.camera=G,X.current.invalidateFrameloop=T,X.current.vr=l,X.current.gl=n,X.current.concurrent=h,X.current.noEvents=C}),[T,l,h,C,N,s,G,n]),Object(_.useMemo)((function(){if(X.current.aspect=s.width/s.height,Le(G))X.current.viewport={width:s.width,height:s.height,factor:1};else{var e=new v.Vector3(0,0,0),t=G.position.distanceTo(e),r=G.fov*Math.PI/180,i=2*Math.tan(r/2)*t,o=i*X.current.aspect;X.current.viewport={width:o,height:i,factor:s.width/o}}P&&(Le(G)?(G.left=s.width/-2,G.right=s.width/2,G.top=s.height/2,G.bottom=s.height/-2):G.aspect=X.current.aspect,G.updateProjectionMatrix(),G.updateMatrixWorld()),n.setSize(s.width,s.height),N&&Se(X)}),[G,n,s,P]);var Z=Object(_.useCallback)((function(e){var t=e.clientX,n=e.clientY;if(void 0!==t){var r=X.current.size,i=r.left,o=r.right,a=r.top,s=r.bottom;B.set((t-i)/(o-i)*2-1,-(n-a)/(s-a)*2+1),U.setFromCamera(B,X.current.camera)}}),[]),Q=Object(_.useCallback)((function(e,t){if(X.current.noEvents)return[];var n=new Set,i=[],o=t?t(X.current.scene.__interaction):X.current.scene.__interaction,s=U.intersectObjects(o,!0).filter((function(e){var t=Ie(e);return!n.has(t)&&(n.add(t),!0)}));a&&a.filter&&oe.current&&(s=a.filter(s,oe.current));var u,c=Object(r.a)(s);try{for(c.s();!(u=c.n()).done;)for(var l=u.value,f=l.object;f;){f.__handlers&&i.push(Object(d.a)({},l,{eventObject:f})),f=f.parent}}catch(p){c.e(p)}finally{c.f()}return i}),[]),K=Object(_.useCallback)((function(e){var t=e.clientX-X.current.initialClick[0],n=e.clientY-X.current.initialClick[1];return Math.round(Math.sqrt(t*t+n*n))}),[]),J=Object(_.useMemo)((function(){return new Map}),[]),ee=new v.Vector3,te=Object(_.useCallback)((function(e,t,n){var i=Q(e,n);return X.current.captured&&"click"!==e.type&&"wheel"!==e.type&&X.current.captured.forEach((function(e){i.find((function(t){return t.eventObject===e.eventObject}))||i.push(e)})),i.length&&function(){var n,o=ee.set(B.x,B.y,0).unproject(X.current.camera),a="click"===e.type?K(e):0,s=function(t){return e.target.releasePointerCapture(t)},u={stopped:!1,captured:!1},c=Object(r.a)(i);try{var l=function(){var r=n.value,c=function(t){u.captured||(u.captured=!0,X.current.captured=[]),X.current.captured&&X.current.captured.push(r),e.target.setPointerCapture(t)},l=Object(d.a)({},e,r,{intersections:i,stopped:u.stopped,delta:a,unprojectedPoint:o,ray:U.ray,camera:X.current.camera,stopPropagation:function(){var e=X.current.captured;e&&!e.find((function(e){return e.eventObject.id===r.eventObject.id}))||(l.stopped=u.stopped=!0)},target:Object(d.a)({},e.target,{setPointerCapture:c,releasePointerCapture:s}),currentTarget:Object(d.a)({},e.currentTarget,{setPointerCapture:c,releasePointerCapture:s}),sourceEvent:e});if(t(l),!0===u.stopped)return J.size&&Array.from(J.values()).find((function(e){return e.object===r.object}))&&re(l,[r]),"break"};for(c.s();!(n=c.n()).done;){if("break"===l())break}}catch(f){c.e(f)}finally{c.f()}}(),i}),[]),ne=Object(_.useCallback)((function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];X.current.pointer.emit("pointerMove",e),t&&Z(e);var n=te(e,(function(e){var t=e.eventObject.__handlers;if(t&&(t.pointerMove&&t.pointerMove(e),t.pointerOver||t.pointerEnter||t.pointerOut||t.pointerLeave)){var n=Ie(e),r=J.get(n);r?r.stopped&&e.stopPropagation():(J.set(n,e),t.pointerOver&&t.pointerOver(Object(d.a)({},e,{type:"pointerover"})),t.pointerEnter&&t.pointerEnter(Object(d.a)({},e,{type:"pointerenter"})))}}),(function(e){return e.filter((function(e){return["Move","Over","Enter","Out","Leave"].some((function(t){return e.__handlers["pointer"+t]}))}))}));return re(e,n,t),n}),[]),re=Object(_.useCallback)((function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];X.current.pointer.emit("pointerCancel",e),n&&Z(e),t||(t=te(e,(function(){return null}))),Array.from(J.values()).forEach((function(e){if(t&&(!t.length||!t.find((function(t){return t.eventObject===e.eventObject})))){var n=e.eventObject.__handlers;n&&(n.pointerOut&&n.pointerOut(Object(d.a)({},e,{type:"pointerout"})),n.pointerLeave&&n.pointerLeave(Object(d.a)({},e,{type:"pointerleave"}))),J.delete(Ie(e))}}))}),[]),ie=Object(_.useCallback)((function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];X.current.pointer.emit(e,t),n&&Z(t);var r=te(t,(function(t){var n=t.eventObject,r=n.__handlers;r&&r[e]&&("click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||X.current.initialHits.includes(n))&&r[e](t)}));"pointerDown"===e&&(X.current.initialClick=[t.clientX,t.clientY],X.current.initialHits=r.map((function(e){return e.eventObject}))),"click"!==e&&"contextMenu"!==e&&"doubleClick"!==e||r.length||!j||K(t)<=2&&j()}}),[j]);Object(_.useMemo)((function(){X.current.events={onClick:ie("click"),onContextMenu:ie("contextMenu"),onDoubleClick:ie("doubleClick"),onWheel:ie("wheel"),onPointerDown:ie("pointerDown"),onPointerUp:ie("pointerUp"),onPointerLeave:function(e){return re(e,[])},onPointerMove:ne,onGotPointerCaptureLegacy:function(e){return X.current.captured=Q(e)},onLostPointerCapture:function(e){return X.current.captured=void 0,re(e)}}}),[j]);var oe=Object(_.useRef)();Object(_.useMemo)((function(){var e=X.current,t=Object(m.a)(e,["ready","manual","vr","noEvents","invalidateFrameloop","frames","subscribers","captured","initialClick","initialHits"]);oe.current=t}),[s,G]),Object(_.useLayoutEffect)((function(){u&&n.setPixelRatio(u)}),[u]),Object(_.useLayoutEffect)((function(){g&&(n.shadowMap.enabled=!0,"object"===typeof g?Object.assign(n.shadowMap,g):n.shadowMap.type=v.PCFSoftShadowMap),(w||E)&&(n.toneMapping=v.ACESFilmicToneMapping,n.outputEncoding=v.sRGBEncoding)}),[g,w,E]);var ae=Object(_.useCallback)((function(e){var t=function(){return L(!0)};return Object(_.useEffect)((function(){var e=k&&k(X.current);e&&e.then?e.then(t):t()}),[]),e.children}),[]);return Object(_.useLayoutEffect)((function(){!function(e,t,n){var r=fe.get(t);if(!r){t.__state=n;var i=r=Ne.createContainer(t,void 0!==n&&n.current.concurrent?2:0,!1);fe.set(t,i)}Ne.updateContainer(e,r,null,(function(){})),Ne.getPublicRootInstance(r)}(Object(_.createElement)(ae,null,Object(_.createElement)(Be.Provider,{value:oe.current},"function"===typeof t?t(X.current):t)),V,X)}),[N,t,oe.current]),Object(_.useLayoutEffect)((function(){N&&(X.current.vr?(n.xr||n.vr)&&n.setAnimationLoop?((n.xr||n.vr).enabled=!0,n.setAnimationLoop((function(e){return _e(X,e,0,!0)}))):console.warn("the gl instance does not support VR!"):Se(X))}),[N,T]),Object(_.useEffect)((function(){return function(){X.current.gl&&(X.current.gl.forceContextLoss&&X.current.gl.forceContextLoss(),X.current.gl.dispose&&X.current.gl.dispose(),X.current.gl=void 0,function(e){var t=fe.get(e);t&&Ne.updateContainer(null,t,null,(function(){fe.delete(e)}))}(X.current.scene),X.current.active=!1)}}),[]),X.current.events};function Ue(e){var t=Object(_.useContext)(e);return t||console.warn("hooks can only be used within the canvas! https://github.com/react-spring/react-three-fiber#hooks"),t}function ze(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Ue(Be),r=n.subscribe,i=Object(_.useRef)(e);return Object(_.useLayoutEffect)((function(){i.current=e}),[e]),Object(_.useEffect)((function(){var e=r(i,t);return function(){return e()}}),[t]),null}function Ve(){return Ue(Be)}function He(e,t,n){var r=Ue(Be).invalidate,i=Object(_.useRef)(),o=n||i;return Object(_.useLayoutEffect)((function(){o.current&&(e(o.current),r())}),t),o}var $e=["id","uuid","type","children","parent","matrix","matrixWorld","matrixWorldNeedsUpdate","modelViewMatrix","normalMatrix"];function Ge(e,t,n){var r=Object(_.useMemo)((function(){var t=new e;return n&&n(t),t}),[e]),i=E()((function(e,t){var n=Array.isArray(t)?t:[t];return Promise.all(n.map((function(e){return new Promise((function(t){return r.load(e,(function(e){e.scene&&(e.__$=[],e.nodes={},e.materials={},e.scene.traverse((function(t){e.__$.push(function e(t){var n=Object(d.a)({},t);return $e.forEach((function(e){return delete n[e]})),Object.keys(n).forEach((function(e){return"function"===typeof n[e]&&delete n[e]})),n.material&&(n.material=e(n.material)),n.geometry&&(n.geometry=e(n.geometry)),n}(t)),t.name&&(e.nodes=Object(d.a)({},e.nodes,Object(o.a)({},t.name,t))),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}))),t(e)}))}))})))}),[e,t]);return Array.isArray(t)?i:i[0]}var We={position:"relative",width:"100%",height:"100%",overflow:"hidden"};function qe(e){var t=e.children,n=e.setEvents,r=e.container,i=e.renderer,o=e.effects,a=Object(m.a)(e,["children","setEvents","container","renderer","effects"]),s=Object(_.useState)(i),u=Object(p.a)(s,1)[0];u||console.warn("No renderer created!"),Object(_.useEffect)((function(){return o&&o(u,r)}),[]);var c=Fe(Object(d.a)({},a,{children:t,gl:u}));return Object(_.useEffect)((function(){n(c)}),[c]),null}var Ye=w.a.memo((function(e){var t=e.preRender,n=e.resize,r=e.style,i=Object(m.a)(e,["renderer","effects","children","vr","gl2","concurrent","shadowMap","sRGB","colorManagement","orthographic","invalidateFrameloop","updateDefaultCamera","noEvents","gl","camera","raycaster","pixelRatio","onCreated","onPointerMissed","preRender","resize","style"]),o=Object(_.useRef)(),a=Object(_.useState)({}),s=Object(p.a)(a,2),u=s[0],c=s[1],l=Object(m.a)(u,["onGotPointerCaptureLegacy"]),f=Object(O.a)(n||{scroll:!0,debounce:{scroll:50,resize:0},polyfill:"undefined"!==typeof window&&window.ResizeObserver?void 0:ue}),h=Object(p.a)(f,2),v=h[0],y=h[1],g=Object(_.useRef)(!1),b=Object(_.useMemo)((function(){return g.current=g.current||!!y.width&&!!y.height}),[y]),x=Object(_.useMemo)((function(){return{size:y,setEvents:c,container:o.current}}),[y]);return"undefined"===typeof window?w.a.createElement("div",Object(d.a)({style:Object(d.a)({},We,r)},i),t):w.a.createElement("div",Object(d.a)({ref:Object(ce.a)([v,o]),style:Object(d.a)({},We,r)},l,i),t,b&&w.a.createElement(qe,Object(d.a)({},e,x)))})),Xe=w.a.memo((function(e){var t=e.children,n=Object(m.a)(e,["children"]),r=Object(_.useRef)();return w.a.createElement(Ye,Object(d.a)({},n,{renderer:function(){if(r.current){var e=Object(d.a)({antialias:!0,alpha:!0},n.gl);return new v.WebGLRenderer(Object(d.a)({powerPreference:"high-performance",canvas:r.current,context:n.gl2?r.current.getContext("webgl2",e):void 0},e))}},preRender:w.a.createElement("canvas",{ref:r,style:{display:"block"}})}),t)}))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(69);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(30),i=n(85);function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(36);function s(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?Object(a.a)(e):t}function u(e){return function(){var t,n=Object(r.a)(e);if(Object(i.a)()){var o=Object(r.a)(this).constructor;t=Reflect.construct(n,arguments,o)}else t=n.apply(this,arguments);return s(this,t)}}},function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return i}))},,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(13);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return z}));var r=n(0),i=n.n(r),o=(n(40),i.a.createContext(null));var a=function(e){e()},s={notify:function(){}};function u(){var e=a,t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var c=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=s,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=u())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=s)},e}();var l=function(e){var t=e.store,n=e.context,a=e.children,s=Object(r.useMemo)((function(){var e=new c(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),u=Object(r.useMemo)((function(){return t.getState()}),[t]);Object(r.useEffect)((function(){var e=s.subscription;return e.trySubscribe(),u!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[s,u]);var l=n||o;return i.a.createElement(l.Provider,{value:s},a)},f=n(5),p=n(14),h=n(56),d=n.n(h),m=n(59),v="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect,y=[],g=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function _(e,t,n){v((function(){return e.apply(void 0,t)}),n)}function w(e,t,n,r,i,o,a){e.current=r,t.current=i,n.current=!1,o.current&&(o.current=null,a())}function x(e,t,n,r,i,o,a,s,u,c){if(e){var l=!1,f=null,p=function(){if(!l){var e,n,p=t.getState();try{e=r(p,i.current)}catch(h){n=h,f=h}n||(f=null),e===o.current?a.current||u():(o.current=e,s.current=e,a.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=p,n.trySubscribe(),p();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var S=function(){return[null,0]};function E(e,t){void 0===t&&(t={});var n=t,a=n.getDisplayName,s=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=n.methodName,l=void 0===u?"connectAdvanced":u,h=n.renderCountProp,v=void 0===h?void 0:h,E=n.shouldHandleStateChanges,O=void 0===E||E,T=n.storeKey,M=void 0===T?"store":T,P=(n.withRef,n.forwardRef),A=void 0!==P&&P,C=n.context,k=void 0===C?o:C,j=Object(p.a)(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),R=k;return function(t){var n=t.displayName||t.name||"Component",o=s(n),a=Object(f.a)({},j,{getDisplayName:s,methodName:l,renderCountProp:v,shouldHandleStateChanges:O,storeKey:M,displayName:o,wrappedComponentName:n,WrappedComponent:t}),u=j.pure;var h=u?r.useMemo:function(e){return e()};function E(n){var o=Object(r.useMemo)((function(){var e=n.reactReduxForwardedRef,t=Object(p.a)(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),s=o[0],u=o[1],l=o[2],d=Object(r.useMemo)((function(){return s&&s.Consumer&&Object(m.isContextConsumer)(i.a.createElement(s.Consumer,null))?s:R}),[s,R]),v=Object(r.useContext)(d),E=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(v)&&Boolean(v.store);var T=E?n.store:v.store,M=Object(r.useMemo)((function(){return function(t){return e(t.dispatch,a)}(T)}),[T]),P=Object(r.useMemo)((function(){if(!O)return g;var e=new c(T,E?null:v.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[T,E,v]),A=P[0],C=P[1],k=Object(r.useMemo)((function(){return E?v:Object(f.a)({},v,{subscription:A})}),[E,v,A]),j=Object(r.useReducer)(b,y,S),D=j[0][0],N=j[1];if(D&&D.error)throw D.error;var L=Object(r.useRef)(),I=Object(r.useRef)(l),B=Object(r.useRef)(),F=Object(r.useRef)(!1),U=h((function(){return B.current&&l===I.current?B.current:M(T.getState(),l)}),[T,D,l]);_(w,[I,L,F,l,U,B,C]),_(x,[O,T,A,M,I,L,F,B,C,N],[T,A,M]);var z=Object(r.useMemo)((function(){return i.a.createElement(t,Object(f.a)({},U,{ref:u}))}),[u,t,U]);return Object(r.useMemo)((function(){return O?i.a.createElement(d.Provider,{value:k},z):z}),[d,z,k])}var T=u?i.a.memo(E):E;if(T.WrappedComponent=t,T.displayName=o,A){var P=i.a.forwardRef((function(e,t){return i.a.createElement(T,Object(f.a)({},e,{reactReduxForwardedRef:t}))}));return P.displayName=o,P.WrappedComponent=t,d()(P,t)}return d()(T,t)}}function O(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function T(e,t){if(O(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!O(e[n[i]],t[n[i]]))return!1;return!0}var M=n(54);function P(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function C(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=A(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=A(i),i=r(t,n)),i},r}}var k=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:P((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?P((function(t){return Object(M.bindActionCreators)(e,t)})):void 0}];var j=[function(e){return"function"===typeof e?C(e):void 0},function(e){return e?void 0:P((function(){return{}}))}];function R(e,t,n){return Object(f.a)({},n,{},e,{},t)}var D=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,o=n.areMergedPropsEqual,a=!1;return function(t,n,s){var u=e(t,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}(e):void 0},function(e){return e?void 0:function(){return R}}];function N(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function L(e,t,n,r,i){var o,a,s,u,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,p=i.areStatePropsEqual,h=!1;function d(i,h){var d=!f(h,a),m=!l(i,o);return o=i,a=h,d&&m?(s=e(o,a),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):d?(e.dependsOnOwnProps&&(s=e(o,a)),t.dependsOnOwnProps&&(u=t(r,a)),c=n(s,u,a)):m?function(){var t=e(o,a),r=!p(t,s);return s=t,r&&(c=n(s,u,a)),c}():c}return function(i,l){return h?d(i,l):(s=e(o=i,a=l),u=t(r,a),c=n(s,u,a),h=!0,c)}}function I(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,o=Object(p.a)(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),a=n(e,o),s=r(e,o),u=i(e,o);return(o.pure?L:N)(a,s,u,e,o)}function B(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(e,t){return e===t}function U(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?E:n,i=t.mapStateToPropsFactories,o=void 0===i?j:i,a=t.mapDispatchToPropsFactories,s=void 0===a?k:a,u=t.mergePropsFactories,c=void 0===u?D:u,l=t.selectorFactory,h=void 0===l?I:l;return function(e,t,n,i){void 0===i&&(i={});var a=i,u=a.pure,l=void 0===u||u,d=a.areStatesEqual,m=void 0===d?F:d,v=a.areOwnPropsEqual,y=void 0===v?T:v,g=a.areStatePropsEqual,b=void 0===g?T:g,_=a.areMergedPropsEqual,w=void 0===_?T:_,x=Object(p.a)(a,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=B(e,o,"mapStateToProps"),E=B(t,s,"mapDispatchToProps"),O=B(n,c,"mergeProps");return r(h,Object(f.a)({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:E,initMergeProps:O,pure:l,areStatesEqual:m,areOwnPropsEqual:y,areStatePropsEqual:b,areMergedPropsEqual:w},x))}}var z=U();var V,H=n(51);V=H.unstable_batchedUpdates,a=V},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(1),i=function(e,t){void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new r.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:r.MOUSE.ROTATE,MIDDLE:r.MOUSE.DOLLY,RIGHT:r.MOUSE.PAN},this.touches={ONE:r.TOUCH.ROTATE,TWO:r.TOUCH.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.saveState=function(){n.target0.copy(n.target),n.position0.copy(n.object.position),n.zoom0=n.object.zoom},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(i),n.update(),u=s.NONE},this.update=function(){var t=new r.Vector3,o=(new r.Quaternion).setFromUnitVectors(e.up,new r.Vector3(0,1,0)),a=o.clone().inverse(),m=new r.Vector3,v=new r.Quaternion,y=2*Math.PI;return function(){var e=n.object.position;t.copy(e).sub(n.target),t.applyQuaternion(o),l.setFromVector3(t),n.autoRotate&&u===s.NONE&&O(2*Math.PI/60/60*n.autoRotateSpeed),n.enableDamping?(l.theta+=f.theta*n.dampingFactor,l.phi+=f.phi*n.dampingFactor):(l.theta+=f.theta,l.phi+=f.phi);var r=n.minAzimuthAngle,g=n.maxAzimuthAngle;return isFinite(r)&&isFinite(g)&&(r<-Math.PI?r+=y:r>Math.PI&&(r-=y),g<-Math.PI?g+=y:g>Math.PI&&(g-=y),l.theta=r<g?Math.max(r,Math.min(g,l.theta)):l.theta>(r+g)/2?Math.max(r,l.theta):Math.min(g,l.theta)),l.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,l.phi)),l.makeSafe(),l.radius*=p,l.radius=Math.max(n.minDistance,Math.min(n.maxDistance,l.radius)),!0===n.enableDamping?n.target.addScaledVector(h,n.dampingFactor):n.target.add(h),t.setFromSpherical(l),t.applyQuaternion(a),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(f.theta*=1-n.dampingFactor,f.phi*=1-n.dampingFactor,h.multiplyScalar(1-n.dampingFactor)):(f.set(0,0,0),h.set(0,0,0)),p=1,!!(d||m.distanceToSquared(n.object.position)>c||8*(1-v.dot(n.object.quaternion))>c)&&(n.dispatchEvent(i),m.copy(n.object.position),v.copy(n.object.quaternion),d=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",Y,!1),n.domElement.removeEventListener("mousedown",U,!1),n.domElement.removeEventListener("wheel",H,!1),n.domElement.removeEventListener("touchstart",G,!1),n.domElement.removeEventListener("touchend",q,!1),n.domElement.removeEventListener("touchmove",W,!1),n.domElement.ownerDocument.removeEventListener("mousemove",z,!1),n.domElement.ownerDocument.removeEventListener("mouseup",V,!1),n.domElement.removeEventListener("keydown",$,!1)};var n=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},u=s.NONE,c=1e-6,l=new r.Spherical,f=new r.Spherical,p=1,h=new r.Vector3,d=!1,m=new r.Vector2,v=new r.Vector2,y=new r.Vector2,g=new r.Vector2,b=new r.Vector2,_=new r.Vector2,w=new r.Vector2,x=new r.Vector2,S=new r.Vector2;function E(){return Math.pow(.95,n.zoomSpeed)}function O(e){f.theta-=e}function T(e){f.phi-=e}var M=function(){var e=new r.Vector3;return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),h.add(e)}}(),P=function(){var e=new r.Vector3;return function(t,r){!0===n.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(n.object.up,e)),e.multiplyScalar(t),h.add(e)}}(),A=function(){var e=new r.Vector3;return function(t,r){var i=n.domElement;if(n.object.isPerspectiveCamera){var o=n.object.position;e.copy(o).sub(n.target);var a=e.length();a*=Math.tan(n.object.fov/2*Math.PI/180),M(2*t*a/i.clientHeight,n.object.matrix),P(2*r*a/i.clientHeight,n.object.matrix)}else n.object.isOrthographicCamera?(M(t*(n.object.right-n.object.left)/n.object.zoom/i.clientWidth,n.object.matrix),P(r*(n.object.top-n.object.bottom)/n.object.zoom/i.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function C(e){n.object.isPerspectiveCamera?p/=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function k(e){n.object.isPerspectiveCamera?p*=e:n.object.isOrthographicCamera?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),d=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function j(e){m.set(e.clientX,e.clientY)}function R(e){g.set(e.clientX,e.clientY)}function D(e){if(1==e.touches.length)m.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);m.set(t,n)}}function N(e){if(1==e.touches.length)g.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),n=.5*(e.touches[0].pageY+e.touches[1].pageY);g.set(t,n)}}function L(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);w.set(0,r)}function I(e){if(1==e.touches.length)v.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);v.set(t,r)}y.subVectors(v,m).multiplyScalar(n.rotateSpeed);var i=n.domElement;O(2*Math.PI*y.x/i.clientHeight),T(2*Math.PI*y.y/i.clientHeight),m.copy(v)}function B(e){if(1==e.touches.length)b.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);b.set(t,r)}_.subVectors(b,g).multiplyScalar(n.panSpeed),A(_.x,_.y),g.copy(b)}function F(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+r*r);x.set(0,i),S.set(0,Math.pow(x.y/w.y,n.zoomSpeed)),C(S.y),w.copy(x)}function U(e){if(!1!==n.enabled){var t;switch(e.preventDefault(),n.domElement.focus?n.domElement.focus():window.focus(),e.button){case 0:t=n.mouseButtons.LEFT;break;case 1:t=n.mouseButtons.MIDDLE;break;case 2:t=n.mouseButtons.RIGHT;break;default:t=-1}switch(t){case r.MOUSE.DOLLY:if(!1===n.enableZoom)return;!function(e){w.set(e.clientX,e.clientY)}(e),u=s.DOLLY;break;case r.MOUSE.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enablePan)return;R(e),u=s.PAN}else{if(!1===n.enableRotate)return;j(e),u=s.ROTATE}break;case r.MOUSE.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===n.enableRotate)return;j(e),u=s.ROTATE}else{if(!1===n.enablePan)return;R(e),u=s.PAN}break;default:u=s.NONE}u!==s.NONE&&(n.domElement.ownerDocument.addEventListener("mousemove",z,!1),n.domElement.ownerDocument.addEventListener("mouseup",V,!1),n.dispatchEvent(o))}}function z(e){if(!1!==n.enabled)switch(e.preventDefault(),u){case s.ROTATE:if(!1===n.enableRotate)return;!function(e){v.set(e.clientX,e.clientY),y.subVectors(v,m).multiplyScalar(n.rotateSpeed);var t=n.domElement;O(2*Math.PI*y.x/t.clientHeight),T(2*Math.PI*y.y/t.clientHeight),m.copy(v),n.update()}(e);break;case s.DOLLY:if(!1===n.enableZoom)return;!function(e){x.set(e.clientX,e.clientY),S.subVectors(x,w),S.y>0?C(E()):S.y<0&&k(E()),w.copy(x),n.update()}(e);break;case s.PAN:if(!1===n.enablePan)return;!function(e){b.set(e.clientX,e.clientY),_.subVectors(b,g).multiplyScalar(n.panSpeed),A(_.x,_.y),g.copy(b),n.update()}(e)}}function V(e){!1!==n.enabled&&(n.domElement.ownerDocument.removeEventListener("mousemove",z,!1),n.domElement.ownerDocument.removeEventListener("mouseup",V,!1),n.dispatchEvent(a),u=s.NONE)}function H(e){!1===n.enabled||!1===n.enableZoom||u!==s.NONE&&u!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),n.dispatchEvent(o),function(e){e.deltaY<0?k(E()):e.deltaY>0&&C(E()),n.update()}(e),n.dispatchEvent(a))}function $(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&function(e){var t=!1;switch(e.keyCode){case n.keys.UP:A(0,n.keyPanSpeed),t=!0;break;case n.keys.BOTTOM:A(0,-n.keyPanSpeed),t=!0;break;case n.keys.LEFT:A(n.keyPanSpeed,0),t=!0;break;case n.keys.RIGHT:A(-n.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),n.update())}(e)}function G(e){if(!1!==n.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(n.touches.ONE){case r.TOUCH.ROTATE:if(!1===n.enableRotate)return;D(e),u=s.TOUCH_ROTATE;break;case r.TOUCH.PAN:if(!1===n.enablePan)return;N(e),u=s.TOUCH_PAN;break;default:u=s.NONE}break;case 2:switch(n.touches.TWO){case r.TOUCH.DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&L(e),n.enablePan&&N(e)}(e),u=s.TOUCH_DOLLY_PAN;break;case r.TOUCH.DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&L(e),n.enableRotate&&D(e)}(e),u=s.TOUCH_DOLLY_ROTATE;break;default:u=s.NONE}break;default:u=s.NONE}u!==s.NONE&&n.dispatchEvent(o)}}function W(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),u){case s.TOUCH_ROTATE:if(!1===n.enableRotate)return;I(e),n.update();break;case s.TOUCH_PAN:if(!1===n.enablePan)return;B(e),n.update();break;case s.TOUCH_DOLLY_PAN:if(!1===n.enableZoom&&!1===n.enablePan)return;!function(e){n.enableZoom&&F(e),n.enablePan&&B(e)}(e),n.update();break;case s.TOUCH_DOLLY_ROTATE:if(!1===n.enableZoom&&!1===n.enableRotate)return;!function(e){n.enableZoom&&F(e),n.enableRotate&&I(e)}(e),n.update();break;default:u=s.NONE}}function q(e){!1!==n.enabled&&(n.dispatchEvent(a),u=s.NONE)}function Y(e){!1!==n.enabled&&e.preventDefault()}n.domElement.addEventListener("contextmenu",Y,!1),n.domElement.addEventListener("mousedown",U,!1),n.domElement.addEventListener("wheel",H,!1),n.domElement.addEventListener("touchstart",G,!1),n.domElement.addEventListener("touchend",q,!1),n.domElement.addEventListener("touchmove",W,!1),n.domElement.addEventListener("keydown",$,!1),-1===n.domElement.tabIndex&&(n.domElement.tabIndex=0),this.update()};i.prototype=Object.create(r.EventDispatcher.prototype),i.prototype.constructor=i;var o=function(e,t){i.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=r.MOUSE.PAN,this.mouseButtons.RIGHT=r.MOUSE.ROTATE,this.touches.ONE=r.TOUCH.PAN,this.touches.TWO=r.TOUCH.DOLLY_ROTATE};o.prototype=Object.create(r.EventDispatcher.prototype),o.prototype.constructor=o},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(60);function i(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o,a=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y}));var r=n(25),i=n(29),o=n(0),a=n.n(o),s=n(50),u=(n(40),n(5)),c=n(14),l=n(41),f=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return Object(i.a)(t,e),t.prototype.render=function(){return a.a.createElement(r.c,{history:this.history,children:this.props.children})},t}(a.a.Component);a.a.Component;var p=function(e,t){return"function"===typeof e?e(t):e},h=function(e,t){return"string"===typeof e?Object(s.c)(e,null,null,t):e},d=function(e){return e},m=a.a.forwardRef;"undefined"===typeof m&&(m=d);var v=m((function(e,t){var n=e.innerRef,r=e.navigate,i=e.onClick,o=Object(c.a)(e,["innerRef","navigate","onClick"]),s=o.target,l=Object(u.a)({},o,{onClick:function(e){try{i&&i(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||s&&"_self"!==s||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),r())}});return l.ref=d!==m&&t||n,a.a.createElement("a",l)}));var y=m((function(e,t){var n=e.component,i=void 0===n?v:n,o=e.replace,s=e.to,f=e.innerRef,y=Object(c.a)(e,["component","replace","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=e.history,r=h(p(s,e.location),e.location),c=r?n.createHref(r):"",v=Object(u.a)({},y,{href:c,navigate:function(){var t=p(s,e.location);(o?n.replace:n.push)(t)}});return d!==m?v.ref=t||f:v.innerRef=f,a.a.createElement(i,v)}))})),g=function(e){return e},b=a.a.forwardRef;"undefined"===typeof b&&(b=g);b((function(e,t){var n=e["aria-current"],i=void 0===n?"page":n,o=e.activeClassName,s=void 0===o?"active":o,f=e.activeStyle,d=e.className,m=e.exact,v=e.isActive,_=e.location,w=e.sensitive,x=e.strict,S=e.style,E=e.to,O=e.innerRef,T=Object(c.a)(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return a.a.createElement(r.e.Consumer,null,(function(e){e||Object(l.a)(!1);var n=_||e.location,o=h(p(E,n),n),c=o.pathname,M=c&&c.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),P=M?Object(r.f)(n.pathname,{path:M,exact:m,sensitive:w,strict:x}):null,A=!!(v?v(P,n):P),C=A?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(d,s):d,k=A?Object(u.a)({},S,{},f):S,j=Object(u.a)({"aria-current":A&&i||null,className:C,style:k,to:o},T);return g!==b?j.ref=t||O:j.innerRef=O,a.a.createElement(y,j)}))}))},function(e,t,n){e.exports=n(237)},function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return oe}));var r=n(59),i=n(0),o=n.n(i),a=(n(187),n(188)),s=n(189),u=n(127),c=n(56),l=n.n(c);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},h=function(e){return null!==e&&"object"===typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!Object(r.typeOf)(e)},d=Object.freeze([]),m=Object.freeze({});function v(e){return"function"===typeof e}function y(e){return e.displayName||e.name||"Component"}function g(e){return e&&"string"===typeof e.styledComponentId}var b="undefined"!==typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SC_ATTR||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SC_ATTR)||"data-styled",_="undefined"!==typeof window&&"HTMLElement"in window,w="boolean"===typeof SC_DISABLE_SPEEDY&&SC_DISABLE_SPEEDY||"undefined"!==typeof e&&(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_SC_DISABLE_SPEEDY||Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SC_DISABLE_SPEEDY)||!1,x=function(){return n.nc};function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/master/packages/styled-components/src/utils/errors.md#"+e+" for more information."+(n.length>0?" Additional arguments: "+n.join(", "):""))}var E=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(b))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(b,"active"),r.setAttribute("data-styled-version","5.1.1");var a=x();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},O=function(){function e(e){var t=this.element=E(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}S(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(n){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"===typeof t.cssText?t.cssText:""},e}(),T=function(){function e(e){var t=this.element=E(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),M=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),P=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&S(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),A=new Map,C=new Map,k=1,j=function(e){if(A.has(e))return A.get(e);var t=k++;return A.set(e,t),C.set(t,e),t},R=function(e){return C.get(e)},D=function(e,t){t>=k&&(k=t+1),A.set(e,t),C.set(t,e)},N="style["+b+'][data-styled-version="5.1.1"]',L=new RegExp("^"+b+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),I=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},B=function(e,t){for(var n=t.innerHTML.split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(L);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(D(c,u),I(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},F=_,U={isServer:!_,useCSSOMInjection:!w},z=function(){function e(e,t,n){void 0===e&&(e=U),void 0===t&&(t={}),this.options=f({},U,{},e),this.gs=t,this.names=new Map(n),!this.options.isServer&&_&&F&&(F=!1,function(e){for(var t=document.querySelectorAll(N),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(b)&&(B(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return j(e)};var t=e.prototype;return t.reconstructWithOptions=function(t){return new e(f({},this.options,{},t),this.gs,this.names)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.isServer,n=e.useCSSOMInjection,r=e.target;return t?new M(r):n?new O(r):new T(r)}(this.options),new P(e)));var e},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(j(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(j(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(j(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=R(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var u=b+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),V=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},H=function(e){return V(5381,e)};var $=/^\s*\/\/.*$/gm;function G(e){var t,n,r,i=void 0===e?m:e,o=i.options,s=void 0===o?m:o,u=i.plugins,c=void 0===u?d:u,l=new a.a(s),f=[],p=function(e){function t(t){if(t)try{e(t+"}")}catch(n){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),h=function(e,r,i){return r>0&&-1!==i.slice(0,r).indexOf(n)&&i.slice(r-n.length,r)!==n?"."+t:e};function v(e,i,o,a){void 0===a&&(a="&");var s=e.replace($,""),u=i&&o?o+" "+i+" { "+s+" }":s;return t=a,n=i,r=new RegExp("\\"+n+"\\b","g"),l(o||!i?"":i,u)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,h))},p,function(e){if(-2===e){var t=f;return f=[],t}}])),v.hash=c.length?c.reduce((function(e,t){return t.name||S(15),V(e,t.name)}),5381).toString():"",v}var W=o.a.createContext(),q=(W.Consumer,o.a.createContext()),Y=(q.Consumer,new z),X=G();function Z(){return Object(i.useContext)(W)||Y}function Q(){return Object(i.useContext)(q)||X}var K=function(){function e(e,t){var n=this;this.inject=function(e){e.hasNameForId(n.id,n.name)||e.insertRules(n.id,n.name,X.apply(void 0,n.stringifyArgs))},this.toString=function(){return S(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.stringifyArgs=t}return e.prototype.getName=function(){return this.name},e}(),J=/([A-Z])/g,ee=/^ms-/;function te(e){return e.replace(J,"-$1").toLowerCase().replace(ee,"-ms-")}var ne=function(e){return void 0===e||null===e||!1===e||""===e},re=function e(t,n){var r=[];return Object.keys(t).forEach((function(n){if(!ne(t[n])){if(h(t[n]))return r.push.apply(r,e(t[n],n)),r;if(v(t[n]))return r.push(te(n)+":",t[n],";"),r;r.push(te(n)+": "+(i=n,null==(o=t[n])||"boolean"===typeof o||""===o?"":"number"!==typeof o||0===o||i in s.a?String(o).trim():o+"px")+";")}var i,o;return r})),n?[n+" {"].concat(r,["}"]):r};function ie(e,t,n){if(Array.isArray(e)){for(var r,i=[],o=0,a=e.length;o<a;o+=1)""!==(r=ie(e[o],t,n))&&(Array.isArray(r)?i.push.apply(i,r):i.push(r));return i}return ne(e)?"":g(e)?"."+e.styledComponentId:v(e)?"function"!==typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:ie(e(t),t,n):e instanceof K?n?(e.inject(n),e.getName()):e:h(e)?re(e):e.toString();var s}function oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return v(e)||h(e)?ie(p(d,[e].concat(n))):0===n.length&&1===e.length&&"string"===typeof e[0]?e:ie(p(e,n))}var ae=function(e){return"function"===typeof e||"object"===typeof e&&null!==e&&!Array.isArray(e)},se=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function ue(e,t,n){var r=e[n];ae(t)&&ae(r)?ce(r,t):e[n]=t}function ce(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(ae(a))for(var s in a)se(s)&&ue(e,a[s],s)}return e}var le=/(a)(d)/gi,fe=function(e){return String.fromCharCode(e+(e>25?39:97))};function pe(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=fe(t%52)+n;return(fe(t%52)+n).replace(le,"$1-$2")}function he(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(v(n)&&!g(n))return!1}return!0}var de=function(){function e(e,t){this.rules=e,this.staticRulesId="",this.isStatic=he(e),this.componentId=t,this.baseHash=H(t),z.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId;if(this.isStatic&&!n.hash){if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))return this.staticRulesId;var i=ie(this.rules,e,t).join(""),o=pe(V(this.baseHash,i.length)>>>0);if(!t.hasNameForId(r,o)){var a=n(i,"."+o,void 0,r);t.insertRules(r,o,a)}return this.staticRulesId=o,o}for(var s=this.rules.length,u=V(this.baseHash,n.hash),c="",l=0;l<s;l++){var f=this.rules[l];if("string"===typeof f)c+=f;else{var p=ie(f,e,t),h=Array.isArray(p)?p.join(""):p;u=V(u,h+l),c+=h}}var d=pe(u>>>0);if(!t.hasNameForId(r,d)){var m=n(c,"."+d,void 0,r);t.insertRules(r,d,m)}return d},e}(),me=(new Set,function(e,t,n){return void 0===n&&(n=m),e.theme!==n.theme&&e.theme||t||n.theme}),ve=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,ye=/(^-|-$)/g;function ge(e){return e.replace(ve,"-").replace(ye,"")}function be(e){return"string"===typeof e&&!0}var _e=function(e){return pe(H(e)>>>0)};var we=o.a.createContext();we.Consumer;var xe={};function Se(e,t,n){var r=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,p=e.target;Object(i.useDebugValue)(l);var h=function(e,t,n){void 0===e&&(e=m);var r=f({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in v(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(me(t,Object(i.useContext)(we),a)||m,t,r),d=h[0],y=h[1],g=function(e,t,n,r){var o=Z(),a=Q(),s=e.isStatic&&!t?e.generateAndInjectStyles(m,o,a):e.generateAndInjectStyles(n,o,a);return Object(i.useDebugValue)(s),s}(o,r.length>0,d),b=n,_=y.$as||t.$as||y.as||t.as||p,w=be(_),x=y!==t?f({},t,{},y):t,S=c||w&&u.a,E={};for(var O in x)"$"!==O[0]&&"as"!==O&&("forwardedAs"===O?E.as=x[O]:S&&!S(O,u.a)||(E[O]=x[O]));return t.style&&y.style!==t.style&&(E.style=f({},t.style,{},y.style)),E.className=Array.prototype.concat(s,l,g!==l?g:null,t.className,y.className).filter(Boolean).join(" "),E.ref=b,Object(i.createElement)(_,E)}function Ee(e,t,n){var r=g(e),i=!be(e),a=t.displayName,s=void 0===a?function(e){return be(e)?"styled."+e:"Styled("+y(e)+")"}(e):a,u=t.componentId,c=void 0===u?function(e,t){var n="string"!==typeof e?"sc":ge(e);xe[n]=(xe[n]||0)+1;var r=n+"-"+_e(n+xe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,p=t.attrs,h=void 0===p?d:p,m=t.displayName&&t.componentId?ge(t.displayName)+"-"+t.componentId:t.componentId||c,v=r&&e.attrs?Array.prototype.concat(e.attrs,h).filter(Boolean):h,b=t.shouldForwardProp;r&&e.shouldForwardProp&&(b=b?function(n,r){return e.shouldForwardProp(n,r)&&t.shouldForwardProp(n,r)}:e.shouldForwardProp);var _,w=new de(r?e.componentStyle.rules.concat(n):n,m),x=function(e,t){return Se(_,e,t)};return x.displayName=s,(_=o.a.forwardRef(x)).attrs=v,_.componentStyle=w,_.displayName=s,_.shouldForwardProp=b,_.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):d,_.styledComponentId=m,_.target=r?e.target:e,_.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(be(e)?e:ge(y(e)));return Ee(e,f({},i,{attrs:v,componentId:o}),n)},Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?ce({},e.defaultProps,t):t}}),_.toString=function(){return"."+_.styledComponentId},i&&l()(_,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,self:!0,styledComponentId:!0,target:!0,withComponent:!0}),_}var Oe=function(e){return function e(t,n,i){if(void 0===i&&(i=m),!Object(r.isValidElementType)(n))return S(1,String(n));var o=function(){return t(n,i,oe.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,f({},i,{},r))},o.attrs=function(r){return e(t,n,f({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Ee,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){Oe[e]=Oe(e)}));t.b=Oe}).call(this,n(115))},function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return C})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return S}));var r=n(29),i=n(0),o=n.n(i),a=(n(40),n(50)),s=n(120),u=n(41),c=n(5),l=n(121),f=n.n(l),p=(n(59),n(14)),h=(n(56),function(e){var t=Object(s.a)();return t.displayName=e,t}("Router-History")),d=function(e){var t=Object(s.a)();return t.displayName=e,t}("Router"),m=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e}))),n}Object(r.a)(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return o.a.createElement(d.Provider,{value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},o.a.createElement(h.Provider,{children:this.props.children||null,value:this.props.history}))},t}(o.a.Component);o.a.Component;var v=function(e){function t(){return e.apply(this,arguments)||this}Object(r.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(o.a.Component);var y={},g=0;function b(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(y[e])return y[e];var t=f.a.compile(e);return g<1e4&&(y[e]=t,g++),t}(e)(t,{pretty:!0})}function _(e){var t=e.computedMatch,n=e.to,r=e.push,i=void 0!==r&&r;return o.a.createElement(d.Consumer,null,(function(e){e||Object(u.a)(!1);var r=e.history,s=e.staticContext,l=i?r.push:r.replace,f=Object(a.c)(t?"string"===typeof n?b(n,t.params):Object(c.a)({},n,{pathname:b(n.pathname,t.params)}):n);return s?(l(f),null):o.a.createElement(v,{onMount:function(){l(f)},onUpdate:function(e,t){var n=Object(a.c)(t.to);Object(a.f)(n,Object(c.a)({},f,{key:n.key}))||l(f)},to:n})}))}var w={},x=0;function S(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,o=void 0!==i&&i,a=n.strict,s=void 0!==a&&a,u=n.sensitive,c=void 0!==u&&u;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=w[n]||(w[n]={});if(r[e])return r[e];var i=[],o={regexp:f()(e,i,t),keys:i};return x<1e4&&(r[e]=o,x++),o}(n,{end:o,strict:s,sensitive:c}),i=r.regexp,a=r.keys,u=i.exec(e);if(!u)return null;var l=u[0],p=u.slice(1),h=e===l;return o&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:a.reduce((function(e,t,n){return e[t.name]=p[n],e}),{})}}),null)}var E=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(d.Consumer,null,(function(t){t||Object(u.a)(!1);var n=e.props.location||t.location,r=e.props.computedMatch?e.props.computedMatch:e.props.path?S(n.pathname,e.props):t.match,i=Object(c.a)({},t,{location:n,match:r}),a=e.props,s=a.children,l=a.component,f=a.render;return Array.isArray(s)&&0===s.length&&(s=null),o.a.createElement(d.Provider,{value:i},i.match?s?"function"===typeof s?s(i):s:l?o.a.createElement(l,i):f?f(i):null:"function"===typeof s?s(i):null)}))},t}(o.a.Component);function O(e){return"/"===e.charAt(0)?e:"/"+e}function T(e,t){if(!e)return t;var n=O(e);return 0!==t.pathname.indexOf(n)?t:Object(c.a)({},t,{pathname:t.pathname.substr(n.length)})}function M(e){return"string"===typeof e?e:Object(a.e)(e)}function P(e){return function(){Object(u.a)(!1)}}function A(){}o.a.Component;var C=function(e){function t(){return e.apply(this,arguments)||this}return Object(r.a)(t,e),t.prototype.render=function(){var e=this;return o.a.createElement(d.Consumer,null,(function(t){t||Object(u.a)(!1);var n,r,i=e.props.location||t.location;return o.a.Children.forEach(e.props.children,(function(e){if(null==r&&o.a.isValidElement(e)){n=e;var a=e.props.path||e.props.from;r=a?S(i.pathname,Object(c.a)({},e.props,{path:a})):t.match}})),r?o.a.cloneElement(n,{location:i,computedMatch:r}):null}))},t}(o.a.Component);o.a.useContext},function(e,t,n){"use strict";var r=n(143);n.o(r,"DragSource")&&n.d(t,"DragSource",(function(){return r.DragSource})),n.o(r,"DropTarget")&&n.d(t,"DropTarget",(function(){return r.DropTarget}));var i=n(148);n.o(i,"DragSource")&&n.d(t,"DragSource",(function(){return i.DragSource})),n.o(i,"DropTarget")&&n.d(t,"DropTarget",(function(){return i.DropTarget}))},,,function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)&&r.length){var a=i.apply(null,r);a&&e.push(a)}else if("object"===o)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(79);var i=n(91),o=n(60);function a(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(i.a)(e)||Object(o.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStartTime=function(e){return p(e,u)},t.parseEndTime=function(e){return p(e,c)},t.randomString=function(){return Math.random().toString(36).substr(2,5)},t.queryString=function(e){return Object.keys(e).map((function(t){return"".concat(t,"=").concat(e[t])})).join("&")},t.getSDK=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:r.default,a=h(t);if(a&&i(a))return Promise.resolve(a);return new Promise((function(r,i){if(d[e])d[e].push({resolve:r,reject:i});else{d[e]=[{resolve:r,reject:i}];var a=function(t){d[e].forEach((function(e){return e.resolve(t)}))};if(n){var s=window[n];window[n]=function(){s&&s(),a(h(t))}}o(e,(function(r){r?(d[e].forEach((function(e){return e.reject(r)})),d[e]=null):n||a(h(t))}))}}))},t.getConfig=function(e,t){return(0,i.default)(t.config,e.config)},t.omit=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=(t=[]).concat.apply(t,r),a={},s=Object.keys(e),u=0,c=s;u<c.length;u++){var l=c[u];-1===o.indexOf(l)&&(a[l]=e[l])}return a},t.callPlayer=function(e){var t;if(!this.player||!this.player[e]){var n="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(e,"%c \u2013 ");return this.player?this.player[e]||(n+="The method was not available"):n+="The player was not available",console.warn(n,"font-weight: bold",""),null}for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(t=this.player)[e].apply(t,i)},t.isMediaStream=function(e){return"undefined"!==typeof window&&"undefined"!==typeof window.MediaStream&&e instanceof window.MediaStream},t.supportsWebKitPresentationMode=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.createElement("video"),t=!1===/iPhone|iPod/.test(navigator.userAgent);return e.webkitSupportsPresentationMode&&"function"===typeof e.webkitSetPresentationMode&&t};var r=o(n(256)),i=o(n(139));function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u=/[?&#](?:start|t)=([0-9hms]+)/,c=/[?&#]end=([0-9hms]+)/,l=/(\d+)(h|m|s)/g,f=/^\d+$/;function p(e,t){if(!(e instanceof Array)){var n=e.match(t);if(n){var r=n[1];if(r.match(l))return function(e){var t=0,n=l.exec(e);for(;null!==n;){var r=a(n,3),i=r[1],o=r[2];"h"===o&&(t+=60*parseInt(i,10)*60),"m"===o&&(t+=60*parseInt(i,10)),"s"===o&&(t+=parseInt(i,10)),n=l.exec(e)}return t}(r);if(f.test(r))return parseInt(r)}}}function h(e){return window[e]?window[e]:window.exports&&window.exports[e]?window.exports[e]:window.module&&window.module.exports&&window.module.exports[e]?window.module.exports[e]:null}var d={}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return"function"===typeof e}function o(){}function a(e){if(!function(e){return"object"===r(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a}))},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e){return function(t){e.forEach((function(e){"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}},,function(e,t,n){"use strict";var r=n(130),i=Object.prototype.toString;function o(e){return"[object Array]"===i.call(e)}function a(e){return"undefined"===typeof e}function s(e){return null!==e&&"object"===typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!a(e)&&null!==e.constructor&&!a(e.constructor)&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:a,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},deepMerge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]="object"===typeof n?e({},n):n}for(var r=0,i=arguments.length;r<i;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,i){e[i]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t,n){e.exports=n(234)()},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error("Invariant failed")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canPlay=t.FLV_EXTENSIONS=t.DASH_EXTENSIONS=t.HLS_EXTENSIONS=t.VIDEO_EXTENSIONS=t.AUDIO_EXTENSIONS=t.MATCH_URL_VIDYARD=t.MATCH_URL_MIXCLOUD=t.MATCH_URL_DAILYMOTION=t.MATCH_URL_TWITCH_CHANNEL=t.MATCH_URL_TWITCH_VIDEO=t.MATCH_URL_WISTIA=t.MATCH_URL_STREAMABLE=t.MATCH_URL_FACEBOOK=t.MATCH_URL_VIMEO=t.MATCH_URL_SOUNDCLOUD=t.MATCH_URL_YOUTUBE=void 0;var r=n(33);function i(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;t.MATCH_URL_YOUTUBE=a;var s=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;t.MATCH_URL_SOUNDCLOUD=s;var u=/vimeo\.com\/.+/;t.MATCH_URL_VIMEO=u;var c=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;t.MATCH_URL_FACEBOOK=c;var l=/streamable\.com\/([a-z0-9]+)$/;t.MATCH_URL_STREAMABLE=l;var f=/(?:wistia\.com|wi\.st)\/(?:medias|embed)\/(.*)$/;t.MATCH_URL_WISTIA=f;var p=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;t.MATCH_URL_TWITCH_VIDEO=p;var h=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;t.MATCH_URL_TWITCH_CHANNEL=h;var d=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?$/;t.MATCH_URL_DAILYMOTION=d;var m=/mixcloud\.com\/([^/]+\/[^/]+)/;t.MATCH_URL_MIXCLOUD=m;var v=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-]+)/;t.MATCH_URL_VIDYARD=v;var y=/\.(m4a|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;t.AUDIO_EXTENSIONS=y;var g=/\.(mp4|og[gv]|webm|mov|m4v)($|\?)/i;t.VIDEO_EXTENSIONS=g;var b=/\.(m3u8)($|\?)/i;t.HLS_EXTENSIONS=b;var _=/\.(mpd)($|\?)/i;t.DASH_EXTENSIONS=_;var w=/\.(flv)($|\?)/i;t.FLV_EXTENSIONS=w;var x={youtube:function(e){return e instanceof Array?e.every((function(e){return a.test(e)})):a.test(e)},soundcloud:function(e){return s.test(e)&&!y.test(e)},vimeo:function(e){return u.test(e)&&!g.test(e)&&!b.test(e)},facebook:function(e){return c.test(e)},streamable:function(e){return l.test(e)},wistia:function(e){return f.test(e)},twitch:function(e){return p.test(e)||h.test(e)},dailymotion:function(e){return d.test(e)},mixcloud:function(e){return m.test(e)},vidyard:function(e){return v.test(e)},file:function e(t){if(t instanceof Array){var n,o=i(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;if("string"===typeof a&&e(a))return!0;if(e(a.src))return!0}}catch(s){o.e(s)}finally{o.f()}return!1}return!!(0,r.isMediaStream)(t)||(y.test(t)||g.test(t)||b.test(t)||_.test(t)||w.test(t))}};t.canPlay=x},,,,,,,function(e,t,n){"use strict";(function(n){function r(e){return"object"!==typeof e||"toString"in e?e:Object.prototype.toString.call(e).slice(8,-1)}Object.defineProperty(t,"__esModule",{value:!0});var i="object"===typeof n&&!0;function o(e,t){if(!e){if(i)throw new Error("Invariant failed");throw new Error(t())}}t.invariant=o;var a=Object.prototype.hasOwnProperty,s=Array.prototype.splice,u=Object.prototype.toString;function c(e){return u.call(e).slice(8,-1)}var l=Object.assign||function(e,t){return f(t).forEach((function(n){a.call(t,n)&&(e[n]=t[n])})),e},f="function"===typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function p(e){return Array.isArray(e)?l(e.constructor(e.length),e):"Map"===c(e)?new Map(e):"Set"===c(e)?new Set(e):e&&"object"===typeof e?l(Object.create(Object.getPrototypeOf(e)),e):e}var h=function(){function e(){this.commands=l({},d),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,r="function"===typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(r)||o(!Array.isArray(r),(function(){return"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."})),o("object"===typeof r&&null!==r,(function(){return"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: "+Object.keys(n.commands).join(", ")+"."}));var i=e;return f(r).forEach((function(t){if(a.call(n.commands,t)){var o=e===i;i=n.commands[t](r[t],i,r,e),o&&n.isEquals(i,e)&&(i=e)}else{var s="Map"===c(e)?n.update(e.get(t),r[t]):n.update(e[t],r[t]),u="Map"===c(i)?i.get(t):i[t];n.isEquals(s,u)&&("undefined"!==typeof s||a.call(e,t))||(i===e&&(i=p(e)),"Map"===c(i)?i.set(t,s):i[t]=s)}})),i},e}();t.Context=h;var d={$push:function(e,t,n){return v(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return v(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,i){return function(e,t){o(Array.isArray(e),(function(){return"Expected $splice target to be an array; got "+r(e)})),g(t.$splice)}(t,n),e.forEach((function(e){g(e),t===i&&e.length&&(t=p(i)),s.apply(t,e)})),t},$set:function(e,t,n){return function(e){o(1===Object.keys(e).length,(function(){return"Cannot have more than one key in an object with $set"}))}(n),e},$toggle:function(e,t){y(e,"$toggle");var n=e.length?p(t):t;return e.forEach((function(e){n[e]=!t[e]})),n},$unset:function(e,t,n,r){return y(e,"$unset"),e.forEach((function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=p(r)),delete t[e])})),t},$add:function(e,t,n,r){return b(t,"$add"),y(e,"$add"),"Map"===c(t)?e.forEach((function(e){var n=e[0],i=e[1];t===r&&t.get(n)!==i&&(t=p(r)),t.set(n,i)})):e.forEach((function(e){t!==r||t.has(e)||(t=p(r)),t.add(e)})),t},$remove:function(e,t,n,r){return b(t,"$remove"),y(e,"$remove"),e.forEach((function(e){t===r&&t.has(e)&&(t=p(r)),t.delete(e)})),t},$merge:function(e,t,n,i){var a,s;return a=t,o((s=e)&&"object"===typeof s,(function(){return"update(): $merge expects a spec of type 'object'; got "+r(s)})),o(a&&"object"===typeof a,(function(){return"update(): $merge expects a target of type 'object'; got "+r(a)})),f(e).forEach((function(n){e[n]!==t[n]&&(t===i&&(t=p(i)),t[n]=e[n])})),t},$apply:function(e,t){var n;return o("function"===typeof(n=e),(function(){return"update(): expected spec of $apply to be a function; got "+r(n)+"."})),e(t)}},m=new h;function v(e,t,n){o(Array.isArray(e),(function(){return"update(): expected target of "+r(n)+" to be an array; got "+r(e)+"."})),y(t[n],n)}function y(e,t){o(Array.isArray(e),(function(){return"update(): expected spec of "+r(t)+" to be an array; got "+r(e)+". Did you forget to wrap your parameter in an array?"}))}function g(e){o(Array.isArray(e),(function(){return"update(): expected spec of $splice to be an array of arrays; got "+r(e)+". Did you forget to wrap your parameters in an array?"}))}function b(e,t){var n=c(e);o("Map"===n||"Set"===n,(function(){return"update(): "+r(t)+" expects a target of type Set or Map; got "+r(n)}))}t.isEquals=m.update.isEquals,t.extend=m.extend,t.default=m.update,t.default.default=e.exports=l(t.default,t)}).call(this,n(115))},function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return T})),n.d(t,"d",(function(){return P})),n.d(t,"c",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"e",(function(){return d}));var r=n(5);function i(e){return"/"===e.charAt(0)}function o(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var a=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],a=t&&t.split("/")||[],s=e&&i(e),u=t&&i(t),c=s||u;if(e&&i(e)?a=r:r.length&&(a.pop(),a=a.concat(r)),!a.length)return"/";if(a.length){var l=a[a.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,p=a.length;p>=0;p--){var h=a[p];"."===h?o(a,p):".."===h?(o(a,p),f++):f&&(o(a,p),f--)}if(!c)for(;f--;f)a.unshift("..");!c||""===a[0]||a[0]&&i(a[0])||a.unshift("");var d=a.join("/");return n&&"/"!==d.substr(-1)&&(d+="/"),d};function s(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var u=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=s(t),i=s(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},c=n(41);function l(e){return"/"===e.charAt(0)?e:"/"+e}function f(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function h(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function d(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function m(e,t,n,i){var o;"string"===typeof e?(o=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var o=t.indexOf("?");return-1!==o&&(n=t.substr(o),t=t.substr(0,o)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(o=Object(r.a)({},e)).pathname&&(o.pathname=""),o.search?"?"!==o.search.charAt(0)&&(o.search="?"+o.search):o.search="",o.hash?"#"!==o.hash.charAt(0)&&(o.hash="#"+o.hash):o.hash="",void 0!==t&&void 0===o.state&&(o.state=t));try{o.pathname=decodeURI(o.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+o.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return n&&(o.key=n),i?o.pathname?"/"!==o.pathname.charAt(0)&&(o.pathname=a(o.pathname,i.pathname)):o.pathname=i.pathname:o.pathname||(o.pathname="/"),o}function v(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&u(e.state,t.state)}function y(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var o="function"===typeof e?e(t,n):e;"string"===typeof o?"function"===typeof r?r(o,i):i(!0):i(!1!==o)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var g=!("undefined"===typeof window||!window.document||!window.document.createElement);function b(e,t){t(window.confirm(e))}function _(){try{return window.history.state||{}}catch(e){return{}}}function w(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,a=o.forceRefresh,s=void 0!==a&&a,u=o.getUserConfirmation,f=void 0===u?b:u,v=o.keyLength,w=void 0===v?6:v,x=e.basename?h(l(e.basename)):"";function S(e){var t=e||{},n=t.key,r=t.state,i=window.location,o=i.pathname+i.search+i.hash;return x&&(o=p(o,x)),m(o,r,n)}function E(){return Math.random().toString(36).substr(2,w)}var O=y();function T(e){Object(r.a)(B,e),B.length=t.length,O.notifyListeners(B.location,B.action)}function M(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||C(S(e.state))}function P(){C(S(_()))}var A=!1;function C(e){if(A)A=!1,T();else{O.confirmTransitionTo(e,"POP",f,(function(t){t?T({action:"POP",location:e}):function(e){var t=B.location,n=j.indexOf(t.key);-1===n&&(n=0);var r=j.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(A=!0,D(i))}(e)}))}}var k=S(_()),j=[k.key];function R(e){return x+d(e)}function D(e){t.go(e)}var N=0;function L(e){1===(N+=e)&&1===e?(window.addEventListener("popstate",M),i&&window.addEventListener("hashchange",P)):0===N&&(window.removeEventListener("popstate",M),i&&window.removeEventListener("hashchange",P))}var I=!1;var B={length:t.length,action:"POP",location:k,createHref:R,push:function(e,r){var i=m(e,r,E(),B.location);O.confirmTransitionTo(i,"PUSH",f,(function(e){if(e){var r=R(i),o=i.key,a=i.state;if(n)if(t.pushState({key:o,state:a},null,r),s)window.location.href=r;else{var u=j.indexOf(B.location.key),c=j.slice(0,u+1);c.push(i.key),j=c,T({action:"PUSH",location:i})}else window.location.href=r}}))},replace:function(e,r){var i=m(e,r,E(),B.location);O.confirmTransitionTo(i,"REPLACE",f,(function(e){if(e){var r=R(i),o=i.key,a=i.state;if(n)if(t.replaceState({key:o,state:a},null,r),s)window.location.replace(r);else{var u=j.indexOf(B.location.key);-1!==u&&(j[u]=i.key),T({action:"REPLACE",location:i})}else window.location.replace(r)}}))},go:D,goBack:function(){D(-1)},goForward:function(){D(1)},block:function(e){void 0===e&&(e=!1);var t=O.setPrompt(e);return I||(L(1),I=!0),function(){return I&&(I=!1,L(-1)),t()}},listen:function(e){var t=O.appendListener(e);return L(1),function(){L(-1),t()}}};return B}var x={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+f(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:f,decodePath:l},slash:{encodePath:l,decodePath:l}};function S(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function E(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){window.location.replace(S(window.location.href)+"#"+e)}function T(e){void 0===e&&(e={}),g||Object(c.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),i=n.getUserConfirmation,o=void 0===i?b:i,a=n.hashType,s=void 0===a?"slash":a,u=e.basename?h(l(e.basename)):"",f=x[s],v=f.encodePath,_=f.decodePath;function w(){var e=_(E());return u&&(e=p(e,u)),m(e)}var T=y();function M(e){Object(r.a)(F,e),F.length=t.length,T.notifyListeners(F.location,F.action)}var P=!1,A=null;function C(){var e,t,n=E(),r=v(n);if(n!==r)O(r);else{var i=w(),a=F.location;if(!P&&(t=i,(e=a).pathname===t.pathname&&e.search===t.search&&e.hash===t.hash))return;if(A===d(i))return;A=null,function(e){if(P)P=!1,M();else{T.confirmTransitionTo(e,"POP",o,(function(t){t?M({action:"POP",location:e}):function(e){var t=F.location,n=D.lastIndexOf(d(t));-1===n&&(n=0);var r=D.lastIndexOf(d(e));-1===r&&(r=0);var i=n-r;i&&(P=!0,N(i))}(e)}))}}(i)}}var k=E(),j=v(k);k!==j&&O(j);var R=w(),D=[d(R)];function N(e){t.go(e)}var L=0;function I(e){1===(L+=e)&&1===e?window.addEventListener("hashchange",C):0===L&&window.removeEventListener("hashchange",C)}var B=!1;var F={length:t.length,action:"POP",location:R,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=S(window.location.href)),n+"#"+v(u+d(e))},push:function(e,t){var n=m(e,void 0,void 0,F.location);T.confirmTransitionTo(n,"PUSH",o,(function(e){if(e){var t=d(n),r=v(u+t);if(E()!==r){A=t,function(e){window.location.hash=e}(r);var i=D.lastIndexOf(d(F.location)),o=D.slice(0,i+1);o.push(t),D=o,M({action:"PUSH",location:n})}else M()}}))},replace:function(e,t){var n=m(e,void 0,void 0,F.location);T.confirmTransitionTo(n,"REPLACE",o,(function(e){if(e){var t=d(n),r=v(u+t);E()!==r&&(A=t,O(r));var i=D.indexOf(d(F.location));-1!==i&&(D[i]=t),M({action:"REPLACE",location:n})}}))},go:N,goBack:function(){N(-1)},goForward:function(){N(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return B||(I(1),B=!0),function(){return B&&(B=!1,I(-1)),t()}},listen:function(e){var t=T.appendListener(e);return I(1),function(){I(-1),t()}}};return F}function M(e,t,n){return Math.min(Math.max(e,t),n)}function P(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,i=t.initialEntries,o=void 0===i?["/"]:i,a=t.initialIndex,s=void 0===a?0:a,u=t.keyLength,c=void 0===u?6:u,l=y();function f(e){Object(r.a)(_,e),_.length=_.entries.length,l.notifyListeners(_.location,_.action)}function p(){return Math.random().toString(36).substr(2,c)}var h=M(s,0,o.length-1),v=o.map((function(e){return m(e,void 0,"string"===typeof e?p():e.key||p())})),g=d;function b(e){var t=M(_.index+e,0,_.entries.length-1),r=_.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var _={length:v.length,action:"POP",location:v[h],index:h,entries:v,createHref:g,push:function(e,t){var r=m(e,t,p(),_.location);l.confirmTransitionTo(r,"PUSH",n,(function(e){if(e){var t=_.index+1,n=_.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),f({action:"PUSH",location:r,index:t,entries:n})}}))},replace:function(e,t){var r=m(e,t,p(),_.location);l.confirmTransitionTo(r,"REPLACE",n,(function(e){e&&(_.entries[_.index]=r,f({action:"REPLACE",location:r}))}))},go:b,goBack:function(){b(-1)},goForward:function(){b(1)},canGo:function(e){var t=_.index+e;return t>=0&&t<_.entries.length},block:function(e){return void 0===e&&(e=!1),l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return _}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(232)},function(e,t,n){"use strict";function r(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var r={};function i(e){var t=null;return function(){return null==t&&(t=e()),t}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,"FILE",(function(){return m})),n.d(r,"URL",(function(){return v})),n.d(r,"TEXT",(function(){return y}));var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&o(t.prototype,n),r&&o(t,r),e}(),s=i((function(){return/firefox/i.test(navigator.userAgent)})),u=i((function(){return Boolean(window.safari)}));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,u=[],c=[],l=[],f=0;f<r-1;f++)a=t[f+1]-t[f],s=n[f+1]-n[f],c.push(a),u.push(s),l.push(s/a);for(var p=[l[0]],h=0;h<c.length-1;h++){var d=l[h],m=l[h+1];if(d*m<=0)p.push(0);else{a=c[h];var v=c[h+1],y=a+v;p.push(3*y/((y+v)/d+(y+a)/m))}}p.push(l[l.length-1]);for(var g,b=[],_=[],w=0;w<p.length-1;w++){g=l[w];var x=p[w],S=1/c[w],E=x+p[w+1]-g-g;b.push((g-x-E)*S),_.push(E*S*S)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=b,this.c3s=_}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,u=0,c=o.length-1;u<=c;){var l=t[s=Math.floor(.5*(u+c))];if(l<e)u=s+1;else{if(!(l>e))return n[s];c=s-1}}var f=e-t[a=Math.max(0,c)],p=f*f;return n[a]+r[a]*f+i[a]*p+o[a]*f*p}}])&&c(t.prototype,n),r&&c(t,r),e}();function f(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function p(e){return{x:e.clientX,y:e.clientY}}function h(e,t,n,r,i){var o=function(e){var t;return"IMG"===e.nodeName&&(s()||!(null===(t=document.documentElement)||void 0===t?void 0:t.contains(e)))}(t),a=f(o?e:t),c={x:n.x-a.x,y:n.y-a.y},p=e.offsetWidth,h=e.offsetHeight,d=r.anchorX,m=r.anchorY,v=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return u()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,t,p,h),y=v.dragPreviewWidth,g=v.dragPreviewHeight,b=i.offsetX,_=i.offsetY,w=0===_||_;return{x:0===b||b?b:new l([0,.5,1],[c.x,c.x/p*y,c.x+y-p]).interpolate(d),y:w?_:function(){var e=new l([0,.5,1],[c.y,c.y/h*g,c.y+g-h]).interpolate(m);return u()&&o&&(e+=(window.devicePixelRatio-1)*g),e}()}}var d,m="__NATIVE_FILE__",v="__NATIVE_URL__",y="__NATIVE_TEXT__";function g(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=(b(d={},m,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),b(d,v,{exposeProperties:{urls:function(e,t){return g(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),b(d,y,{exposeProperties:{text:function(e,t){return g(e,t,"")}},matchesTypes:["Text","text/plain"]}),d);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&w(t.prototype,n),r&&w(t,r),e}();function S(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(_).filter((function(e){return _[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&E(t.prototype,n),r&&E(t,r),e}();function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){var t=r.sourceNodes.get(e);return t&&f(t)||null},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.currentNativeHandle&&r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return Boolean(e&&r.document&&r.document.body&&document.body.contains(e))},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=p(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var i=e.dataTransfer,o=S(i);if(r.monitor.isDragging()){if(i&&"function"===typeof i.setDragImage){var a=r.monitor.getSourceId(),s=r.sourceNodes.get(a),u=r.sourcePreviewNodes.get(a)||s;if(u){var c=r.getCurrentSourcePreviewNodeOptions(),l=h(s,u,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});i.setDragImage(u,l.x,l.y)}}try{null===i||void 0===i||i.setData("application/json",{})}catch(f){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(o)r.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=e.dataTransfer,n=S(t);n&&r.beginDragNativeItem(n,t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;(r.dragEnterTargetIds=[],r.monitor.isDragging())&&(r.altKeyPressed=e.altKey,s()||r.actions.hover(t,{clientOffset:p(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:p(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){var t;(r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem())&&(null===(t=r.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:p(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new O(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new a(this.isNodeInDocument)}var t,n,i;return t=e,(n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return M({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return M({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new x(_[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&A(t.prototype,n),i&&A(t,i),e}(),k=function(e,t){return new C(e,t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"__DO_NOT_USE__ActionTypes",(function(){return o})),n.d(t,"applyMiddleware",(function(){return v})),n.d(t,"bindActionCreators",(function(){return f})),n.d(t,"combineReducers",(function(){return c})),n.d(t,"compose",(function(){return m})),n.d(t,"createStore",(function(){return s}));var r=n(119),i=function(){return Math.random().toString(36).substring(7).split("").join(".")},o={INIT:"@@redux/INIT"+i(),REPLACE:"@@redux/REPLACE"+i(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+i()}};function a(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function s(e,t,n){var i;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function.");if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(s)(e,t)}if("function"!==typeof e)throw new Error("Expected the reducer to be a function.");var u=e,c=t,l=[],f=l,p=!1;function h(){f===l&&(f=l.slice())}function d(){if(p)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return c}function m(e){if("function"!==typeof e)throw new Error("Expected the listener to be a function.");if(p)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribelistener for more details.");var t=!0;return h(),f.push(e),function(){if(t){if(p)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribelistener for more details.");t=!1,h();var n=f.indexOf(e);f.splice(n,1),l=null}}}function v(e){if(!a(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,c=u(c,e)}finally{p=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}function y(e){if("function"!==typeof e)throw new Error("Expected the nextReducer to be a function.");u=e,v({type:o.REPLACE})}function g(){var e,t=m;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(d())}return n(),{unsubscribe:t(n)}}})[r.a]=function(){return this},e}return v({type:o.INIT}),(i={dispatch:v,subscribe:m,getState:d,replaceReducer:y})[r.a]=g,i}function u(e,t){var n=t&&t.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:o.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:o.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+o.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')}))}(n)}catch(c){a=c}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},o=0;o<s.length;o++){var c=s[o],l=n[c],f=e[c],p=l(f,t);if("undefined"===typeof p){var h=u(c,t);throw new Error(h)}i[c]=p,r=r||p!==f}return(r=r||s.length!==Object.keys(e).length)?i:e}}function l(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"===typeof e)return l(e,t);if("object"!==typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');var n={};for(var r in e){var i=e[r];"function"===typeof i&&(n[r]=l(i,t))}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){var n=Object.keys(e);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(e)),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(n,!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=t.map((function(e){return e(i)}));return d({},n,{dispatch:r=m.apply(void 0,o)(n.dispatch)})}}}},function(e,t,n){"use strict";function r(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function i(e){return(t=e)&&t.prototype&&"function"===typeof t.prototype.render||function(e){var t;return"Symbol(react.forward_ref)"===(null===e||void 0===e||null===(t=e.$$typeof)||void 0===t?void 0:t.toString())}(e);var t}function o(e,t){}n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return o}))},function(e,t,n){"use strict";var r=n(59),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var i=h(n);i&&i!==d&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),m=u(n),v=0;v<a.length;++v){var y=a[v];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var g=p(n,y);try{c(t,y,g)}catch(b){}}}}return t}},function(e,t,n){e.exports=n(238)},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";e.exports=n(235)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(79);function i(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(5);var r=n(0),i=n.n(r),o=i.a.createContext({});o.Consumer,o.Provider;function a(e,t){var n=Object(r.useContext)(o);return e||n[t]||t}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(69),i=n(85);function o(e,t,n){return(o=Object(i.a)()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&Object(r.a)(o,n.prototype),o}).apply(null,arguments)}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return Ie})),n.d(t,"b",(function(){return Be}));var r=n(0),i=n(54),o="dnd-core/INIT_COORDS",a="dnd-core/BEGIN_DRAG",s="dnd-core/PUBLISH_DRAG_SOURCE",u="dnd-core/HOVER",c="dnd-core/DROP",l="dnd-core/END_DRAG",f=function(e,t){return e===t};function p(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case o:case a:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case u:return p(e.clientOffset,n.clientOffset)?e:m(m({},e),{},{clientOffset:n.clientOffset});case l:case c:return y;default:return e}}var b="dnd-core/ADD_SOURCE",_="dnd-core/ADD_TARGET",w="dnd-core/REMOVE_SOURCE",x="dnd-core/REMOVE_TARGET";function S(e){return(S="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function O(e,t){return e.filter((function(e){return e!==t}))}function T(e){return"object"===S(e)}function M(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case a:return A(A({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case s:return A(A({},e),{},{isSourcePublic:!0});case u:return A(A({},e),{},{targetIds:n.targetIds});case x:return-1===e.targetIds.indexOf(n.targetId)?e:A(A({},e),{},{targetIds:O(e.targetIds,n.targetId)});case c:return A(A({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case l:return A(A({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:case _:return e+1;case w:case x:return e-1;default:return e}}var D=[],N=[];function L(e,t){return e!==D&&(e===N||"undefined"===typeof t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function I(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case u:break;case b:case _:case x:case w:return D;case a:case s:case l:case c:default:return N}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,f=M(r,o),p=f.length>0||!h(r,o);if(!p)return D;var d=o[o.length-1],m=r[r.length-1];return d!==m&&(d&&f.push(d),m&&f.push(m)),f}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:I(e.dirtyHandlerIds,{type:t.type,payload:U(U({},t.payload),{},{prevTargetIds:E(e,"dragOperation.targetIds",[])})}),dragOffset:g(e.dragOffset,t),refCount:R(e.refCount,t),dragOperation:j(e.dragOperation,t),stateId:B(e.stateId)}}D.__IS_NONE__=!0,N.__IS_ALL__=!0;var H=n(9);function $(e,t){return{type:o,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}var G={type:o,payload:{clientOffset:null,sourceClientOffset:null}};function W(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,s=n.getSourceClientOffset,u=e.getMonitor(),c=e.getRegistry();e.dispatch($(o)),q(t,u,c);var l=Z(t,u);if(null!==l){var f=null;if(o){if(!s)throw new Error("getSourceClientOffset must be defined");Y(s),f=s(l)}e.dispatch($(o,f));var p=c.getSource(l),h=p.beginDrag(u,l);X(h),c.pinSource(l);var d=c.getSourceType(l);return{type:a,payload:{itemType:d,item:h,sourceId:l,clientOffset:o||null,sourceClientOffset:f||null,isSourcePublic:!!i}}}e.dispatch(G)}}function q(e,t,n){Object(H.a)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){Object(H.a)(n.getSource(e),"Expected sourceIds to be registered.")}))}function Y(e){Object(H.a)("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function X(e){Object(H.a)(T(e),"Item must be an object.")}function Z(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function Q(e){return function(){if(e.getMonitor().isDragging())return{type:s}}}function K(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function J(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;ee(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();te(i,o,a);var s=o.getItemType();return ne(i,a,s),re(i,o,a),{type:u,payload:{targetIds:i,clientOffset:r||null}}}}function ee(e){Object(H.a)(Array.isArray(e),"Expected targetIds to be an array.")}function te(e,t,n){Object(H.a)(t.isDragging(),"Cannot call hover while not dragging."),Object(H.a)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];Object(H.a)(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);Object(H.a)(o,"Expected targetIds to be registered.")}}function ne(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];K(t.getTargetType(i),n)||e.splice(r,1)}}function re(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function se(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();ue(n);var i=le(n);i.forEach((function(i,o){var a=ce(i,o,r,n),s={type:c,payload:{dropResult:oe(oe({},t),a)}};e.dispatch(s)}))}}function ue(e){Object(H.a)(e.isDragging(),"Cannot call drop while not dragging."),Object(H.a)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ce(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){Object(H.a)("undefined"===typeof e||T(e),"Drop result must either be an object or undefined.")}(o),"undefined"===typeof o&&(o=0===t?{}:r.getDropResult()),o}function le(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function fe(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){Object(H.a)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:l}}}function pe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var de,me=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;Object(H.a)("function"===typeof e,"listener must be a function."),Object(H.a)("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!L(n.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;Object(H.a)("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return Object(H.a)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return Object(H.a)(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&K(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return Object(H.a)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!K(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,n,r=e.clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset;return r&&i&&o?pe((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?pe(t,n):null}(this.store.getState().dragOffset)}}])&&he(t.prototype,n),r&&he(t,r),e}(),ve=0;function ye(e){return(ye="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ge(e,t){t&&Array.isArray(e)?e.forEach((function(e){return ge(e,!1)})):Object(H.a)("string"===typeof e||"symbol"===ye(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(de||(de={}));var be=n(122),_e=[],we=[],xe=be.a.makeRequestCallFromTimer((function(){if(we.length)throw we.shift()}));function Se(e){var t;(t=_e.length?_e.pop():new Ee).task=e,Object(be.a)(t)}var Ee=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){Se.onerror?Se.onerror(e):(we.push(e),xe())}finally{this.task=null,_e[_e.length]=this}},e}();function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Me(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pe(e){var t=(ve++).toString();switch(e){case de.SOURCE:return"S".concat(t);case de.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Ae(e){switch(e[0]){case"S":return de.SOURCE;case"T":return de.TARGET;default:Object(H.a)(!1,"Cannot parse handler ID: ".concat(e))}}function Ce(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(Te(i.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var ke=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,r;return t=e,(n=[{key:"addSource",value:function(e,t){ge(e),function(e){Object(H.a)("function"===typeof e.canDrag,"Expected canDrag to be a function."),Object(H.a)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),Object(H.a)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(de.SOURCE,e,t);return this.store.dispatch(function(e){return{type:b,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){ge(e,!0),function(e){Object(H.a)("function"===typeof e.canDrop,"Expected canDrop to be a function."),Object(H.a)("function"===typeof e.hover,"Expected hover to be a function."),Object(H.a)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(de.TARGET,e,t);return this.store.dispatch(function(e){return{type:_,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Ce(this.dragSources,e)||Ce(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(H.a)(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return Object(H.a)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return Object(H.a)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return Object(H.a)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Ae(e)===de.SOURCE}},{key:"isTargetId",value:function(e){return Ae(e)===de.TARGET}},{key:"removeSource",value:function(e){var t=this;Object(H.a)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:w,payload:{sourceId:e}}}(e)),Se((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){Object(H.a)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:x,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);Object(H.a)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){Object(H.a)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=Pe(e);return this.types.set(r,t),e===de.SOURCE?this.dragSources.set(r,n):e===de.TARGET&&this.dropTargets.set(r,n),r}}])&&Oe(t.prototype,n),r&&Oe(t,r),e}();function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(i.createStore)(V,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Ne=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];je(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=De(n);this.store=r,this.monitor=new me(r,new ke(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:W(e),publishDragSource:Q(e),hover:J(e),drop:se(e),endDrag:fe(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);"undefined"!==typeof a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Re(t.prototype,n),r&&Re(t,r),e}();function Le(e,t,n,r){var i=new Ne(r),o=e(i,t,n);return i.receiveBackend(o),i}var Ie=r.createContext({dragDropManager:void 0});function Be(e,t,n,r){return{dragDropManager:Le(e,t,n,r)}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=n(58),i=n(154),o=(n(116),n(152),Object.prototype.hasOwnProperty),a=n(155),s={key:!0,ref:!0,__self:!0,__source:!0};function u(e){return void 0!==e.ref}function c(e){return void 0!==e.key}var l=function(e,t,n,r,i,o,s){return{$$typeof:a,type:e,key:t,ref:n,props:s,_owner:o}};l.createElement=function(e,t,n){var r,a={},f=null,p=null;if(null!=t)for(r in u(t)&&(p=t.ref),c(t)&&(f=""+t.key),void 0===t.__self?null:t.__self,void 0===t.__source?null:t.__source,t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);var h=arguments.length-2;if(1===h)a.children=n;else if(h>1){for(var d=Array(h),m=0;m<h;m++)d[m]=arguments[m+2];0,a.children=d}if(e&&e.defaultProps){var v=e.defaultProps;for(r in v)void 0===a[r]&&(a[r]=v[r])}return l(e,f,p,0,0,i.current,a)},l.createFactory=function(e){var t=l.createElement.bind(null,e);return t.type=e,t},l.cloneAndReplaceKey=function(e,t){return l(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},l.cloneElement=function(e,t,n){var a,f,p=r({},e.props),h=e.key,d=e.ref,m=(e._self,e._source,e._owner);if(null!=t)for(a in u(t)&&(d=t.ref,m=i.current),c(t)&&(h=""+t.key),e.type&&e.type.defaultProps&&(f=e.type.defaultProps),t)o.call(t,a)&&!s.hasOwnProperty(a)&&(void 0===t[a]&&void 0!==f?p[a]=f[a]:p[a]=t[a]);var v=arguments.length-2;if(1===v)p.children=n;else if(v>1){for(var y=Array(v),g=0;g<v;g++)y[g]=arguments[g+2];p.children=y}return l(e.type,h,d,0,0,m,p)},l.isValidElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===a},e.exports=l},function(e,t,n){"use strict";e.exports=n(233)},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function i(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}))},,,,function(e,t,n){e.exports=n(278)},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(14),i=n(29),o=(n(40),n(0)),a=n.n(o),s=n(51),u=n.n(s),c=!1,l=a.a.createContext(null),f="entering",p="entered",h=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i="exited",r.appearStatus=f):i=p:i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",r.state={status:i},r.nextCallback=null,r}Object(i.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==f&&n!==p&&(t=f):n!==f&&n!==p||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===f?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[u.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||c?this.safeSetState({status:p},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:f},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:p},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:u.a.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:u.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return a.a.createElement(l.Provider,{value:null},"function"===typeof n?n(e,i):a.a.cloneElement(a.a.Children.only(n),i))},t}(a.a.Component);function d(){}h.contextType=l,h.propTypes={},h.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},h.UNMOUNTED="unmounted",h.EXITED="exited",h.ENTERING=f,h.ENTERED=p,h.EXITING="exiting";t.c=h},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return null!==e&&"object"===r(e)&&Object.prototype.hasOwnProperty.call(e,"current")}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";e.exports=function(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}},,function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(255))&&r.__esModule?r:{default:r},o=n(268);var a=i.default[i.default.length-1],s=(0,o.createReactPlayer)(i.default,a);t.default=s},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return"string"===typeof e||"symbol"===r(e)||!!t&&Array.isArray(e)&&e.every((function(e){return i(e,!1)}))}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(113),i=n(80),o=n(52);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Object(r.a)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,Object(i.a)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,Object(i.a)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,s;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Object(o.a)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Object(o.a)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&a(t.prototype,n),s&&a(t,s),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(9);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=!1,a=!1,s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,s;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){Object(r.a)(!o,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return o=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{o=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;Object(r.a)(!a,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return a=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{a=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&i(t.prototype,n),s&&i(t,s),e}()},,function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){var r;"undefined"!==typeof self&&self,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s=10)}([function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,r,i,o,a,s,u){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[r,i,o,a,s,u],f=0;(c=new Error(t.replace(/%s/g,(function(){return l[f++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(t,n(0))},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";(function(t){var r=n(1);if("production"!==t.env.NODE_ENV){var i=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!==typeof console&&console.error(o);try{throw new Error(o)}catch(a){}};r=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];i.apply(void 0,[t].concat(r))}}}e.exports=r}).call(t,n(0))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(t){"production"===t.env.NODE_ENV?e.exports=n(12):e.exports=n(13)}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var n={};"production"!==t.env.NODE_ENV&&Object.freeze(n),e.exports=n}).call(t,n(0))},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var r=n(2),i=n(4),o=n(5),a={};e.exports=function(e,n,s,u,c){if("production"!==t.env.NODE_ENV)for(var l in e)if(e.hasOwnProperty(l)){var f;try{r("function"===typeof e[l],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",u||"React class",s,l,typeof e[l]),f=e[l](n,l,u,s,null,o)}catch(h){f=h}if(i(!f||f instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",u||"React class",s,l,typeof f),f instanceof Error&&!(f.message in a)){a[f.message]=!0;var p=c?c():"";i(!1,"Failed %s type: %s%s",s,f.message,null!=p?p:"")}}}}).call(t,n(0))},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(14)((function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}),!0)}else e.exports=n(15)()}).call(t,n(0))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(11),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),o=u(i),a=u(n(9)),s=u(n(16));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.values=Array(e.length).fill("").map((function(t,n){return e.initialValue.toString()[n]||""})),n.elements=[],n.currentIndex=0,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.focus&&this.props.length&&this.elements[0].focus()}},{key:"clear",value:function(){this.elements.forEach((function(e){return e.clear()})),this.values=this.values.map((function(){})),this.elements[0].focus()}},{key:"focus",value:function(){this.props.length&&this.elements[0].focus()}},{key:"onItemChange",value:function(e,t){var n=this.props,r=n.length,i=n.onComplete,o=n.onChange,a=t;this.values[t]=e,1===e.length&&t<r-1&&(a+=1,this.elements[a].focus());var s=this.values.join("");o(s,a),s.length===r&&i(s,a)}},{key:"onBackspace",value:function(e){e>0&&this.elements[e-1].focus()}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{style:this.props.style,className:"pincode-input-container"},this.values.map((function(t,n){return o.default.createElement(s.default,{initialValue:t,ref:function(t){return e.elements[n]=t},key:n,disabled:e.props.disabled,onBackspace:function(){return e.onBackspace(n)},secret:e.props.secret||!1,onChange:function(t){return e.onItemChange(t,n)},type:e.props.type,inputMode:e.props.inputMode,validate:e.props.validate,inputStyle:e.props.inputStyle,inputFocusStyle:e.props.inputFocusStyle})})))}}]),t}(i.Component);c.propTypes={initialValue:a.default.oneOfType([a.default.string,a.default.number]),length:a.default.number.isRequired,type:a.default.string,onComplete:a.default.func,validate:a.default.func,secret:a.default.bool,disabled:a.default.bool,focus:a.default.bool,onChange:a.default.func,inputMode:a.default.string,style:a.default.object,inputStyle:a.default.object,inputFocusStyle:a.default.object},c.defaultProps={initialValue:"",type:"numeric",secret:!1,validate:null,focus:!1,disabled:!1,onChange:function(){},onComplete:function(){},inputMode:void 0,style:{},inputStyle:{},inputFocusStyle:{}},t.default=c},function(e,t,n){"use strict";var r=n(3),i=n(7),o=n(1),a="function"===typeof Symbol&&Symbol.for,s=a?Symbol.for("react.element"):60103,u=a?Symbol.for("react.call"):60104,c=a?Symbol.for("react.return"):60105,l=a?Symbol.for("react.portal"):60106,f=a?Symbol.for("react.fragment"):60107,p="function"===typeof Symbol&&Symbol.iterator;function h(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);throw(t=Error(n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.")).name="Invariant Violation",t.framesToPop=1,t}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function m(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||d}function v(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||d}function y(){}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&h("85"),this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var g=v.prototype=new y;function b(e,t,n){this.props=e,this.context=t,this.refs=i,this.updater=n||d}g.constructor=v,r(g,m.prototype),g.isPureReactComponent=!0;var _=b.prototype=new y;_.constructor=b,r(_,m.prototype),_.unstable_isAsyncReactComponent=!0,_.render=function(){return this.props.children};var w={current:null},x=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,i={},o=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,r)&&!S.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:s,type:e,key:o,ref:a,props:i,_owner:w.current}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===s}var T=/\/+/g,M=[];function P(e,t,n,r){if(M.length){var i=M.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>M.length&&M.push(e)}function C(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case s:case u:case c:case l:o=!0}}if(o)return n(r,e,""===t?"."+k(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var f=t+k(i=e[a],a);o+=C(i,f,n,r)}else if("function"===typeof(f=null===e||"undefined"===typeof e?null:"function"===typeof(f=p&&e[p]||e["@@iterator"])?f:null))for(e=f.call(e),a=0;!(i=e.next()).done;)o+=C(i=i.value,f=t+k(i,a++),n,r);else"object"===i&&h("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function j(e,t){e.func.call(e.context,t,e.count++)}function R(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?D(e,r,n,o.thatReturnsArgument):null!=e&&(O(e)&&(t=i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(T,"$&/")+"/")+n,e={$$typeof:s,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),r.push(e))}function D(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(T,"$&/")+"/"),t=P(t,o,r,i),null==e||C(e,"",R,t),A(t)}var N={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return D(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;t=P(null,null,t,n),null==e||C(e,"",j,t),A(t)},count:function(e){return null==e?0:C(e,"",o.thatReturnsNull,null)},toArray:function(e){var t=[];return D(e,t,null,o.thatReturnsArgument),t},only:function(e){return O(e)||h("143"),e}},Component:m,PureComponent:v,unstable_AsyncComponent:b,Fragment:f,createElement:E,cloneElement:function(e,t,n){var i=r({},e.props),o=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:s,type:e.type,key:o,ref:a,props:i,_owner:u}},createFactory:function(e){var t=E.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:w,assign:r}},L=Object.freeze({default:N}),I=L&&N||L;e.exports=I.default?I.default:I},function(e,t,n){"use strict";(function(t){"production"!==t.env.NODE_ENV&&function(){var t=n(3),r=n(7),i=n(2),o=n(4),a=n(1),s=n(8),u="function"===typeof Symbol&&Symbol.for,c=u?Symbol.for("react.element"):60103,l=u?Symbol.for("react.call"):60104,f=u?Symbol.for("react.return"):60105,p=u?Symbol.for("react.portal"):60106,h=u?Symbol.for("react.fragment"):60107,d="function"===typeof Symbol&&Symbol.iterator;function m(e){if(null===e||"undefined"===typeof e)return null;var t=d&&e[d]||e["@@iterator"];return"function"===typeof t?t:null}var v=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0,o="Warning: "+e.replace(/%s/g,(function(){return n[i++]}));"undefined"!==typeof console&&console.warn(o);try{throw new Error(o)}catch(a){}},y=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(!e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];v.apply(void 0,[t].concat(r))}},g={};function b(e,t){var n=e.constructor,r=n&&(n.displayName||n.name)||"ReactClass",i=r+"."+t;g[i]||(o(!1,"%s(...): Can only update a mounted or mounting component. This usually means you called %s() on an unmounted component. This is a no-op.\n\nPlease check the code for the %s component.",t,t,r),g[i]=!0)}var _={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){b(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,r){b(e,"replaceState")},enqueueSetState:function(e,t,n,r){b(e,"setState")}};function w(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||_}w.prototype.isReactComponent={},w.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&i(!1,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."),this.updater.enqueueSetState(this,e,t,"setState")},w.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};var x={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},S=function(e,t){Object.defineProperty(w.prototype,e,{get:function(){y(!1,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var E in x)x.hasOwnProperty(E)&&S(E,x[E]);function O(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||_}function T(){}T.prototype=w.prototype;var M=O.prototype=new T;function P(e,t,n){this.props=e,this.context=t,this.refs=r,this.updater=n||_}M.constructor=O,t(M,w.prototype),M.isPureReactComponent=!0;var A=P.prototype=new T;A.constructor=P,t(A,w.prototype),A.unstable_isAsyncReactComponent=!0,A.render=function(){return this.props.children};var C,k,j={current:null},R=Object.prototype.hasOwnProperty,D={key:!0,ref:!0,__self:!0,__source:!0};function N(e){if(R.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return void 0!==e.ref}function L(e){if(R.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return void 0!==e.key}function I(e,t){var n=function(){C||(C=!0,o(!1,"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function B(e,t){var n=function(){k||(k=!0,o(!1,"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://fb.me/react-special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}var F=function(e,t,n,r,i,o,a){var s={$$typeof:c,type:e,key:t,ref:n,props:a,_owner:o,_store:{}};return Object.defineProperty(s._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(s,"_self",{configurable:!1,enumerable:!1,writable:!1,value:r}),Object.defineProperty(s,"_source",{configurable:!1,enumerable:!1,writable:!1,value:i}),Object.freeze&&(Object.freeze(s.props),Object.freeze(s)),s};function U(e,t,n){var r,i={},o=null,a=null,s=null,u=null;if(null!=t)for(r in N(t)&&(a=t.ref),L(t)&&(o=""+t.key),s=void 0===t.__self?null:t.__self,u=void 0===t.__source?null:t.__source,t)R.call(t,r)&&!D.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(l>1){for(var f=Array(l),p=0;p<l;p++)f[p]=arguments[p+2];Object.freeze&&Object.freeze(f),i.children=f}if(e&&e.defaultProps){var h=e.defaultProps;for(r in h)void 0===i[r]&&(i[r]=h[r])}if((o||a)&&("undefined"===typeof i.$$typeof||i.$$typeof!==c)){var d="function"===typeof e?e.displayName||e.name||"Unknown":e;o&&I(i,d),a&&B(i,d)}return F(e,o,a,s,u,j.current,i)}function z(e,n,r){var i,o,a=t({},e.props),s=e.key,u=e.ref,c=e._self,l=e._source,f=e._owner;if(null!=n)for(i in N(n)&&(u=n.ref,f=j.current),L(n)&&(s=""+n.key),e.type&&e.type.defaultProps&&(o=e.type.defaultProps),n)R.call(n,i)&&!D.hasOwnProperty(i)&&(void 0===n[i]&&void 0!==o?a[i]=o[i]:a[i]=n[i]);var p=arguments.length-2;if(1===p)a.children=r;else if(p>1){for(var h=Array(p),d=0;d<p;d++)h[d]=arguments[d+2];a.children=h}return F(e.type,s,u,c,l,f,a)}function V(e){return"object"===typeof e&&null!==e&&e.$$typeof===c}var H={getCurrentStack:null,getStackAddendum:function(){var e=H.getCurrentStack;return e?e():null}},$=!1,G=/\/+/g;function W(e){return(""+e).replace(G,"$&/")}var q=[];function Y(e,t,n,r){if(q.length){var i=q.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function X(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,q.length<10&&q.push(e)}function Z(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u,h=!1;if(null===t)h=!0;else switch(s){case"string":case"number":h=!0;break;case"object":switch(t.$$typeof){case c:case l:case f:case p:h=!0}}if(h)return r(a,t,""===n?"."+Q(t,0):n),1;var d=0,v=""===n?".":n+":";if(Array.isArray(t))for(var y=0;y<t.length;y++)d+=e(u=t[y],v+Q(u,y),r,a);else{var g=m(t);if("function"===typeof g){g===t.entries&&(o($,"Using Maps as children is unsupported and will likely yield unexpected results. Convert it to a sequence/iterable of keyed ReactElements instead.%s",H.getStackAddendum()),$=!0);for(var b,_=g.call(t),w=0;!(b=_.next()).done;)d+=e(u=b.value,v+Q(u,w++),r,a)}else if("object"===s){var x;x=" If you meant to render a collection of children, use an array instead."+H.getStackAddendum();var S=""+t;i(!1,"Objects are not valid as a React child (found: %s).%s","[object Object]"===S?"object with keys {"+Object.keys(t).join(", ")+"}":S,x)}}return d}(e,"",t,n)}function Q(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function K(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function J(e,t,n){var r,i,o=e.result,s=e.keyPrefix,u=e.func,c=e.context,l=u.call(c,t,e.count++);Array.isArray(l)?ee(l,o,n,a.thatReturnsArgument):null!=l&&(V(l)&&(r=l,i=s+(!l.key||t&&t.key===l.key?"":W(l.key)+"/")+n,l=F(r.type,i,r.ref,r._self,r._source,r._owner,r.props)),o.push(l))}function ee(e,t,n,r,i){var o="";null!=n&&(o=W(n)+"/");var a=Y(t,o,r,i);Z(e,J,a),X(a)}function te(e){var t=e.type;return"string"===typeof t?t:"function"===typeof t?t.displayName||t.name:null}var ne=null,re=!1,ie=function(){var e,t="";if(ne){var n=null==(e=ne)?"#empty":"string"===typeof e||"number"===typeof e?"#text":"string"===typeof e.type?e.type:e.type===h?"React.Fragment":e.type.displayName||e.type.name||"Unknown",r=ne._owner;t+=function(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}(n,ne._source,r&&te(r))}return t+=H.getStackAddendum()||""},oe=new Map([["children",!0],["key",!0]]);function ae(){if(j.current){var e=te(j.current);if(e)return"\n\nCheck the render method of `"+e+"`."}return""}function se(e){if(null!==e&&void 0!==e&&void 0!==e.__source){var t=e.__source;return"\n\nCheck your code at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+"."}return""}var ue={};function ce(e,t){if(e._store&&!e._store.validated&&null==e.key){e._store.validated=!0;var n=function(e){var t=ae();if(!t){var n="string"===typeof e?e:e.displayName||e.name;n&&(t="\n\nCheck the top-level render call using <"+n+">.")}return t}(t);if(!ue[n]){ue[n]=!0;var r="";e&&e._owner&&e._owner!==j.current&&(r=" It was passed a child from "+te(e._owner)+"."),ne=e,o(!1,'Each child in an array or iterator should have a unique "key" prop.%s%s See https://fb.me/react-warning-keys for more information.%s',n,r,ie()),ne=null}}}function le(e,t){if("object"===typeof e)if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];V(r)&&ce(r,t)}else if(V(e))e._store&&(e._store.validated=!0);else if(e){var i=m(e);if("function"===typeof i&&i!==e.entries)for(var o,a=i.call(e);!(o=a.next()).done;)V(o.value)&&ce(o.value,t)}}function fe(e){var t=e.type;if("function"===typeof t){var n=t.displayName||t.name,r=t.propTypes;r?(ne=e,s(r,e.props,"prop",n,ie),ne=null):void 0===t.PropTypes||re||(re=!0,o(!1,"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",n||"Unknown")),"function"===typeof t.getDefaultProps&&o(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function pe(e){ne=e;var t=!0,n=!1,r=void 0;try{for(var i,a=Object.keys(e.props)[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var s=i.value;if(!oe.has(s)){o(!1,"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.%s",s,ie());break}}}catch(u){n=!0,r=u}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}null!==e.ref&&o(!1,"Invalid attribute `ref` supplied to `React.Fragment`.%s",ie()),ne=null}function he(e,t,n){var r="string"===typeof e||"function"===typeof e||"symbol"===typeof e||"number"===typeof e;if(!r){var i="";(void 0===e||"object"===typeof e&&null!==e&&0===Object.keys(e).length)&&(i+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var a=se(t);i+=a||ae(),i+=ie()||"",o(!1,"React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",null==e?e:typeof e,i)}var s=U.apply(this,arguments);if(null==s)return s;if(r)for(var u=2;u<arguments.length;u++)le(arguments[u],e);return"symbol"===typeof e&&e===h?pe(s):fe(s),s}var de={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return ee(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;var r=Y(null,null,t,n);Z(e,K,r),X(r)},count:function(e,t){return Z(e,a.thatReturnsNull,null)},toArray:function(e){var t=[];return ee(e,t,null,a.thatReturnsArgument),t},only:function(e){return V(e)||i(!1,"React.Children.only expected to receive a single React element child."),e}},Component:w,PureComponent:O,unstable_AsyncComponent:P,Fragment:h,createElement:he,cloneElement:function(e,t,n){for(var r=z.apply(this,arguments),i=2;i<arguments.length;i++)le(arguments[i],r.type);return fe(r),r},createFactory:function(e){var t=he.bind(null,e);return t.type=e,Object.defineProperty(t,"type",{enumerable:!1,get:function(){return y(!1,"Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t},isValidElement:V,version:"16.2.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:j,assign:t}};t(de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,{ReactDebugCurrentFrame:H,ReactComponentTreeHook:{}});var me=Object.freeze({default:de}),ve=me&&de||me,ye=ve.default?ve.default:ve;e.exports=ye}()}).call(t,n(0))},function(e,t,n){"use strict";(function(t){var r=n(1),i=n(2),o=n(4),a=n(3),s=n(5),u=n(8);e.exports=function(e,n){var c="function"===typeof Symbol&&Symbol.iterator,l={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:p(r.thatReturnsNull),arrayOf:function(e){return p((function(t,n,r,i,o){if("function"!==typeof e)return new f("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new f("Invalid "+i+" `"+o+"` of type `"+m(a)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<a.length;u++){var c=e(a,u,r,i,o+"["+u+"]",s);if(c instanceof Error)return c}return null}))},element:p((function(t,n,r,i,o){var a=t[n];return e(a)?null:new f("Invalid "+i+" `"+o+"` of type `"+m(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),instanceOf:function(e){return p((function(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||"<<anonymous>>";return new f("Invalid "+i+" `"+o+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:"<<anonymous>>")+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}var s;return null}))},node:p((function(e,t,n,r,i){return d(e[t])?null:new f("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return p((function(t,n,r,i,o){if("function"!==typeof e)return new f("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=t[n],u=m(a);if("object"!==u)return new f("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var l=e(a,c,r,i,o+"."+c,s);if(l instanceof Error)return l}return null}))},oneOf:function(e){return Array.isArray(e)?p((function(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(u=a,c=e[s],u===c?0!==u||1/u===1/c:u!==u&&c!==c)return null;var u,c;return new f("Invalid "+i+" `"+o+"` of value `"+a+"` supplied to `"+r+"`, expected one of "+JSON.stringify(e)+".")})):("production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),r.thatReturnsNull)},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),r.thatReturnsNull;for(var n=0;n<e.length;n++){var i=e[n];if("function"!==typeof i)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",y(i),n),r.thatReturnsNull}return p((function(t,n,r,i,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,r,i,o,s))return null;return new f("Invalid "+i+" `"+o+"` supplied to `"+r+"`.")}))},shape:function(e){return p((function(t,n,r,i,o){var a=t[n],u=m(a);if("object"!==u)return new f("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var p=l(a,c,r,i,o+"."+c,s);if(p)return p}}return null}))},exact:function(e){return p((function(t,n,r,i,o){var u=t[n],c=m(u);if("object"!==c)return new f("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var l=a({},t[n],e);for(var p in l){var h=e[p];if(!h)return new f("Invalid "+i+" `"+o+"` key `"+p+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=h(u,p,r,i,o+"."+p,s);if(d)return d}return null}))}};function f(e){this.message=e,this.stack=""}function p(e){if("production"!==t.env.NODE_ENV)var r={},a=0;function u(u,c,l,p,h,d,m){if(p=p||"<<anonymous>>",d=d||l,m!==s)if(n)i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!==typeof console){var v=p+":"+l;!r[v]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",d,p),r[v]=!0,a++)}return null==c[l]?u?null===c[l]?new f("The "+h+" `"+d+"` is marked as required in `"+p+"`, but its value is `null`."):new f("The "+h+" `"+d+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(c,l,p,h,d)}var c=u.bind(null,!1);return c.isRequired=u.bind(null,!0),c}function h(e){return p((function(t,n,r,i,o,a){var s=t[n];return m(s)!==e?new f("Invalid "+i+" `"+o+"` of type `"+v(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||e(t))return!0;var n=function(e){var t=e&&(c&&e[c]||e["@@iterator"]);if("function"===typeof t)return t}(t);if(!n)return!1;var r,i=n.call(t);if(n!==t.entries){for(;!(r=i.next()).done;)if(!d(r.value))return!1}else for(;!(r=i.next()).done;){var o=r.value;if(o&&!d(o[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function v(e){if("undefined"===typeof e||null===e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,l.checkPropTypes=u,l.PropTypes=l,l}}).call(t,n(0))},function(e,t,n){"use strict";var r=n(1),i=n(2),o=n(5);e.exports=function(){function e(e,t,n,r,a,s){s!==o&&i(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(6),o=s(i),a=s(n(9));function s(e){return e&&e.__esModule?e:{default:e}}var u={padding:0,margin:"0 2px",textAlign:"center",border:"1px solid",background:"transparent",width:"50px",height:"50px"},c={outline:"none",boxShadow:"none"},l=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.initialValue,focus:!1},n.onChange=n.onChange.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"onKeyDown",value:function(e){8!==e.keyCode||this.state.value&&this.state.value.length||this.props.onBackspace()}},{key:"clear",value:function(){this.setState({value:""})}},{key:"onChange",value:function(e){var t=this,n=this.validate(e.target.value);this.state.value!==n&&n.length<2&&(this.setState({value:n}),setTimeout((function(){t.props.onChange(n)}),0))}},{key:"focus",value:function(){this.input.focus()}},{key:"onFocus",value:function(e){e.target.select(),this.setState({focus:!0})}},{key:"onBlur",value:function(){this.setState({focus:!1})}},{key:"validate",value:function(e){if(this.props.validate)return this.props.validate(e);if("numeric"===this.props.type){var t=e.charCodeAt(0);return t>="0".charCodeAt(0)&&t<="9".charCodeAt(0)?e:""}return e.toUpperCase()}},{key:"render",value:function(){var e=this,t=this.state,n=t.focus,r=t.value,i=this.props,a=i.type,s=i.inputMode,l=i.inputStyle,f=i.inputFocusStyle,p="numeric"===a?"tel":a||"text";return o.default.createElement("input",{disabled:this.props.disabled?"disabled":void 0,className:"pincode-input-text",onChange:this.onChange,onKeyDown:this.onKeyDown,placeholder:r,"aria-label":r,maxLength:"1",autoComplete:"off",type:this.props.secret?"password":p,inputMode:s||"text",pattern:"numeric"===this.props.type?"[0-9]*":"[A-Z0-9]*",ref:function(t){return e.input=t},onFocus:this.onFocus,onBlur:this.onBlur,style:Object.assign({},u,l,n?Object.assign({},c,f):{}),value:r})}}]),t}(i.Component);l.propTypes={initialValue:a.default.string,onChange:a.default.func.isRequired,onBackspace:a.default.func.isRequired,secret:a.default.bool,disabled:a.default.bool,type:a.default.string,inputMode:a.default.string,validate:a.default.func,inputStyle:a.default.object.isRequired,inputFocusStyle:a.default.object.isRequired},l.defaultProps={secret:!1,type:"numeric",inputMode:void 0,validate:void 0},t.default=l}])},e.exports=r()},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(5),i=n(14),o=n(0),a=n.n(o);var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function u(e){return!e||"#"===e.trim()}var c=a.a.forwardRef((function(e,t){var n=e.as,o=void 0===n?"a":n,c=e.disabled,l=e.onKeyDown,f=Object(i.a)(e,["as","disabled","onKeyDown"]),p=function(e){var t=f.href,n=f.onClick;(c||u(t))&&e.preventDefault(),c?e.stopPropagation():n&&n(e)};return u(f.href)&&(f.role=f.role||"button",f.href=f.href||"#"),c&&(f.tabIndex=-1,f["aria-disabled"]=!0),a.a.createElement(o,Object(r.a)({ref:t},f,{onClick:p,onKeyDown:s((function(e){" "===e.key&&(e.preventDefault(),p(e))}),l)}))}));c.displayName="SafeAnchor";t.a=c},function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(0),i=n(52),o=n(9),a=n(56),s=n.n(a),u=n(65),c=n(35);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),e}var h=function(){var e=function(){function e(t){l(this,e),this.isDisposed=!1,this.action=Object(c.a)(t)?t:c.c}return p(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return Boolean(e&&Object(c.a)(e.dispose))}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();return e.empty={dispose:c.c},e}(),d=function(){function e(){l(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return p(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),m=function(){function e(){l(this,e),this.isDisposed=!1}return p(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}(),v=n(55);function y(e){return(y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==y(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e){var t=e.DecoratedComponent,n=e.createHandler,a=e.createMonitor,c=e.createConnector,l=e.registerHandler,f=e.containerDisplayName,p=e.getType,y=e.collect,b=e.options.arePropsEqual,S=void 0===b?i.a:b,E=t,O=t.displayName||t.name||"Component",T=function(){var e=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(T,e);var t,s,f,b=x(T);function T(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,T),(t=b.call(this,e)).decoratedRef=r.createRef(),t.handleChange=function(){var e=t.getCurrentState();Object(i.a)(e,t.state)||t.setState(e)},t.disposable=new m,t.receiveProps(e),t.dispose(),t}return t=T,(s=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return Object(o.a)(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!S(e,this.props)||!Object(i.a)(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new m,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){S(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(p(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=g(l(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new d(new h(i),new h(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?y(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return r.createElement(u.a.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame((function(){var t;return null===(t=e.handlerConnector)||void 0===t?void 0:t.reconnect()})),r.createElement(E,Object.assign({},e.props,e.getCurrentState(),{ref:Object(v.c)(E)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(Object(o.a)(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",O,O),void 0!==e&&(this.manager=e,this.handlerMonitor=a(e),this.handlerConnector=c(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&_(t.prototype,s),f&&_(t,f),T}(r.Component);return e.DecoratedComponent=t,e.displayName="".concat(f,"(").concat(O,")"),e}();return s()(T,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(0),i=n(9);function o(e,t){"function"===typeof e?e(t):e.current=t}function a(e,t){var n=e.ref;return Object(i.a)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?Object(r.cloneElement)(e,{ref:function(e){o(n,e),o(t,e)}}):Object(r.cloneElement)(e,{ref:t})}function s(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function u(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var o=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(r.isValidElement)(t)){var i=t;return e(i,n),i}var o=t;s(o);var u=n?function(t){return e(t,n)}:e;return a(o,u)}}(i);t[n]=function(){return o}}})),t}},,function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(151);e.exports=r},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},,function(e,t,n){"use strict";(function(e,r){var i,o=n(158);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof e?e:r;var a=Object(o.a)(i);t.a=a}).call(this,n(66),n(129)(e))},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),o=n(29),a=n(40),s=n.n(a),u="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:{};function c(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var l=i.a.createContext||function(e,t){var n,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return u[e]=(u[e]||0)+1}()+"__",l=function(e){function n(){var t;return(t=e.apply(this,arguments)||this).emitter=c(t.props.value),t}Object(o.a)(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,i=e.value;((o=r)===(a=i)?0!==o||1/o===1/a:o!==o&&a!==a)?n=0:(n="function"===typeof t?t(r,i):1073741823,0!==(n|=0)&&this.emitter.set(e.value,n))}var o,a},r.render=function(){return this.props.children},n}(r.Component);l.childContextTypes=((n={})[a]=s.a.object.isRequired,n);var f=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}Object(o.a)(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?1073741823:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?1073741823:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return f.contextTypes=((i={})[a]=s.a.object,i),{Provider:l,Consumer:f}};t.a=l}).call(this,n(66))},function(e,t,n){var r=n(236);e.exports=h,e.exports.parse=o,e.exports.compile=function(e,t){return s(o(e,t),t)},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function o(e,t){for(var n,r=[],o=0,a=0,s="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],p=n[1],h=n.index;if(s+=e.slice(a,h),a=h+f.length,p)s+=p[1];else{var d=e[a],m=n[2],v=n[3],y=n[4],g=n[5],b=n[6],_=n[7];s&&(r.push(s),s="");var w=null!=m&&null!=d&&d!==m,x="+"===b||"*"===b,S="?"===b||"*"===b,E=n[2]||l,O=y||g;r.push({name:v||o++,prefix:m||"",delimiter:E,optional:S,repeat:x,partial:w,asterisk:!!_,pattern:O?c(O):_?".*":"[^"+u(E)+"]+?"})}}return a<e.length&&(s+=e.substr(a)),s&&r.push(s),r}function a(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function s(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var o="",s=t||{},u=(i||{}).pretty?a:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,p=s[l.name];if(null==p){if(l.optional){l.partial&&(o+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(p)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var h=0;h<p.length;h++){if(f=u(p[h]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");o+=(0===h?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(p).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):u(p),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');o+=l.prefix+f}}else o+=l}return o}}function u(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,o=!1!==n.end,a="",s=0;s<e.length;s++){var c=e[s];if("string"===typeof c)a+=u(c);else{var p=u(c.prefix),h="(?:"+c.pattern+")";t.push(c),c.repeat&&(h+="(?:"+p+h+")*"),a+=h=c.optional?c.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")"}}var d=u(n.delimiter||"/"),m=a.slice(-d.length)===d;return i||(a=(m?a.slice(0,-d.length):a)+"(?:"+d+"(?=$))?"),a+=o?"$":i&&m?"":"(?="+d+"|$)",l(new RegExp("^"+a,f(n)),t)}function h(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(h(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return p(o(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";(function(e){function r(e){o.length||(i(),!0),o[o.length]=e}n.d(t,"a",(function(){return r}));var i,o=[],a=0;function s(){for(;a<o.length;){var e=a;if(a+=1,o[e].call(),a>1024){for(var t=0,n=o.length-a;t<n;t++)o[t]=o[t+a];o.length-=a,a=0}}o.length=0,a=0,!1}var u="undefined"!==typeof e?e:self,c=u.MutationObserver||u.WebKitMutationObserver;function l(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}i="function"===typeof c?function(e){var t=1,n=new c(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(s):l(s),r.requestFlush=i,r.makeRequestCallFromTimer=l}).call(this,n(66))},function(e,t){function n(e,t,n){var r,i,o,a,s;function u(){var c=Date.now()-a;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(s=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(s=e.apply(o,i),o=i=null),s};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}n.debounce=n,e.exports=n},,,function(e,t,n){"use strict";var r=n(164),i=!1,o=!1;try{var a={get passive(){return i=!0},get once(){return o=i=!0}};r.a&&(window.addEventListener("test",a,a),window.removeEventListener("test",a,!0))}catch(c){}var s=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!o){var a=r.once,s=r.capture,u=n;!o&&a&&(u=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=u),e.addEventListener(t,u,i?r:s)}e.addEventListener(t,n,r)};var u=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};t.a=function(e,t,n,r){return s(e,t,n,r),function(){u(e,t,n,r)}}},function(e,t,n){"use strict";var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));t.a=i},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},function(e,t,n){"use strict";var r=n(39);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))})))})),o=a.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";(function(t){var r=n(39),i=n(243),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof t&&"[object process]"===Object.prototype.toString.call(t))&&(e=n(134)),e}(),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(o)})),e.exports=s}).call(this,n(115))},function(e,t,n){"use strict";var r=n(39),i=n(244),o=n(131),a=n(246),s=n(249),u=n(250),c=n(135);e.exports=function(e){return new Promise((function(t,l){var f=e.data,p=e.headers;r.isFormData(f)&&delete p["Content-Type"];var h=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",m=e.auth.password||"";p.Authorization="Basic "+btoa(d+":"+m)}var v=a(e.baseURL,e.url);if(h.open(e.method.toUpperCase(),o(v,e.params,e.paramsSerializer),!0),h.timeout=e.timeout,h.onreadystatechange=function(){if(h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in h?s(h.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:n,config:e,request:h};i(t,l,r),h=null}},h.onabort=function(){h&&(l(c("Request aborted",e,"ECONNABORTED",h)),h=null)},h.onerror=function(){l(c("Network Error",e,null,h)),h=null},h.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),l(c(t,e,"ECONNABORTED",h)),h=null},r.isStandardBrowserEnv()){var y=n(251),g=(e.withCredentials||u(v))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;g&&(p[e.xsrfHeaderName]=g)}if("setRequestHeader"in h&&r.forEach(p,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete p[t]:h.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(h.withCredentials=!!e.withCredentials),e.responseType)try{h.responseType=e.responseType}catch(b){if("json"!==e.responseType)throw b}"function"===typeof e.onDownloadProgress&&h.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&h.upload&&h.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){h&&(h.abort(),l(e),h=null)})),void 0===f&&(f=null),h.send(f)}))}},function(e,t,n){"use strict";var r=n(245);e.exports=function(e,t,n,i,o){var a=new Error(e);return r(a,t,n,i,o)}},function(e,t,n){"use strict";var r=n(39);e.exports=function(e,t){t=t||{};var n={},i=["url","method","params","data"],o=["headers","auth","proxy"],a=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(i,(function(e){"undefined"!==typeof t[e]&&(n[e]=t[e])})),r.forEach(o,(function(i){r.isObject(t[i])?n[i]=r.deepMerge(e[i],t[i]):"undefined"!==typeof t[i]?n[i]=t[i]:r.isObject(e[i])?n[i]=r.deepMerge(e[i]):"undefined"!==typeof e[i]&&(n[i]=e[i])})),r.forEach(a,(function(r){"undefined"!==typeof t[r]?n[r]=t[r]:"undefined"!==typeof e[r]&&(n[r]=e[r])}));var s=i.concat(o).concat(a),u=Object.keys(t).filter((function(e){return-1===s.indexOf(e)}));return r.forEach(u,(function(r){"undefined"!==typeof t[r]?n[r]=t[r]:"undefined"!==typeof e[r]&&(n[r]=e[r])})),n}},function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},,function(e,t,n){"use strict";var r=function(e){return function(e){return!!e&&"object"===typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)};var i="function"===typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?l((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function a(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function u(e,t){try{return t in e}catch(n){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=o(e[t],n)})),s(t).forEach((function(i){(function(e,t){return u(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(u(e,i)&&n.isMergeableObject(t[i])?r[i]=function(e,t){if(!t.customMerge)return l;var n=t.customMerge(e);return"function"===typeof n?n:l}(i,n)(e[i],t[i],n):r[i]=o(t[i],n))})),r}function l(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||a,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=o;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):c(e,t,n):o(t,n)}l.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return l(e,n,t)}),{})};var f=l;e.exports=f},function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var s,u,c,l;if(Array.isArray(t)){if((s=t.length)!=a.length)return!1;for(u=s;0!==u--;)if(!e(t[u],a[u]))return!1;return!0}if(r&&t instanceof Map&&a instanceof Map){if(t.size!==a.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=t.entries();!(u=l.next()).done;)if(!e(u.value[1],a.get(u.value[0])))return!1;return!0}if(i&&t instanceof Set&&a instanceof Set){if(t.size!==a.size)return!1;for(l=t.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(o&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(a)){if((s=t.length)!=a.length)return!1;for(u=s;0!==u--;)if(t[u]!==a[u])return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((s=(c=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(n&&t instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!t.$$typeof)&&!e(t[c[u]],a[c[u]]))return!1;return!0}return t!==t&&a!==a}(e,t)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultProps=t.propTypes=void 0;var r,i=(r=n(40))&&r.__esModule?r:{default:r};var o=i.default.string,a=i.default.bool,s=i.default.number,u=i.default.array,c=i.default.oneOfType,l=i.default.shape,f=i.default.object,p=i.default.func,h=i.default.node,d={url:c([o,u,f]),playing:a,loop:a,controls:a,volume:s,muted:a,playbackRate:s,width:c([o,s]),height:c([o,s]),style:f,progressInterval:s,playsinline:a,pip:a,stopOnUnmount:a,light:c([a,o]),playIcon:h,wrapper:c([o,p,l({render:p.isRequired})]),config:l({soundcloud:l({options:f}),youtube:l({playerVars:f,embedOptions:f,onUnstarted:p}),facebook:l({appId:o,version:o,playerId:o}),dailymotion:l({params:f}),vimeo:l({playerOptions:f}),file:l({attributes:f,tracks:u,forceVideo:a,forceAudio:a,forceHLS:a,forceDASH:a,forceFLV:a,hlsOptions:f,hlsVersion:o,dashVersion:o,flvVersion:o}),wistia:l({options:f,playerId:o}),mixcloud:l({options:f}),twitch:l({options:f,playerId:o}),vidyard:l({options:f})}),onReady:p,onStart:p,onPlay:p,onPause:p,onBuffer:p,onBufferEnd:p,onEnded:p,onError:p,onDuration:p,onSeek:p,onProgress:p,onEnablePIP:p,onDisablePIP:p};t.propTypes=d;var m=function(){},v={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,wrapper:"div",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:m},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1}},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"0.13.1",dashVersion:"2.9.2",flvVersion:"1.5.0"},wistia:{options:{},playerId:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:m,onStart:m,onPlay:m,onPause:m,onBuffer:m,onBufferEnd:m,onEnded:m,onError:m,onDuration:m,onSeek:m,onProgress:m,onEnablePIP:m,onDisablePIP:m};t.defaultProps=v},,function(e,t,n){"use strict";var r=n(144);n.o(r,"DragSource")&&n.d(t,"DragSource",(function(){return r.DragSource})),n.o(r,"DropTarget")&&n.d(t,"DropTarget",(function(){return r.DropTarget}));var i=n(145);n.o(i,"DragSource")&&n.d(t,"DragSource",(function(){return i.DragSource})),n.o(i,"DropTarget")&&n.d(t,"DropTarget",(function(){return i.DropTarget}));var o=n(146);n.o(o,"DragSource")&&n.d(t,"DragSource",(function(){return o.DragSource})),n.o(o,"DropTarget")&&n.d(t,"DropTarget",(function(){return o.DropTarget}));var a=n(147);n.o(a,"DragSource")&&n.d(t,"DragSource",(function(){return a.DragSource})),n.o(a,"DropTarget")&&n.d(t,"DropTarget",(function(){return a.DropTarget}))},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";var r=n(157);n.d(t,"DragSource",(function(){return r.a}));var i=n(156);n.d(t,"DropTarget",(function(){return i.a}))},function(e,t,n){"use strict";var r=n(81),i=n(58),o=n(150),a=(n(152),n(153));n(78),n(282);function s(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}function u(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}function c(){}s.prototype.isReactComponent={},s.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&r("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},s.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},c.prototype=s.prototype,u.prototype=new c,u.prototype.constructor=u,i(u.prototype,s.prototype),u.prototype.isPureReactComponent=!0,e.exports={Component:s,PureComponent:u}},function(e,t,n){"use strict";n(116);var r={isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){},enqueueReplaceState:function(e,t){},enqueueSetState:function(e,t){}};e.exports=r},function(e,t,n){"use strict";function r(e){return function(){return e}}var i=function(){};i.thatReturns=r,i.thatReturnsFalse=r(!1),i.thatReturnsTrue=r(!0),i.thatReturnsNull=r(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,n){"use strict";e.exports=!1},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports={current:null}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=r},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(9),i=n(35),o=n(70),a=n(87),s=n(52),u=n(113),c=n(80);function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=Object(u.a)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,Object(c.a)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Object(s.a)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&l(t.prototype,n),r&&l(t,r),e}();function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=!1,d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,i;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;Object(r.a)(!h,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return h=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{h=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&p(t.prototype,n),i&&p(t,i),e}(),m=n(55),v=n(112);function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=["canDrop","hover","drop"],b=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.props&&this.spec.hover(this.props,this.monitor,Object(m.b)(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&y(t.prototype,n),r&&y(t,r),e}();function _(e){return Object.keys(e).forEach((function(t){Object(r.a)(g.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',g.join(", "),t),Object(r.a)("function"===typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new b(e,t,n)}}function w(e,t,n){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(m.a)("DropTarget","type, spec, collect[, options]",e,t,n,s);var u=e;"function"!==typeof e&&(Object(r.a)(Object(a.a)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),u=function(){return e}),Object(r.a)(Object(i.b)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var c=_(t);return Object(r.a)("function"===typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),Object(r.a)(Object(i.b)(s),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return Object(v.a)({containerDisplayName:"DropTarget",createHandler:c,registerHandler:o.b,createMonitor:function(e){return new d(e)},createConnector:function(e){return new f(e)},DecoratedComponent:e,getType:u,collect:n,options:s})}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(9),i=n(35),o=n(55),a=n(112),s=n(70),u=n(89),c=n(88),l=n(87);function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=["canDrag","beginDrag","isDragging","endDrag"],h=["beginDrag"],d=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)},this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,Object(o.b)(this.ref))}}])&&f(t.prototype,n),r&&f(t,r),e}();function m(e){return Object.keys(e).forEach((function(t){Object(r.a)(p.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',p.join(", "),t),Object(r.a)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),h.forEach((function(t){Object(r.a)("function"===typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new d(e,t,n)}}function v(e,t,n){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};Object(o.a)("DragSource","type, spec, collect[, options]",e,t,n,f);var p=e;"function"!==typeof e&&(Object(r.a)(Object(l.a)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),p=function(){return e}),Object(r.a)(Object(i.b)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var h=m(t);return Object(r.a)("function"===typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),Object(r.a)(Object(i.b)(f),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return Object(a.a)({containerDisplayName:"DragSource",createHandler:h,registerHandler:s.a,createConnector:function(e){return new c.a(e)},createMonitor:function(e){return new u.a(e)},DecoratedComponent:e,getType:p,collect:n,options:f})}}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"===typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},,,,function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function i(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}n.d(t,"a",(function(){return i}))},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},,,,,,function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t,r="object"==typeof self&&self&&self.Object===Object&&self,i=n||r||Function("return this")();function o(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function a(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var s=Object.prototype,u=s.hasOwnProperty,c=s.toString,l=i.Symbol,f=s.propertyIsEnumerable,p=l?l.isConcatSpreadable:void 0,h=Math.max;function d(e){return v(e)||function(e){return function(e){return y(e)&&function(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!function(e){var t=function(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}(e)?c.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}(e)}(e)}(e)&&u.call(e,"callee")&&(!f.call(e,"callee")||"[object Arguments]"==c.call(e))}(e)||!!(p&&e&&e[p])}function m(e){if("string"==typeof e||function(e){return"symbol"==typeof e||y(e)&&"[object Symbol]"==c.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}var v=Array.isArray;function y(e){return!!e&&"object"==typeof e}var g,b,_=(g=function(e,t){return null==e?{}:function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}(function e(t,n,r,i,o){var s=-1,u=t.length;for(r||(r=d),o||(o=[]);++s<u;){var c=t[s];n>0&&r(c)?n>1?e(c,n-1,r,i,o):a(o,c):i||(o[o.length]=c)}return o}(t,1),m))},b=h(void 0===b?g.length-1:b,0),function(){for(var e=arguments,t=-1,n=h(e.length-b,0),r=Array(n);++t<n;)r[t]=e[b+t];t=-1;for(var i=Array(b+1);++t<b;)i[t]=e[t];return i[b]=r,o(g,this,i)});e.exports=_}).call(this,n(66))},function(e,t,n){(function(t){var n=/^\[object .+?Constructor\]$/,r=/^(?:0|[1-9]\d*)$/,i="object"==typeof t&&t&&t.Object===Object&&t,o="object"==typeof self&&self&&self.Object===Object&&self,a=i||o||Function("return this")();function s(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function u(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,p,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function c(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function l(e,t){for(var n=-1,r=e?e.length:0,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function f(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function p(e){return e!==e}function h(e,t){return e.has(t)}function d(e,t){return function(n){return e(t(n))}}var m=Array.prototype,v=Function.prototype,y=Object.prototype,g=a["__core-js_shared__"],b=function(){var e=/[^.]+$/.exec(g&&g.keys&&g.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),_=v.toString,w=y.hasOwnProperty,x=y.toString,S=RegExp("^"+_.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),E=a.Symbol,O=d(Object.getPrototypeOf,Object),T=y.propertyIsEnumerable,M=m.splice,P=E?E.isConcatSpreadable:void 0,A=Object.getOwnPropertySymbols,C=Math.max,k=H(a,"Map"),j=H(Object,"create");function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function D(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function N(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function L(e){var t=-1,n=e?e.length:0;for(this.__data__=new N;++t<n;)this.add(e[t])}function I(e,t){var n=Z(e)||X(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,i=!!r;for(var o in e)!t&&!w.call(e,o)||i&&("length"==o||q(o,r))||n.push(o);return n}function B(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function F(e){return!(!J(e)||(t=e,b&&b in t))&&(K(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}(e)?S:n).test(function(e){if(null!=e){try{return _.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e));var t}function U(e){if(!J(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||y;return e===n}(e),n=[];for(var r in e)("constructor"!=r||!t&&w.call(e,r))&&n.push(r);return n}function z(e){return function(e,t,n){var r=t(e);return Z(e)?r:f(r,n(e))}(e,te,G)}function V(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function H(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return F(n)?n:void 0}R.prototype.clear=function(){this.__data__=j?j(null):{}},R.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},R.prototype.get=function(e){var t=this.__data__;if(j){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return w.call(t,e)?t[e]:void 0},R.prototype.has=function(e){var t=this.__data__;return j?void 0!==t[e]:w.call(t,e)},R.prototype.set=function(e,t){return this.__data__[e]=j&&void 0===t?"__lodash_hash_undefined__":t,this},D.prototype.clear=function(){this.__data__=[]},D.prototype.delete=function(e){var t=this.__data__,n=B(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),!0)},D.prototype.get=function(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]},D.prototype.has=function(e){return B(this.__data__,e)>-1},D.prototype.set=function(e,t){var n=this.__data__,r=B(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},N.prototype.clear=function(){this.__data__={hash:new R,map:new(k||D),string:new R}},N.prototype.delete=function(e){return V(this,e).delete(e)},N.prototype.get=function(e){return V(this,e).get(e)},N.prototype.has=function(e){return V(this,e).has(e)},N.prototype.set=function(e,t){return V(this,e).set(e,t),this},L.prototype.add=L.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},L.prototype.has=function(e){return this.__data__.has(e)};var $=A?d(A,Object):oe,G=A?function(e){for(var t=[];e;)f(t,$(e)),e=O(e);return t}:oe;function W(e){return Z(e)||X(e)||!!(P&&e&&e[P])}function q(e,t){return!!(t=null==t?9007199254740991:t)&&("number"==typeof e||r.test(e))&&e>-1&&e%1==0&&e<t}function Y(e){if("string"==typeof e||function(e){return"symbol"==typeof e||ee(e)&&"[object Symbol]"==x.call(e)}(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function X(e){return function(e){return ee(e)&&Q(e)}(e)&&w.call(e,"callee")&&(!T.call(e,"callee")||"[object Arguments]"==x.call(e))}var Z=Array.isArray;function Q(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}(e.length)&&!K(e)}function K(e){var t=J(e)?x.call(e):"";return"[object Function]"==t||"[object GeneratorFunction]"==t}function J(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function ee(e){return!!e&&"object"==typeof e}function te(e){return Q(e)?I(e,!0):U(e)}var ne,re,ie=(ne=function(e,t){return null==e?{}:(t=l(function e(t,n,r,i,o){var a=-1,s=t.length;for(r||(r=W),o||(o=[]);++a<s;){var u=t[a];n>0&&r(u)?n>1?e(u,n-1,r,i,o):f(o,u):i||(o[o.length]=u)}return o}(t,1),Y),function(e,t){return function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=e[a];n(s,a)&&(o[a]=s)}return o}(e=Object(e),t,(function(t,n){return n in e}))}(e,function(e,t,n,r){var i,o=-1,a=u,s=!0,f=e.length,p=[],d=t.length;if(!f)return p;n&&(t=l(t,(i=n,function(e){return i(e)}))),r?(a=c,s=!1):t.length>=200&&(a=h,s=!1,t=new L(t));e:for(;++o<f;){var m=e[o],v=n?n(m):m;if(m=r||0!==m?m:0,s&&v===v){for(var y=d;y--;)if(t[y]===v)continue e;p.push(m)}else a(t,v,r)||p.push(m)}return p}(z(e),t)))},re=C(void 0===re?ne.length-1:re,0),function(){for(var e=arguments,t=-1,n=C(e.length-re,0),r=Array(n);++t<n;)r[t]=e[re+t];t=-1;for(var i=Array(re+1);++t<re;)i[t]=e[t];return i[re]=r,s(ne,this,i)});function oe(){return[]}e.exports=ie}).call(this,n(66))},function(e,t,n){!function(e,t,n,r){"use strict";var i,o=n.defineWorkerModule({name:"Typr Font Parser",dependencies:[function(){var e=self,t={parse:function(e){var n=t._bin,r=new Uint8Array(e);if("ttcf"==n.readASCII(r,0,4)){var i=4;n.readUshort(r,i),i+=2,n.readUshort(r,i),i+=2;var o=n.readUint(r,i);i+=4;for(var a=[],s=0;s<o;s++){var u=n.readUint(r,i);i+=4,a.push(t._readFont(r,u))}return a}return[t._readFont(r,0)]},_readFont:function(e,n){var r=t._bin,i=n;r.readFixed(e,n),n+=4;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2;for(var a=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],s={_data:e,_offset:i},u={},c=0;c<o;c++){var l=r.readASCII(e,n,4);n+=4,r.readUint(e,n),n+=4;var f=r.readUint(e,n);n+=4;var p=r.readUint(e,n);n+=4,u[l]={offset:f,length:p}}for(c=0;c<a.length;c++){var h=a[c];u[h]&&(s[h.trim()]=t[h.trim()].parse(e,u[h].offset,u[h].length,s))}return s},_tabOffset:function(e,n,r){for(var i=t._bin,o=i.readUshort(e,r+4),a=r+12,s=0;s<o;s++){var u=i.readASCII(e,a,4);a+=4,i.readUint(e,a),a+=4;var c=i.readUint(e,a);if(a+=4,i.readUint(e,a),a+=4,u==n)return c}return 0}};return t._bin={readFixed:function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<8|e[t+3])/65540},readF2dot14:function(e,n){return t._bin.readShort(e,n)/16384},readInt:function(e,n){var r=t._bin.t.uint8;return r[0]=e[n+3],r[1]=e[n+2],r[2]=e[n+1],r[3]=e[n],t._bin.t.int32[0]},readInt8:function(e,n){return t._bin.t.uint8[0]=e[n],t._bin.t.int8[0]},readShort:function(e,n){var r=t._bin.t.uint8;return r[1]=e[n],r[0]=e[n+1],t._bin.t.int16[0]},readUshort:function(e,t){return e[t]<<8|e[t+1]},readUshorts:function(e,n,r){for(var i=[],o=0;o<r;o++)i.push(t._bin.readUshort(e,n+2*o));return i},readUint:function(e,n){var r=t._bin.t.uint8;return r[3]=e[n],r[2]=e[n+1],r[1]=e[n+2],r[0]=e[n+3],t._bin.t.uint32[0]},readUint64:function(e,n){return 4294967296*t._bin.readUint(e,n)+t._bin.readUint(e,n+4)},readASCII:function(e,t,n){for(var r="",i=0;i<n;i++)r+=String.fromCharCode(e[t+i]);return r},readUnicode:function(e,t,n){for(var r="",i=0;i<n;i++){var o=e[t++]<<8|e[t++];r+=String.fromCharCode(o)}return r},_tdec:e.TextDecoder?new e.TextDecoder:null,readUTF8:function(e,n,r){var i=t._bin._tdec;return i&&0==n&&r==e.length?i.decode(e):t._bin.readASCII(e,n,r)},readBytes:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(e[t+i]);return r},readASCIIArray:function(e,t,n){for(var r=[],i=0;i<n;i++)r.push(String.fromCharCode(e[t+i]));return r}},t._bin.t={buff:new ArrayBuffer(8)},t._bin.t.int8=new Int8Array(t._bin.t.buff),t._bin.t.uint8=new Uint8Array(t._bin.t.buff),t._bin.t.int16=new Int16Array(t._bin.t.buff),t._bin.t.uint16=new Uint16Array(t._bin.t.buff),t._bin.t.int32=new Int32Array(t._bin.t.buff),t._bin.t.uint32=new Uint32Array(t._bin.t.buff),t._lctf={},t._lctf.parse=function(e,n,r,i,o){var a=t._bin,s={},u=n;a.readFixed(e,n),n+=4;var c=a.readUshort(e,n);n+=2;var l=a.readUshort(e,n);n+=2;var f=a.readUshort(e,n);return n+=2,s.scriptList=t._lctf.readScriptList(e,u+c),s.featureList=t._lctf.readFeatureList(e,u+l),s.lookupList=t._lctf.readLookupList(e,u+f,o),s},t._lctf.readLookupList=function(e,n,r){var i=t._bin,o=n,a=[],s=i.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var c=i.readUshort(e,n);n+=2;var l=t._lctf.readLookupTable(e,o+c,r);a.push(l)}return a},t._lctf.readLookupTable=function(e,n,r){var i=t._bin,o=n,a={tabs:[]};a.ltype=i.readUshort(e,n),n+=2,a.flag=i.readUshort(e,n),n+=2;var s=i.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var c=i.readUshort(e,n);n+=2;var l=r(e,a.ltype,o+c);a.tabs.push(l)}return a},t._lctf.numOfOnes=function(e){for(var t=0,n=0;n<32;n++)0!=(e>>>n&1)&&t++;return t},t._lctf.readClassDef=function(e,n){var r=t._bin,i=[],o=r.readUshort(e,n);if(n+=2,1==o){var a=r.readUshort(e,n);n+=2;var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++)i.push(a+u),i.push(a+u),i.push(r.readUshort(e,n)),n+=2}if(2==o){var c=r.readUshort(e,n);for(n+=2,u=0;u<c;u++)i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2,i.push(r.readUshort(e,n)),n+=2}return i},t._lctf.getInterval=function(e,t){for(var n=0;n<e.length;n+=3){var r=e[n],i=e[n+1];if(e[n+2],r<=t&&t<=i)return n}return-1},t._lctf.readCoverage=function(e,n){var r=t._bin,i={};i.fmt=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);return n+=2,1==i.fmt&&(i.tab=r.readUshorts(e,n,o)),2==i.fmt&&(i.tab=r.readUshorts(e,n,3*o)),i},t._lctf.coverageIndex=function(e,n){var r=e.tab;if(1==e.fmt)return r.indexOf(n);if(2==e.fmt){var i=t._lctf.getInterval(r,n);if(-1!=i)return r[i+2]+(n-r[i])}return-1},t._lctf.readFeatureList=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,o.push({tag:u.trim(),tab:t._lctf.readFeatureTable(e,i+c)})}return o},t._lctf.readFeatureTable=function(e,n){var r=t._bin;r.readUshort(e,n),n+=2;var i=r.readUshort(e,n);n+=2;for(var o=[],a=0;a<i;a++)o.push(r.readUshort(e,n+2*a));return o},t._lctf.readScriptList=function(e,n){var r=t._bin,i=n,o={},a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var u=r.readASCII(e,n,4);n+=4;var c=r.readUshort(e,n);n+=2,o[u.trim()]=t._lctf.readScriptTable(e,i+c)}return o},t._lctf.readScriptTable=function(e,n){var r=t._bin,i=n,o={},a=r.readUshort(e,n);n+=2,o.default=t._lctf.readLangSysTable(e,i+a);var s=r.readUshort(e,n);n+=2;for(var u=0;u<s;u++){var c=r.readASCII(e,n,4);n+=4;var l=r.readUshort(e,n);n+=2,o[c.trim()]=t._lctf.readLangSysTable(e,i+l)}return o},t._lctf.readLangSysTable=function(e,n){var r=t._bin,i={};r.readUshort(e,n),n+=2,i.reqFeature=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);return n+=2,i.features=r.readUshorts(e,n,o),i},t.CFF={},t.CFF.parse=function(e,n,r){var i=t._bin;(e=new Uint8Array(e.buffer,n,r))[n=0],e[++n],e[++n],e[++n],n++;var o=[];n=t.CFF.readIndex(e,n,o);for(var a=[],s=0;s<o.length-1;s++)a.push(i.readASCII(e,n+o[s],o[s+1]-o[s]));n+=o[o.length-1];var u=[];n=t.CFF.readIndex(e,n,u);var c=[];for(s=0;s<u.length-1;s++)c.push(t.CFF.readDict(e,n+u[s],n+u[s+1]));n+=u[u.length-1];var l=c[0],f=[];n=t.CFF.readIndex(e,n,f);var p=[];for(s=0;s<f.length-1;s++)p.push(i.readASCII(e,n+f[s],f[s+1]-f[s]));if(n+=f[f.length-1],t.CFF.readSubrs(e,n,l),l.CharStrings){n=l.CharStrings,f=[],n=t.CFF.readIndex(e,n,f);var h=[];for(s=0;s<f.length-1;s++)h.push(i.readBytes(e,n+f[s],f[s+1]-f[s]));l.CharStrings=h}if(l.ROS){n=l.FDArray;var d=[];for(n=t.CFF.readIndex(e,n,d),l.FDArray=[],s=0;s<d.length-1;s++){var m=t.CFF.readDict(e,n+d[s],n+d[s+1]);t.CFF._readFDict(e,m,p),l.FDArray.push(m)}n+=d[d.length-1],n=l.FDSelect,l.FDSelect=[];var v=e[n];if(n++,3!=v)throw v;var y=i.readUshort(e,n);for(n+=2,s=0;s<y+1;s++)l.FDSelect.push(i.readUshort(e,n),e[n+2]),n+=3}return l.Encoding&&(l.Encoding=t.CFF.readEncoding(e,l.Encoding,l.CharStrings.length)),l.charset&&(l.charset=t.CFF.readCharset(e,l.charset,l.CharStrings.length)),t.CFF._readFDict(e,l,p),l},t.CFF._readFDict=function(e,n,r){var i;for(var o in n.Private&&(i=n.Private[1],n.Private=t.CFF.readDict(e,i,i+n.Private[0]),n.Private.Subrs&&t.CFF.readSubrs(e,i+n.Private.Subrs,n.Private)),n)-1!=["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(o)&&(n[o]=r[n[o]-426+35])},t.CFF.readSubrs=function(e,n,r){var i=t._bin,o=[];n=t.CFF.readIndex(e,n,o);var a,s=o.length;a=s<1240?107:s<33900?1131:32768,r.Bias=a,r.Subrs=[];for(var u=0;u<o.length-1;u++)r.Subrs.push(i.readBytes(e,n+o[u],o[u+1]-o[u]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(e,t){for(var n=0;n<e.charset.length;n++)if(e.charset[n]==t)return n;return-1},t.CFF.glyphBySE=function(e,n){return n<0||n>255?-1:t.CFF.glyphByUnicode(e,t.CFF.tableSE[n])},t.CFF.readEncoding=function(e,n,r){t._bin;var i=[".notdef"],o=e[n];if(n++,0!=o)throw"error: unknown encoding format: "+o;var a=e[n];n++;for(var s=0;s<a;s++)i.push(e[n+s]);return i},t.CFF.readCharset=function(e,n,r){var i=t._bin,o=[".notdef"],a=e[n];if(n++,0==a)for(var s=0;s<r;s++){var u=i.readUshort(e,n);n+=2,o.push(u)}else{if(1!=a&&2!=a)throw"error: format: "+a;for(;o.length<r;){u=i.readUshort(e,n),n+=2;var c=0;for(1==a?(c=e[n],n++):(c=i.readUshort(e,n),n+=2),s=0;s<=c;s++)o.push(u),u++}}return o},t.CFF.readIndex=function(e,n,r){var i=t._bin,o=i.readUshort(e,n)+1,a=e[n+=2];if(n++,1==a)for(var s=0;s<o;s++)r.push(e[n+s]);else if(2==a)for(s=0;s<o;s++)r.push(i.readUshort(e,n+2*s));else if(3==a)for(s=0;s<o;s++)r.push(16777215&i.readUint(e,n+3*s-1));else if(1!=o)throw"unsupported offset size: "+a+", count: "+o;return(n+=o*a)-1},t.CFF.getCharString=function(e,n,r){var i=t._bin,o=e[n],a=e[n+1],s=(e[n+2],e[n+3],e[n+4],1),u=null,c=null;o<=20&&(u=o,s=1),12==o&&(u=100*o+a,s=2),21<=o&&o<=27&&(u=o,s=1),28==o&&(c=i.readShort(e,n+1),s=3),29<=o&&o<=31&&(u=o,s=1),32<=o&&o<=246&&(c=o-139,s=1),247<=o&&o<=250&&(c=256*(o-247)+a+108,s=2),251<=o&&o<=254&&(c=256*-(o-251)-a-108,s=2),255==o&&(c=i.readInt(e,n+1)/65535,s=5),r.val=null!=c?c:"o"+u,r.size=s},t.CFF.readCharString=function(e,n,r){for(var i=n+r,o=t._bin,a=[];n<i;){var s=e[n],u=e[n+1],c=(e[n+2],e[n+3],e[n+4],1),l=null,f=null;s<=20&&(l=s,c=1),12==s&&(l=100*s+u,c=2),19!=s&&20!=s||(l=s,c=2),21<=s&&s<=27&&(l=s,c=1),28==s&&(f=o.readShort(e,n+1),c=3),29<=s&&s<=31&&(l=s,c=1),32<=s&&s<=246&&(f=s-139,c=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,c=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,c=2),255==s&&(f=o.readInt(e,n+1)/65535,c=5),a.push(null!=f?f:"o"+l),n+=c}return a},t.CFF.readDict=function(e,n,r){for(var i=t._bin,o={},a=[];n<r;){var s=e[n],u=e[n+1],c=(e[n+2],e[n+3],e[n+4],1),l=null,f=null;if(28==s&&(f=i.readShort(e,n+1),c=3),29==s&&(f=i.readInt(e,n+1),c=5),32<=s&&s<=246&&(f=s-139,c=1),247<=s&&s<=250&&(f=256*(s-247)+u+108,c=2),251<=s&&s<=254&&(f=256*-(s-251)-u-108,c=2),255==s)throw f=i.readInt(e,n+1)/65535,c=5,"unknown number";if(30==s){var p=[];for(c=1;;){var h=e[n+c];c++;var d=h>>4,m=15&h;if(15!=d&&p.push(d),15!=m&&p.push(m),15==m)break}for(var v="",y=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],g=0;g<p.length;g++)v+=y[p[g]];f=parseFloat(v)}s<=21&&(l=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],c=1,12==s&&(l=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][u],c=2)),null!=l?(o[l]=1==a.length?a[0]:a,a=[]):a.push(f),n+=c}return o},t.cmap={},t.cmap.parse=function(e,n,r){e=new Uint8Array(e.buffer,n,r),n=0;var i=t._bin,o={};i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2;var s=[];o.tables=[];for(var u=0;u<a;u++){var c=i.readUshort(e,n);n+=2;var l=i.readUshort(e,n);n+=2;var f=i.readUint(e,n);n+=4;var p="p"+c+"e"+l,h=s.indexOf(f);if(-1==h){var d;h=o.tables.length,s.push(f);var m=i.readUshort(e,f);0==m?d=t.cmap.parse0(e,f):4==m?d=t.cmap.parse4(e,f):6==m?d=t.cmap.parse6(e,f):12==m?d=t.cmap.parse12(e,f):console.log("unknown format: "+m,c,l,f),o.tables.push(d)}if(null!=o[p])throw"multiple tables for one platform+encoding";o[p]=h}return o},t.cmap.parse0=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2,i.map=[];for(var a=0;a<o-6;a++)i.map.push(e[n+a]);return i},t.cmap.parse4=function(e,n){var r=t._bin,i=n,o={};o.format=r.readUshort(e,n),n+=2;var a=r.readUshort(e,n);n+=2,r.readUshort(e,n),n+=2;var s=r.readUshort(e,n);n+=2;var u=s/2;o.searchRange=r.readUshort(e,n),n+=2,o.entrySelector=r.readUshort(e,n),n+=2,o.rangeShift=r.readUshort(e,n),n+=2,o.endCount=r.readUshorts(e,n,u),n+=2*u,n+=2,o.startCount=r.readUshorts(e,n,u),n+=2*u,o.idDelta=[];for(var c=0;c<u;c++)o.idDelta.push(r.readShort(e,n)),n+=2;for(o.idRangeOffset=r.readUshorts(e,n,u),n+=2*u,o.glyphIdArray=[];n<i+a;)o.glyphIdArray.push(r.readUshort(e,n)),n+=2;return o},t.cmap.parse6=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,r.readUshort(e,n),n+=2,i.firstCode=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2,i.glyphIdArray=[];for(var a=0;a<o;a++)i.glyphIdArray.push(r.readUshort(e,n)),n+=2;return i},t.cmap.parse12=function(e,n){var r=t._bin,i={};i.format=r.readUshort(e,n),n+=2,n+=2,r.readUint(e,n),n+=4,r.readUint(e,n),n+=4;var o=r.readUint(e,n);n+=4,i.groups=[];for(var a=0;a<o;a++){var s=n+12*a,u=r.readUint(e,s+0),c=r.readUint(e,s+4),l=r.readUint(e,s+8);i.groups.push([u,c,l])}return i},t.glyf={},t.glyf.parse=function(e,t,n,r){for(var i=[],o=0;o<r.maxp.numGlyphs;o++)i.push(null);return i},t.glyf._parseGlyf=function(e,n){var r=t._bin,i=e._data,o=t._tabOffset(i,"glyf",e._offset)+e.loca[n];if(e.loca[n]==e.loca[n+1])return null;var a={};if(a.noc=r.readShort(i,o),o+=2,a.xMin=r.readShort(i,o),o+=2,a.yMin=r.readShort(i,o),o+=2,a.xMax=r.readShort(i,o),o+=2,a.yMax=r.readShort(i,o),o+=2,a.xMin>=a.xMax||a.yMin>=a.yMax)return null;if(a.noc>0){a.endPts=[];for(var s=0;s<a.noc;s++)a.endPts.push(r.readUshort(i,o)),o+=2;var u=r.readUshort(i,o);if(o+=2,i.length-o<u)return null;a.instructions=r.readBytes(i,o,u),o+=u;var c=a.endPts[a.noc-1]+1;for(a.flags=[],s=0;s<c;s++){var l=i[o];if(o++,a.flags.push(l),0!=(8&l)){var f=i[o];o++;for(var p=0;p<f;p++)a.flags.push(l),s++}}for(a.xs=[],s=0;s<c;s++){var h=0!=(2&a.flags[s]),d=0!=(16&a.flags[s]);h?(a.xs.push(d?i[o]:-i[o]),o++):d?a.xs.push(0):(a.xs.push(r.readShort(i,o)),o+=2)}for(a.ys=[],s=0;s<c;s++)h=0!=(4&a.flags[s]),d=0!=(32&a.flags[s]),h?(a.ys.push(d?i[o]:-i[o]),o++):d?a.ys.push(0):(a.ys.push(r.readShort(i,o)),o+=2);var m=0,v=0;for(s=0;s<c;s++)m+=a.xs[s],v+=a.ys[s],a.xs[s]=m,a.ys[s]=v}else{var y;a.parts=[];do{y=r.readUshort(i,o),o+=2;var g={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(a.parts.push(g),g.glyphIndex=r.readUshort(i,o),o+=2,1&y){var b=r.readShort(i,o);o+=2;var _=r.readShort(i,o);o+=2}else b=r.readInt8(i,o),o++,_=r.readInt8(i,o),o++;2&y?(g.m.tx=b,g.m.ty=_):(g.p1=b,g.p2=_),8&y?(g.m.a=g.m.d=r.readF2dot14(i,o),o+=2):64&y?(g.m.a=r.readF2dot14(i,o),o+=2,g.m.d=r.readF2dot14(i,o),o+=2):128&y&&(g.m.a=r.readF2dot14(i,o),o+=2,g.m.b=r.readF2dot14(i,o),o+=2,g.m.c=r.readF2dot14(i,o),o+=2,g.m.d=r.readF2dot14(i,o),o+=2)}while(32&y);if(256&y){var w=r.readUshort(i,o);for(o+=2,a.instr=[],s=0;s<w;s++)a.instr.push(i[o]),o++}}return a},t.GPOS={},t.GPOS.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GPOS.subt)},t.GPOS.subt=function(e,n,r){var i=t._bin,o=r,a={};if(a.fmt=i.readUshort(e,r),r+=2,1==n||2==n||3==n||7==n||8==n&&a.fmt<=2){var s=i.readUshort(e,r);r+=2,a.coverage=t._lctf.readCoverage(e,s+o)}if(1==n&&1==a.fmt){var u=i.readUshort(e,r);r+=2;var c=t._lctf.numOfOnes(u);0!=u&&(a.pos=t.GPOS.readValueRecord(e,r,u))}else if(2==n){u=i.readUshort(e,r),r+=2;var l=i.readUshort(e,r);r+=2,c=t._lctf.numOfOnes(u);var f=t._lctf.numOfOnes(l);if(1==a.fmt){a.pairsets=[];var p=i.readUshort(e,r);r+=2;for(var h=0;h<p;h++){var d=o+i.readUshort(e,r);r+=2;var m=i.readUshort(e,d);d+=2;for(var v=[],y=0;y<m;y++){var g=i.readUshort(e,d);d+=2,0!=u&&(E=t.GPOS.readValueRecord(e,d,u),d+=2*c),0!=l&&(O=t.GPOS.readValueRecord(e,d,l),d+=2*f),v.push({gid2:g,val1:E,val2:O})}a.pairsets.push(v)}}if(2==a.fmt){var b=i.readUshort(e,r);r+=2;var _=i.readUshort(e,r);r+=2;var w=i.readUshort(e,r);r+=2;var x=i.readUshort(e,r);for(r+=2,a.classDef1=t._lctf.readClassDef(e,o+b),a.classDef2=t._lctf.readClassDef(e,o+_),a.matrix=[],h=0;h<w;h++){var S=[];for(y=0;y<x;y++){var E=null,O=null;0!=a.valFmt1&&(E=t.GPOS.readValueRecord(e,r,a.valFmt1),r+=2*c),0!=a.valFmt2&&(O=t.GPOS.readValueRecord(e,r,a.valFmt2),r+=2*f),S.push({val1:E,val2:O})}a.matrix.push(S)}}}return a},t.GPOS.readValueRecord=function(e,n,r){var i=t._bin,o=[];return o.push(1&r?i.readShort(e,n):0),n+=1&r?2:0,o.push(2&r?i.readShort(e,n):0),n+=2&r?2:0,o.push(4&r?i.readShort(e,n):0),n+=4&r?2:0,o.push(8&r?i.readShort(e,n):0),n+=8&r?2:0,o},t.GSUB={},t.GSUB.parse=function(e,n,r,i){return t._lctf.parse(e,n,r,i,t.GSUB.subt)},t.GSUB.subt=function(e,n,r){var i=t._bin,o=r,a={};if(a.fmt=i.readUshort(e,r),r+=2,1!=n&&4!=n&&5!=n&&6!=n)return null;if(1==n||4==n||5==n&&a.fmt<=2||6==n&&a.fmt<=2){var s=i.readUshort(e,r);r+=2,a.coverage=t._lctf.readCoverage(e,o+s)}if(1==n){if(1==a.fmt)a.delta=i.readShort(e,r),r+=2;else if(2==a.fmt){var u=i.readUshort(e,r);r+=2,a.newg=i.readUshorts(e,r,u),r+=2*a.newg.length}}else if(4==n){a.vals=[],u=i.readUshort(e,r),r+=2;for(var c=0;c<u;c++){var l=i.readUshort(e,r);r+=2,a.vals.push(t.GSUB.readLigatureSet(e,o+l))}}else if(5==n){if(2==a.fmt){var f=i.readUshort(e,r);r+=2,a.cDef=t._lctf.readClassDef(e,o+f),a.scset=[];var p=i.readUshort(e,r);for(r+=2,c=0;c<p;c++){var h=i.readUshort(e,r);r+=2,a.scset.push(0==h?null:t.GSUB.readSubClassSet(e,o+h))}}}else if(6==n&&3==a.fmt){for(c=0;c<3;c++){u=i.readUshort(e,r),r+=2;for(var d=[],m=0;m<u;m++)d.push(t._lctf.readCoverage(e,o+i.readUshort(e,r+2*m)));r+=2*u,0==c&&(a.backCvg=d),1==c&&(a.inptCvg=d),2==c&&(a.ahedCvg=d)}u=i.readUshort(e,r),r+=2,a.lookupRec=t.GSUB.readSubstLookupRecords(e,r,u)}return a},t.GSUB.readSubClassSet=function(e,n){var r=t._bin.readUshort,i=n,o=[],a=r(e,n);n+=2;for(var s=0;s<a;s++){var u=r(e,n);n+=2,o.push(t.GSUB.readSubClassRule(e,i+u))}return o},t.GSUB.readSubClassRule=function(e,n){var r=t._bin.readUshort,i={},o=r(e,n),a=r(e,n+=2);n+=2,i.input=[];for(var s=0;s<o-1;s++)i.input.push(r(e,n)),n+=2;return i.substLookupRecords=t.GSUB.readSubstLookupRecords(e,n,a),i},t.GSUB.readSubstLookupRecords=function(e,n,r){for(var i=t._bin.readUshort,o=[],a=0;a<r;a++)o.push(i(e,n),i(e,n+2)),n+=4;return o},t.GSUB.readChainSubClassSet=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var u=r.readUshort(e,n);n+=2,o.push(t.GSUB.readChainSubClassRule(e,i+u))}return o},t.GSUB.readChainSubClassRule=function(e,n){for(var r=t._bin,i={},o=["backtrack","input","lookahead"],a=0;a<o.length;a++){var s=r.readUshort(e,n);n+=2,1==a&&s--,i[o[a]]=r.readUshorts(e,n,s),n+=2*i[o[a]].length}return s=r.readUshort(e,n),n+=2,i.subst=r.readUshorts(e,n,2*s),n+=2*i.subst.length,i},t.GSUB.readLigatureSet=function(e,n){var r=t._bin,i=n,o=[],a=r.readUshort(e,n);n+=2;for(var s=0;s<a;s++){var u=r.readUshort(e,n);n+=2,o.push(t.GSUB.readLigature(e,i+u))}return o},t.GSUB.readLigature=function(e,n){var r=t._bin,i={chain:[]};i.nglyph=r.readUshort(e,n),n+=2;var o=r.readUshort(e,n);n+=2;for(var a=0;a<o-1;a++)i.chain.push(r.readUshort(e,n)),n+=2;return i},t.head={},t.head.parse=function(e,n,r){var i=t._bin,o={};return i.readFixed(e,n),n+=4,o.fontRevision=i.readFixed(e,n),n+=4,i.readUint(e,n),n+=4,i.readUint(e,n),n+=4,o.flags=i.readUshort(e,n),n+=2,o.unitsPerEm=i.readUshort(e,n),n+=2,o.created=i.readUint64(e,n),n+=8,o.modified=i.readUint64(e,n),n+=8,o.xMin=i.readShort(e,n),n+=2,o.yMin=i.readShort(e,n),n+=2,o.xMax=i.readShort(e,n),n+=2,o.yMax=i.readShort(e,n),n+=2,o.macStyle=i.readUshort(e,n),n+=2,o.lowestRecPPEM=i.readUshort(e,n),n+=2,o.fontDirectionHint=i.readShort(e,n),n+=2,o.indexToLocFormat=i.readShort(e,n),n+=2,o.glyphDataFormat=i.readShort(e,n),n+=2,o},t.hhea={},t.hhea.parse=function(e,n,r){var i=t._bin,o={};return i.readFixed(e,n),n+=4,o.ascender=i.readShort(e,n),n+=2,o.descender=i.readShort(e,n),n+=2,o.lineGap=i.readShort(e,n),n+=2,o.advanceWidthMax=i.readUshort(e,n),n+=2,o.minLeftSideBearing=i.readShort(e,n),n+=2,o.minRightSideBearing=i.readShort(e,n),n+=2,o.xMaxExtent=i.readShort(e,n),n+=2,o.caretSlopeRise=i.readShort(e,n),n+=2,o.caretSlopeRun=i.readShort(e,n),n+=2,o.caretOffset=i.readShort(e,n),n+=2,n+=8,o.metricDataFormat=i.readShort(e,n),n+=2,o.numberOfHMetrics=i.readUshort(e,n),n+=2,o},t.hmtx={},t.hmtx.parse=function(e,n,r,i){for(var o=t._bin,a={aWidth:[],lsBearing:[]},s=0,u=0,c=0;c<i.maxp.numGlyphs;c++)c<i.hhea.numberOfHMetrics&&(s=o.readUshort(e,n),n+=2,u=o.readShort(e,n),n+=2),a.aWidth.push(s),a.lsBearing.push(u);return a},t.kern={},t.kern.parse=function(e,n,r,i){var o=t._bin,a=o.readUshort(e,n);if(n+=2,1==a)return t.kern.parseV1(e,n-2,r,i);var s=o.readUshort(e,n);n+=2;for(var u={glyph1:[],rval:[]},c=0;c<s;c++){n+=2,r=o.readUshort(e,n),n+=2;var l=o.readUshort(e,n);n+=2;var f=l>>>8;if(0!=(f&=15))throw"unknown kern table format: "+f;n=t.kern.readFormat0(e,n,u)}return u},t.kern.parseV1=function(e,n,r,i){var o=t._bin;o.readFixed(e,n),n+=4;var a=o.readUint(e,n);n+=4;for(var s={glyph1:[],rval:[]},u=0;u<a;u++){o.readUint(e,n),n+=4;var c=o.readUshort(e,n);n+=2,o.readUshort(e,n),n+=2;var l=c>>>8;if(0!=(l&=15))throw"unknown kern table format: "+l;n=t.kern.readFormat0(e,n,s)}return s},t.kern.readFormat0=function(e,n,r){var i=t._bin,o=-1,a=i.readUshort(e,n);n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2,i.readUshort(e,n),n+=2;for(var s=0;s<a;s++){var u=i.readUshort(e,n);n+=2;var c=i.readUshort(e,n);n+=2;var l=i.readShort(e,n);n+=2,u!=o&&(r.glyph1.push(u),r.rval.push({glyph2:[],vals:[]}));var f=r.rval[r.rval.length-1];f.glyph2.push(c),f.vals.push(l),o=u}return n},t.loca={},t.loca.parse=function(e,n,r,i){var o=t._bin,a=[],s=i.head.indexToLocFormat,u=i.maxp.numGlyphs+1;if(0==s)for(var c=0;c<u;c++)a.push(o.readUshort(e,n+(c<<1))<<1);if(1==s)for(c=0;c<u;c++)a.push(o.readUint(e,n+(c<<2)));return a},t.maxp={},t.maxp.parse=function(e,n,r){var i=t._bin,o={},a=i.readUint(e,n);return n+=4,o.numGlyphs=i.readUshort(e,n),n+=2,65536==a&&(o.maxPoints=i.readUshort(e,n),n+=2,o.maxContours=i.readUshort(e,n),n+=2,o.maxCompositePoints=i.readUshort(e,n),n+=2,o.maxCompositeContours=i.readUshort(e,n),n+=2,o.maxZones=i.readUshort(e,n),n+=2,o.maxTwilightPoints=i.readUshort(e,n),n+=2,o.maxStorage=i.readUshort(e,n),n+=2,o.maxFunctionDefs=i.readUshort(e,n),n+=2,o.maxInstructionDefs=i.readUshort(e,n),n+=2,o.maxStackElements=i.readUshort(e,n),n+=2,o.maxSizeOfInstructions=i.readUshort(e,n),n+=2,o.maxComponentElements=i.readUshort(e,n),n+=2,o.maxComponentDepth=i.readUshort(e,n),n+=2),o},t.name={},t.name.parse=function(e,n,r){var i=t._bin,o={};i.readUshort(e,n),n+=2;var a=i.readUshort(e,n);n+=2,i.readUshort(e,n);for(var s,u=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],c=n+=2,l=0;l<a;l++){var f=i.readUshort(e,n);n+=2;var p=i.readUshort(e,n);n+=2;var h=i.readUshort(e,n);n+=2;var d=i.readUshort(e,n);n+=2;var m=i.readUshort(e,n);n+=2;var v=i.readUshort(e,n);n+=2;var y,g=u[d],b=c+12*a+v;if(0==f)y=i.readUnicode(e,b,m/2);else if(3==f&&0==p)y=i.readUnicode(e,b,m/2);else if(0==p)y=i.readASCII(e,b,m);else if(1==p)y=i.readUnicode(e,b,m/2);else if(3==p)y=i.readUnicode(e,b,m/2);else{if(1!=f)throw"unknown encoding "+p+", platformID: "+f;y=i.readASCII(e,b,m),console.log("reading unknown MAC encoding "+p+" as ASCII")}var _="p"+f+","+h.toString(16);null==o[_]&&(o[_]={}),o[_][g]=y,o[_]._lang=h}for(var w in o)if(null!=o[w].postScriptName&&1033==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName&&0==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName&&3084==o[w]._lang)return o[w];for(var w in o)if(null!=o[w].postScriptName)return o[w];for(var w in o){s=w;break}return console.log("returning name table with languageID "+o[s]._lang),o[s]},t["OS/2"]={},t["OS/2"].parse=function(e,n,r){var i=t._bin.readUshort(e,n);n+=2;var o={};if(0==i)t["OS/2"].version0(e,n,o);else if(1==i)t["OS/2"].version1(e,n,o);else if(2==i||3==i||4==i)t["OS/2"].version2(e,n,o);else{if(5!=i)throw"unknown OS/2 table version: "+i;t["OS/2"].version5(e,n,o)}return o},t["OS/2"].version0=function(e,n,r){var i=t._bin;return r.xAvgCharWidth=i.readShort(e,n),n+=2,r.usWeightClass=i.readUshort(e,n),n+=2,r.usWidthClass=i.readUshort(e,n),n+=2,r.fsType=i.readUshort(e,n),n+=2,r.ySubscriptXSize=i.readShort(e,n),n+=2,r.ySubscriptYSize=i.readShort(e,n),n+=2,r.ySubscriptXOffset=i.readShort(e,n),n+=2,r.ySubscriptYOffset=i.readShort(e,n),n+=2,r.ySuperscriptXSize=i.readShort(e,n),n+=2,r.ySuperscriptYSize=i.readShort(e,n),n+=2,r.ySuperscriptXOffset=i.readShort(e,n),n+=2,r.ySuperscriptYOffset=i.readShort(e,n),n+=2,r.yStrikeoutSize=i.readShort(e,n),n+=2,r.yStrikeoutPosition=i.readShort(e,n),n+=2,r.sFamilyClass=i.readShort(e,n),n+=2,r.panose=i.readBytes(e,n,10),n+=10,r.ulUnicodeRange1=i.readUint(e,n),n+=4,r.ulUnicodeRange2=i.readUint(e,n),n+=4,r.ulUnicodeRange3=i.readUint(e,n),n+=4,r.ulUnicodeRange4=i.readUint(e,n),n+=4,r.achVendID=[i.readInt8(e,n),i.readInt8(e,n+1),i.readInt8(e,n+2),i.readInt8(e,n+3)],n+=4,r.fsSelection=i.readUshort(e,n),n+=2,r.usFirstCharIndex=i.readUshort(e,n),n+=2,r.usLastCharIndex=i.readUshort(e,n),n+=2,r.sTypoAscender=i.readShort(e,n),n+=2,r.sTypoDescender=i.readShort(e,n),n+=2,r.sTypoLineGap=i.readShort(e,n),n+=2,r.usWinAscent=i.readUshort(e,n),n+=2,r.usWinDescent=i.readUshort(e,n),n+=2},t["OS/2"].version1=function(e,n,r){var i=t._bin;return n=t["OS/2"].version0(e,n,r),r.ulCodePageRange1=i.readUint(e,n),n+=4,r.ulCodePageRange2=i.readUint(e,n),n+=4},t["OS/2"].version2=function(e,n,r){var i=t._bin;return n=t["OS/2"].version1(e,n,r),r.sxHeight=i.readShort(e,n),n+=2,r.sCapHeight=i.readShort(e,n),n+=2,r.usDefault=i.readUshort(e,n),n+=2,r.usBreak=i.readUshort(e,n),n+=2,r.usMaxContext=i.readUshort(e,n),n+=2},t["OS/2"].version5=function(e,n,r){var i=t._bin;return n=t["OS/2"].version2(e,n,r),r.usLowerOpticalPointSize=i.readUshort(e,n),n+=2,r.usUpperOpticalPointSize=i.readUshort(e,n),n+=2},t.post={},t.post.parse=function(e,n,r){var i=t._bin,o={};return o.version=i.readFixed(e,n),n+=4,o.italicAngle=i.readFixed(e,n),n+=4,o.underlinePosition=i.readShort(e,n),n+=2,o.underlineThickness=i.readShort(e,n),n+=2,o},t.SVG={},t.SVG.parse=function(e,n,r){var i=t._bin,o={entries:[]},a=n;i.readUshort(e,n),n+=2;var s=i.readUint(e,n);n+=4,i.readUint(e,n),n+=4,n=s+a;var u=i.readUshort(e,n);n+=2;for(var c=0;c<u;c++){var l=i.readUshort(e,n);n+=2;var f=i.readUshort(e,n);n+=2;var p=i.readUint(e,n);n+=4;var h=i.readUint(e,n);n+=4;for(var d=new Uint8Array(e.buffer,a+p+s,h),m=i.readUTF8(d,0,d.length),v=l;v<=f;v++)o.entries[v]=m}return o},t.SVG.toPath=function(e){var n={cmds:[],crds:[]};if(null==e)return n;for(var r=(new DOMParser).parseFromString(e,"image/svg+xml").firstChild;"svg"!=r.tagName;)r=r.nextSibling;var i=r.getAttribute("viewBox");i=i?i.trim().split(" ").map(parseFloat):[0,0,1e3,1e3],t.SVG._toPath(r.children,n);for(var o=0;o<n.crds.length;o+=2){var a=n.crds[o],s=n.crds[o+1];a-=i[0],s=-(s-=i[1]),n.crds[o]=a,n.crds[o+1]=s}return n},t.SVG._toPath=function(e,n,r){for(var i=0;i<e.length;i++){var o=e[i],a=o.tagName,s=o.getAttribute("fill");if(null==s&&(s=r),"g"==a)t.SVG._toPath(o.children,n,s);else if("path"==a){n.cmds.push(s||"#000000");var u=o.getAttribute("d"),c=t.SVG._tokens(u);t.SVG._toksToPath(c,n),n.cmds.push("X")}else"defs"==a||console.log(a,o)}},t.SVG._tokens=function(e){for(var t=[],n=0,r=!1,i="";n<e.length;){var o=e.charCodeAt(n),a=e.charAt(n);n++;var s=48<=o&&o<=57||"."==a||"-"==a;r?"-"==a?(t.push(parseFloat(i)),i=a):s?i+=a:(t.push(parseFloat(i)),","!=a&&" "!=a&&t.push(a),r=!1):s?(i=a,r=!0):","!=a&&" "!=a&&t.push(a)}return r&&t.push(parseFloat(i)),t},t.SVG._toksToPath=function(e,n){for(var r=0,i=0,o=0,a=0,s=0,u={M:2,L:2,H:1,V:1,S:4,C:6},c=n.cmds,l=n.crds;r<e.length;){var f=e[r];if(r++,"z"==f)c.push("Z"),i=a,o=s;else for(var p=f.toUpperCase(),h=u[p],d=t.SVG._reps(e,r,h),m=0;m<d;m++){var v=0,y=0;if(f!=p&&(v=i,y=o),"M"==p)i=v+e[r++],o=y+e[r++],c.push("M"),l.push(i,o),a=i,s=o;else if("L"==p)i=v+e[r++],o=y+e[r++],c.push("L"),l.push(i,o);else if("H"==p)i=v+e[r++],c.push("L"),l.push(i,o);else if("V"==p)o=y+e[r++],c.push("L"),l.push(i,o);else if("C"==p){var g=v+e[r++],b=y+e[r++],_=v+e[r++],w=y+e[r++],x=v+e[r++],S=y+e[r++];c.push("C"),l.push(g,b,_,w,x,S),i=x,o=S}else if("S"==p){var E=Math.max(l.length-4,0);g=i+i-l[E],b=o+o-l[E+1],_=v+e[r++],w=y+e[r++],x=v+e[r++],S=y+e[r++],c.push("C"),l.push(g,b,_,w,x,S),i=x,o=S}else console.log("Unknown SVG command "+f)}}},t.SVG._reps=function(e,t,n){for(var r=t;r<e.length&&"string"!=typeof e[r];)r+=n;return(r-t)/n},null==t&&(t={}),null==t.U&&(t.U={}),t.U.codeToGlyph=function(e,t){var n=e.cmap,r=-1;if(null!=n.p0e4?r=n.p0e4:null!=n.p3e1?r=n.p3e1:null!=n.p1e0?r=n.p1e0:null!=n.p0e3&&(r=n.p0e3),-1==r)throw"no familiar platform and encoding!";var i=n.tables[r];if(0==i.format)return t>=i.map.length?0:i.map[t];if(4==i.format){for(var o=-1,a=0;a<i.endCount.length;a++)if(t<=i.endCount[a]){o=a;break}return-1==o||i.startCount[o]>t?0:65535&(0!=i.idRangeOffset[o]?i.glyphIdArray[t-i.startCount[o]+(i.idRangeOffset[o]>>1)-(i.idRangeOffset.length-o)]:t+i.idDelta[o])}if(12==i.format){if(t>i.groups[i.groups.length-1][1])return 0;for(a=0;a<i.groups.length;a++){var s=i.groups[a];if(s[0]<=t&&t<=s[1])return s[2]+(t-s[0])}return 0}throw"unknown cmap table format "+i.format},t.U.glyphToPath=function(e,n){var r={cmds:[],crds:[]};if(e.SVG&&e.SVG.entries[n]){var i=e.SVG.entries[n];return null==i?r:("string"==typeof i&&(i=t.SVG.toPath(i),e.SVG.entries[n]=i),i)}if(e.CFF){var o={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:e.CFF.Private?e.CFF.Private.defaultWidthX:0,open:!1},a=e.CFF,s=e.CFF.Private;if(a.ROS){for(var u=0;a.FDSelect[u+2]<=n;)u+=2;s=a.FDArray[a.FDSelect[u+1]].Private}t.U._drawCFF(e.CFF.CharStrings[n],o,a,s,r)}else e.glyf&&t.U._drawGlyf(n,e,r);return r},t.U._drawGlyf=function(e,n,r){var i=n.glyf[e];null==i&&(i=n.glyf[e]=t.glyf._parseGlyf(n,e)),null!=i&&(i.noc>-1?t.U._simpleGlyph(i,r):t.U._compoGlyph(i,n,r))},t.U._simpleGlyph=function(e,n){for(var r=0;r<e.noc;r++){for(var i=0==r?0:e.endPts[r-1]+1,o=e.endPts[r],a=i;a<=o;a++){var s=a==i?o:a-1,u=a==o?i:a+1,c=1&e.flags[a],l=1&e.flags[s],f=1&e.flags[u],p=e.xs[a],h=e.ys[a];if(a==i)if(c){if(!l){t.U.P.moveTo(n,p,h);continue}t.U.P.moveTo(n,e.xs[s],e.ys[s])}else l?t.U.P.moveTo(n,e.xs[s],e.ys[s]):t.U.P.moveTo(n,(e.xs[s]+p)/2,(e.ys[s]+h)/2);c?l&&t.U.P.lineTo(n,p,h):f?t.U.P.qcurveTo(n,p,h,e.xs[u],e.ys[u]):t.U.P.qcurveTo(n,p,h,(p+e.xs[u])/2,(h+e.ys[u])/2)}t.U.P.closePath(n)}},t.U._compoGlyph=function(e,n,r){for(var i=0;i<e.parts.length;i++){var o={cmds:[],crds:[]},a=e.parts[i];t.U._drawGlyf(a.glyphIndex,n,o);for(var s=a.m,u=0;u<o.crds.length;u+=2){var c=o.crds[u],l=o.crds[u+1];r.crds.push(c*s.a+l*s.b+s.tx),r.crds.push(c*s.c+l*s.d+s.ty)}for(u=0;u<o.cmds.length;u++)r.cmds.push(o.cmds[u])}},t.U._getGlyphClass=function(e,n){var r=t._lctf.getInterval(n,e);return-1==r?0:n[r+2]},t.U.getPairAdjustment=function(e,n,r){if(e.GPOS)for(var i=e.GPOS,o=i.lookupList,a=i.featureList,s=[],u=0;u<a.length;u++){var c=a[u];if("kern"==c.tag)for(var l=0;l<c.tab.length;l++)if(!s[c.tab[l]]){s[c.tab[l]]=!0;for(var f=o[c.tab[l]],p=0;p<f.tabs.length;p++)if(null!=f.tabs[u]){var h,d=f.tabs[p];if(!d.coverage||-1!=(h=t._lctf.coverageIndex(d.coverage,n)))if(1==f.ltype);else if(2==f.ltype){var m;if(1==d.fmt){var v=d.pairsets[h];for(u=0;u<v.length;u++)v[u].gid2==r&&(m=v[u])}else if(2==d.fmt){var y=t.U._getGlyphClass(n,d.classDef1),g=t.U._getGlyphClass(r,d.classDef2);m=d.matrix[y][g]}if(m&&m.val2)return m.val2[2]}}}}if(e.kern){var b=e.kern.glyph1.indexOf(n);if(-1!=b){var _=e.kern.rval[b].glyph2.indexOf(r);if(-1!=_)return e.kern.rval[b].vals[_]}}return 0},t.U.stringToGlyphs=function(e,n){for(var r=[],i=0;i<n.length;i++)(o=n.codePointAt(i))>65535&&i++,r.push(t.U.codeToGlyph(e,o));for(i=0;i<n.length;i++){var o;if(2367==(o=n.codePointAt(i))){var a=r[i-1];r[i-1]=r[i],r[i]=a}o>65535&&i++}var s=e.GSUB;if(null==s)return r;for(var u=s.lookupList,c=s.featureList,l=["rlig","liga","mset","isol","init","fina","medi","half","pres","blws"],f=[],p=0;p<c.length;p++){var h=c[p];if(-1!=l.indexOf(h.tag))for(var d=0;d<h.tab.length;d++)if(!f[h.tab[d]]){f[h.tab[d]]=!0;for(var m=u[h.tab[d]],v=0;v<r.length;v++){var y=t.U._getWPfeature(n,v);-1!="isol,init,fina,medi".indexOf(h.tag)&&h.tag!=y||t.U._applySubs(r,v,m,u)}}}return r},t.U._getWPfeature=function(e,t){var n='\n\t" ,.:;!?()  \u060c',r="\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0671\u0672\u0673\u0675\u0676\u0677\u0688\u0689\u068a\u068b\u068c\u068d\u068e\u068f\u0690\u0691\u0692\u0693\u0694\u0695\u0696\u0697\u0698\u0699\u06c0\u06c3\u06c4\u06c5\u06c6\u06c7\u06c8\u06c9\u06ca\u06cb\u06cd\u06cf\u06d2\u06d3\u06d5\u06ee\u06ef\u0710\u0715\u0716\u0717\u0718\u0719\u071e\u0728\u072a\u072c\u072f\u074d\u0759\u075a\u075b\u076b\u076c\u0771\u0773\u0774\u0778\u0779\u0840\u0846\u0847\u0849\u0854\u0867\u0869\u086a\u08aa\u08ab\u08ac\u08ae\u08b1\u08b2\u08b9\u0ac5\u0ac7\u0ac9\u0aca\u0ace\u0acf\u0ad0\u0ad1\u0ad2\u0add\u0ae1\u0ae4\u0aef\u0b81\u0b83\u0b84\u0b85\u0b89\u0b8c\u0b8e\u0b8f\u0b91\u0ba9\u0baa\u0bab\u0bac",i=0==t||-1!=n.indexOf(e[t-1]),o=t==e.length-1||-1!=n.indexOf(e[t+1]);return i||-1==r.indexOf(e[t-1])||(i=!0),o||-1==r.indexOf(e[t])||(o=!0),o||-1=="\ua872\u0acd\u0ad7".indexOf(e[t+1])||(o=!0),i||-1=="\ua872\u0acd\u0ad7".indexOf(e[t])||(i=!0),i?o?"isol":"init":o?"fina":"medi"},t.U._applySubs=function(e,n,r,i){for(var o=e.length-n-1,a=0;a<r.tabs.length;a++)if(null!=r.tabs[a]){var s,u=r.tabs[a];if(!u.coverage||-1!=(s=t._lctf.coverageIndex(u.coverage,e[n])))if(1==r.ltype)e[n],1==u.fmt?e[n]=e[n]+u.delta:e[n]=u.newg[s];else if(4==r.ltype)for(var c=u.vals[s],l=0;l<c.length;l++){var f=c[l],p=f.chain.length;if(!(p>o)){for(var h=!0,d=0,m=0;m<p;m++){for(;-1==e[n+d+(1+m)];)d++;f.chain[m]!=e[n+d+(1+m)]&&(h=!1)}if(h){for(e[n]=f.nglyph,m=0;m<p+d;m++)e[n+m+1]=-1;break}}}else if(5==r.ltype&&2==u.fmt)for(var v=t._lctf.getInterval(u.cDef,e[n]),y=u.cDef[v+2],g=u.scset[y],b=0;b<g.length;b++){var _=g[b],w=_.input;if(!(w.length>o)){for(h=!0,m=0;m<w.length;m++){var x=t._lctf.getInterval(u.cDef,e[n+1+m]);if(-1==v&&u.cDef[x+2]!=w[m]){h=!1;break}}if(h){var S=_.substLookupRecords;for(l=0;l<S.length;l+=2)S[l],S[l+1]}}}else if(6==r.ltype&&3==u.fmt){if(!t.U._glsCovered(e,u.backCvg,n-u.backCvg.length))continue;if(!t.U._glsCovered(e,u.inptCvg,n))continue;if(!t.U._glsCovered(e,u.ahedCvg,n+u.inptCvg.length))continue;var E=u.lookupRec;for(b=0;b<E.length;b+=2){v=E[b];var O=i[E[b+1]];t.U._applySubs(e,n+v,O,i)}}}},t.U._glsCovered=function(e,n,r){for(var i=0;i<n.length;i++)if(-1==t._lctf.coverageIndex(n[i],e[r+i]))return!1;return!0},t.U.glyphsToPath=function(e,n,r){for(var i={cmds:[],crds:[]},o=0,a=0;a<n.length;a++){var s=n[a];if(-1!=s){for(var u=a<n.length-1&&-1!=n[a+1]?n[a+1]:0,c=t.U.glyphToPath(e,s),l=0;l<c.crds.length;l+=2)i.crds.push(c.crds[l]+o),i.crds.push(c.crds[l+1]);for(r&&i.cmds.push(r),l=0;l<c.cmds.length;l++)i.cmds.push(c.cmds[l]);r&&i.cmds.push("X"),o+=e.hmtx.aWidth[s],a<n.length-1&&(o+=t.U.getPairAdjustment(e,s,u))}}return i},t.U.pathToSVG=function(e,t){null==t&&(t=5);for(var n=[],r=0,i={M:2,L:2,Q:4,C:6},o=0;o<e.cmds.length;o++){var a=e.cmds[o],s=r+(i[a]?i[a]:0);for(n.push(a);r<s;){var u=e.crds[r++];n.push(parseFloat(u.toFixed(t))+(r==s?"":" "))}}return n.join("")},t.U.pathToContext=function(e,t){for(var n=0,r=e.crds,i=0;i<e.cmds.length;i++){var o=e.cmds[i];"M"==o?(t.moveTo(r[n],r[n+1]),n+=2):"L"==o?(t.lineTo(r[n],r[n+1]),n+=2):"C"==o?(t.bezierCurveTo(r[n],r[n+1],r[n+2],r[n+3],r[n+4],r[n+5]),n+=6):"Q"==o?(t.quadraticCurveTo(r[n],r[n+1],r[n+2],r[n+3]),n+=4):"#"==o.charAt(0)?(t.beginPath(),t.fillStyle=o):"Z"==o?t.closePath():"X"==o&&t.fill()}},t.U.P={},t.U.P.moveTo=function(e,t,n){e.cmds.push("M"),e.crds.push(t,n)},t.U.P.lineTo=function(e,t,n){e.cmds.push("L"),e.crds.push(t,n)},t.U.P.curveTo=function(e,t,n,r,i,o,a){e.cmds.push("C"),e.crds.push(t,n,r,i,o,a)},t.U.P.qcurveTo=function(e,t,n,r,i){e.cmds.push("Q"),e.crds.push(t,n,r,i)},t.U.P.closePath=function(e){e.cmds.push("Z")},t.U._drawCFF=function(e,n,r,i,o){for(var a=n.stack,s=n.nStems,u=n.haveWidth,c=n.width,l=n.open,f=0,p=n.x,h=n.y,d=0,m=0,v=0,y=0,g=0,b=0,_=0,w=0,x=0,S=0,E={val:0,size:0};f<e.length;){t.CFF.getCharString(e,f,E);var O=E.val;if(f+=E.size,"o1"==O||"o18"==O)a.length%2!==0&&!u&&(c=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,u=!0;else if("o3"==O||"o23"==O)a.length%2!==0&&!u&&(c=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,u=!0;else if("o4"==O)a.length>1&&!u&&(c=a.shift()+i.nominalWidthX,u=!0),l&&t.U.P.closePath(o),h+=a.pop(),t.U.P.moveTo(o,p,h),l=!0;else if("o5"==O)for(;a.length>0;)p+=a.shift(),h+=a.shift(),t.U.P.lineTo(o,p,h);else if("o6"==O||"o7"==O)for(var T=a.length,M="o6"==O,P=0;P<T;P++){var A=a.shift();M?p+=A:h+=A,M=!M,t.U.P.lineTo(o,p,h)}else if("o8"==O||"o24"==O){T=a.length;for(var C=0;C+6<=T;)d=p+a.shift(),m=h+a.shift(),v=d+a.shift(),y=m+a.shift(),p=v+a.shift(),h=y+a.shift(),t.U.P.curveTo(o,d,m,v,y,p,h),C+=6;"o24"==O&&(p+=a.shift(),h+=a.shift(),t.U.P.lineTo(o,p,h))}else{if("o11"==O)break;if("o1234"==O||"o1235"==O||"o1236"==O||"o1237"==O)"o1234"==O&&(m=h,v=(d=p+a.shift())+a.shift(),S=y=m+a.shift(),b=y,w=h,p=(_=(g=(x=v+a.shift())+a.shift())+a.shift())+a.shift(),t.U.P.curveTo(o,d,m,v,y,x,S),t.U.P.curveTo(o,g,b,_,w,p,h)),"o1235"==O&&(d=p+a.shift(),m=h+a.shift(),v=d+a.shift(),y=m+a.shift(),x=v+a.shift(),S=y+a.shift(),g=x+a.shift(),b=S+a.shift(),_=g+a.shift(),w=b+a.shift(),p=_+a.shift(),h=w+a.shift(),a.shift(),t.U.P.curveTo(o,d,m,v,y,x,S),t.U.P.curveTo(o,g,b,_,w,p,h)),"o1236"==O&&(d=p+a.shift(),m=h+a.shift(),v=d+a.shift(),S=y=m+a.shift(),b=y,_=(g=(x=v+a.shift())+a.shift())+a.shift(),w=b+a.shift(),p=_+a.shift(),t.U.P.curveTo(o,d,m,v,y,x,S),t.U.P.curveTo(o,g,b,_,w,p,h)),"o1237"==O&&(d=p+a.shift(),m=h+a.shift(),v=d+a.shift(),y=m+a.shift(),x=v+a.shift(),S=y+a.shift(),g=x+a.shift(),b=S+a.shift(),_=g+a.shift(),w=b+a.shift(),Math.abs(_-p)>Math.abs(w-h)?p=_+a.shift():h=w+a.shift(),t.U.P.curveTo(o,d,m,v,y,x,S),t.U.P.curveTo(o,g,b,_,w,p,h));else if("o14"==O){if(a.length>0&&!u&&(c=a.shift()+r.nominalWidthX,u=!0),4==a.length){var k=a.shift(),j=a.shift(),R=a.shift(),D=a.shift(),N=t.CFF.glyphBySE(r,R),L=t.CFF.glyphBySE(r,D);t.U._drawCFF(r.CharStrings[N],n,r,i,o),n.x=k,n.y=j,t.U._drawCFF(r.CharStrings[L],n,r,i,o)}l&&(t.U.P.closePath(o),l=!1)}else if("o19"==O||"o20"==O)a.length%2!==0&&!u&&(c=a.shift()+i.nominalWidthX),s+=a.length>>1,a.length=0,u=!0,f+=s+7>>3;else if("o21"==O)a.length>2&&!u&&(c=a.shift()+i.nominalWidthX,u=!0),h+=a.pop(),p+=a.pop(),l&&t.U.P.closePath(o),t.U.P.moveTo(o,p,h),l=!0;else if("o22"==O)a.length>1&&!u&&(c=a.shift()+i.nominalWidthX,u=!0),p+=a.pop(),l&&t.U.P.closePath(o),t.U.P.moveTo(o,p,h),l=!0;else if("o25"==O){for(;a.length>6;)p+=a.shift(),h+=a.shift(),t.U.P.lineTo(o,p,h);d=p+a.shift(),m=h+a.shift(),v=d+a.shift(),y=m+a.shift(),p=v+a.shift(),h=y+a.shift(),t.U.P.curveTo(o,d,m,v,y,p,h)}else if("o26"==O)for(a.length%2&&(p+=a.shift());a.length>0;)d=p,m=h+a.shift(),p=v=d+a.shift(),h=(y=m+a.shift())+a.shift(),t.U.P.curveTo(o,d,m,v,y,p,h);else if("o27"==O)for(a.length%2&&(h+=a.shift());a.length>0;)m=h,v=(d=p+a.shift())+a.shift(),y=m+a.shift(),p=v+a.shift(),h=y,t.U.P.curveTo(o,d,m,v,y,p,h);else if("o10"==O||"o29"==O){var I="o10"==O?i:r;if(0==a.length)console.log("error: empty stack");else{var B=a.pop(),F=I.Subrs[B+I.Bias];n.x=p,n.y=h,n.nStems=s,n.haveWidth=u,n.width=c,n.open=l,t.U._drawCFF(F,n,r,i,o),p=n.x,h=n.y,s=n.nStems,u=n.haveWidth,c=n.width,l=n.open}}else if("o30"==O||"o31"==O){var U=a.length,z=(C=0,"o31"==O);for(C+=U-(T=-3&U);C<T;)z?(m=h,v=(d=p+a.shift())+a.shift(),h=(y=m+a.shift())+a.shift(),T-C==5?(p=v+a.shift(),C++):p=v,z=!1):(d=p,m=h+a.shift(),v=d+a.shift(),y=m+a.shift(),p=v+a.shift(),T-C==5?(h=y+a.shift(),C++):h=y,z=!0),t.U.P.curveTo(o,d,m,v,y,p,h),C+=4}else{if("o"==(O+"").charAt(0))throw console.log("Unknown operation: "+O,e),O;a.push(O)}}}n.x=p,n.y=h,n.nStems=s,n.haveWidth=u,n.width=c,n.open=l},t},function(){var e=function(){var e={};function t(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function n(e,n){this.source=e,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=n,this.destLen=0,this.ltree=new t,this.dtree=new t}var r=new t,i=new t,o=new Uint8Array(30),a=new Uint16Array(30),s=new Uint8Array(30),u=new Uint16Array(30),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l=new t,f=new Uint8Array(320);function p(e,t,n,r){var i,o;for(i=0;i<n;++i)e[i]=0;for(i=0;i<30-n;++i)e[i+n]=i/n|0;for(o=r,i=0;i<30;++i)t[i]=o,o+=1<<e[i]}var h=new Uint16Array(16);function d(e,t,n,r){var i,o;for(i=0;i<16;++i)e.table[i]=0;for(i=0;i<r;++i)e.table[t[n+i]]++;for(e.table[0]=0,o=0,i=0;i<16;++i)h[i]=o,o+=e.table[i];for(i=0;i<r;++i)t[n+i]&&(e.trans[h[t[n+i]]++]=i)}function m(e){e.bitcount--||(e.tag=e.source[e.sourceIndex++],e.bitcount=7);var t=1&e.tag;return e.tag>>>=1,t}function v(e,t,n){if(!t)return n;for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var r=e.tag&65535>>>16-t;return e.tag>>>=t,e.bitcount-=t,r+n}function y(e,t){for(;e.bitcount<24;)e.tag|=e.source[e.sourceIndex++]<<e.bitcount,e.bitcount+=8;var n=0,r=0,i=0,o=e.tag;do{r=2*r+(1&o),o>>>=1,++i,n+=t.table[i],r-=t.table[i]}while(r>=0);return e.tag=o,e.bitcount-=i,t.trans[n+r]}function g(e,t,n){var r,i,o,a,s,u;for(r=v(e,5,257),i=v(e,5,1),o=v(e,4,4),a=0;a<19;++a)f[a]=0;for(a=0;a<o;++a){var p=v(e,3,0);f[c[a]]=p}for(d(l,f,0,19),s=0;s<r+i;){var h=y(e,l);switch(h){case 16:var m=f[s-1];for(u=v(e,2,3);u;--u)f[s++]=m;break;case 17:for(u=v(e,3,3);u;--u)f[s++]=0;break;case 18:for(u=v(e,7,11);u;--u)f[s++]=0;break;default:f[s++]=h}}d(t,f,0,r),d(n,f,r,i)}function b(e,t,n){for(;;){var r,i,c,l,f=y(e,t);if(256===f)return 0;if(f<256)e.dest[e.destLen++]=f;else for(r=v(e,o[f-=257],a[f]),i=y(e,n),l=c=e.destLen-v(e,s[i],u[i]);l<c+r;++l)e.dest[e.destLen++]=e.dest[l]}}function _(e){for(var t,n;e.bitcount>8;)e.sourceIndex--,e.bitcount-=8;if((t=256*(t=e.source[e.sourceIndex+1])+e.source[e.sourceIndex])!==(65535&~(256*e.source[e.sourceIndex+3]+e.source[e.sourceIndex+2])))return-3;for(e.sourceIndex+=4,n=t;n;--n)e.dest[e.destLen++]=e.source[e.sourceIndex++];return e.bitcount=0,0}return function(e,t){var n;for(n=0;n<7;++n)e.table[n]=0;for(e.table[7]=24,e.table[8]=152,e.table[9]=112,n=0;n<24;++n)e.trans[n]=256+n;for(n=0;n<144;++n)e.trans[24+n]=n;for(n=0;n<8;++n)e.trans[168+n]=280+n;for(n=0;n<112;++n)e.trans[176+n]=144+n;for(n=0;n<5;++n)t.table[n]=0;for(t.table[5]=32,n=0;n<32;++n)t.trans[n]=n}(r,i),p(o,a,4,3),p(s,u,2,1),o[28]=0,a[28]=258,e.exports=function(e,t){var o,a,s=new n(e,t);do{switch(o=m(s),v(s,2,0)){case 0:a=_(s);break;case 1:a=b(s,r,i);break;case 2:g(s,s.ltree,s.dtree),a=b(s,s.ltree,s.dtree);break;default:a=-3}if(0!==a)throw new Error("Data error")}while(!o);return s.destLen<s.dest.length?"function"===typeof s.dest.slice?s.dest.slice(0,s.destLen):s.dest.subarray(0,s.destLen):s.dest},e.exports}();return function(t){return function(e,t){var n=new DataView(e),r=0;function i(){var e=n.getUint16(r);return r+=2,e}function o(){var e=n.getUint32(r);return r+=4,e}function a(e){g.setUint16(b,e),b+=2}function s(e){g.setUint32(b,e),b+=4}for(var u={signature:o(),flavor:o(),length:o(),numTables:i(),reserved:i(),totalSfntSize:o(),majorVersion:i(),minorVersion:i(),metaOffset:o(),metaLength:o(),metaOrigLength:o(),privOffset:o(),privLength:o()},c=0;Math.pow(2,c)<=u.numTables;)c++;c--;for(var l=16*Math.pow(2,c),f=16*u.numTables-l,p=12,h=[],d=0;d<u.numTables;d++)h.push({tag:o(),offset:o(),compLength:o(),origLength:o(),origChecksum:o()}),p+=16;var m,v=new Uint8Array(12+16*h.length+h.reduce((function(e,t){return e+t.origLength+4}),0)),y=v.buffer,g=new DataView(y),b=0;return s(u.flavor),a(u.numTables),a(l),a(c),a(f),h.forEach((function(e){s(e.tag),s(e.origChecksum),s(p),s(e.origLength),e.outOffset=p,(p+=e.origLength)%4!=0&&(p+=4-p%4)})),h.forEach((function(n){var r=e.slice(n.offset,n.offset+n.compLength);if(n.compLength!=n.origLength){var i=new Uint8Array(n.origLength);t(new Uint8Array(r,2),i)}else i=new Uint8Array(r);v.set(i,n.outOffset);var o=0;(p=n.outOffset+n.origLength)%4!=0&&(o=4-p%4),v.set(new Uint8Array(o).buffer,n.outOffset+n.origLength),m=p+o})),y.slice(0,m)}(t,e)}},function(e,t){var n={M:2,L:2,Q:4,C:6,Z:0};return function(r){var i=new Uint8Array(r,0,4),o=e._bin.readASCII(i,0,4);if("wOFF"===o)r=t(r);else if("wOF2"===o)throw new Error("woff2 fonts not supported");return function(t){var r=Object.create(null),i={unitsPerEm:t.head.unitsPerEm,ascender:t.hhea.ascender,descender:t.hhea.descender,forEachGlyph:function(o,a,s,u){var c=0,l=1/i.unitsPerEm*a,f=e.U.stringToGlyphs(t,o),p=0;return f.forEach((function(i){if(-1!==i){var f=r[i];if(!f){var h,d,m,v,y=e.U.glyphToPath(t,i),g=y.cmds,b=y.crds;if(b.length){h=d=1/0,m=v=-1/0;for(var _=0,w=b.length;_<w;_+=2){var x=b[_],S=b[_+1];x<h&&(h=x),S<d&&(d=S),x>m&&(m=x),S>v&&(v=S)}}else h=m=d=v=0;f=r[i]={index:i,advanceWidth:t.hmtx.aWidth[i],xMin:h,yMin:d,xMax:m,yMax:v,pathCommandCount:g.length,forEachPathCommand:function(e){for(var t=0,r=[],i=0,o=g.length;i<o;i++){var a=n[g[i]];r.length=1+a,r[0]=g[i];for(var s=1;s<=a;s++)r[s]=b[t++];e.apply(null,r)}}}}u.call(null,f,c,p),f.advanceWidth&&(c+=f.advanceWidth*l),s&&(c+=s*a)}p+=o.codePointAt(p)>65535?2:1})),c}};return i}(e.parse(r)[0])}}],init:function(e,t,n){return n(e(),t())}}),a={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,textureWidth:2048},s=new t.Color,u=Object.create(null);function c(e,n){if((e=l({},e)).font=(f=e.font||a.defaultFontURL,i||(i="undefined"===typeof document?{}:document.createElement("a")),i.href=f,i.href),e.text=""+e.text,e.sdfGlyphSize=e.sdfGlyphSize||a.sdfGlyphSize,null!=e.colorRanges){var r={};for(var o in e.colorRanges)if(e.colorRanges.hasOwnProperty(o)){var c=e.colorRanges[o];"number"!==typeof c&&(c=s.set(c).getHex()),r[o]=c}e.colorRanges=r}var f;Object.freeze(e);var h=a.textureWidth,d=e.sdfGlyphSize,m=e.font+"@"+d,v=u[m];v||((v=u[m]={sdfTexture:new t.DataTexture(new Uint8Array(d*h),h,d,t.LuminanceFormat,void 0,void 0,void 0,void 0,t.LinearFilter,t.LinearFilter)}).sdfTexture.font=e.font),p(e).then((function(t){t.newGlyphSDFs&&(t.newGlyphSDFs.forEach((function(e){for(var t=e.textureData,n=e.atlasIndex,r=v.sdfTexture.image;r.data.length<(n+1)*d*d;){var i=new Uint8Array(2*r.data.length);i.set(r.data),r.data=i,r.height*=2}for(var o=r.width/d,a=0;a<d;a++)for(var s=a*d,u=r.width*d*Math.floor(n/o)+n%o*d+a*r.width,c=0;c<d;c++)r.data[u+c]=t[s+c]})),v.sdfTexture.needsUpdate=!0),n(Object.freeze({parameters:e,sdfTexture:v.sdfTexture,sdfGlyphSize:d,sdfMinDistancePercent:1/8,glyphBounds:t.glyphBounds,glyphAtlasIndices:t.glyphAtlasIndices,glyphColors:t.glyphColors,caretPositions:t.caretPositions,caretHeight:t.caretHeight,chunkedBounds:t.chunkedBounds,ascender:t.ascender,descender:t.descender,lineHeight:t.lineHeight,topBaseline:t.topBaseline,totalBounds:t.totalBounds,totalBlockSize:t.totalBlockSize,timings:t.timings}))}))}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}var f=n.defineWorkerModule({name:"FontProcessor",dependencies:[a,1/8,o,function(e){var t=e.xMin,n=e.yMin,r=e.xMax-t,i=e.yMax-n,o={0:null,1:null,2:null,3:null,data:null,cx:Math.round(t+r/2),cy:Math.round(n+i/2),r:Math.pow(2,Math.floor(Math.log(Math.max(r,i))*Math.LOG2E)),minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};function a(e){!function e(t,n){if(!1!==n(t)&&!t.data)for(var r=0;r<4;r++)null!==t[r]&&e(t[r],n)}(o,e)}function s(e,t,n,r,i,o){var a=i-n,s=o-r,u=a*a+s*s,c=u?Math.max(0,Math.min(1,((e-n)*a+(t-r)*s)/u)):0,l=e-(n+c*a),f=t-(r+c*s);return l*l+f*f}return{addLineSegment:function(e,t,n,r){!function e(t,n){var r=t.minX,i=t.minY,o=t.maxX,a=t.maxY,s=t.cx,u=t.cy;r<n.minX&&(n.minX=r),i<n.minY&&(n.minY=i),o>n.maxX&&(n.maxX=o),a>n.maxY&&(n.maxY=a);var c=n.data;if(c)if(c.cx===s&&c.cy===u){for(;c.next;)c=c.next;c.next=t}else n.data=null,e(c,n),e(t,n);else{var l=(u<n.cy?0:2)+(s<n.cx?0:1);n[l]?e(t,n[l]):n[l]={0:null,1:null,2:null,3:null,data:t,cx:n.cx+n.r/2*(l%2?1:-1),cy:n.cy+n.r/2*(l<2?-1:1),r:n.r/2,minX:r,minY:i,maxX:o,maxY:a}}}({x0:e,y0:t,x1:n,y1:r,cx:(e+n)/2,cy:(t+r)/2,minX:Math.min(e,n),minY:Math.min(t,r),maxX:Math.max(e,n),maxY:Math.max(t,r),next:null},o)},findNearestSignedDistance:function(e,t,n){var r=n,i=r*r;return a((function(n){if(e-r>n.maxX||e+r<n.minX||t-r>n.maxY||t+r<n.minY)return!1;for(var o=n.data;o;o=o.next){var a=s(e,t,o.x0,o.y0,o.x1,o.y1);a<i&&(i=a,r=Math.sqrt(a))}})),function(e,t){var n=!1;return a((function(r){if(r.maxX<e||r.minY>t||r.maxY<t)return!1;for(var i=r.data;i;i=i.next){var o=i.x0,a=i.y0,s=i.x1,u=i.y1;a>t!==u>t&&e<(s-o)*(t-a)/(u-a)+o&&(n=!n)}})),n}(e,t)||(r=-r),r}}},function(e,t){var n=t.sdfDistancePercent;function r(e,t,n,r,i,o,a){var s=1-a;return{x:s*s*e+2*s*a*n+a*a*i,y:s*s*t+2*s*a*r+a*a*o}}function i(e,t,n,r,i,o,a,s,u){var c=1-u;return{x:c*c*c*e+3*c*c*u*n+3*c*u*u*i+u*u*u*a,y:c*c*c*t+3*c*c*u*r+3*c*u*u*o+u*u*u*s}}return function(t,o){var a=new Uint8Array(o*o),s=t.xMax-t.xMin,u=t.yMax-t.yMin,c=Math.max(s,u)*n,l=(s+2*c)/o,f=(u+2*c)/o,p=t.xMin-c-l,h=t.yMin-c-f,d=t.xMax+c+l,m=t.yMax+c+f;if(t.pathCommandCount){var v,y,g,b,_=e(t);t.forEachPathCommand((function(e,t,n,o,a,s,u){switch(e){case"M":g=v=t,b=y=n;break;case"L":t===g&&n===b||_.addLineSegment(g,b,g=t,b=n);break;case"Q":for(var c={x:g,y:b},l=1;l<16;l++){var f=r(g,b,t,n,o,a,l/15);_.addLineSegment(c.x,c.y,f.x,f.y),c=f}g=o,b=a;break;case"C":for(var p={x:g,y:b},h=1;h<16;h++){var d=i(g,b,t,n,o,a,s,u,h/15);_.addLineSegment(p.x,p.y,d.x,d.y),p=d}g=s,b=u;break;case"Z":g===v&&b===y||_.addLineSegment(g,b,v,y)}}));for(var w=0;w<o;w++)for(var x=0;x<o;x++){var S=_.findNearestSignedDistance(p+(d-p)*(w+.5)/o,h+(m-h)*(x+.5)/o,c),E=isFinite(S)?Math.round(255*(1+S/c)*.5):S;E=Math.max(0,Math.min(255,E)),a[x*o+w]=E}}return{textureData:a,renderingBounds:[p,h,d,m]}}},function(e,t,n){var r=n.defaultFontUrl,i=Object.create(null),o=Object.create(null);function a(t,n){t||(t=r);var i=o[t];i?i.pending?i.pending.push(n):n(i):(o[t]={pending:[n]},function(t,n){!function i(){var o=function(e){console.error("Failure loading font "+t+(t===r?"":"; trying fallback"),e),t!==r&&(t=r,i())};try{var a=new XMLHttpRequest;a.open("get",t,!0),a.responseType="arraybuffer",a.onload=function(){if(a.status>=400)o(new Error(a.statusText));else if(a.status>0)try{var t=e(a.response);n(t)}catch(r){o(r)}},a.onerror=o,a.send()}catch(s){o(s)}}()}(t,(function(e){var n=o[t].pending;o[t]=e,n.forEach((function(t){return t(e)}))})))}function s(e,n,o){var s=e.text;void 0===s&&(s="");var f=e.font;void 0===f&&(f=r);var p=e.sdfGlyphSize;void 0===p&&(p=64);var h=e.fontSize;void 0===h&&(h=1);var d=e.letterSpacing;void 0===d&&(d=0);var m=e.lineHeight;void 0===m&&(m="normal");var v=e.maxWidth;void 0===v&&(v=1/0);var y=e.textAlign;void 0===y&&(y="left");var g=e.textIndent;void 0===g&&(g=0);var b=e.whiteSpace;void 0===b&&(b="normal");var _=e.overflowWrap;void 0===_&&(_="normal");var w=e.anchorX;void 0===w&&(w=0);var x=e.anchorY;void 0===x&&(x=0);var S=e.includeCaretPositions;void 0===S&&(S=!1);var E=e.chunkedBoundsSize;void 0===E&&(E=8192);var O=e.colorRanges;void 0===O&&(O=null),void 0===o&&(o=!1);var T=c(),M={total:0,fontLoad:0,layout:0,sdf:{},sdfTotal:0};s.indexOf("\r")>-1&&(console.warn("FontProcessor.process: got text with \\r chars; normalizing to \\n"),s=s.replace(/\r\n/g,"\n").replace(/\r/g,"\n")),h=+h,d=+d,v=+v,m=m||"normal",g=+g,function(e,t,n){e||(e=r);var o=e+"@"+t,s=i[o];s?n(s):a(e,(function(e){s=i[o]||(i[o]={fontObj:e,glyphs:{},glyphCount:0}),n(s)}))}(f,p,(function(e){var r=e.fontObj,i=isFinite(v),a=null,f=null,P=null,A=null,C=null,k=null,j=null,R=0,D=0,N="nowrap"!==b,L=r.ascender,I=r.descender,B=r.unitsPerEm;M.fontLoad=c()-T;var F=c(),U=h/B;"normal"===m&&(m=(L-I)/B);var z=((m*=h)-(L-I)*U)/2,V=-(h+z),H=Math.min(m,(L-I)*U),$=(L+I)/2*U-H/2,G=g,W=new l,q=[W];if(r.forEachGlyph(s,h,d,(function(e,t,n){var r,o=s.charAt(n),a=e.advanceWidth*U,u=W.count;if("isEmpty"in e||(e.isWhitespace=!!o&&/\s/.test(o),e.isEmpty=e.xMin===e.xMax||e.yMin===e.yMax),e.isWhitespace||e.isEmpty||D++,N&&i&&!e.isWhitespace&&t+a+G>v&&u){if(W.glyphAt(u-1).glyphObj.isWhitespace)r=new l,G=-t;else for(var c=u;c--;){if(0===c&&"break-word"===_){r=new l,G=-t;break}if(W.glyphAt(c).glyphObj.isWhitespace){var f=(r=W.splitAt(c+1)).glyphAt(0).x;G-=f;for(var p=r.count;p--;)r.glyphAt(p).x-=f;break}}r&&(W.isSoftWrapped=!0,W=r,q.push(W),R=v)}var m=W.glyphAt(W.count);m.glyphObj=e,m.x=t+G,m.width=a,m.charIndex=n,"\n"===o&&(W=new l,q.push(W),G=-(t+a+d*h)+g)})),q.forEach((function(e){for(var t=e.count;t--;){var n=e.glyphAt(t),r=n.glyphObj,i=n.x,o=n.width;if(!r.isWhitespace)return e.width=i+o,void(e.width>R&&(R=e.width))}})),!o){var Y=0,X=0;if(w&&("number"===typeof w?Y=-w:"string"===typeof w&&(Y=-R*("left"===w?0:"center"===w?.5:"right"===w?1:u(w)))),x)if("number"===typeof x)X=-x;else if("string"===typeof x){var Z=q.length*m;X="top"===x?0:"top-baseline"===x?-V:"middle"===x?Z/2:"bottom"===x?Z:"bottom-baseline"===x?Z-z+I*U:u(x)*Z}f=new Float32Array(4*D),P=new Float32Array(D),k=[1/0,1/0,-1/0,-1/0],j=[];var Q=V;S&&(C=new Float32Array(3*s.length)),O&&(A=new Uint8Array(3*D));var K,J,ee=0,te=-1,ne=-1;q.forEach((function(n){var r=n.count,i=n.width;if(r>0){var o=0,u=0;if("center"===y)o=(R-i)/2;else if("right"===y)o=R-i;else if("justify"===y&&n.isSoftWrapped){for(var l=0,h=r;h--;)if(!n.glyphAt(h).glyphObj.isWhitespace){for(;h--;)n.glyphAt(h).glyphObj,n.glyphAt(h).glyphObj.isWhitespace&&l++;break}u=(R-i)/l}for(var d=0;d<r;d++){var v=n.glyphAt(d),g=v.glyphObj;if(o&&(v.x+=o),0!==u&&g.isWhitespace&&(o+=u,v.width+=u),S){var b=v.charIndex;for(C[3*b]=v.x+Y,C[3*b+1]=v.x+v.width+Y,C[3*b+2]=Q+$+X;b-te>1;)C[3*(te+1)]=C[3*te+1],C[3*(te+1)+1]=C[3*te+1],C[3*(te+1)+2]=C[3*te+2],te++;te=b}if(O)for(var _=v.charIndex;_>ne;)ne++,O.hasOwnProperty(ne)&&(J=O[ne]);if(!g.isWhitespace&&!g.isEmpty){var w=ee++,x=e.glyphs[g.index];if(!x){var T=c(),D=t(g,p);M.sdf[s.charAt(v.charIndex)]=c()-T,D.atlasIndex=e.glyphCount++,a||(a=[]),a.push(D),x=e.glyphs[g.index]={atlasIndex:D.atlasIndex,glyphObj:g,renderingBounds:D.renderingBounds}}var N=x.renderingBounds,L=4*w,I=f[L]=v.x+N[0]*U+Y,B=f[L+1]=Q+N[1]*U+X,F=f[L+2]=v.x+N[2]*U+Y,z=f[L+3]=Q+N[3]*U+X;if(I<k[0]&&(k[0]=I),B<k[1]&&(k[1]=B),F>k[2]&&(k[2]=F),z>k[3]&&(k[3]=z),w%E===0&&(K={start:w,end:w,rect:[1/0,1/0,-1/0,-1/0]},j.push(K)),K.end++,I<K.rect[0]&&(K.rect[0]=I),B<K.rect[1]&&(K.rect[1]=B),F>K.rect[2]&&(K.rect[2]=F),z>K.rect[3]&&(K.rect[3]=z),P[w]=x.atlasIndex,O){var V=3*w;A[V]=J>>16&255,A[V+1]=J>>8&255,A[V+2]=255&J}}}}Q-=m}))}for(var re in M.sdf)M.sdfTotal+=M.sdf[re];M.layout=c()-F-M.sdfTotal,M.total=c()-T,n({glyphBounds:f,glyphAtlasIndices:P,caretPositions:C,caretHeight:H,glyphColors:A,chunkedBounds:j,ascender:L*U,descender:I*U,lineHeight:m,topBaseline:V,totalBounds:k,totalBlockSize:[R,q.length*m],newGlyphSDFs:a,timings:M})}))}function u(e){var t=e.match(/^([\d.]+)%$/),n=t?parseFloat(t[1]):NaN;return isNaN(n)?0:n/100}function c(){return(self.performance||Date).now()}function l(){this.data=[]}return l.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/4)},glyphAt:function(e){var t=l.flyweight;return t.data=this.data,t.index=e,t},splitAt:function(e){var t=new l;return t.data=this.data.splice(4*e),t}},l.flyweight=["glyphObj","x","width","charIndex"].reduce((function(e,t,n,r){return Object.defineProperty(e,t,{get:function(){return this.data[4*this.index+n]},set:function(e){this.data[4*this.index+n]=e}}),e}),{data:null,index:0}),{process:s,measure:function(e,t){s(e,(function(e){t({width:e.totalBlockSize[0],height:e.totalBlockSize[1]})}),{metricsOnly:!0})},loadFont:a}}],init:function(e,t,n,r,i,o){return o(n,i(r,{sdfDistancePercent:t}),{defaultFontUrl:e.defaultFontURL})}}),p=n.defineWorkerModule({name:"TextBuilder",dependencies:[f,n.ThenableWorkerModule],init:function(e,t){return function(n){var r=new t;return e.process(n,r.resolve),r}},getTransferables:function(e){var t=[e.glyphBounds.buffer,e.glyphAtlasIndices.buffer];return e.caretPositions&&t.push(e.caretPositions.buffer),e.newGlyphSDFs&&e.newGlyphSDFs.forEach((function(e){t.push(e.textureData.buffer)})),t}}),h={},d=new t.Vector3,m=function(e){function n(){e.call(this),this.detail=1,this.boundingSphere=new t.Sphere}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={detail:{configurable:!0}};return n.prototype.computeBoundingSphere=function(){},r.detail.set=function(e){var n=this;if(e!==this._detail){this._detail=e,("number"!==typeof e||e<1)&&(e=1);var r=function(e){var n=h[e];return n||(n=h[e]=new t.PlaneBufferGeometry(1,1,e,e).translate(.5,.5,0)),n}(e);["position","normal","uv"].forEach((function(e){n.attributes[e]=r.attributes[e].clone()})),this.setIndex(r.getIndex().clone())}},r.detail.get=function(){return this._detail},n.prototype.updateGlyphs=function(e,t,n,r,i){v(this,"aTroikaGlyphBounds",e,4),v(this,"aTroikaGlyphIndex",t,1),v(this,"aTroikaGlyphColor",i,3),this._chunkedBounds=r,y(this,t.length);var o=this.boundingSphere;o.center.set((n[0]+n[2])/2,(n[1]+n[3])/2,0),o.radius=o.center.distanceTo(d.set(n[0],n[1],0))},n.prototype.applyClipRect=function(e){var t=this.getAttribute("aTroikaGlyphIndex").count,n=this._chunkedBounds;if(n)for(var r=n.length;r--;){t=n[r].end;var i=n[r].rect;if(i[1]<e.w&&i[3]>e.y&&i[0]<e.z&&i[2]>e.x)break}y(this,t)},Object.defineProperties(n.prototype,r),n}(t.InstancedBufferGeometry);function v(e,n,r,i){var o=e.getAttribute(n);r?o&&o.array.length===r.length?(o.array.set(r),o.needsUpdate=!0):(e.setAttribute(n,new t.InstancedBufferAttribute(r,i)),delete e._maxInstanceCount,e.dispose()):o&&e.deleteAttribute(n)}function y(e,t){e[e.hasOwnProperty("instanceCount")?"instanceCount":"maxInstancedCount"]=t}function g(e){var n=r.createDerivedMaterial(e,{extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new t.Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFMinDistancePct:{value:0},uTroikaTotalBounds:{value:new t.Vector4(0,0,0,0)},uTroikaClipRect:{value:new t.Vector4(0,0,0,0)},uTroikaOrient:{value:new t.Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:"\nuniform vec2 uTroikaSDFTextureSize;\nuniform float uTroikaSDFGlyphSize;\nuniform vec4 uTroikaTotalBounds;\nuniform vec4 uTroikaClipRect;\nuniform mat3 uTroikaOrient;\nuniform bool uTroikaUseGlyphColors;\nattribute vec4 aTroikaGlyphBounds;\nattribute float aTroikaGlyphIndex;\nattribute vec3 aTroikaGlyphColor;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\nvarying vec3 vTroikaGlyphColor;\n",vertexTransform:"\nvec4 bounds = aTroikaGlyphBounds;\nvec4 clippedBounds = vec4(\n  clamp(bounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),\n  clamp(bounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)\n);\nvec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);\nvTroikaGlyphUV = clippedXY.xy;\n\nfloat cols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;\nvTroikaSDFTextureUV = vec2(\n  mod(aTroikaGlyphIndex, cols) + clippedXY.x,\n  floor(aTroikaGlyphIndex / cols) + clippedXY.y\n) * uTroikaSDFGlyphSize / uTroikaSDFTextureSize;\n\nposition.xy = mix(bounds.xy, bounds.zw, clippedXY);\n\nuv = vec2(\n  (position.x - uTroikaTotalBounds.x) / (uTroikaTotalBounds.z - uTroikaTotalBounds.x),\n  (position.y - uTroikaTotalBounds.y) / (uTroikaTotalBounds.w - uTroikaTotalBounds.y)\n);\n\nposition = uTroikaOrient * position;\nnormal = uTroikaOrient * normal;\n",fragmentDefs:"\nuniform sampler2D uTroikaSDFTexture;\nuniform float uTroikaSDFMinDistancePct;\nuniform bool uTroikaSDFDebug;\nvarying vec2 vTroikaSDFTextureUV;\nvarying vec2 vTroikaGlyphUV;\n\nfloat troikaGetTextAlpha() {\n  float troikaSDFValue = texture2D(uTroikaSDFTexture, vTroikaSDFTextureUV).r;\n  \n  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)\n  float alpha = step(0.5, troikaSDFValue);\n  #else\n  \n  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300\n  float aaDist = min(\n    0.5,\n    0.5 * min(\n      fwidth(vTroikaGlyphUV.x),\n      fwidth(vTroikaGlyphUV.y)\n    )\n  ) / uTroikaSDFMinDistancePct;\n  #else\n  float aaDist = 0.01;\n  #endif\n  \n  float alpha = uTroikaSDFDebug ? troikaSDFValue : smoothstep(\n    0.5 - aaDist,\n    0.5 + aaDist,\n    troikaSDFValue\n  );\n  #endif\n  \n  return alpha;\n}\n",fragmentColorTransform:"\nfloat troikaAlphaMult = troikaGetTextAlpha();\nif (troikaAlphaMult == 0.0) {\n  discard;\n} else {\n  gl_FragColor.a *= troikaAlphaMult;\n}\n",customRewriter:function(e){var t=e.vertexShader,n=e.fragmentShader,i=/\buniform\s+vec3\s+diffuse\b/;return i.test(n)&&(n=n.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(t)||(t=t.replace(r.voidMainRegExp,"uniform vec3 diffuse;\n$&\nvTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;\n"))),{vertexShader:t,fragmentShader:n}}});return n.transparent=!0,Object.defineProperties(n,{isTroikaTextMaterial:{value:!0},shadowSide:{get:function(){return this.side},set:function(){}}}),n}m.prototype.setAttribute||(m.prototype.setAttribute=function(e,t){return this.attributes[e]=t,this});var b=new t.MeshBasicMaterial({color:16777215,side:t.DoubleSide,transparent:!0}),_=new t.Matrix4,w=new t.Vector3,x=new t.Vector3,S=[],E=new t.Vector3,O=new t.Mesh(new t.PlaneBufferGeometry(1,1).translate(.5,.5,0),b),T={type:"syncstart"},M={type:"synccomplete"},P=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],A=P.concat("material","color","depthOffset","clipRect","orientation","glyphGeometryDetail"),C=function(e){function t(){var t=new m;e.call(this,t,null),this.text="",this.anchorX=0,this.anchorY=0,this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.depthOffset=0,this.clipRect=null,this.orientation="+x+y",this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.debugSDF=!1}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={textRenderInfo:{configurable:!0},material:{configurable:!0},glyphGeometryDetail:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return t.prototype.sync=function(e){var t=this;this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(T),c({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize},(function(n){t._isSyncing=!1,t._textRenderInfo=n,t.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.totalBounds,n.chunkedBounds,n.glyphColors);var r=t._queuedSyncs;r&&(t._queuedSyncs=null,t._needsSync=!0,t.sync((function(){r.forEach((function(e){return e&&e()}))}))),t.dispatchEvent(M),e&&e()}))))},t.prototype.onBeforeRender=function(){this.sync(),this._prepareForRender()},t.prototype.dispose=function(){this.geometry.dispose()},n.textRenderInfo.get=function(){return this._textRenderInfo||null},n.material.get=function(){var e=this._derivedMaterial,t=this._baseMaterial||b;return e&&e.baseMaterial===t||(e=this._derivedMaterial=g(t),t.addEventListener("dispose",(function n(){t.removeEventListener("dispose",n),e.dispose()}))),e},n.material.set=function(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e},n.glyphGeometryDetail.get=function(){return this.geometry.detail},n.glyphGeometryDetail.set=function(e){this.geometry.detail=e},n.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},n.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},t.prototype._prepareForRender=function(){var e=this._derivedMaterial,t=e.uniforms,n=this.textRenderInfo;if(n){var r=n.sdfTexture,i=n.totalBounds;t.uTroikaSDFTexture.value=r,t.uTroikaSDFTextureSize.value.set(r.image.width,r.image.height),t.uTroikaSDFGlyphSize.value=n.sdfGlyphSize,t.uTroikaSDFMinDistancePct.value=n.sdfMinDistancePercent,t.uTroikaTotalBounds.value.fromArray(i),t.uTroikaUseGlyphColors.value=!!n.glyphColors;var o=this.clipRect;o&&Array.isArray(o)&&4===o.length?t.uTroikaClipRect.value.set(Math.max(i[0],o[0]),Math.max(i[1],o[1]),Math.min(i[2],o[2]),Math.min(i[3],o[3])):t.uTroikaClipRect.value.fromArray(i),this.geometry.applyClipRect(t.uTroikaClipRect.value)}t.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;var a=this.color;null!=a&&e.color&&e.color.isColor&&a!==e._troikaColor&&e.color.set(e._troikaColor=a);var s=this.orientation||"+x+y";if(s!==e._orientation){var u=t.uTroikaOrient.value,c="+x+y"!==(s=s.replace(/[^-+xyz]/g,""))&&s.match(/^([-+])([xyz])([-+])([xyz])$/);if(c){var l=c[1],f=c[2],p=c[3],h=c[4];w.set(0,0,0)[f]="-"===l?1:-1,x.set(0,0,0)[h]="-"===p?-1:1,_.lookAt(E,w.cross(x),x),u.setFromMatrix4(_)}else u.identity();e._orientation=s}},t.prototype.raycast=function(e,t){var n=this.textRenderInfo;if(n){var r=n.totalBounds;O.matrixWorld.multiplyMatrices(this.matrixWorld,_.set(r[2]-r[0],0,0,r[0],0,r[3]-r[1],0,r[1],0,0,1,0,0,0,0,1)),S.length=0,O.raycast(e,S);for(var i=0;i<S.length;i++)S[i].object=this,t.push(S[i])}},t.prototype.copy=function(t){var n=this;return e.prototype.copy.call(this,t),A.forEach((function(e){n[e]=t[e]})),this},t.prototype.clone=function(){return(new this.constructor).copy(this)},Object.defineProperties(t.prototype,n),t}(t.Mesh);P.forEach((function(e){var t="_private_"+e;Object.defineProperty(C.prototype,e,{get:function(){return this[t]},set:function(e){e!==this[t]&&(this[t]=e,this._needsSync=!0)}})}));var k=!1;Object.defineProperty(C.prototype,"anchor",{get:function(){return this._deprecated_anchor},set:function(e){this._deprecated_anchor=e,k||(console.warn("TextMesh: `anchor` has been deprecated; use `anchorX` and `anchorY` instead."),k=!0),Array.isArray(e)?(this.anchorX=100*(+e[0]||0)+"%",this.anchorY=100*(+e[1]||0)+"%"):this.anchorX=this.anchorY=0}});var j=new WeakMap,R=new WeakMap;e.GlyphsGeometry=m,e.Text=C,e.configureTextBuilder=function(e){l(a,e)},e.createTextDerivedMaterial=g,e.fontProcessorWorkerModule=f,e.getCaretAtPoint=function(e,t,n){var r=null,i=e.caretHeight,o=function(e){var t=R.get(e);if(!t){var n=e.caretPositions,r=e.caretHeight;t=new Map;for(var i=0;i<n.length;i+=3){var o=n[i+2],a=t.get(o);a||t.set(o,a=[]),a.push({x:n[i],y:o,height:r,charIndex:i/3}),i+3>=n.length&&a.push({x:n[i+1],y:o,height:r,charIndex:i/3+1})}}return R.set(e,t),t}(e),a=1/0;return o.forEach((function(e,t){Math.abs(n-(t+i/2))<Math.abs(n-(a+i/2))&&(a=t)})),o.get(a).forEach((function(e){(!r||Math.abs(t-e.x)<Math.abs(t-r.x))&&(r=e)})),r},e.getSelectionRects=function(e,t,n){var r;if(e){var i=j.get(e);if(i&&i.start===t&&i.end===n)return i.rects;var o=e.caretPositions,a=e.caretHeight,s=e.totalBounds;if(n<t){var u=t;t=n,n=u}t=Math.max(t,0),n=Math.min(n,o.length+1);for(var c=new Map,l=t;l<n;l++){var f=o[3*l],p=o[3*l+1],h=o[3*l+2],d=c.get(h);d?(d.left=Math.max(Math.min(d.left,f),s[0]),d.right=Math.min(Math.max(d.right,p),s[2])):(d={left:f,right:p,bottom:h,top:h+a},c.set(h,d))}r=[],c.forEach((function(e){r.push(e)})),j.set(e,{start:t,end:n,rects:r})}return r},e.preloadFont=function(e,t){var n=e.font,r=e.characters;c({font:n,sdfGlyphSize:e.sdfGlyphSize,text:Array.isArray(r)?r.join("\n"):""+r},t)},Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1),n(273),n(274))},function(e,t,n){e.exports=function(){var e=function e(){function t(e){return i.appendChild(e.dom),e}function n(e){for(var t=0;t<i.children.length;t++)i.children[t].style.display=t===e?"block":"none";r=e}var r=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",(function(e){e.preventDefault(),n(++r%i.children.length)}),!1);var o=(performance||Date).now(),a=o,s=0,u=t(new e.Panel("FPS","#0ff","#002")),c=t(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var l=t(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:t,showPanel:n,begin:function(){o=(performance||Date).now()},end:function(){s++;var e=(performance||Date).now();if(c.update(e-o,200),e>a+1e3&&(u.update(1e3*s/(e-a),100),a=e,s=0,l)){var t=performance.memory;l.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){o=this.end()},domElement:i,setMode:n}};return e.Panel=function(e,t,n){var r=1/0,i=0,o=Math.round,a=o(window.devicePixelRatio||1),s=80*a,u=48*a,c=3*a,l=2*a,f=3*a,p=15*a,h=74*a,d=30*a,m=document.createElement("canvas");m.width=s,m.height=u,m.style.cssText="width:80px;height:48px";var v=m.getContext("2d");return v.font="bold "+9*a+"px Helvetica,Arial,sans-serif",v.textBaseline="top",v.fillStyle=n,v.fillRect(0,0,s,u),v.fillStyle=t,v.fillText(e,c,l),v.fillRect(f,p,h,d),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f,p,h,d),{dom:m,update:function(u,y){r=Math.min(r,u),i=Math.max(i,u),v.fillStyle=n,v.globalAlpha=1,v.fillRect(0,0,s,p),v.fillStyle=t,v.fillText(o(u)+" "+e+" ("+o(r)+"-"+o(i)+")",c,l),v.drawImage(m,f+a,p,h-a,d,f,p,h-a,d),v.fillRect(f+h-a,p,a,d),v.fillStyle=n,v.globalAlpha=.9,v.fillRect(f+h-a,p,a,o((1-u/y)*d))}}},e}()},function(e,t,n){"use strict";e.exports=n(275)},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e},a=n(277),s=[];e.exports=function(e,t,n){var i,u;void 0===n&&(n=0);try{for(var c=r(s),l=c.next();!l.done;l=c.next()){var f=l.value;if(a(t,f.inputs)){if(Object.prototype.hasOwnProperty.call(f,"error"))throw f.error;if(Object.prototype.hasOwnProperty.call(f,"response"))return f.response;throw f.promise}}}catch(h){i={error:h}}finally{try{l&&!l.done&&(u=c.return)&&u.call(c)}finally{if(i)throw i.error}}var p={promise:e.apply(void 0,o(t)).then((function(e){p.response=e})).catch((function(e){p.error=e})).then((function(){n>0&&setTimeout((function(){var e=s.indexOf(p);-1!==e&&s.splice(e,1)}),n)})),inputs:t};throw s.push(p),p.promise}},function(e,t,n){"use strict";(function(e){var r=n(32),i=n(2),o=n(6),a=n(0),s=n(123);function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debounce:0,scroll:!1},t=e.debounce,n=e.scroll,r=e.polyfill,u=r||("undefined"===typeof window?function e(){Object(o.a)(this,e)}:window.ResizeObserver);if(!u)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var p=Object(a.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),d=Object(i.a)(p,2),m=d[0],v=d[1],y=Object(a.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),g=t?"number"===typeof t?t:t.scroll:null,b=t?"number"===typeof t?t:t.resize:null,_=Object(a.useMemo)((function(){var e=function(){if(y.current.element){var e=y.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};Object.freeze(t),h(y.current.lastBounds,t)||v(y.current.lastBounds=t)}};return[e,b?Object(s.debounce)(e,b):e,g?Object(s.debounce)(e,g):e]}),[v,g,b]),w=Object(i.a)(_,3),x=w[0],S=w[1],E=w[2];function O(){y.current.scrollContainers&&(y.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",E,!0)})),y.current.scrollContainers=null),y.current.resizeObserver&&(y.current.resizeObserver.disconnect(),y.current.resizeObserver=null)}function T(){y.current.element&&(y.current.resizeObserver=new u(E),y.current.resizeObserver.observe(y.current.element),n&&y.current.scrollContainers&&y.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",E,{capture:!0,passive:!0})})))}var M=function(e){e&&e!==y.current.element&&(O(),y.current.element=e,y.current.scrollContainers=f(e),T())};return l(E,Boolean(n)),c(S),Object(a.useEffect)((function(){O(),T()}),[n,E,S]),Object(a.useEffect)((function(){return O}),[]),[M,m,x]}function c(e){Object(a.useEffect)((function(){var t=e;return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}),[e])}function l(e,t){Object(a.useEffect)((function(){if(t){var n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",n,!0)}}}),[e,t])}function f(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,Object(r.a)(f(e.parentElement)))}var p=["x","y","top","bottom","left","right","width","height"],h=function(e,t){return p.every((function(n){return e[n]===t[n]}))};Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(e,"exports").writable&&(e.exports=u),t.a=u}).call(this,n(129)(e))},,,,,,,,,,function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},function(e,t,n){"use strict";t.a=function(e){function t(e,t,r){var i=t.trim().split(d);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=n(e[c]+" ",i[s],r).trim()}return t}function n(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function r(e,t,n,o){var a=e+";",s=2*t+3*n+4*o;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===A||2===A&&i(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!i(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(O,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return p.test(a)?a.replace(f,":-webkit-")+a.replace(f,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(x,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(x,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===E.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?r(e.replace("stretch","fill-available"),t,n,o).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+o&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function i(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),R(2!==t?r:r.replace(S,"$1"),n,t)}function o(e,t){var n=r(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(w," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,a,s,c,l){for(var f,p=0,h=t;p<j;++p)switch(f=k[p].call(u,e,h,n,r,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function s(e){return void 0!==(e=e.prefix)&&(R=null,e?"function"!==typeof e?A=1:(A=2,R=e):A=0),s}function u(e,n){var s=e;if(33>s.charCodeAt(0)&&(s=s.trim()),s=[s],0<j){var u=a(-1,n,s,s,M,T,0,0,0,0);void 0!==u&&"string"===typeof u&&(n=u)}var f=function e(n,s,u,f,p){for(var h,d,m,b,w,x=0,S=0,E=0,O=0,k=0,R=0,N=m=h=0,L=0,I=0,B=0,F=0,U=u.length,z=U-1,V="",H="",$="",G="";L<U;){if(d=u.charCodeAt(L),L===z&&0!==S+O+E+x&&(0!==S&&(d=47===S?10:47),O=E=x=0,U++,z++),0===S+O+E+x){if(L===z&&(0<I&&(V=V.replace(l,"")),0<V.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(L)}d=59}switch(d){case 123:for(h=(V=V.trim()).charCodeAt(0),m=1,F=++L;L<U;){switch(d=u.charCodeAt(L)){case 123:m++;break;case 125:m--;break;case 47:switch(d=u.charCodeAt(L+1)){case 42:case 47:e:{for(N=L+1;N<z;++N)switch(u.charCodeAt(N)){case 47:if(42===d&&42===u.charCodeAt(N-1)&&L+2!==N){L=N+1;break e}break;case 10:if(47===d){L=N+1;break e}}L=N}}break;case 91:d++;case 40:d++;case 34:case 39:for(;L++<z&&u.charCodeAt(L)!==d;);}if(0===m)break;L++}switch(m=u.substring(F,L),0===h&&(h=(V=V.replace(c,"").trim()).charCodeAt(0)),h){case 64:switch(0<I&&(V=V.replace(l,"")),d=V.charCodeAt(1)){case 100:case 109:case 115:case 45:I=s;break;default:I=C}if(F=(m=e(s,I,m,d,p+1)).length,0<j&&(w=a(3,m,I=t(C,V,B),s,M,T,F,d,p,f),V=I.join(""),void 0!==w&&0===(F=(m=w.trim()).length)&&(d=0,m="")),0<F)switch(d){case 115:V=V.replace(_,o);case 100:case 109:case 45:m=V+"{"+m+"}";break;case 107:m=(V=V.replace(v,"$1 $2"))+"{"+m+"}",m=1===A||2===A&&i("@"+m,3)?"@-webkit-"+m+"@"+m:"@"+m;break;default:m=V+m,112===f&&(H+=m,m="")}else m="";break;default:m=e(s,t(s,V,B),m,f,p+1)}$+=m,m=B=I=N=h=0,V="",d=u.charCodeAt(++L);break;case 125:case 59:if(1<(F=(V=(0<I?V.replace(l,""):V).trim()).length))switch(0===N&&(h=V.charCodeAt(0),45===h||96<h&&123>h)&&(F=(V=V.replace(" ",":")).length),0<j&&void 0!==(w=a(1,V,s,n,M,T,H.length,f,p,f))&&0===(F=(V=w.trim()).length)&&(V="\0\0"),h=V.charCodeAt(0),d=V.charCodeAt(1),h){case 0:break;case 64:if(105===d||99===d){G+=V+u.charAt(L);break}default:58!==V.charCodeAt(F-1)&&(H+=r(V,h,d,V.charCodeAt(2)))}B=I=N=h=0,V="",d=u.charCodeAt(++L)}}switch(d){case 13:case 10:47===S?S=0:0===1+h&&107!==f&&0<V.length&&(I=1,V+="\0"),0<j*D&&a(0,V,s,n,M,T,H.length,f,p,f),T=1,M++;break;case 59:case 125:if(0===S+O+E+x){T++;break}default:switch(T++,b=u.charAt(L),d){case 9:case 32:if(0===O+x+S)switch(k){case 44:case 58:case 9:case 32:b="";break;default:32!==d&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===O+S+x&&(I=B=1,b="\f"+b);break;case 108:if(0===O+S+x+P&&0<N)switch(L-N){case 2:112===k&&58===u.charCodeAt(L-3)&&(P=k);case 8:111===R&&(P=R)}break;case 58:0===O+S+x&&(N=L);break;case 44:0===S+E+O+x&&(I=1,b+="\r");break;case 34:case 39:0===S&&(O=O===d?0:0===O?d:O);break;case 91:0===O+S+E&&x++;break;case 93:0===O+S+E&&x--;break;case 41:0===O+S+x&&E--;break;case 40:if(0===O+S+x){if(0===h)switch(2*k+3*R){case 533:break;default:h=1}E++}break;case 64:0===S+E+O+x+N+m&&(m=1);break;case 42:case 47:if(!(0<O+x+E))switch(S){case 0:switch(2*d+3*u.charCodeAt(L+1)){case 235:S=47;break;case 220:F=L,S=42}break;case 42:47===d&&42===k&&F+2!==L&&(33===u.charCodeAt(F+2)&&(H+=u.substring(F,L+1)),b="",S=0)}}0===S&&(V+=b)}R=k,k=d,L++}if(0<(F=H.length)){if(I=s,0<j&&(void 0!==(w=a(2,H,I,n,M,T,F,f,p,f))&&0===(H=w).length))return G+H+$;if(H=I.join(",")+"{"+H+"}",0!==A*P){switch(2!==A||i(H,2)||(P=0),P){case 111:H=H.replace(g,":-moz-$1")+H;break;case 112:H=H.replace(y,"::-webkit-input-$1")+H.replace(y,"::-moz-$1")+H.replace(y,":-ms-input-$1")+H}P=0}}return G+H+$}(C,s,n,0,0);return 0<j&&(void 0!==(u=a(-2,f,s,s,M,T,f.length,0,0,0))&&(f=u)),"",P=0,T=M=1,f}var c=/^\0+/g,l=/[\0\r\f]/g,f=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,d=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,g=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,w=/([\s\S]*?);/g,x=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,E=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,T=1,M=1,P=0,A=1,C=[],k=[],j=0,R=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:j=k.length=0;break;default:if("function"===typeof t)k[j++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else D=0|!!t}return e},u.set=s,void 0!==e&&s(e),u}},function(e,t,n){"use strict";t.a={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1}},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(54).compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var i=r();i.withExtraArgument=r,t.a=i},function(e,t,n){"use strict";var r=n(163);function i(e,t){return function(e){var t=Object(r.a)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var o=/([A-Z])/g;var a=/^ms-/;function s(e){return function(e){return e.replace(o,"-$1").toLowerCase()}(e).replace(a,"-ms-")}var u=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.a=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(s(t))||i(e).getPropertyValue(s(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!u.test(e))}(i)?n+=s(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(s(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(5),i=n(14),o=n(0);n(117);function a(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function u(e,t){return Object.keys(t).reduce((function(n,u){var c,l=n,f=l[a(u)],p=l[u],h=Object(i.a)(l,[a(u),u].map(s)),d=t[u],m=function(e,t,n){var r=Object(o.useRef)(void 0!==e),i=Object(o.useState)(t),a=i[0],s=i[1],u=void 0!==e,c=r.current;return r.current=u,!u&&c&&a!==t&&s(t),[u?e:a,Object(o.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),s(e)}),[n])]}(p,f,e[d]),v=m[0],y=m[1];return Object(r.a)({},h,((c={})[u]=v,c[d]=y,c))}),e)}n(29);function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function l(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function f(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}c.__suppressDeprecationWarning=!0,l.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){e.classList?e.classList.add(t):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);var i=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t};function o(e){var t=i(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},,,,,,,,function(e,t,n){"use strict";var r=n(58),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.forward_ref"):60112,h=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,m=i?Symbol.for("react.lazy"):60116,v="function"===typeof Symbol&&Symbol.iterator;function y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b={};function _(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}function w(){}function x(e,t,n){this.props=e,this.context=t,this.refs=b,this.updater=n||g}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(y(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var S=x.prototype=new w;S.constructor=x,r(S,_.prototype),S.isPureReactComponent=!0;var E={current:null},O=Object.prototype.hasOwnProperty,T={key:!0,ref:!0,__self:!0,__source:!0};function M(e,t,n){var r,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)O.call(t,r)&&!T.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:E.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,C=[];function k(e,t,n,r){if(C.length){var i=C.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function j(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>C.length&&C.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+D(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+D(s=t[c],c);u+=e(s,l,r,i)}else if(null===t||"object"!==typeof t?l=null:l="function"===typeof(l=v&&t[v]||t["@@iterator"])?l:null,"function"===typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+D(s,c++),r,i);else if("object"===s)throw r=""+t,Error(y(31,"[object Object]"===r?"object with keys {"+Object.keys(t).join(", ")+"}":r,""));return u}(e,"",t,n)}function D(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?I(e,r,n,(function(e){return e})):null!=e&&(P(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function I(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),R(e,L,t=k(t,o,r,i)),j(t)}var B={current:null};function F(){var e=B.current;if(null===e)throw Error(y(321));return e}var U={ReactCurrentDispatcher:B,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:E,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return I(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,N,t=k(null,null,t,n)),j(t)},count:function(e){return R(e,(function(){return null}),null)},toArray:function(e){var t=[];return I(e,t,null,(function(e){return e})),t},only:function(e){if(!P(e))throw Error(y(143));return e}},t.Component=_,t.Fragment=s,t.Profiler=c,t.PureComponent=x,t.StrictMode=u,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(y(267,e));var i=r({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)O.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:a,ref:s,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=M,t.createFactory=function(e){var t=M.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:p,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:m,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return F().useCallback(e,t)},t.useContext=function(e,t){return F().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return F().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return F().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return F().useLayoutEffect(e,t)},t.useMemo=function(e,t){return F().useMemo(e,t)},t.useReducer=function(e,t,n){return F().useReducer(e,t,n)},t.useRef=function(e){return F().useRef(e)},t.useState=function(e){return F().useState(e)},t.version="16.13.1"},function(e,t,n){"use strict";var r=n(0),i=n(58),o=n(68);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));function s(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,p={onError:function(e){u=!0,c=e}};function h(e,t,n,r,i,o,a,l,f){u=!1,c=null,s.apply(p,arguments)}var d=null,m=null,v=null;function y(e,t,n){var r=e.type||"unknown-event";e.currentTarget=v(n),function(e,t,n,r,i,o,s,p,d){if(h.apply(this,arguments),u){if(!u)throw Error(a(198));var m=c;u=!1,c=null,l||(l=!0,f=m)}}(r,t,void 0,e),e.currentTarget=null}var g=null,b={};function _(){if(g)for(var e in b){var t=b[e],n=g.indexOf(e);if(!(-1<n))throw Error(a(96,e));if(!x[n]){if(!t.extractEvents)throw Error(a(97,e));for(var r in x[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;if(S.hasOwnProperty(u))throw Error(a(99,u));S[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&w(c[i],s,u);i=!0}else o.registrationName?(w(o.registrationName,s,u),i=!0):i=!1;if(!i)throw Error(a(98,r,e))}}}}function w(e,t,n){if(E[e])throw Error(a(100,e));E[e]=t,O[e]=t.eventTypes[n].dependencies}var x=[],S={},E={},O={};function T(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!b.hasOwnProperty(t)||b[t]!==r){if(b[t])throw Error(a(102,t));b[t]=r,n=!0}}n&&_()}var M=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),P=null,A=null,C=null;function k(e){if(e=m(e)){if("function"!==typeof P)throw Error(a(280));var t=e.stateNode;t&&(t=d(t),P(e.stateNode,e.type,t))}}function j(e){A?C?C.push(e):C=[e]:A=e}function R(){if(A){var e=A,t=C;if(C=A=null,k(e),t)for(e=0;e<t.length;e++)k(t[e])}}function D(e,t){return e(t)}function N(e,t,n,r,i){return e(t,n,r,i)}function L(){}var I=D,B=!1,F=!1;function U(){null===A&&null===C||(L(),R())}function z(e,t,n){if(F)return e(t,n);F=!0;try{return I(e,t,n)}finally{F=!1,U()}}var V=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H=Object.prototype.hasOwnProperty,$={},G={};function W(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){q[e]=new W(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];q[t]=new W(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){q[e]=new W(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){q[e]=new W(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){q[e]=new W(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){q[e]=new W(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){q[e]=new W(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){q[e]=new W(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){q[e]=new W(e,5,!1,e.toLowerCase(),null,!1)}));var Y=/[\-:]([a-z])/g;function X(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Y,X);q[t]=new W(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Y,X);q[t]=new W(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Y,X);q[t]=new W(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){q[e]=new W(e,1,!1,e.toLowerCase(),null,!1)})),q.xlinkHref=new W("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){q[e]=new W(e,1,!1,e.toLowerCase(),null,!0)}));var Z=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function Q(e,t,n,r){var i=q.hasOwnProperty(t)?q[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!H.call(G,e)||!H.call($,e)&&(V.test(e)?G[e]=!0:($[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}Z.hasOwnProperty("ReactCurrentDispatcher")||(Z.ReactCurrentDispatcher={current:null}),Z.hasOwnProperty("ReactCurrentBatchConfig")||(Z.ReactCurrentBatchConfig={suspense:null});var K=/^(.*)[\\\/]/,J="function"===typeof Symbol&&Symbol.for,ee=J?Symbol.for("react.element"):60103,te=J?Symbol.for("react.portal"):60106,ne=J?Symbol.for("react.fragment"):60107,re=J?Symbol.for("react.strict_mode"):60108,ie=J?Symbol.for("react.profiler"):60114,oe=J?Symbol.for("react.provider"):60109,ae=J?Symbol.for("react.context"):60110,se=J?Symbol.for("react.concurrent_mode"):60111,ue=J?Symbol.for("react.forward_ref"):60112,ce=J?Symbol.for("react.suspense"):60113,le=J?Symbol.for("react.suspense_list"):60120,fe=J?Symbol.for("react.memo"):60115,pe=J?Symbol.for("react.lazy"):60116,he=J?Symbol.for("react.block"):60121,de="function"===typeof Symbol&&Symbol.iterator;function me(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=de&&e[de]||e["@@iterator"])?e:null}function ve(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case ae:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ve(e.type);case he:return ve(e.render);case pe:if(e=1===e._status?e._result:null)return ve(e)}return null}function ye(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ve(e.type);n=null,r&&(n=ve(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(K,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function ge(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ge(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Ee(e,t){null!=(t=t.checked)&&Q(e,"checked",t,!1)}function Oe(e,t){Ee(e,t);var n=ge(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Me(e,t.type,n):t.hasOwnProperty("defaultValue")&&Me(e,t.type,ge(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Te(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Me(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Pe(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ae(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ge(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Ce(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ke(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ge(n)}}function je(e,t){var n=ge(t.value),r=ge(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Re(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var De="http://www.w3.org/1999/xhtml",Ne="http://www.w3.org/2000/svg";function Le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ie(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Be,Fe=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Ne||"innerHTML"in e)e.innerHTML=t;else{for((Be=Be||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Be.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function ze(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ve={animationend:ze("Animation","AnimationEnd"),animationiteration:ze("Animation","AnimationIteration"),animationstart:ze("Animation","AnimationStart"),transitionend:ze("Transition","TransitionEnd")},He={},$e={};function Ge(e){if(He[e])return He[e];if(!Ve[e])return e;var t,n=Ve[e];for(t in n)if(n.hasOwnProperty(t)&&t in $e)return He[e]=n[t];return e}M&&($e=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);var We=Ge("animationend"),qe=Ge("animationiteration"),Ye=Ge("animationstart"),Xe=Ge("transitionend"),Ze="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qe=new("function"===typeof WeakMap?WeakMap:Map);function Ke(e){var t=Qe.get(e);return void 0===t&&(t=new Map,Qe.set(e,t)),t}function Je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Je(e)!==e)throw Error(a(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Je(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return tt(i),e;if(o===r)return tt(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function rt(e,t){if(null==t)throw Error(a(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function it(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var ot=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)y(e,t[r],n[r]);else t&&y(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function st(e){if(null!==e&&(ot=rt(ot,e)),e=ot,ot=null,e){if(it(e,at),ot)throw Error(a(95));if(l)throw e=f,l=!1,f=null,e}}function ut(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!M)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var lt=[];function ft(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>lt.length&&lt.push(e)}function pt(e,t,n,r){if(lt.length){var i=lt.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function ht(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=Mn(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ut(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===n&&(a|=64);for(var s=null,u=0;u<x.length;u++){var c=x[u];c&&(c=c.extractEvents(r,t,o,i,a))&&(s=rt(s,c))}st(s)}}function dt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Yt(t,"scroll",!0);break;case"focus":case"blur":Yt(t,"focus",!0),Yt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Yt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Ze.indexOf(e)&&qt(e,t)}n.set(e,null)}}var mt,vt,yt,gt=!1,bt=[],_t=null,wt=null,xt=null,St=new Map,Et=new Map,Ot=[],Tt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Mt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function Pt(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function At(e,t){switch(e){case"focus":case"blur":_t=null;break;case"dragenter":case"dragleave":wt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":St.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(t.pointerId)}}function Ct(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=Pt(t,n,r,i,o),null!==t&&(null!==(t=Pn(t))&&vt(t)),e):(e.eventSystemFlags|=r,e)}function kt(e){var t=Mn(e.target);if(null!==t){var n=Je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){yt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;var t=Kt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Pn(t);return null!==n&&vt(n),e.blockedOn=t,!1}return!0}function Rt(e,t,n){jt(e)&&n.delete(t)}function Dt(){for(gt=!1;0<bt.length;){var e=bt[0];if(null!==e.blockedOn){null!==(e=Pn(e.blockedOn))&&mt(e);break}var t=Kt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:bt.shift()}null!==_t&&jt(_t)&&(_t=null),null!==wt&&jt(wt)&&(wt=null),null!==xt&&jt(xt)&&(xt=null),St.forEach(Rt),Et.forEach(Rt)}function Nt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Dt)))}function Lt(e){function t(t){return Nt(t,e)}if(0<bt.length){Nt(bt[0],e);for(var n=1;n<bt.length;n++){var r=bt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_t&&Nt(_t,e),null!==wt&&Nt(wt,e),null!==xt&&Nt(xt,e),St.forEach(t),Et.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)kt(n),null===n.blockedOn&&Ot.shift()}var It={},Bt=new Map,Ft=new Map,Ut=["abort","abort",We,"animationEnd",qe,"animationIteration",Ye,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function zt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Ft.set(r,t),Bt.set(r,o),It[i]=o}}zt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),zt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),zt(Ut,2);for(var Vt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ht=0;Ht<Vt.length;Ht++)Ft.set(Vt[Ht],0);var $t=o.unstable_UserBlockingPriority,Gt=o.unstable_runWithPriority,Wt=!0;function qt(e,t){Yt(t,e,!1)}function Yt(e,t,n){var r=Ft.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=Zt.bind(null,t,1,e);break;default:r=Qt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){B||L();var i=Qt,o=B;B=!0;try{N(i,e,t,n,r)}finally{(B=o)||U()}}function Zt(e,t,n,r){Gt($t,Qt.bind(null,e,t,n,r))}function Qt(e,t,n,r){if(Wt)if(0<bt.length&&-1<Tt.indexOf(e))e=Pt(null,e,t,n,r),bt.push(e);else{var i=Kt(e,t,n,r);if(null===i)At(e,r);else if(-1<Tt.indexOf(e))e=Pt(i,e,t,n,r),bt.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return _t=Ct(_t,e,t,n,r,i),!0;case"dragenter":return wt=Ct(wt,e,t,n,r,i),!0;case"mouseover":return xt=Ct(xt,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return St.set(o,Ct(St.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Et.set(o,Ct(Et.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){At(e,r),e=pt(e,r,null,t);try{z(ht,e)}finally{ft(e)}}}}function Kt(e,t,n,r){if(null!==(n=Mn(n=ut(r)))){var i=Je(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=et(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{z(ht,e)}finally{ft(e)}return null}var Jt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Jt.hasOwnProperty(e)&&Jt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=tn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(Jt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Jt[t]=Jt[e]}))}));var rn=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function on(e,t){if(t){if(rn[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sn=De;function un(e,t){var n=Ke(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=O[t];for(var r=0;r<t.length;r++)dt(t[r],e,n)}function cn(){}function ln(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function fn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=fn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fn(r)}}function hn(){for(var e=window,t=ln();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ln((e=t.contentWindow).document)}return t}function dn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn=null,vn=null;function yn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function gn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var bn="function"===typeof setTimeout?setTimeout:void 0,_n="function"===typeof clearTimeout?clearTimeout:void 0;function wn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Sn=Math.random().toString(36).slice(2),En="__reactInternalInstance$"+Sn,On="__reactEventHandlers$"+Sn,Tn="__reactContainere$"+Sn;function Mn(e){var t=e[En];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Tn]||n[En]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xn(e);null!==e;){if(n=e[En])return n;e=xn(e)}return t}n=(e=n).parentNode}return null}function Pn(e){return!(e=e[En]||e[Tn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function An(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function Cn(e){return e[On]||null}function kn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function jn(e,t){var n=e.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}function Rn(e,t,n){(t=jn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Dn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=kn(t);for(t=n.length;0<t--;)Rn(n[t],"captured",e);for(t=0;t<n.length;t++)Rn(n[t],"bubbled",e)}}function Nn(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=jn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=rt(n._dispatchListeners,t),n._dispatchInstances=rt(n._dispatchInstances,e))}function Ln(e){e&&e.dispatchConfig.registrationName&&Nn(e._targetInst,null,e)}function In(e){it(e,Dn)}var Bn=null,Fn=null,Un=null;function zn(){if(Un)return Un;var e,t,n=Fn,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Un=i.slice(e,1<t?1-t:void 0)}function Vn(){return!0}function Hn(){return!1}function $n(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Vn:Hn,this.isPropagationStopped=Hn,this}function Gn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Wn(e){if(!(e instanceof this))throw Error(a(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function qn(e){e.eventPool=[],e.getPooled=Gn,e.release=Wn}i($n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Vn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Vn)},persist:function(){this.isPersistent=Vn},isPersistent:Hn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Hn,this._dispatchInstances=this._dispatchListeners=null}}),$n.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},$n.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,qn(n),n},qn($n);var Yn=$n.extend({data:null}),Xn=$n.extend({data:null}),Zn=[9,13,27,32],Qn=M&&"CompositionEvent"in window,Kn=null;M&&"documentMode"in document&&(Kn=document.documentMode);var Jn=M&&"TextEvent"in window&&!Kn,er=M&&(!Qn||Kn&&8<Kn&&11>=Kn),tr=String.fromCharCode(32),nr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},rr=!1;function ir(e,t){switch(e){case"keyup":return-1!==Zn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function or(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var ar=!1;var sr={eventTypes:nr,extractEvents:function(e,t,n,r){var i;if(Qn)e:{switch(e){case"compositionstart":var o=nr.compositionStart;break e;case"compositionend":o=nr.compositionEnd;break e;case"compositionupdate":o=nr.compositionUpdate;break e}o=void 0}else ar?ir(e,n)&&(o=nr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=nr.compositionStart);return o?(er&&"ko"!==n.locale&&(ar||o!==nr.compositionStart?o===nr.compositionEnd&&ar&&(i=zn()):(Fn="value"in(Bn=r)?Bn.value:Bn.textContent,ar=!0)),o=Yn.getPooled(o,t,n,r),i?o.data=i:null!==(i=or(n))&&(o.data=i),In(o),i=o):i=null,(e=Jn?function(e,t){switch(e){case"compositionend":return or(t);case"keypress":return 32!==t.which?null:(rr=!0,tr);case"textInput":return(e=t.data)===tr&&rr?null:e;default:return null}}(e,n):function(e,t){if(ar)return"compositionend"===e||!Qn&&ir(e,t)?(e=zn(),Un=Fn=Bn=null,ar=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return er&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Xn.getPooled(nr.beforeInput,t,n,r)).data=e,In(t)):t=null,null===i?t:null===t?i:[i,t]}},ur={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!ur[e.type]:"textarea"===t}var lr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function fr(e,t,n){return(e=$n.getPooled(lr.change,e,t,n)).type="change",j(n),In(e),e}var pr=null,hr=null;function dr(e){st(e)}function mr(e){if(we(An(e)))return e}function vr(e,t){if("change"===e)return t}var yr=!1;function gr(){pr&&(pr.detachEvent("onpropertychange",br),hr=pr=null)}function br(e){if("value"===e.propertyName&&mr(hr))if(e=fr(hr,e,ut(e)),B)st(e);else{B=!0;try{D(dr,e)}finally{B=!1,U()}}}function _r(e,t,n){"focus"===e?(gr(),hr=n,(pr=t).attachEvent("onpropertychange",br)):"blur"===e&&gr()}function wr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return mr(hr)}function xr(e,t){if("click"===e)return mr(t)}function Sr(e,t){if("input"===e||"change"===e)return mr(t)}M&&(yr=ct("input")&&(!document.documentMode||9<document.documentMode));var Er={eventTypes:lr,_isInputEventSupported:yr,extractEvents:function(e,t,n,r){var i=t?An(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=vr;else if(cr(i))if(yr)a=Sr;else{a=wr;var s=_r}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=xr);if(a&&(a=a(e,t)))return fr(a,n,r);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Me(i,"number",i.value)}},Or=$n.extend({view:null,detail:null}),Tr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Tr[e])&&!!t[e]}function Pr(){return Mr}var Ar=0,Cr=0,kr=!1,jr=!1,Rr=Or.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Pr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ar;return Ar=e.screenX,kr?"mousemove"===e.type?e.screenX-t:0:(kr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Cr;return Cr=e.screenY,jr?"mousemove"===e.type?e.screenY-t:0:(jr=!0,0)}}),Dr=Rr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Nr={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Lr={eventTypes:Nr,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!a&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=n.relatedTarget||n.toElement)?Mn(t):null)&&(t!==Je(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=Rr,u=Nr.mouseLeave,c=Nr.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=Dr,u=Nr.pointerLeave,c=Nr.pointerEnter,l="pointer");if(e=null==a?o:An(a),o=null==t?o:An(t),(u=s.getPooled(u,a,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=s.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=a)&&l)e:{for(c=l,a=0,e=s=r;e;e=kn(e))a++;for(e=0,t=c;t;t=kn(t))e++;for(;0<a-e;)s=kn(s),a--;for(;0<e-a;)c=kn(c),e--;for(;a--;){if(s===c||s===c.alternate)break e;s=kn(s),c=kn(c)}s=null}else s=null;for(c=s,s=[];r&&r!==c&&(null===(a=r.alternate)||a!==c);)s.push(r),r=kn(r);for(r=[];l&&l!==c&&(null===(a=l.alternate)||a!==c);)r.push(l),l=kn(l);for(l=0;l<s.length;l++)Nn(s[l],"bubbled",u);for(l=r.length;0<l--;)Nn(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Ir="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Br=Object.prototype.hasOwnProperty;function Fr(e,t){if(Ir(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(t,n[r])||!Ir(e[n[r]],t[n[r]]))return!1;return!0}var Ur=M&&"documentMode"in document&&11>=document.documentMode,zr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vr=null,Hr=null,$r=null,Gr=!1;function Wr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Gr||null==Vr||Vr!==ln(n)?null:("selectionStart"in(n=Vr)&&dn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},$r&&Fr($r,n)?null:($r=n,(e=$n.getPooled(zr.select,Hr,e,t)).type="select",e.target=Vr,In(e),e))}var qr={eventTypes:zr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ke(i),o=O.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?An(t):window,e){case"focus":(cr(i)||"true"===i.contentEditable)&&(Vr=i,Hr=t,$r=null);break;case"blur":$r=Hr=Vr=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Gr=!1,Wr(n,r);case"selectionchange":if(Ur)break;case"keydown":case"keyup":return Wr(n,r)}return null}},Yr=$n.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Xr=$n.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zr=Or.extend({relatedTarget:null});function Qr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ei=Or.extend({key:function(e){if(e.key){var t=Kr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Jr[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Pr,charCode:function(e){return"keypress"===e.type?Qr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),ti=Rr.extend({dataTransfer:null}),ni=Or.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Pr}),ri=$n.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ii=Rr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),oi={eventTypes:It,extractEvents:function(e,t,n,r){var i=Bt.get(e);if(!i)return null;switch(e){case"keypress":if(0===Qr(n))return null;case"keydown":case"keyup":e=ei;break;case"blur":case"focus":e=Zr;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Rr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=ti;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=ni;break;case We:case qe:case Ye:e=Yr;break;case Xe:e=ri;break;case"scroll":e=Or;break;case"wheel":e=ii;break;case"copy":case"cut":case"paste":e=Xr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Dr;break;default:e=$n}return In(t=e.getPooled(i,t,n,r)),t}};if(g)throw Error(a(101));g=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),d=Cn,m=Pn,v=An,T({SimpleEventPlugin:oi,EnterLeaveEventPlugin:Lr,ChangeEventPlugin:Er,SelectEventPlugin:qr,BeforeInputEventPlugin:sr});var ai=[],si=-1;function ui(e){0>si||(e.current=ai[si],ai[si]=null,si--)}function ci(e,t){si++,ai[si]=e.current,e.current=t}var li={},fi={current:li},pi={current:!1},hi=li;function di(e,t){var n=e.type.contextTypes;if(!n)return li;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function vi(){ui(pi),ui(fi)}function yi(e,t,n){if(fi.current!==li)throw Error(a(168));ci(fi,t),ci(pi,n)}function gi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(a(108,ve(t)||"Unknown",o));return i({},n,{},r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,hi=fi.current,ci(fi,e),ci(pi,pi.current),!0}function _i(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=gi(e,t,hi),r.__reactInternalMemoizedMergedChildContext=e,ui(pi),ui(fi),ci(fi,e)):ui(pi),ci(pi,n)}var wi=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,Si=o.unstable_cancelCallback,Ei=o.unstable_requestPaint,Oi=o.unstable_now,Ti=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Pi=o.unstable_UserBlockingPriority,Ai=o.unstable_NormalPriority,Ci=o.unstable_LowPriority,ki=o.unstable_IdlePriority,ji={},Ri=o.unstable_shouldYield,Di=void 0!==Ei?Ei:function(){},Ni=null,Li=null,Ii=!1,Bi=Oi(),Fi=1e4>Bi?Oi:function(){return Oi()-Bi};function Ui(){switch(Ti()){case Mi:return 99;case Pi:return 98;case Ai:return 97;case Ci:return 96;case ki:return 95;default:throw Error(a(332))}}function zi(e){switch(e){case 99:return Mi;case 98:return Pi;case 97:return Ai;case 96:return Ci;case 95:return ki;default:throw Error(a(332))}}function Vi(e,t){return e=zi(e),wi(e,t)}function Hi(e,t,n){return e=zi(e),xi(e,t,n)}function $i(e){return null===Ni?(Ni=[e],Li=xi(Mi,Wi)):Ni.push(e),ji}function Gi(){if(null!==Li){var e=Li;Li=null,Si(e)}Wi()}function Wi(){if(!Ii&&null!==Ni){Ii=!0;var e=0;try{var t=Ni;Vi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(n){throw null!==Ni&&(Ni=Ni.slice(e+1)),xi(Mi,Gi),n}finally{Ii=!1}}}function qi(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Yi(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Xi={current:null},Zi=null,Qi=null,Ki=null;function Ji(){Ki=Qi=Zi=null}function eo(e){var t=Xi.current;ui(Xi),e.type._context._currentValue=t}function to(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function no(e,t){Zi=e,Ki=Qi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Ca=!0),e.firstContext=null)}function ro(e,t){if(Ki!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ki=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Qi){if(null===Zi)throw Error(a(308));Qi=t,Zi.dependencies={expirationTime:0,firstContext:t,responders:null}}else Qi=Qi.next=t;return e._currentValue}var io=!1;function oo(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ao(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function so(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function uo(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function co(e,t){var n=e.alternate;null!==n&&ao(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function lo(e,t,n,r){var o=e.updateQueue;io=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,p=null,h=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===h?(p=h=m,f=c):h=h.next=m,s>l&&(l=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),ou(s,d.suspenseConfig);e:{var v=e,y=d;switch(s=t,m=n,y.tag){case 1:if("function"===typeof(v=y.payload)){c=v.call(m,c,s);break e}c=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=y.payload)?v.call(m,c,s):v)||void 0===s)break e;c=i({},c,s);break e;case 2:io=!0}}null!==d.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===h?f=c:h.next=p,o.baseState=f,o.baseQueue=h,au(l),e.expirationTime=l,e.memoizedState=c}}function fo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(a(191,r));r.call(i)}}}var po=Z.ReactCurrentBatchConfig,ho=(new r.Component).refs;function mo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var vo={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ws(),i=po.suspense;(i=so(r=qs(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Ys(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ws(),i=po.suspense;(i=so(r=qs(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),uo(e,i),Ys(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ws(),r=po.suspense;(r=so(n=qs(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),uo(e,r),Ys(e,n)}};function yo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Fr(n,r)||!Fr(i,o))}function go(e,t,n){var r=!1,i=li,o=t.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=mi(t)?hi:fi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?di(e,i):li),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=vo,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function bo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vo.enqueueReplaceState(t,t.state,null)}function _o(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ho,oo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=mi(t)?hi:fi.current,i.context=di(e,o)),lo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(mo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&vo.enqueueReplaceState(i,i.state,null),lo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var wo=Array.isArray;function xo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ho&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function So(e,t){if("textarea"!==e.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Eo(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Tu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Au(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xo(e,t,n),r.return=e,r):((r=Mu(n.type,n.key,n.props,null,e.mode,r)).ref=xo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Cu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Pu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Au(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Mu(t.type,t.key,t.props,null,e.mode,n)).ref=xo(e,null,t),n.return=e,n;case te:return(t=Cu(t,e.mode,n)).return=e,t}if(wo(t)||me(t))return(t=Pu(t,e.mode,n,null)).return=e,t;So(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(wo(n)||me(n))return null!==i?null:f(e,t,n,r,null);So(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wo(r)||me(r))return f(t,e=e.get(n)||null,r,i,null);So(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,f=a,m=a=0,v=null;null!==f&&m<s.length;m++){f.index>m?(v=f,f=null):v=f.sibling;var y=h(i,f,s[m],u);if(null===y){null===f&&(f=v);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y,f=v}if(m===s.length)return n(i,f),c;if(null===f){for(;m<s.length;m++)null!==(f=p(i,s[m],u))&&(a=o(f,a,m),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);m<s.length;m++)null!==(v=d(f,i,m,s[m],u))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===l?c=v:l.sibling=v,l=v);return e&&f.forEach((function(e){return t(i,e)})),c}function v(i,s,u,c){var l=me(u);if("function"!==typeof l)throw Error(a(150));if(null==(u=l.call(u)))throw Error(a(151));for(var f=l=null,m=s,v=s=0,y=null,g=u.next();null!==m&&!g.done;v++,g=u.next()){m.index>v?(y=m,m=null):y=m.sibling;var b=h(i,m,g.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,v),null===f?l=b:f.sibling=b,f=b,m=y}if(g.done)return n(i,m),l;if(null===m){for(;!g.done;v++,g=u.next())null!==(g=p(i,g.value,c))&&(s=o(g,s,v),null===f?l=g:f.sibling=g,f=g);return l}for(m=r(i,m);!g.done;v++,g=u.next())null!==(g=d(m,i,v,g.value,c))&&(e&&null!==g.alternate&&m.delete(null===g.key?v:g.key),s=o(g,s,v),null===f?l=g:f.sibling=g,f=g);return e&&m.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case ee:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=xo(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Pu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Mu(o.type,o.key,o.props,null,e.mode,u)).ref=xo(e,r,o),u.return=e,e=u)}return s(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Cu(o,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Au(o,e.mode,u)).return=e,e=r),s(e);if(wo(o))return m(e,r,o,u);if(me(o))return v(e,r,o,u);if(l&&So(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(a(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Oo=Eo(!0),To=Eo(!1),Mo={},Po={current:Mo},Ao={current:Mo},Co={current:Mo};function ko(e){if(e===Mo)throw Error(a(174));return e}function jo(e,t){switch(ci(Co,t),ci(Ao,e),ci(Po,Mo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ie(null,"");break;default:t=Ie(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ui(Po),ci(Po,t)}function Ro(){ui(Po),ui(Ao),ui(Co)}function Do(e){ko(Co.current);var t=ko(Po.current),n=Ie(t,e.type);t!==n&&(ci(Ao,e),ci(Po,n))}function No(e){Ao.current===e&&(ui(Po),ui(Ao))}var Lo={current:0};function Io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bo(e,t){return{responder:e,props:t}}var Fo=Z.ReactCurrentDispatcher,Uo=Z.ReactCurrentBatchConfig,zo=0,Vo=null,Ho=null,$o=null,Go=!1;function Wo(){throw Error(a(321))}function qo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ir(e[n],t[n]))return!1;return!0}function Yo(e,t,n,r,i,o){if(zo=o,Vo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Fo.current=null===e||null===e.memoizedState?ya:ga,e=n(r,i),t.expirationTime===zo){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(a(301));o+=1,$o=Ho=null,t.updateQueue=null,Fo.current=ba,e=n(r,i)}while(t.expirationTime===zo)}if(Fo.current=va,t=null!==Ho&&null!==Ho.next,zo=0,$o=Ho=Vo=null,Go=!1,t)throw Error(a(300));return e}function Xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$o?Vo.memoizedState=$o=e:$o=$o.next=e,$o}function Zo(){if(null===Ho){var e=Vo.alternate;e=null!==e?e.memoizedState:null}else e=Ho.next;var t=null===$o?Vo.memoizedState:$o.next;if(null!==t)$o=t,Ho=e;else{if(null===e)throw Error(a(310));e={memoizedState:(Ho=e).memoizedState,baseState:Ho.baseState,baseQueue:Ho.baseQueue,queue:Ho.queue,next:null},null===$o?Vo.memoizedState=$o=e:$o=$o.next=e}return $o}function Qo(e,t){return"function"===typeof t?t(e):t}function Ko(e){var t=Zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=Ho,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=o=null,c=i;do{var l=c.expirationTime;if(l<zo){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,o=r):u=u.next=f,l>Vo.expirationTime&&(Vo.expirationTime=l,au(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ou(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=s,Ir(r,t.memoizedState)||(Ca=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Jo(e){var t=Zo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Ir(o,t.memoizedState)||(Ca=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ea(e){var t=Xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Qo,lastRenderedState:e}).dispatch=ma.bind(null,Vo,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Vo.updateQueue)?(t={lastEffect:null},Vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function na(){return Zo().memoizedState}function ra(e,t,n,r){var i=Xo();Vo.effectTag|=e,i.memoizedState=ta(1|t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=Zo();r=void 0===r?null:r;var o=void 0;if(null!==Ho){var a=Ho.memoizedState;if(o=a.destroy,null!==r&&qo(r,a.deps))return void ta(t,n,o,r)}Vo.effectTag|=e,i.memoizedState=ta(1|t,n,o,r)}function oa(e,t){return ra(516,4,e,t)}function aa(e,t){return ia(516,4,e,t)}function sa(e,t){return ia(4,2,e,t)}function ua(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ca(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ia(4,2,ua.bind(null,t,e),n)}function la(){}function fa(e,t){return Xo().memoizedState=[e,void 0===t?null:t],e}function pa(e,t){var n=Zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ha(e,t){var n=Zo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function da(e,t,n){var r=Ui();Vi(98>r?98:r,(function(){e(!0)})),Vi(97<r?97:r,(function(){var r=Uo.suspense;Uo.suspense=void 0===t?null:t;try{e(!1),n()}finally{Uo.suspense=r}}))}function ma(e,t,n){var r=Ws(),i=po.suspense;i={expirationTime:r=qs(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Vo||null!==o&&o===Vo)Go=!0,i.expirationTime=zo,Vo.expirationTime=zo;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,Ir(s,a))return}catch(u){}Ys(e,r)}}var va={readContext:ro,useCallback:Wo,useContext:Wo,useEffect:Wo,useImperativeHandle:Wo,useLayoutEffect:Wo,useMemo:Wo,useReducer:Wo,useRef:Wo,useState:Wo,useDebugValue:Wo,useResponder:Wo,useDeferredValue:Wo,useTransition:Wo},ya={readContext:ro,useCallback:fa,useContext:ro,useEffect:oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ra(4,2,ua.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,2,e,t)},useMemo:function(e,t){var n=Xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=ma.bind(null,Vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Xo().memoizedState=e},useState:ea,useDebugValue:la,useResponder:Bo,useDeferredValue:function(e,t){var n=ea(e),r=n[0],i=n[1];return oa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ea(!1),n=t[0];return t=t[1],[fa(da.bind(null,t,e),[t,e]),n]}},ga={readContext:ro,useCallback:pa,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:ha,useReducer:Ko,useRef:na,useState:function(){return Ko(Qo)},useDebugValue:la,useResponder:Bo,useDeferredValue:function(e,t){var n=Ko(Qo),r=n[0],i=n[1];return aa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Ko(Qo),n=t[0];return t=t[1],[pa(da.bind(null,t,e),[t,e]),n]}},ba={readContext:ro,useCallback:pa,useContext:ro,useEffect:aa,useImperativeHandle:ca,useLayoutEffect:sa,useMemo:ha,useReducer:Jo,useRef:na,useState:function(){return Jo(Qo)},useDebugValue:la,useResponder:Bo,useDeferredValue:function(e,t){var n=Jo(Qo),r=n[0],i=n[1];return aa((function(){var n=Uo.suspense;Uo.suspense=void 0===t?null:t;try{i(e)}finally{Uo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Jo(Qo),n=t[0];return t=t[1],[pa(da.bind(null,t,e),[t,e]),n]}},_a=null,wa=null,xa=!1;function Sa(e,t){var n=Eu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ea(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Oa(e){if(xa){var t=wa;if(t){var n=t;if(!Ea(e,t)){if(!(t=wn(n.nextSibling))||!Ea(e,t))return e.effectTag=-1025&e.effectTag|2,xa=!1,void(_a=e);Sa(_a,n)}_a=e,wa=wn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xa=!1,_a=e}}function Ta(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;_a=e}function Ma(e){if(e!==_a)return!1;if(!xa)return Ta(e),xa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!gn(t,e.memoizedProps))for(t=wa;t;)Sa(e,t),t=wn(t.nextSibling);if(Ta(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){wa=wn(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}wa=null}}else wa=_a?wn(e.stateNode.nextSibling):null;return!0}function Pa(){wa=_a=null,xa=!1}var Aa=Z.ReactCurrentOwner,Ca=!1;function ka(e,t,n,r){t.child=null===e?To(t,null,n,r):Oo(t,e.child,n,r)}function ja(e,t,n,r,i){n=n.render;var o=t.ref;return no(t,i),r=Yo(e,t,n,r,o,i),null===e||Ca?(t.effectTag|=1,ka(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Ra(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||Ou(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Mu(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Da(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:Fr)(i,r)&&e.ref===t.ref)?Ya(e,t,o):(t.effectTag|=1,(e=Tu(a,r)).ref=t.ref,e.return=t,t.child=e)}function Da(e,t,n,r,i,o){return null!==e&&Fr(e.memoizedProps,r)&&e.ref===t.ref&&(Ca=!1,i<o)?(t.expirationTime=e.expirationTime,Ya(e,t,o)):La(e,t,n,r,o)}function Na(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function La(e,t,n,r,i){var o=mi(n)?hi:fi.current;return o=di(t,o),no(t,i),n=Yo(e,t,n,r,o,i),null===e||Ca?(t.effectTag|=1,ka(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Ya(e,t,i))}function Ia(e,t,n,r,i){if(mi(n)){var o=!0;bi(t)}else o=!1;if(no(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),go(t,n,r),_o(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=ro(c):c=di(t,c=mi(n)?hi:fi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(t,a,r,c),io=!1;var p=t.memoizedState;a.state=p,lo(t,r,a,i),u=t.memoizedState,s!==r||p!==u||pi.current||io?("function"===typeof l&&(mo(t,n,l,r),u=t.memoizedState),(s=io||yo(t,n,s,r,p,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,ao(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:Yi(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=ro(c):c=di(t,c=mi(n)?hi:fi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&bo(t,a,r,c),io=!1,u=t.memoizedState,a.state=u,lo(t,r,a,i),p=t.memoizedState,s!==r||u!==p||pi.current||io?("function"===typeof l&&(mo(t,n,l,r),p=t.memoizedState),(l=io||yo(t,n,s,r,u,p,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Ba(e,t,n,r,o,i)}function Ba(e,t,n,r,i,o){Na(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&_i(t,n,!1),Ya(e,t,o);r=t.stateNode,Aa.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Oo(t,e.child,null,o),t.child=Oo(t,null,s,o)):ka(e,t,s,o),t.memoizedState=r.state,i&&_i(t,n,!0),t.child}function Fa(e){var t=e.stateNode;t.pendingContext?yi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&yi(0,t.context,!1),jo(e,t.containerInfo)}var Ua,za,Va,Ha={dehydrated:null,retryTime:0};function $a(e,t,n){var r,i=t.mode,o=t.pendingProps,a=Lo.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),ci(Lo,1&a),null===e){if(void 0!==o.fallback&&Oa(t),s){if(s=o.fallback,(o=Pu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Pu(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=Ha,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=To(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=Tu(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=Tu(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Ha,t.child=n,i}return n=Oo(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=Pu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Pu(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Ha,t.child=o,n}return t.memoizedState=null,t.child=Oo(t,e,o.children,n)}function Ga(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),to(e.return,t)}function Wa(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(ka(e,t,r.children,n),0!==(2&(r=Lo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ga(e,n);else if(19===e.tag)Ga(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ci(Lo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,o,t.lastEffect);break;case"together":Wa(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ya(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&au(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Tu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Tu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Za(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return mi(t.type)&&vi(),null;case 3:return Ro(),ui(pi),ui(fi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Ma(t)||(t.effectTag|=4),null;case 5:No(t),n=ko(Co.current);var o=t.type;if(null!==e&&null!=t.stateNode)za(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(a(166));return null}if(e=ko(Po.current),Ma(t)){r=t.stateNode,o=t.type;var s=t.memoizedProps;switch(r[En]=t,r[On]=s,o){case"iframe":case"object":case"embed":qt("load",r);break;case"video":case"audio":for(e=0;e<Ze.length;e++)qt(Ze[e],r);break;case"source":qt("error",r);break;case"img":case"image":case"link":qt("error",r),qt("load",r);break;case"form":qt("reset",r),qt("submit",r);break;case"details":qt("toggle",r);break;case"input":Se(r,s),qt("invalid",r),un(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!s.multiple},qt("invalid",r),un(n,"onChange");break;case"textarea":ke(r,s),qt("invalid",r),un(n,"onChange")}for(var u in on(o,s),e=null,s)if(s.hasOwnProperty(u)){var c=s[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):E.hasOwnProperty(u)&&null!=c&&un(n,u)}switch(o){case"input":_e(r),Te(r,s,!0);break;case"textarea":_e(r),Re(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===sn&&(e=Le(o)),e===sn?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[En]=t,e[On]=r,Ua(e,t),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":qt("load",e),c=r;break;case"video":case"audio":for(c=0;c<Ze.length;c++)qt(Ze[c],e);c=r;break;case"source":qt("error",e),c=r;break;case"img":case"image":case"link":qt("error",e),qt("load",e),c=r;break;case"form":qt("reset",e),qt("submit",e),c=r;break;case"details":qt("toggle",e),c=r;break;case"input":Se(e,r),c=xe(e,r),qt("invalid",e),un(n,"onChange");break;case"option":c=Pe(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),qt("invalid",e),un(n,"onChange");break;case"textarea":ke(e,r),c=Ce(e,r),qt("invalid",e),un(n,"onChange");break;default:c=r}on(o,c);var l=c;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?nn(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&Fe(e,f):"children"===s?"string"===typeof f?("textarea"!==o||""!==f)&&Ue(e,f):"number"===typeof f&&Ue(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?null!=f&&un(n,s):null!=f&&Q(e,s,f,u))}switch(o){case"input":_e(e),Te(e,r,!1);break;case"textarea":_e(e),Re(e);break;case"option":null!=r.value&&e.setAttribute("value",""+ge(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ae(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ae(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=cn)}yn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Va(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));n=ko(Co.current),ko(Po.current),Ma(t)?(n=t.stateNode,r=t.memoizedProps,n[En]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[En]=t,t.stateNode=n)}return null;case 13:return ui(Lo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&Ma(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(s=t.firstEffect)?(t.firstEffect=o,o.nextEffect=s):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Lo.current)?Ms===_s&&(Ms=ws):(Ms!==_s&&Ms!==ws||(Ms=xs),0!==js&&null!==Es&&(Ru(Es,Ts),Du(Es,js)))),(n||r)&&(t.effectTag|=4),null);case 4:return Ro(),null;case 10:return eo(t),null;case 17:return mi(t.type)&&vi(),null;case 19:if(ui(Lo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(s=r.rendering)){if(o)Xa(r,!1);else if(Ms!==_s||null!==e&&0!==(64&e.effectTag))for(s=t.child;null!==s;){if(null!==(e=Io(s))){for(t.effectTag|=64,Xa(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)s=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=s,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,s=e.dependencies,o.dependencies=null===s?null:{expirationTime:s.expirationTime,firstContext:s.firstContext,responders:s.responders}),r=r.sibling;return ci(Lo,1&Lo.current|2),t.child}s=s.sibling}}else{if(!o)if(null!==(e=Io(s))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Xa(r,!0),null===r.tail&&"hidden"===r.tailMode&&!s.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Xa(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=r.last)?n.sibling=s:t.child=s,r.last=s)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=Fi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fi(),n.sibling=null,t=Lo.current,ci(Lo,o?1&t|2:1&t),n):null}throw Error(a(156,t.tag))}function Qa(e){switch(e.tag){case 1:mi(e.type)&&vi();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Ro(),ui(pi),ui(fi),0!==(64&(t=e.effectTag)))throw Error(a(285));return e.effectTag=-4097&t|64,e;case 5:return No(e),null;case 13:return ui(Lo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return ui(Lo),null;case 4:return Ro(),null;case 10:return eo(e),null;default:return null}}function Ka(e,t){return{value:e,source:t,stack:ye(t)}}Ua=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},za=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s,u,c=t.stateNode;switch(ko(Po.current),e=null,n){case"input":a=xe(c,a),r=xe(c,r),e=[];break;case"option":a=Pe(c,a),r=Pe(c,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Ce(c,a),r=Ce(c,r),e=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(c.onclick=cn)}for(s in on(n,r),n=null,a)if(!r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&null!=a[s])if("style"===s)for(u in c=a[s])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==s&&"children"!==s&&"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(E.hasOwnProperty(s)?e||(e=[]):(e=e||[]).push(s,null));for(s in r){var l=r[s];if(c=null!=a?a[s]:void 0,r.hasOwnProperty(s)&&l!==c&&(null!=l||null!=c))if("style"===s)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(s,n)),n=l;else"dangerouslySetInnerHTML"===s?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(s,l)):"children"===s?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(s,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&(E.hasOwnProperty(s)?(null!=l&&un(o,s),e||c===l||(e=[])):(e=e||[]).push(s,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Va=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var Ja="function"===typeof WeakSet?WeakSet:Set;function es(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ye(n)),null!==n&&ve(n.type),t=t.value,null!==e&&1===e.tag&&ve(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function ts(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){gu(e,n)}else t.current=null}function ns(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(a(163))}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function is(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function os(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void is(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&fo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}fo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&yn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))));case 19:case 17:case 20:case 21:return}throw Error(a(163))}function as(e,t,n){switch("function"===typeof xu&&xu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Vi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){gu(i,o)}}e=e.next}while(e!==r)}))}break;case 1:ts(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){gu(e,n)}}(t,n);break;case 5:ts(t);break;case 4:ls(e,t,n)}}function ss(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ss(t)}function us(e){return 5===e.tag||3===e.tag||4===e.tag}function cs(e){e:{for(var t=e.return;null!==t;){if(us(t)){var n=t;break e}t=t.return}throw Error(a(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||us(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=cn));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function ls(e,t,n){for(var r,i,o=t,s=!1;;){if(!s){s=o.return;e:for(;;){if(null===s)throw Error(a(160));switch(r=s.stateNode,s.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}s=s.return}s=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(as(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(as(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(s=!1)}o.sibling.return=o.return,o=o.sibling}}function fs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void rs(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[On]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Ee(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?nn(n,u):"dangerouslySetInnerHTML"===s?Fe(n,u):"children"===s?Ue(n,u):Q(n,s,u,t)}switch(e){case"input":Oe(n,r);break;case"textarea":je(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ae(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ae(n,!!r.multiple,r.defaultValue,!0):Ae(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ds=Fi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=tn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ps(t);case 19:return void ps(t);case 17:return}throw Error(a(163))}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=_u.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ds(e,t,n){(n=so(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ls||(Ls=!0,Is=r),es(e,t)},n}function ms(e,t,n){(n=so(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return es(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Bs?Bs=new Set([this]):Bs.add(this),es(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var vs,ys=Math.ceil,gs=Z.ReactCurrentDispatcher,bs=Z.ReactCurrentOwner,_s=0,ws=3,xs=4,Ss=0,Es=null,Os=null,Ts=0,Ms=_s,Ps=null,As=1073741823,Cs=1073741823,ks=null,js=0,Rs=!1,Ds=0,Ns=null,Ls=!1,Is=null,Bs=null,Fs=!1,Us=null,zs=90,Vs=null,Hs=0,$s=null,Gs=0;function Ws(){return 0!==(48&Ss)?1073741821-(Fi()/10|0):0!==Gs?Gs:Gs=1073741821-(Fi()/10|0)}function qs(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=Ui();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&Ss))return Ts;if(null!==n)e=qi(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=qi(e,150,100);break;case 97:case 96:e=qi(e,5e3,250);break;case 95:e=2;break;default:throw Error(a(326))}return null!==Es&&e===Ts&&--e,e}function Ys(e,t){if(50<Hs)throw Hs=0,$s=null,Error(a(185));if(null!==(e=Xs(e,t))){var n=Ui();1073741823===t?0!==(8&Ss)&&0===(48&Ss)?Js(e):(Qs(e),0===Ss&&Gi()):Qs(e),0===(4&Ss)||98!==n&&99!==n||(null===Vs?Vs=new Map([[e,t]]):(void 0===(n=Vs.get(e))||n>t)&&Vs.set(e,t))}}function Xs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Es===i&&(au(t),Ms===xs&&Ru(i,Ts)),Du(i,t)),i}function Zs(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!ju(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Qs(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=$i(Js.bind(null,e));else{var t=Zs(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ws();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==ji&&Si(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?$i(Js.bind(null,e)):Hi(r,Ks.bind(null,e),{timeout:10*(1073741821-t)-Fi()}),e.callbackNode=t}}}function Ks(e,t){if(Gs=0,t)return Nu(e,t=Ws()),Qs(e),null;var n=Zs(e);if(0!==n){if(t=e.callbackNode,0!==(48&Ss))throw Error(a(327));if(mu(),e===Es&&n===Ts||nu(e,n),null!==Os){var r=Ss;Ss|=16;for(var i=iu();;)try{uu();break}catch(u){ru(e,u)}if(Ji(),Ss=r,gs.current=i,1===Ms)throw t=Ps,nu(e,n),Ru(e,n),Qs(e),t;if(null===Os)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ms,Es=null,r){case _s:case 1:throw Error(a(345));case 2:Nu(e,2<n?2:n);break;case ws:if(Ru(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),1073741823===As&&10<(i=Ds+500-Fi())){if(Rs){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,nu(e,n);break}}if(0!==(o=Zs(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=bn(pu.bind(null,e),i);break}pu(e);break;case xs:if(Ru(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=fu(i)),Rs&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,nu(e,n);break}if(0!==(i=Zs(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Cs?r=10*(1073741821-Cs)-Fi():1073741823===As?r=0:(r=10*(1073741821-As)-5e3,0>(r=(i=Fi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ys(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=bn(pu.bind(null,e),r);break}pu(e);break;case 5:if(1073741823!==As&&null!==ks){o=As;var s=ks;if(0>=(r=0|s.busyMinDurationMs)?r=0:(i=0|s.busyDelayMs,r=(o=Fi()-(10*(1073741821-o)-(0|s.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Ru(e,n),e.timeoutHandle=bn(pu.bind(null,e),r);break}}pu(e);break;default:throw Error(a(329))}if(Qs(e),e.callbackNode===t)return Ks.bind(null,e)}}return null}function Js(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Ss))throw Error(a(327));if(mu(),e===Es&&t===Ts||nu(e,t),null!==Os){var n=Ss;Ss|=16;for(var r=iu();;)try{su();break}catch(i){ru(e,i)}if(Ji(),Ss=n,gs.current=r,1===Ms)throw n=Ps,nu(e,t),Ru(e,t),Qs(e),n;if(null!==Os)throw Error(a(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Es=null,pu(e),Qs(e)}return null}function eu(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&Gi()}}function tu(e,t){var n=Ss;Ss&=-2,Ss|=8;try{return e(t)}finally{0===(Ss=n)&&Gi()}}function nu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,_n(n)),null!==Os)for(n=Os.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&vi();break;case 3:Ro(),ui(pi),ui(fi);break;case 5:No(r);break;case 4:Ro();break;case 13:case 19:ui(Lo);break;case 10:eo(r)}n=n.return}Es=e,Os=Tu(e.current,null),Ts=t,Ms=_s,Ps=null,Cs=As=1073741823,ks=null,js=0,Rs=!1}function ru(e,t){for(;;){try{if(Ji(),Fo.current=va,Go)for(var n=Vo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(zo=0,$o=Ho=Vo=null,Go=!1,null===Os||null===Os.return)return Ms=1,Ps=t,Os=null;e:{var i=e,o=Os.return,a=Os,s=t;if(t=Ts,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&Lo.current),f=o;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var d=f.memoizedProps;p=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(p){var m=f.updateQueue;if(null===m){var v=new Set;v.add(u),f.updateQueue=v}else m.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=so(1073741823,null);y.tag=2,uo(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new hs,s=new Set,g.set(u,s)):void 0===(s=g.get(u))&&(s=new Set,g.set(u,s)),!s.has(a)){s.add(a);var b=bu.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((ve(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ye(a))}5!==Ms&&(Ms=2),s=Ka(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,co(f,ds(f,u,t));break e;case 1:u=s;var _=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Bs||!Bs.has(w)))){f.effectTag|=4096,f.expirationTime=t,co(f,ms(f,u,t));break e}}f=f.return}while(null!==f)}Os=lu(Os)}catch(x){t=x;continue}break}}function iu(){var e=gs.current;return gs.current=va,null===e?va:e}function ou(e,t){e<As&&2<e&&(As=e),null!==t&&e<Cs&&2<e&&(Cs=e,ks=t)}function au(e){e>js&&(js=e)}function su(){for(;null!==Os;)Os=cu(Os)}function uu(){for(;null!==Os&&!Ri();)Os=cu(Os)}function cu(e){var t=vs(e.alternate,e,Ts);return e.memoizedProps=e.pendingProps,null===t&&(t=lu(e)),bs.current=null,t}function lu(e){Os=e;do{var t=Os.alternate;if(e=Os.return,0===(2048&Os.effectTag)){if(t=Za(t,Os,Ts),1===Ts||1!==Os.childExpirationTime){for(var n=0,r=Os.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Os.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Os.firstEffect),null!==Os.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Os.firstEffect),e.lastEffect=Os.lastEffect),1<Os.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Os:e.firstEffect=Os,e.lastEffect=Os))}else{if(null!==(t=Qa(Os)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Os.sibling))return t;Os=e}while(null!==Os);return Ms===_s&&(Ms=5),null}function fu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function pu(e){var t=Ui();return Vi(99,hu.bind(null,e,t)),null}function hu(e,t){do{mu()}while(null!==Us);if(0!==(48&Ss))throw Error(a(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=fu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Es&&(Os=Es=null,Ts=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Ss;Ss|=32,bs.current=null,mn=Wt;var s=hn();if(dn(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{var c=(u=(u=s.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(T){u=null;break e}var p=0,h=-1,d=-1,m=0,v=0,y=s,g=null;t:for(;;){for(var b;y!==u||0!==l&&3!==y.nodeType||(h=p+l),y!==f||0!==c&&3!==y.nodeType||(d=p+c),3===y.nodeType&&(p+=y.nodeValue.length),null!==(b=y.firstChild);)g=y,y=b;for(;;){if(y===s)break t;if(g===u&&++m===l&&(h=p),g===f&&++v===c&&(d=p),null!==(b=y.nextSibling))break;g=(y=g).parentNode}y=b}u=-1===h||-1===d?null:{start:h,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;vn={activeElementDetached:null,focusedElem:s,selectionRange:u},Wt=!1,Ns=i;do{try{du()}catch(T){if(null===Ns)throw Error(a(330));gu(Ns,T),Ns=Ns.nextEffect}}while(null!==Ns);Ns=i;do{try{for(s=e,u=t;null!==Ns;){var _=Ns.effectTag;if(16&_&&Ue(Ns.stateNode,""),128&_){var w=Ns.alternate;if(null!==w){var x=w.ref;null!==x&&("function"===typeof x?x(null):x.current=null)}}switch(1038&_){case 2:cs(Ns),Ns.effectTag&=-3;break;case 6:cs(Ns),Ns.effectTag&=-3,fs(Ns.alternate,Ns);break;case 1024:Ns.effectTag&=-1025;break;case 1028:Ns.effectTag&=-1025,fs(Ns.alternate,Ns);break;case 4:fs(Ns.alternate,Ns);break;case 8:ls(s,l=Ns,u),ss(l)}Ns=Ns.nextEffect}}catch(T){if(null===Ns)throw Error(a(330));gu(Ns,T),Ns=Ns.nextEffect}}while(null!==Ns);if(x=vn,w=hn(),_=x.focusedElem,u=x.selectionRange,w!==_&&_&&_.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(_.ownerDocument.documentElement,_)){null!==u&&dn(_)&&(w=u.start,void 0===(x=u.end)&&(x=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(x,_.value.length)):(x=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(x=x.getSelection(),l=_.textContent.length,s=Math.min(u.start,l),u=void 0===u.end?s:Math.min(u.end,l),!x.extend&&s>u&&(l=u,u=s,s=l),l=pn(_,s),f=pn(_,u),l&&f&&(1!==x.rangeCount||x.anchorNode!==l.node||x.anchorOffset!==l.offset||x.focusNode!==f.node||x.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),x.removeAllRanges(),s>u?(x.addRange(w),x.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),x.addRange(w))))),w=[];for(x=_;x=x.parentNode;)1===x.nodeType&&w.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)(x=w[_]).element.scrollLeft=x.left,x.element.scrollTop=x.top}Wt=!!mn,vn=mn=null,e.current=n,Ns=i;do{try{for(_=e;null!==Ns;){var S=Ns.effectTag;if(36&S&&os(_,Ns.alternate,Ns),128&S){w=void 0;var E=Ns.ref;if(null!==E){var O=Ns.stateNode;switch(Ns.tag){case 5:w=O;break;default:w=O}"function"===typeof E?E(w):E.current=w}}Ns=Ns.nextEffect}}catch(T){if(null===Ns)throw Error(a(330));gu(Ns,T),Ns=Ns.nextEffect}}while(null!==Ns);Ns=null,Di(),Ss=o}else e.current=n;if(Fs)Fs=!1,Us=e,zs=t;else for(Ns=i;null!==Ns;)t=Ns.nextEffect,Ns.nextEffect=null,Ns=t;if(0===(t=e.firstPendingTime)&&(Bs=null),1073741823===t?e===$s?Hs++:(Hs=0,$s=e):Hs=0,"function"===typeof wu&&wu(n.stateNode,r),Qs(e),Ls)throw Ls=!1,e=Is,Is=null,e;return 0!==(8&Ss)||Gi(),null}function du(){for(;null!==Ns;){var e=Ns.effectTag;0!==(256&e)&&ns(Ns.alternate,Ns),0===(512&e)||Fs||(Fs=!0,Hi(97,(function(){return mu(),null}))),Ns=Ns.nextEffect}}function mu(){if(90!==zs){var e=97<zs?97:zs;return zs=90,Vi(e,vu)}}function vu(){if(null===Us)return!1;var e=Us;if(Us=null,0!==(48&Ss))throw Error(a(331));var t=Ss;for(Ss|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:rs(5,n),is(5,n)}}catch(r){if(null===e)throw Error(a(330));gu(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Ss=t,Gi(),!0}function yu(e,t,n){uo(e,t=ds(e,t=Ka(n,t),1073741823)),null!==(e=Xs(e,1073741823))&&Qs(e)}function gu(e,t){if(3===e.tag)yu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){yu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Bs||!Bs.has(r))){uo(n,e=ms(n,e=Ka(t,e),1073741823)),null!==(n=Xs(n,1073741823))&&Qs(n);break}}n=n.return}}function bu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Es===e&&Ts===n?Ms===xs||Ms===ws&&1073741823===As&&Fi()-Ds<500?nu(e,Ts):Rs=!0:ju(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Qs(e)))}function _u(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=qs(t=Ws(),e,null)),null!==(e=Xs(e,t))&&Qs(e)}vs=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||pi.current)Ca=!0;else{if(r<n){switch(Ca=!1,t.tag){case 3:Fa(t),Pa();break;case 5:if(Do(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:mi(t.type)&&bi(t);break;case 4:jo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,ci(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?$a(e,t,n):(ci(Lo,1&Lo.current),null!==(t=Ya(e,t,n))?t.sibling:null);ci(Lo,1&Lo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return qa(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),ci(Lo,Lo.current),!r)return null}return Ya(e,t,n)}Ca=!1}}else Ca=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=di(t,fi.current),no(t,n),i=Yo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var o=!0;bi(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&mo(t,r,s,e),i.updater=vo,t.stateNode=i,i._reactInternalFiber=t,_o(t,r,e,n),t=Ba(null,t,r,!0,o,n)}else t.tag=0,ka(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Yi(i,e),o){case 0:t=La(null,t,i,e,n);break e;case 1:t=Ia(null,t,i,e,n);break e;case 11:t=ja(null,t,i,e,n);break e;case 14:t=Ra(null,t,i,Yi(i.type,e),r,n);break e}throw Error(a(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,La(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Fa(t),r=t.updateQueue,null===e||null===r)throw Error(a(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ao(e,t),lo(t,r,null,n),(r=t.memoizedState.element)===i)Pa(),t=Ya(e,t,n);else{if((i=t.stateNode.hydrate)&&(wa=wn(t.stateNode.containerInfo.firstChild),_a=t,i=xa=!0),i)for(n=To(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else ka(e,t,r,n),Pa();t=t.child}return t;case 5:return Do(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,gn(r,i)?s=null:null!==o&&gn(r,o)&&(t.effectTag|=16),Na(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(ka(e,t,s,n),t=t.child),t;case 6:return null===e&&Oa(t),null;case 13:return $a(e,t,n);case 4:return jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Oo(t,null,r,n):ka(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ja(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return ka(e,t,t.pendingProps,n),t.child;case 8:case 12:return ka(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value;var u=t.type._context;if(ci(Xi,u._currentValue),u._currentValue=o,null!==s)if(u=s.value,0===(o=Ir(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!pi.current){t=Ya(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=so(n,null)).tag=2,uo(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),to(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}ka(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,no(t,n),r=r(i=ro(i,o.unstable_observedBits)),t.effectTag|=1,ka(e,t,r,n),t.child;case 14:return o=Yi(i=t.type,t.pendingProps),Ra(e,t,i,o=Yi(i.type,o),r,n);case 15:return Da(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,no(t,n),go(t,r,i),_o(t,r,i,n),Ba(null,t,r,!0,e,n);case 19:return qa(e,t,n)}throw Error(a(156,t.tag))};var wu=null,xu=null;function Su(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Eu(e,t,n,r){return new Su(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Tu(e,t){var n=e.alternate;return null===n?((n=Eu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Mu(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ou(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case ne:return Pu(n.children,i,o,t);case se:s=8,i|=7;break;case re:s=8,i|=1;break;case ie:return(e=Eu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Eu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case le:return(e=Eu(19,n,t,i)).elementType=le,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:s=10;break e;case ae:s=9;break e;case ue:s=11;break e;case fe:s=14;break e;case pe:s=16,r=null;break e;case he:s=22;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Eu(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Pu(e,t,n,r){return(e=Eu(7,e,r,t)).expirationTime=n,e}function Au(e,t,n){return(e=Eu(6,e,null,t)).expirationTime=n,e}function Cu(e,t,n){return(t=Eu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ku(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function ju(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ru(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Du(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Nu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function Lu(e,t,n,r){var i=t.current,o=Ws(),s=po.suspense;o=qs(o,i,s);e:if(n){t:{if(Je(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(a(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(a(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=gi(n,c,u);break e}}n=u}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=so(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),uo(i,t),Ys(i,o),o}function Iu(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Fu(e,t){Bu(e,t),(e=e.alternate)&&Bu(e,t)}function Uu(e,t,n){var r=new ku(e,t,n=null!=n&&!0===n.hydrate),i=Eu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,oo(i),e[Tn]=r.current,n&&0!==t&&function(e,t){var n=Ke(t);Tt.forEach((function(e){dt(e,t,n)})),Mt.forEach((function(e){dt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=Iu(a);s.call(e)}}Lu(t,a,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Uu(e,0,t?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Iu(a);u.call(e)}}tu((function(){Lu(t,a,e,i)}))}return Iu(a)}function Hu(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function $u(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!zu(t))throw Error(a(200));return Hu(e,t,null,n)}Uu.prototype.render=function(e){Lu(e,this._internalRoot,null,null)},Uu.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Lu(null,e,null,(function(){t[Tn]=null}))},mt=function(e){if(13===e.tag){var t=qi(Ws(),150,100);Ys(e,t),Fu(e,t)}},vt=function(e){13===e.tag&&(Ys(e,3),Fu(e,3))},yt=function(e){if(13===e.tag){var t=Ws();Ys(e,t=qs(t,e,null)),Fu(e,t)}},P=function(e,t,n){switch(t){case"input":if(Oe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Cn(r);if(!i)throw Error(a(90));we(r),Oe(r,i)}}}break;case"textarea":je(e,n);break;case"select":null!=(t=n.value)&&Ae(e,!!n.multiple,t,!1)}},D=eu,N=function(e,t,n,r,i){var o=Ss;Ss|=4;try{return Vi(98,e.bind(null,t,n,r,i))}finally{0===(Ss=o)&&Gi()}},L=function(){0===(49&Ss)&&(function(){if(null!==Vs){var e=Vs;Vs=null,e.forEach((function(e,t){Nu(t,e),Qs(t)})),Gi()}}(),mu())},I=function(e,t){var n=Ss;Ss|=2;try{return e(t)}finally{0===(Ss=n)&&Gi()}};var Gu={Events:[Pn,An,Cn,T,S,In,function(e){it(e,Ln)},j,R,Qt,st,mu,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);wu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},xu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Mn,bundleType:0,version:"16.13.1",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gu,t.createPortal=$u,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw Error(a(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Ss))throw Error(a(187));var n=Ss;Ss|=1;try{return Vi(99,e.bind(null,t))}finally{Ss=n,Gi()}},t.hydrate=function(e,t,n){if(!zu(t))throw Error(a(200));return Vu(null,e,t,!0,n)},t.render=function(e,t,n){if(!zu(t))throw Error(a(200));return Vu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!zu(e))throw Error(a(40));return!!e._reactRootContainer&&(tu((function(){Vu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Tn]=null}))})),!0)},t.unstable_batchedUpdates=eu,t.unstable_createPortal=function(e,t){return $u(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zu(n))throw Error(a(200));if(null==e||void 0===e._reactInternalFiber)throw Error(a(38));return Vu(e,t,n,!1,r)},t.version="16.13.1"},function(e,t,n){"use strict";var r,i,o,a,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var u=null,c=null,l=function e(){if(null!==u)try{var n=t.unstable_now();u(!0,n),u=null}catch(r){throw setTimeout(e,0),r}},f=Date.now();t.unstable_now=function(){return Date.now()-f},r=function(e){null!==u?setTimeout(r,0,e):(u=e,setTimeout(l,0))},i=function(e,t){c=setTimeout(e,t)},o=function(){clearTimeout(c)},a=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var p=window.performance,h=window.Date,d=window.setTimeout,m=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof p&&"function"===typeof p.now)t.unstable_now=function(){return p.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var g=!1,b=null,_=-1,w=5,x=0;a=function(){return t.unstable_now()>=x},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var S=new MessageChannel,E=S.port2;S.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();x=e+w;try{b(!0,e)?E.postMessage(null):(g=!1,b=null)}catch(n){throw E.postMessage(null),n}}else g=!1},r=function(e){b=e,g||(g=!0,E.postMessage(null))},i=function(e,n){_=d((function(){e(t.unstable_now())}),n)},o=function(){m(_),_=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<P(i,t)))break e;e[r]=t,e[n]=i,n=r}}function T(e){return void 0===(e=e[0])?null:e}function M(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,a=e[o],s=o+1,u=e[s];if(void 0!==a&&0>P(a,n))void 0!==u&&0>P(u,a)?(e[r]=u,e[s]=n,r=s):(e[r]=a,e[o]=n,r=o);else{if(!(void 0!==u&&0>P(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function P(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var A=[],C=[],k=1,j=null,R=3,D=!1,N=!1,L=!1;function I(e){for(var t=T(C);null!==t;){if(null===t.callback)M(C);else{if(!(t.startTime<=e))break;M(C),t.sortIndex=t.expirationTime,O(A,t)}t=T(C)}}function B(e){if(L=!1,I(e),!N)if(null!==T(A))N=!0,r(F);else{var t=T(C);null!==t&&i(B,t.startTime-e)}}function F(e,n){N=!1,L&&(L=!1,o()),D=!0;var r=R;try{for(I(n),j=T(A);null!==j&&(!(j.expirationTime>n)||e&&!a());){var s=j.callback;if(null!==s){j.callback=null,R=j.priorityLevel;var u=s(j.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?j.callback=u:j===T(A)&&M(A),I(n)}else M(A);j=T(A)}if(null!==j)var c=!0;else{var l=T(C);null!==l&&i(B,l.startTime-n),c=!1}return c}finally{j=null,R=r,D=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var z=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){N||D||(N=!0,r(F))},t.unstable_getCurrentPriorityLevel=function(){return R},t.unstable_getFirstCallbackNode=function(){return T(A)},t.unstable_next=function(e){switch(R){case 1:case 2:case 3:var t=3;break;default:t=R}var n=R;R=t;try{return e()}finally{R=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=R;R=e;try{return t()}finally{R=n}},t.unstable_scheduleCallback=function(e,n,a){var s=t.unstable_now();if("object"===typeof a&&null!==a){var u=a.delay;u="number"===typeof u&&0<u?s+u:s,a="number"===typeof a.timeout?a.timeout:U(e)}else a=U(e),u=s;return e={id:k++,callback:n,priorityLevel:e,startTime:u,expirationTime:a=u+a,sortIndex:-1},u>s?(e.sortIndex=u,O(C,e),null===T(A)&&e===T(C)&&(L?o():L=!0,i(B,u-s))):(e.sortIndex=a,O(A,e),N||D||(N=!0,r(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();I(e);var n=T(A);return n!==j&&null!==j&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<j.expirationTime||a()},t.unstable_wrapCallback=function(e){var t=R;return function(){var n=R;R=t;try{return e.apply(this,arguments)}finally{R=n}}}},function(e,t,n){"use strict";var r=n(128);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,v=r?Symbol.for("react.memo"):60115,y=r?Symbol.for("react.lazy"):60116,g=r?Symbol.for("react.block"):60121,b=r?Symbol.for("react.fundamental"):60117,_=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case f:case p:case a:case u:case s:case d:return e;default:switch(e=e&&e.$$typeof){case l:case h:case y:case v:case c:return e;default:return t}}case o:return t}}}function S(e){return x(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=o,t.Profiler=u,t.StrictMode=s,t.Suspense=d,t.isAsyncMode=function(e){return S(e)||x(e)===f},t.isConcurrentMode=S,t.isContextConsumer=function(e){return x(e)===l},t.isContextProvider=function(e){return x(e)===c},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return x(e)===h},t.isFragment=function(e){return x(e)===a},t.isLazy=function(e){return x(e)===y},t.isMemo=function(e){return x(e)===v},t.isPortal=function(e){return x(e)===o},t.isProfiler=function(e){return x(e)===u},t.isStrictMode=function(e){return x(e)===s},t.isSuspense=function(e){return x(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===p||e===u||e===s||e===d||e===m||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===c||e.$$typeof===l||e.$$typeof===h||e.$$typeof===b||e.$$typeof===_||e.$$typeof===w||e.$$typeof===g)},t.typeOf=x},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,o=Object.create(i.prototype),a=new x(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return E()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=b(a,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=u(e,t,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===c)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(e,n,a),o}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}e.wrap=s;var c={};function l(){}function f(){}function p(){}var h={};h[i]=function(){return this};var d=Object.getPrototypeOf,m=d&&d(d(S([])));m&&m!==t&&n.call(m,i)&&(h=m);var v=p.prototype=l.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function g(e,t){var r;this._invoke=function(i,o){function a(){return new t((function(r,a){!function r(i,o,a,s){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=v.constructor=p,p.constructor=f,p[a]=f.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(g.prototype),g.prototype[o]=function(){return this},e.AsyncIterator=g,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new g(s(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),v[a]="Generator",v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,c):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e}(e.exports);try{regeneratorRuntime=r}catch(i){Function("r","regeneratorRuntime = r")(r)}},function(e,t,n){"use strict";var r=n(39),i=n(130),o=n(239),a=n(136);function s(e){var t=new o(e),n=i(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var u=s(n(133));u.Axios=o,u.create=function(e){return s(a(u.defaults,e))},u.Cancel=n(137),u.CancelToken=n(252),u.isCancel=n(132),u.all=function(e){return Promise.all(e)},u.spread=n(253),e.exports=u,e.exports.default=u},function(e,t,n){"use strict";var r=n(39),i=n(131),o=n(240),a=n(241),s=n(136);function u(e){this.defaults=e,this.interceptors={request:new o,response:new o}}u.prototype.request=function(e){"string"===typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(r.merge(n||{},{method:e,url:t}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(r.merge(i||{},{method:e,url:t,data:n}))}})),e.exports=u},function(e,t,n){"use strict";var r=n(39);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i},function(e,t,n){"use strict";var r=n(39),i=n(242),o=n(132),a=n(133);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},function(e,t,n){"use strict";var r=n(39);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},function(e,t,n){"use strict";var r=n(39);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},function(e,t,n){"use strict";var r=n(135);e.exports=function(e,t,n){var i=n.config.validateStatus;!i||i(n.status)?e(n):t(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},function(e,t,n){"use strict";var r=n(247),i=n(248);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var r=n(39),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,a={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},function(e,t,n){"use strict";var r=n(39);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var r=n(39);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var r=n(137);function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(module,exports,__webpack_require__){var e;"undefined"!=typeof self&&self,e=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=93)}([function(e,t,n){"use strict";t.arrayAtomicsSymbol=Symbol("mongoose#Array#_atomics"),t.arrayParentSymbol=Symbol("mongoose#Array#_parent"),t.arrayPathSymbol=Symbol("mongoose#Array#_path"),t.arraySchemaSymbol=Symbol("mongoose#Array#_schema"),t.documentArrayParent=Symbol("mongoose:documentArrayParent"),t.documentIsSelected=Symbol("mongoose#Document#isSelected"),t.documentIsModified=Symbol("mongoose#Document#isModified"),t.documentModifiedPaths=Symbol("mongoose#Document#modifiedPaths"),t.documentSchemaSymbol=Symbol("mongoose#Document#schema"),t.getSymbol=Symbol("mongoose#Document#get"),t.modelSymbol=Symbol("mongoose#Model"),t.objectIdSymbol=Symbol("mongoose#ObjectId"),t.populateModelSymbol=Symbol("mongoose.PopulateOptions#Model"),t.schemaTypeSymbol=Symbol("mongoose#schemaType"),t.sessionNewDocuments=Symbol("mongoose:ClientSession#newDocuments"),t.scopeSymbol=Symbol("mongoose#Document#scope"),t.validatorErrorSymbol=Symbol("mongoose:validatorError")},function(e,t,n){"use strict";(function(e){var r=n(95),i=n(96),o=n(97);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=p(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):p(e,t);if("Buffer"===t.type&&o(t.data))return p(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function p(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function d(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return U(e).length;t=(""+t).toLowerCase(),r=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return A(this,t,n);case"utf8":case"utf-8":return T(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return P(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:g(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):g(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,p=0;p<u;p++)if(c(e,o+p)!==c(t,p)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return V(U(t,e.length-n),e,n,r)}function w(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return w(e,t,n,r)}function S(e,t,n,r){return V(z(t),e,n,r)}function E(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function T(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=4096));return n}(r)}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function A(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=F(e[o]);return i}function C(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function k(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function j(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function R(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function D(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function I(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=d,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?T(this,0,e):m.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||k(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||k(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||k(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||k(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||k(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||k(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||k(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||k(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||k(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||k(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||k(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||k(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||k(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||j(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):D(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);j(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):R(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):R(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):D(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||j(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):D(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return I(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return I(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:U(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var B=/[^+\/0-9A-Za-z-_]/g;function F(e){return e<16?"0"+e.toString(16):e.toString(16)}function U(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(B,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(11))},function(e,t,n){"use strict";(function(e){function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a,s=n(111),u=n(46),c=n(62),l=n(63).Buffer,f=n(20),p=n(12),h=n(114),d=n(28),m=n(21),v=n(66),y=n(65),g=n(29),b=n(24),_=n(47);function w(e){if(Array.isArray(e.populate)){var n=[];e.populate.forEach((function(e){if(/[\s]/.test(e.path)){var r=Object.assign({},e);r.path.split(" ").forEach((function(e){r.path=e,n.push(t.populate(r)[0])}))}else n.push(t.populate(e)[0])})),e.populate=t.populate(n)}else null!=e.populate&&"object"===o(e.populate)&&(e.populate=t.populate(e.populate));var i=[],a=e.path.split(" ");null!=e.options&&(e.options=t.clone(e.options));var s,u=r(a);try{for(u.s();!(s=u.n()).done;){var c=s.value;i.push(new h(Object.assign({},e,{path:c})))}}catch(e){u.e(e)}finally{u.f()}return i}t.specialProperties=_,t.toCollectionName=function(e,t){return"system.profile"===e||"system.indexes"===e?e:"function"==typeof t?t(e):e},t.deepEqual=function e(n,r){if(n===r)return!0;if("object"!==o(n)&&"object"!==o(r))return n===r;if(n instanceof Date&&r instanceof Date)return n.getTime()===r.getTime();if(v(n,"ObjectID")&&v(r,"ObjectID")||v(n,"Decimal128")&&v(r,"Decimal128"))return n.toString()===r.toString();if(n instanceof RegExp&&r instanceof RegExp)return n.source===r.source&&n.ignoreCase===r.ignoreCase&&n.multiline===r.multiline&&n.global===r.global;if(null==n||null==r)return!1;if(n.prototype!==r.prototype)return!1;if(n instanceof Map&&r instanceof Map)return e(Array.from(n.keys()),Array.from(r.keys()))&&e(Array.from(n.values()),Array.from(r.values()));if(n instanceof Number&&r instanceof Number)return n.valueOf()===r.valueOf();if(l.isBuffer(n))return t.buffer.areEqual(n,r);if(Array.isArray(n)&&Array.isArray(r)){var i=n.length;if(i!==r.length)return!1;for(var a=0;a<i;++a)if(!e(n[a],r[a]))return!1;return!0}null!=n.$__?n=n._doc:g(n)&&(n=n.toObject()),null!=r.$__?r=r._doc:g(r)&&(r=r.toObject());var s=Object.keys(n),u=Object.keys(r),c=s.length;if(c!==u.length)return!1;s.sort(),u.sort();for(var f=c-1;f>=0;f--)if(s[f]!==u[f])return!1;for(var p=0,h=s;p<h.length;p++){var d=h[p];if(!e(n[d],r[d]))return!1}return!0},t.last=function(e){if(e.length>0)return e[e.length-1]},t.clone=d,t.promiseOrCallback=b,t.omit=function(e,t){if(null==t)return Object.assign({},e);Array.isArray(t)||(t=[t]);var n,i=Object.assign({},e),o=r(t);try{for(o.s();!(n=o.n()).done;)delete i[n.value]}catch(e){o.e(e)}finally{o.f()}return i},t.options=function(e,t){var n,r=Object.keys(e),i=r.length;for(t=t||{};i--;)(n=r[i])in t||(t[n]=e[n]);return t},t.random=function(){return Math.random().toString().substr(3)},t.merge=function e(n,r,i,o){i=i||{};var a,s=Object.keys(r),u=0,c=s.length;o=o||"";for(var l=i.omitNested||{};u<c;)if(a=s[u++],!(i.omit&&i.omit[a]||l[o]||_.has(a)))if(null==n[a])n[a]=r[a];else if(t.isObject(r[a])){if(t.isObject(n[a])||(n[a]={}),null!=r[a]){if(i.isDiscriminatorSchemaMerge&&r[a].$isSingleNested&&n[a].$isMongooseDocumentArray||r[a].$isMongooseDocumentArray&&n[a].$isSingleNested)continue;if(r[a].instanceOfSchema){n[a].instanceOfSchema?n[a].add(r[a].clone()):n[a]=r[a].clone();continue}if(r[a]instanceof p){n[a]=new p(r[a]);continue}}e(n[a],r[a],i,o?o+"."+a:a)}else i.overwrite&&(n[a]=r[a])},t.toObject=function e(i){var o;if(a||(a=n(6)),null==i)return i;if(i instanceof a)return i.toObject();if(Array.isArray(i)){o=[];var s,u=r(i);try{for(u.s();!(s=u.n()).done;){var c=s.value;o.push(e(c))}}catch(e){u.e(e)}finally{u.f()}return o}if(t.isPOJO(i)){o={};for(var l=0,f=Object.keys(i);l<f.length;l++){var p=f[l];_.has(p)||(o[p]=e(i[p]))}return o}return i},t.isObject=m,t.isPOJO=function(e){if(null==e||"object"!==o(e))return!1;var t=Object.getPrototypeOf(e);return!t||"Object"===t.constructor.name},t.isNativeObject=function(e){return Array.isArray(e)||e instanceof Date||e instanceof Boolean||e instanceof Number||e instanceof String},t.isEmptyObject=function(e){return null!=e&&"object"===o(e)&&0===Object.keys(e).length},t.hasKey=function(e,n){for(var r=0,i=Object.keys(e);r<i.length;r++){var o=i[r];if(o===n)return!0;if(t.isPOJO(e[o])&&t.hasKey(e[o],n))return!0}return!1},t.args=c,t.tick=function(t){if("function"==typeof t)return function(){try{t.apply(this,arguments)}catch(t){e.nextTick((function(){throw t}))}}},t.isMongooseType=function(e){return e instanceof p||e instanceof f||e instanceof l},t.isMongooseObject=g,t.expires=function(e){var t;e&&"Object"===e.constructor.name&&"expires"in e&&(t="string"!=typeof e.expires?e.expires:Math.round(s(e.expires)/1e3),e.expireAfterSeconds=t,delete e.expires)},t.populate=function(e,n,r,i,a,s,u,c){var l=null;if(1===arguments.length){if(e instanceof h)return[e];if(Array.isArray(e)){var f=p(e);return f.map((function(e){return t.populate(e)[0]}))}l=t.isObject(e)?Object.assign({},e):{path:e}}else l="object"===o(r)?{path:e,select:n,match:r,options:i}:{path:e,select:n,model:r,match:i,options:a,populate:s,justOne:u,count:c};if("string"!=typeof l.path)throw new TypeError("utils.populate: invalid path. Expected string. Got typeof `"+o(e)+"`");return w(l);function p(e){var t=[];return e.forEach((function(e){/[\s]/.test(e.path)?e.path.split(" ").forEach((function(n){var r=Object.assign({},e);r.path=n,t.push(r)})):t.push(e)})),t}},t.getValue=function(e,t,n){return u.get(e,t,"_doc",n)},t.setValue=function(e,t,n,r,i){u.set(e,t,n,"_doc",r,i)},t.object={},t.object.vals=function(e){for(var t=Object.keys(e),n=t.length,r=[];n--;)r.push(e[t[n]]);return r},t.object.shallowCopy=t.options;var x=Object.prototype.hasOwnProperty;t.object.hasOwnProperty=function(e,t){return x.call(e,t)},t.isNullOrUndefined=function(e){return null==e},t.array={},t.array.flatten=function e(t,n,r){return r||(r=[]),t.forEach((function(t){Array.isArray(t)?e(t,n,r):n&&!n(t)||r.push(t)})),r};var S=Object.prototype.hasOwnProperty;t.hasUserDefinedProperty=function(e,n){if(null==e)return!1;if(Array.isArray(n)){var i,a=r(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;if(t.hasUserDefinedProperty(e,s))return!0}}catch(e){a.e(e)}finally{a.f()}return!1}if(S.call(e,n))return!0;if("object"===o(e)&&n in e){var u=e[n];return u!==Object.prototype[n]&&u!==Array.prototype[n]}return!1};var E=Math.pow(2,32)-1;t.isArrayIndex=function(e){return"number"==typeof e?e>=0&&e<=E:"string"==typeof e&&!!/^\d+$/.test(e)&&(e=+e)>=0&&e<=E},t.array.unique=function(e){var t,n={},i={},o=[],a=r(e);try{for(a.s();!(t=a.n()).done;){var s=t.value;if("number"==typeof s||"string"==typeof s||null==s){if(n[s])continue;o.push(s),n[s]=!0}else if(s instanceof p){if(i[s.toString()])continue;o.push(s),i[s.toString()]=!0}else o.push(s)}}catch(e){a.e(e)}finally{a.f()}return o},t.buffer={},t.buffer.areEqual=function(e,t){if(!l.isBuffer(e))return!1;if(!l.isBuffer(t))return!1;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;++n)if(e[n]!==t[n])return!1;return!0},t.getFunctionName=y,t.decorate=function(e,t){for(var n in t)_.has(n)||(e[n]=t[n])},t.mergeClone=function(e,n){g(n)&&(n=n.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1}));for(var r,i=Object.keys(n),o=i.length,a=0;a<o;)if(r=i[a++],!_.has(r))if(void 0===e[r])e[r]=t.clone(n[r],{transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1});else{var s=n[r];if(null==s||!s.valueOf||s instanceof Date||(s=s.valueOf()),t.isObject(s)){var u=s;g(s)&&!s.isMongooseBuffer&&(u=u.toObject({transform:!1,virtuals:!1,depopulate:!0,getters:!1,flattenDecimals:!1})),s.isMongooseBuffer&&(u=l.from(u)),t.mergeClone(e[r],u)}else e[r]=t.clone(s,{flattenDecimals:!1})}},t.each=function(e,t){var n,i=r(e);try{for(i.s();!(n=i.n()).done;)t(n.value)}catch(e){i.e(e)}finally{i.f()}},t.getOption=function(e){var t,n=Array.prototype.slice.call(arguments,1),i=r(n);try{for(i.s();!(t=i.n()).done;){var o=t.value;if(null!=o[e])return o[e]}}catch(e){i.e(e)}finally{i.f()}return null},t.noop=function(){}}).call(this,n(8))},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){return null==e?e:e instanceof Map?e.get(t):e[t]}e.exports=function(e,t,n){var i,a=t.split("."),s=t,u=e,c=r(a);try{for(c.s();!(i=c.n()).done;){var l=i.value;if(null==u)return n;if(null!=u[s])return u[s];u=o(u,l),s=s.substr(l.length+1)}}catch(e){c.e(e)}finally{c.f()}return null==u?n:u}},function(e,t,n){(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(u(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<i;s=r[++n])v(s)||!w(s)?a+=" "+s:a+=" "+u(s);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var a,s={};function u(e,n){var r={seen:[],stylize:l};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),m(n)?r.showHidden=n:n&&t._extend(r,n),b(r.showHidden)&&(r.showHidden=!1),b(r.depth)&&(r.depth=2),b(r.colors)&&(r.colors=!1),b(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=c),f(r,e,r.depth)}function c(e,t){var n=u.styles[t];return n?"\x1b["+u.colors[n][0]+"m"+e+"\x1b["+u.colors[n][1]+"m":e}function l(e,t){return e}function f(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=f(e,i,r)),i}var o=function(e,t){if(b(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return y(t)?e.stylize(""+t,"number"):m(t)?e.stylize(""+t,"boolean"):v(t)?e.stylize("null","null"):void 0}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return p(n);if(0===a.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(_(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return p(n)}var c,l="",w=!1,O=["{","}"];return d(n)&&(w=!0,O=["[","]"]),E(n)&&(l=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(l=" "+RegExp.prototype.toString.call(n)),x(n)&&(l=" "+Date.prototype.toUTCString.call(n)),S(n)&&(l=" "+p(n)),0!==a.length||w&&0!=n.length?r<0?_(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=w?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)A(t,String(a))?o.push(h(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(h(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return h(e,n,r,s,t,w)})),e.seen.pop(),function(e,t,n){return e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(c,l,O)):O[0]+l+O[1]}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),A(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?f(e,u.value,null):f(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),b(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function d(e){return Array.isArray(e)}function m(e){return"boolean"==typeof e}function v(e){return null===e}function y(e){return"number"==typeof e}function g(e){return"string"==typeof e}function b(e){return void 0===e}function _(e){return w(e)&&"[object RegExp]"===O(e)}function w(e){return"object"===r(e)&&null!==e}function x(e){return w(e)&&"[object Date]"===O(e)}function S(e){return w(e)&&("[object Error]"===O(e)||e instanceof Error)}function E(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(b(a)&&(a=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(a)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=u,u.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},u.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=m,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=y,t.isString=g,t.isSymbol=function(e){return"symbol"===r(e)},t.isUndefined=b,t.isRegExp=_,t.isObject=w,t.isDate=x,t.isError=S,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"===r(e)||void 0===e},t.isBuffer=n(100);var M=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),M[e.getMonth()],t].join(" ")}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",P(),t.format.apply(t,arguments))},t.inherits=n(101),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function k(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(k,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,i(t)),n}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(14);e.exports=r,r.messages=n(127),r.Messages=r.messages,r.DocumentNotFoundError=n(128),r.CastError=n(13),r.ValidationError=n(31),r.ValidatorError=n(71),r.VersionError=n(129),r.ParallelSaveError=n(130),r.OverwriteModelError=n(131),r.MissingSchemaError=n(132),r.DivergentArrayError=n(133),r.StrictModeError=n(32)},function(e,t,n){"use strict";(function(t,r){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u,c,l,f=n(19).EventEmitter,p=n(109),h=n(5),d=n(25),m=n(73),v=n(135),y=n(136),g=n(52),b=n(32),_=n(31),w=n(71),x=n(53),S=n(24),E=n(84),O=n(57).compile,T=n(57).defineKey,M=n(172).flatten,P=n(3),A=n(173),C=n(88),k=n(174),j=n(58),R=n(175),D=n(4).inspect,N=n(17).internalToObjectOptions,L=n(46),I=n(176),B=n(2),F=n(178),U=B.clone,z=B.deepEqual,V=B.isMongooseObject,H=Symbol("mongoose.Array#atomicsBackup"),$=n(0).arrayAtomicsSymbol,G=n(0).documentArrayParent,W=n(0).documentIsModified,q=n(0).documentModifiedPaths,Y=n(0).documentSchemaSymbol,X=n(0).getSymbol,Z=n(0).populateModelSymbol,Q=n(0).scopeSymbol,K=B.specialProperties;function J(e,t,n,r){var i=this;"object"===s(n)&&null!=n&&(n=(r=n).skipId),r=Object.assign({},r);var a=P(r,"defaults",!0);if(r.defaults=a,null==this.schema){var u=B.isObject(t)&&!t.instanceOfSchema?new g(t):t;this.$__setSchema(u),t=n,n=r,r=arguments[4]||{}}if(this.$__=new p,this.$__.emitter=new f,this.isNew=!("isNew"in r)||r.isNew,this.errors=void 0,this.$__.$options=r||{},this.$locals={},this.$op=null,null!=e&&"object"!==s(e))throw new v(e,"obj","Document");var c=this.schema;"boolean"==typeof t||"throw"===t?(this.$__.strictMode=t,t=void 0):(this.$__.strictMode=c.options.strict,this.$__.selected=t);var l,h=c.requiredPaths(!0),d=o(h);try{for(d.s();!(l=d.n()).done;){var m=l.value;this.$__.activePaths.require(m)}}catch(e){d.e(e)}finally{d.f()}this.$__.emitter.setMaxListeners(0);var y=null;B.isPOJO(t)&&(y=R(t));var b=!1===y&&t?te(t):{};if(null==this._doc&&(this.$__buildDoc(e,t,n,y,b,!1),a&&ne(this,t,n,y,b,!0,{isNew:this.isNew})),e&&(this.$__original_set?this.$__original_set(e,void 0,!0):this.$set(e,void 0,!0),e instanceof J&&(this.isNew=e.isNew)),r.willInit&&a?f.prototype.once.call(this,"init",(function(){ne(i,t,n,y,b,!1,r.skipDefaults,i.isNew)})):a&&ne(this,t,n,y,b,!1,r.skipDefaults,this.isNew),this.$__._id=this._id,!this.$__.strictMode&&e){var _=this,w=Object.keys(this._doc);w.forEach((function(e){e in c.tree||T(e,null,_)}))}ae(this)}for(var ee in B.each(["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"],(function(e){J.prototype[e]=function(){return this.$__.emitter[e].apply(this.$__.emitter,arguments)}})),J.prototype.constructor=J,f.prototype)J[ee]=f.prototype[ee];function te(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i,a=[],s=o(r[n].split("."));try{for(s.s();!(i=s.n()).done;){var u=i.value;a.push(u),t[a.join(".")]=1}}catch(e){s.e(e)}finally{s.f()}}return t}function ne(e,t,n,r,i,o,a){for(var s=Object.keys(e.schema.paths),u=s.length,c=0;c<u;++c){var l=void 0,f="",p=s[c];if("_id"!==p||!n)for(var h=e.schema.paths[p],d=-1===p.indexOf(".")?[p]:p.split("."),m=d.length,v=!1,y=e._doc,g=0;g<m&&null!=y;++g){var b=d[g];if(f+=(f.length?".":"")+b,!0===r){if(f in t)break}else if(!1===r&&t&&!v)if(f in t)v=!0;else if(!i[f])break;if(g===m-1){if(void 0!==y[b])break;if("function"==typeof h.defaultValue){if(!h.defaultValue.$runBeforeSetters&&o)break;if(h.defaultValue.$runBeforeSetters&&!o)break}else if(!o)continue;if(a&&a[f])break;if(t&&null!==r){if(!0===r){if(p in t)continue;try{l=h.getDefault(e,!1)}catch(t){e.invalidate(p,t);break}void 0!==l&&(y[b]=l,e.$__.activePaths.default(p))}else if(v){try{l=h.getDefault(e,!1)}catch(t){e.invalidate(p,t);break}void 0!==l&&(y[b]=l,e.$__.activePaths.default(p))}}else{try{l=h.getDefault(e,!1)}catch(t){e.invalidate(p,t);break}void 0!==l&&(y[b]=l,e.$__.activePaths.default(p))}}else y=y[b]}}}function re(e){if(null==e)return!0;if("object"!==s(e)||Array.isArray(e))return!1;for(var t=0,n=Object.keys(e);t<n.length;t++)if(!re(e[n[t]]))return!1;return!0}function ie(e){var t={};!function(e){Object.keys(e.$__.activePaths.states.require).forEach((function(t){var n=e.schema.path(t);null!=n&&"function"==typeof n.originalRequiredValue&&(e.$__.cachedRequired[t]=n.originalRequiredValue.call(e,e))}))}(e);var n=new Set(Object.keys(e.$__.activePaths.states.require).filter((function(t){return!(!e.$__isSelected(t)&&!e.isModified(t))&&(!(t in e.$__.cachedRequired)||e.$__.cachedRequired[t])})));function r(e){n.add(e)}Object.keys(e.$__.activePaths.states.init).forEach(r),Object.keys(e.$__.activePaths.states.modify).forEach(r),Object.keys(e.$__.activePaths.states.default).forEach(r);var i,a=e.$__getAllSubdocs(),s=e.modifiedPaths(),u=o(a);try{for(u.s();!(i=u.n()).done;){var c=i.value;if(c.$basePath){var l,f=o(n);try{for(f.s();!(l=f.n()).done;){var p=l.value;(null===p||p.startsWith(c.$basePath+"."))&&n.delete(p)}}catch(e){f.e(e)}finally{f.f()}!e.isModified(c.$basePath,s)||e.isDirectModified(c.$basePath)||e.$isDefault(c.$basePath)||(n.add(c.$basePath),t[c.$basePath]=!0)}}}catch(e){u.e(e)}finally{u.f()}var h,d=o(n);try{for(d.s();!(h=d.n()).done;){var m=h.value,v=e.schema.path(m);v&&v.$isMongooseArray&&(!v.$isMongooseDocumentArray||P(v,"schemaOptions.required"))&&y(e.$__getValue(m),n,m)}}catch(e){d.e(e)}finally{d.f()}function y(e,t,n){if(null!=e)for(var r=e.length,i=0;i<r;++i)Array.isArray(e[i])?y(e[i],t,n+"."+i):t.add(n+"."+i)}var g,b={skipArrays:!0},_=o(n);try{for(_.s();!(g=_.n()).done;){var w=g.value;if(e.schema.nested[w]){var x=e.$__getValue(w);V(x)&&(x=x.toObject({transform:!1}));var S=M(x,w,b,e.schema);Object.keys(S).forEach(r)}}}catch(e){_.e(e)}finally{_.f()}var E,O=o(n);try{for(O.s();!(E=O.n()).done;){var T=E.value;if(e.schema.singleNestedPaths.hasOwnProperty(T))n.delete(T);else{var A=e.schema.path(T);if(A&&A.$isSchemaMap){var C=e.$__getValue(T);if(null!=C){var k,j=o(C.keys());try{for(j.s();!(k=j.n()).done;){var R=k.value;n.add(T+"."+R)}}catch(e){j.e(e)}finally{j.f()}}}}}}catch(e){O.e(e)}finally{O.f()}return[n=Array.from(n),t]}function oe(e,t){var n,r=new Set(t),i=new Map([]),a=o(t);try{for(a.s();!(n=a.n()).done;){var s=n.value;if(-1!==s.indexOf("."))for(var u=s.split("."),c=u[0],l=1;l<u.length;++l)i.set(c,s),c=c+"."+u[l]}}catch(e){a.e(e)}finally{a.f()}var f,p=[],h=o(e);try{for(h.s();!(f=h.n()).done;){var d=f.value;r.has(d)?p.push(d):i.has(d)&&p.push(i.get(d))}}catch(e){h.e(e)}finally{h.f()}return p}function ae(e){var t=e.schema&&e.schema.callQueue;if(t.length){var n,r=o(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;"pre"!==i[0]&&"post"!==i[0]&&"on"!==i[0]&&e[i[0]].apply(e,i[1])}}catch(e){r.e(e)}finally{r.f()}}}function se(e,t,n,r){var i,o,a,s=e.schema,u=Object.keys(s.virtuals),c=u.length,l=c,f=e._doc,p=P(r,"aliases",!0);if(!f)return t;for(n=n||{},c=0;c<l;++c)if(i=u[c],p||!s.aliases.hasOwnProperty(i)){if(o=i,null!=n.path){if(!i.startsWith(n.path+"."))continue;o=i.substr(n.path.length+1)}var h=o.split(".");if(void 0!==(a=U(e.get(i),n))){var d=h.length;f=t;for(var m=0;m<d-1;++m)f[h[m]]=f[h[m]]||{},f=f[h[m]];f[h[d-1]]=a}}return t}function ue(e,t){if(F(t))throw new Error("`transform` function must be synchronous, but the transform on path `"+e+"` returned a promise.")}J.prototype.schema,Object.defineProperty(J.prototype,"$locals",{configurable:!1,enumerable:!1,writable:!0}),J.prototype.isNew,J.prototype.id,J.prototype.errors,J.prototype.$op,J.prototype.$__buildDoc=function(e,t,n,r,i){for(var o={},a=Object.keys(this.schema.paths).filter((function(e){return!e.includes("$*")})),s=a.length,u=0;u<s;++u){var c=a[u];if("_id"===c){if(n)continue;if(e&&"_id"in e)continue}for(var l=c.split("."),f=l.length,p=f-1,h="",d=o,m=!1,v=0;v<f;++v){var y=l[v];if(h+=(h.length?".":"")+y,!0===r){if(h in t)break}else if(!1===r&&t&&!m)if(h in t)m=!0;else if(!i[h])break;v<p&&(d=d[y]||(d[y]={}))}}this._doc=o},J.prototype.toBSON=function(){return this.toObject(N)},J.prototype.init=function(e,t,n){return"function"==typeof t&&(n=t,t=null),this.$__init(e,t),n&&n(null,this),this},J.prototype.$__init=function(e,t){if(this.isNew=!1,this.$init=!0,t=t||{},null!=e._id&&t.populated&&t.populated.length){var n,r=String(e._id),i=o(t.populated);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.isVirtual?this.populated(a.path,B.getValue(a.path,e),a):this.populated(a.path,a._docs[r],a),null!=a._childDocs){var s,u=o(a._childDocs);try{for(u.s();!(s=u.n()).done;){var c=s.value;null!=c&&null!=c.$__&&(c.$__.parent=this)}}catch(e){u.e(e)}finally{u.f()}}}}catch(e){i.e(e)}finally{i.f()}}return function e(t,n,r,i,o){o=o||"";for(var a,s,u,c=Object.keys(n),l=c.length,f=0;f<l;)p(f++);function p(l){if(u=c[l],s=o+u,a=t.schema.path(s),!t.schema.$isRootDiscriminator||t.$__isSelected(s))if(!a&&B.isPOJO(n[u]))r[u]||(r[u]={}),e(t,n[u],r[u],i,s+".");else if(a){if(null===n[u])r[u]=a._castNullish(null);else if(void 0!==n[u]){var f=(n[u].$__||{}).wasPopulated||null;if(a&&!f)try{r[u]=a.cast(n[u],t,!0)}catch(e){t.invalidate(e.path,new w({path:e.path,message:e.message,type:"cast",value:e.value,reason:e}))}else r[u]=n[u]}t.isModified(s)||t.$__.activePaths.init(s)}else r[u]=n[u]}}(this,e,this._doc,t),function(e,t){if(null!=e._id&&null!=t&&0!==t.length){var n,r=String(e._id),i=o(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!a.isVirtual)for(var s=a.path.split("."),u=0;u<s.length-1;++u){var c=s.slice(0,u+1).join("."),l=s.slice(u+1).join("."),f=e.get(c);if(null!=f&&f.isMongooseDocumentArray){for(var p=0;p<f.length;++p)f[p].populated(l,null==a._docs[r]?[]:a._docs[r][p],a);break}}}}catch(e){i.e(e)}finally{i.f()}}}(this,t.populated),this.emit("init",this),this.constructor.emit("init",this),this.$__._id=this._id,this},J.prototype.update=function(){var e=B.args(arguments);e.unshift({_id:this._id});var t=this.constructor.update.apply(this.constructor,e);return null!=this.$session()&&("session"in t.options||(t.options.session=this.$session())),t},J.prototype.updateOne=function(e,t,n){var r=this,i=this.constructor.updateOne({_id:this._id},e,t);return i._pre((function(e){r.constructor._middleware.execPre("updateOne",r,[r],e)})),i._post((function(e){r.constructor._middleware.execPost("updateOne",r,[r],{},e)})),null!=this.$session()&&("session"in i.options||(i.options.session=this.$session())),null!=n?i.exec(n):i},J.prototype.replaceOne=function(){var e=B.args(arguments);return e.unshift({_id:this._id}),this.constructor.replaceOne.apply(this.constructor,e)},J.prototype.$session=function(e){if(0===arguments.length)return this.$__.session;if(this.$__.session=e,!this.ownerDocument){var t,n=this.$__getAllSubdocs(),r=o(n);try{for(r.s();!(t=r.n()).done;){var i=t.value;i.$session(e)}}catch(e){r.e(e)}finally{r.f()}}return e},J.prototype.overwrite=function(e){for(var t=0,n=Array.from(new Set(Object.keys(this._doc).concat(Object.keys(e))));t<n.length;t++){var r=n[t];"_id"!==r&&(this.schema.options.versionKey&&r===this.schema.options.versionKey||this.schema.options.discriminatorKey&&r===this.schema.options.discriminatorKey||this.$set(r,e[r]))}return this},J.prototype.$set=function(e,t,n,r){var a=this;B.isPOJO(n)&&(r=n,n=void 0);var u,c,l,f,p=(r=r||{}).merge,v=n&&!0!==n,y=!0===n,g=0,_="strict"in r?r.strict:this.$__.strictMode;if(v&&((this.$__.adhocPaths||(this.$__.adhocPaths={}))[e]=this.schema.interpretAsType(e,n,this.schema.options)),null==e){var w=e;e=t,t=w}else{if("string"!=typeof e){if(e instanceof J&&(e=e.$__isNested?e.toObject():e._doc),null==e){var x=e;e=t,t=x}f=t?t+".":"";var S=(u=Object.keys(e)).length,O=P(r,"_skipMinimizeTopLevel",!1);if(0===S&&O)return delete r._skipMinimizeTopLevel,t&&this.$set(t,{}),this;for(var T=0;T<S;++T){var M=f+(l=u[T]);if(c=this.schema.pathType(M),!0!==n||f||null==e[l]||"nested"!==c||null==this._doc[l]||0!==Object.keys(this._doc[l]).length||(delete this._doc[l],r=Object.assign({},r,{_skipMinimizeTopLevel:!0})),"object"!==s(e[l])||B.isNativeObject(e[l])||B.isMongooseType(e[l])||null==e[l]||"virtual"===c||"real"===c||"adhocOrUndefined"===c||this.$__path(M)instanceof d||this.schema.paths[M]&&this.schema.paths[M].options&&this.schema.paths[M].options.ref)if(_){if(y&&void 0===e[l]&&void 0!==this.get(M))continue;if("adhocOrUndefined"===c&&(c=A(this,M,{typeOnly:!0})),"real"===c||"virtual"===c){var k=e[l];this.schema.paths[M]&&this.schema.paths[M].$isSingleNested&&e[l]instanceof J&&(k=k.toObject({virtuals:!1,transform:!1})),this.$set(f+l,k,y,r)}else if("nested"===c&&e[l]instanceof J)this.$set(f+l,e[l].toObject({transform:!1}),y,r);else if("throw"===_)throw"nested"===c?new m(l,e[l]):new b(l)}else void 0!==e[l]&&this.$set(f+l,e[l],y,r);else this.$__.$setCalled.add(f+l),this.$set(e[l],f+l,y,r)}return this}this.$__.$setCalled.add(e)}var j,R=this.schema.pathType(e);if("adhocOrUndefined"===R&&(R=A(this,e,{typeOnly:!0})),t=C(t),"nested"===R&&t){if("object"===s(t)&&null!=t){var D=null!=this.$__.savedState&&this.$__.savedState.hasOwnProperty(e);if(null!=this.$__.savedState&&!this.isNew&&!this.$__.savedState.hasOwnProperty(e)){var N=this.$__getValue(e);this.$__.savedState[e]=N;for(var I=0,F=Object.keys(N||{});I<F.length;I++){var U=F[I];this.$__.savedState[e+"."+U]=N[U]}}if(p)return this.$set(t,e,y);this.$__setValue(e,null),E(this,e);var z=Object.keys(t);this.$__setValue(e,{});for(var V=0,H=z;V<H.length;V++){var $=H[V];this.$set(e+"."+$,t[$],y)}return D&&B.deepEqual(this.$__.savedState[e],t)?this.unmarkModified(e):this.markModified(e),E(this,e,{skipDocArrays:!0}),this}return this.invalidate(e,new h.CastError("Object",t,e)),this}var G=-1===e.indexOf(".")?[e]:e.split(".");if("string"==typeof this.schema.aliases[G[0]]&&(G[0]=this.schema.aliases[G[0]]),"adhocOrUndefined"===R&&_){var W;for(g=0;g<G.length;++g){var q=G.slice(0,g+1).join(".");if(g+1<G.length&&"virtual"===this.schema.pathType(q))return L.set(e,t,this),this;if(null!=(j=this.schema.path(q))&&j instanceof d){W=!0;break}}if(null==j&&(j=A(this,e)),!W&&!j){if("throw"===_)throw new b(e);return this}}else{if("virtual"===R)return(j=this.schema.virtualpath(e)).applySetters(t,this),this;j=this.$__path(e)}var Y,X=this._doc,Q="";for(g=0;g<G.length-1;++g)X=X[G[g]],Q+=(Q.length>0?".":"")+G[g],X||(this.$set(Q,{}),this.$__isSelected(Q)||this.unmarkModified(Q),X=this.$__getValue(Q));if(G.length<=1)Y=e;else{for(g=0;g<G.length;++g){var K=G.slice(0,g+1).join(".");if(null===this.get(K,null,{getters:!1})){Y=K;break}}Y||(Y=e)}var ee=null!=a.$__.$options.priorDoc?a.$__.$options.priorDoc.$__getValue(e):y?void 0:a.$__getValue(e);if(!j)return this.$__set(Y,e,y,G,j,t,ee),this;if((j.$isSingleNested||j.$isMongooseArray)&&function(e,t){if(e.$__.validationError){for(var n=0,r=Object.keys(e.$__.validationError.errors);n<r.length;n++){var i=r[n];i.startsWith(t+".")&&delete e.$__.validationError.errors[i]}0===Object.keys(e.$__.validationError.errors).length&&(e.$__.validationError=null)}}(this,e),j.$isSingleNested&&null!=t&&p){t instanceof J&&(t=t.toObject({virtuals:!1,transform:!1}));for(var te=0,ne=Object.keys(t);te<ne.length;te++){var re=ne[te];this.$set(e+"."+re,t[re],y,r)}return this}var ie=!0;try{var oe,ae=function(){if(null==j.options)return!1;if(!(t instanceof J))return!1;var e=t.constructor,n=j.options.ref;if(null!=n&&(n===e.modelName||n===e.baseModelName))return!0;var r=j.options.refPath;if(null==r)return!1;var i=t.get(r);return i===e.modelName||i===e.baseModelName}(),se=!1;if(ae&&t instanceof J&&(this.populated(e,t._id,i({},Z,t.constructor)),t.$__.wasPopulated=!0,se=!0),j.options&&Array.isArray(j.options[this.schema.options.typeKey])&&j.options[this.schema.options.typeKey].length&&j.options[this.schema.options.typeKey][0].ref&&function(e,t){if(!Array.isArray(e))return!1;if(0===e.length)return!1;var n,r=o(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!(i instanceof J))return!1;if(null==i.constructor.modelName)return!1;if(i.constructor.modelName!=t&&i.constructor.baseModelName!=t)return!1}}catch(e){r.e(e)}finally{r.f()}return!0}(t,j.options[this.schema.options.typeKey][0].ref)){this.ownerDocument?(oe=i({},Z,t[0].constructor),this.ownerDocument().populated(this.$__fullPath(e),t.map((function(e){return e._id})),oe)):(oe=i({},Z,t[0].constructor),this.populated(e,t.map((function(e){return e._id})),oe));var ue,ce=o(t);try{for(ce.s();!(ue=ce.n()).done;)ue.value.$__.wasPopulated=!0}catch(e){ce.e(e)}finally{ce.f()}se=!0}if(null==this.schema.singleNestedPaths[e]&&(t=j.applySetters(t,this,!1,ee)),j.$isMongooseDocumentArray&&Array.isArray(t)&&t.length>0&&null!=t[0]&&null!=t[0].$__&&null!=t[0].$__.populated){for(var le=Object.keys(t[0].$__.populated),fe=function(){var n=he[pe];a.populated(e+"."+n,t.map((function(e){return e.populated(n)})),t[0].$__.populated[n].options)},pe=0,he=le;pe<he.length;pe++)fe();se=!0}if(!se&&this.$__.populated){if(Array.isArray(t)&&this.$__.populated[e])for(var de=0;de<t.length;++de)t[de]instanceof J&&(t[de]=t[de]._id);delete this.$__.populated[e]}j.$isSingleNested&&null!=t&&function(e,t,n){var r=t.schema;if(null!=r)for(var i=0,o=Object.keys(r.paths);i<o.length;i++){var a=o[i],s=r.paths[a];if(null!=s.$immutableSetter){var u=null==n?void 0:n.$__getValue(a);s.$immutableSetter.call(e,u)}}}(t,j,ee),this.$markValid(e)}catch(n){n instanceof h.StrictModeError&&n.isImmutableError?this.invalidate(e,n):n instanceof h.CastError?(this.invalidate(n.path,n),n.$originalErrorPath&&this.invalidate(e,new h.CastError(j.instance,t,e,n.$originalErrorPath))):this.invalidate(e,new h.CastError(j.instance,t,e,n)),ie=!1}return ie&&(this.$__set(Y,e,y,G,j,t,ee),null!=this.$__.savedState&&(this.isNew||this.$__.savedState.hasOwnProperty(e)?this.$__.savedState.hasOwnProperty(e)&&B.deepEqual(t,this.$__.savedState[e])&&this.unmarkModified(e):this.$__.savedState[e]=ee)),j.$isSingleNested&&(this.isDirectModified(e)||null==t)&&E(this,e),this},J.prototype.set=J.prototype.$set,J.prototype.$__shouldModify=function(e,t,n,r,i,o,a){return!!this.isNew||null==this.schema.singleNestedPaths[t]&&(void 0===o&&!this.$__isSelected(t)||(void 0!==o||!(t in this.$__.activePaths.states.default))&&!(this.populated(t)&&o instanceof J&&z(o._id,a))&&(!z(o,a||B.getValue(t,this))||!(n||null==o||!(t in this.$__.activePaths.states.default)||!z(o,i.getDefault(this,n)))))},J.prototype.$__set=function(e,t,r,i,o,a,s){l=l||n(26);var u=this.$__shouldModify(e,t,r,i,o,a,s),f=this;u&&(this.markModified(e),c||(c=n(82)),a&&a.isMongooseArray&&(a._registerAtomic("$set",a),a.isMongooseDocumentArray&&a.forEach((function(e){e&&e.__parentArray&&(e.__parentArray=a)})),this.$__.activePaths.forEach((function(e){e.startsWith(t+".")&&f.$__.activePaths.ignore(e)}))));for(var p=this._doc,h=0,d=i.length,m="";h<d;h++){var v=h+1===d;if(m+=m?"."+i[h]:i[h],K.has(i[h]))return;v?p instanceof Map?p.set(i[h],a):p[i[h]]=a:(B.isPOJO(p[i[h]])||p[i[h]]&&p[i[h]]instanceof l||p[i[h]]&&p[i[h]].$isSingleNested||p[i[h]]&&Array.isArray(p[i[h]])||(p[i[h]]=p[i[h]]||{}),p=p[i[h]])}},J.prototype.$__getValue=function(e){return B.getValue(e,this._doc)},J.prototype.$__setValue=function(e,t){return B.setValue(e,t,this._doc),this},J.prototype.get=function(e,t,n){var r;n=n||{},t&&(r=this.schema.interpretAsType(e,t,this.schema.options));var i=this.$__path(e);if(null==i&&(i=this.schema.virtualpath(e)),i instanceof d){var o=this.schema.virtualpath(e);null!=o&&(i=o)}var a=e.split("."),s=this._doc;if(i instanceof x)return i.applyGetters(void 0,this);"string"==typeof this.schema.aliases[a[0]]&&(a[0]=this.schema.aliases[a[0]]);for(var u=0,c=a.length;u<c;u++)s&&s._doc&&(s=s._doc),s=null==s?void 0:s instanceof Map?s.get(a[u],{getters:!1}):u===c-1?B.getValue(a[u],s):s[a[u]];if(r&&(s=r.cast(s)),null!=i&&!1!==n.getters)s=i.applyGetters(s,this);else if(this.schema.nested[e]&&n.virtuals)return se(this,B.clone(s)||{},{path:e});return s},J.prototype[X]=J.prototype.get,J.prototype.$__path=function(e){var t=this.$__.adhocPaths;return(t&&t.hasOwnProperty(e)?t[e]:null)||this.schema.path(e)},J.prototype.markModified=function(e,t){this.$__.activePaths.modify(e),null==t||this.ownerDocument||(this.$__.pathsToScopes[e]=t)},J.prototype.unmarkModified=function(e){this.$__.activePaths.init(e),delete this.$__.pathsToScopes[e]},J.prototype.$ignore=function(e){this.$__.activePaths.ignore(e)},J.prototype.directModifiedPaths=function(){return Object.keys(this.$__.activePaths.states.modify)},J.prototype.$isEmpty=function(e){var t={minimize:!0,virtuals:!1,getters:!1,transform:!1};if(arguments.length>0){var n=this.get(e);return null==n||"object"===s(n)&&(B.isPOJO(n)?re(n):0===Object.keys(n.toObject(t)).length)}return 0===Object.keys(this.toObject(t)).length},J.prototype.modifiedPaths=function(e){e=e||{};var t=Object.keys(this.$__.activePaths.states.modify),n=this;return t.reduce((function(t,r){var i=r.split(".");if(t=t.concat(i.reduce((function(e,t,n){return e.concat(i.slice(0,n).concat(t).join("."))}),[]).filter((function(e){return-1===t.indexOf(e)}))),!e.includeChildren)return t;var a=n.get(r);if(null!=a&&"object"===s(a))if(a._doc&&(a=a._doc),Array.isArray(a)){for(var u=a.length,c=0;c<u;++c)if(-1===t.indexOf(r+"."+c)&&(t.push(r+"."+c),null!=a[c]&&a[c].$__)){var l,f=o(a[c].modifiedPaths());try{for(f.s();!(l=f.n()).done;){var p=l.value;t.push(r+"."+c+"."+p)}}catch(e){f.e(e)}finally{f.f()}}}else Object.keys(a).filter((function(e){return-1===t.indexOf(r+"."+e)})).forEach((function(e){t.push(r+"."+e)}));return t}),[])},J.prototype[q]=J.prototype.modifiedPaths,J.prototype.isModified=function(e,t){if(e){Array.isArray(e)||(e=e.split(" "));var n=t||this[q](),r=Object.keys(this.$__.activePaths.states.modify);return e.some((function(e){return!!~n.indexOf(e)}))||e.some((function(e){return r.some((function(t){return t===e||e.startsWith(t+".")}))}))}return this.$__.activePaths.some("modify")},J.prototype[W]=J.prototype.isModified,J.prototype.$isDefault=function(e){var t=this;if(null==e)return this.$__.activePaths.some("default");if("string"==typeof e&&-1===e.indexOf(" "))return this.$__.activePaths.states.default.hasOwnProperty(e);var n=e;return Array.isArray(n)||(n=n.split(" ")),n.some((function(e){return t.$__.activePaths.states.default.hasOwnProperty(e)}))},J.prototype.$isDeleted=function(e){return 0===arguments.length?!!this.$__.isDeleted:(this.$__.isDeleted=!!e,this)},J.prototype.isDirectModified=function(e){var t=this;if(null==e)return this.$__.activePaths.some("modify");if("string"==typeof e&&-1===e.indexOf(" "))return this.$__.activePaths.states.modify.hasOwnProperty(e);var n=e;return Array.isArray(n)||(n=n.split(" ")),n.some((function(e){return t.$__.activePaths.states.modify.hasOwnProperty(e)}))},J.prototype.isInit=function(e){var t=this;if(null==e)return this.$__.activePaths.some("init");if("string"==typeof e&&-1===e.indexOf(" "))return this.$__.activePaths.states.init.hasOwnProperty(e);var n=e;return Array.isArray(n)||(n=n.split(" ")),n.some((function(e){return t.$__.activePaths.states.init.hasOwnProperty(e)}))},J.prototype.isSelected=function(e){var t=this;if(null==this.$__.selected)return!0;if("_id"===e)return 0!==this.$__.selected._id;if(-1!==e.indexOf(" ")&&(e=e.split(" ")),Array.isArray(e))return e.some((function(e){return t.$__isSelected(e)}));var n=Object.keys(this.$__.selected),r=null;if(1===n.length&&"_id"===n[0])return 0===this.$__.selected._id;for(var i=0,o=n;i<o.length;i++){var a=o[i];if("_id"!==a&&j(this.$__.selected[a])){r=!!this.$__.selected[a];break}}if(null===r)return!0;if(e in this.$__.selected)return r;for(var s=e+".",u=0,c=n;u<c.length;u++){var l=c[u];if("_id"!==l){if(l.startsWith(s))return r||l!==s;if(s.startsWith(l+"."))return r}}return!r},J.prototype.$__isSelected=J.prototype.isSelected,J.prototype.isDirectSelected=function(e){var t=this;if(null==this.$__.selected)return!0;if("_id"===e)return 0!==this.$__.selected._id;if(-1!==e.indexOf(" ")&&(e=e.split(" ")),Array.isArray(e))return e.some((function(e){return t.isDirectSelected(e)}));var n=Object.keys(this.$__.selected),r=null;if(1===n.length&&"_id"===n[0])return 0===this.$__.selected._id;for(var i=0,o=n;i<o.length;i++){var a=o[i];if("_id"!==a&&j(this.$__.selected[a])){r=!!this.$__.selected[a];break}}return null===r||(this.$__.selected.hasOwnProperty(e)?r:!r)},J.prototype.validate=function(e,t,n){var r,i=this;return this.$op="validate",null!=this.ownerDocument||(this.$__.validating?r=new y(this,{parentStack:t&&t.parentStack,conflictStack:this.$__.validating.stack}):this.$__.validating=new y(this,{parentStack:t&&t.parentStack})),"function"==typeof e?(n=e,t=null,e=null):"function"==typeof t&&(n=t,t=e,e=null),S(n,(function(n){if(null!=r)return n(r);i.$__validate(e,t,(function(e){i.$op=null,n(e)}))}),this.constructor.events)},J.prototype.$__validate=function(e,n,r){var i=this;"function"==typeof e?(r=e,n=null,e=null):"function"==typeof n&&(r=n,n=null);var o,a=n&&"object"===s(n)&&"validateModifiedOnly"in n;o=a?!!n.validateModifiedOnly:this.schema.options.validateModifiedOnly;var u=this,c=function(){var e=i.$__.validationError;if(i.$__.validationError=void 0,o&&null!=e){for(var t=0,n=Object.keys(e.errors);t<n.length;t++){var r=n[t];i.isModified(r)||delete e.errors[r]}0===Object.keys(e.errors).length&&(e=void 0)}if(i.$__.cachedRequired={},i.emit("validate",u),i.constructor.emit("validate",u),i.$__.validating=null,e){for(var a in e.errors)!i[G]&&e.errors[a]instanceof h.CastError&&i.invalidate(a,e.errors[a]);return e}},l=ie(this),f=o?l[0].filter((function(e){return i.isModified(e)})):l[0],p=l[1];if(Array.isArray(e)&&(f=oe(f,e)),0===f.length)return t.nextTick((function(){var e=c();if(e)return u.schema.s.hooks.execPost("validate:error",u,[u],{error:e},(function(e){r(e)}));r(null,u)}));for(var d={},m=0,v=function(){var e=c();if(e)return u.schema.s.hooks.execPost("validate:error",u,[u],{error:e},(function(e){r(e)}));r(null,u)},y=function(e){null==e||d[e]||(d[e]=!0,m++,t.nextTick((function(){var t=u.schema.path(e);if(!t)return--m||v();if(u.$isValid(e)){var n,r=u.$__getValue(e);null==r&&(n=u.populated(e))&&(r=n);var i=e in u.$__.pathsToScopes?u.$__.pathsToScopes[e]:u,o={skipSchemaValidators:p[e],path:e};t.doValidate(r,(function(n){if(n&&(!t.$isMongooseDocumentArray||n.$isArrayValidatorError)){if(t.$isSingleNested&&n instanceof _&&!1===t.schema.options.storeSubdocValidationError)return--m||v();u.invalidate(e,n,void 0,!0)}--m||v()}),i,o)}else--m||v()})))},g=f.length,b=0;b<g;++b)y(f[b])},J.prototype.validateSync=function(e,t){var n,r=this,i=this;n=t&&"object"===s(t)&&"validateModifiedOnly"in t?!!t.validateModifiedOnly:this.schema.options.validateModifiedOnly,"string"==typeof e&&(e=e.split(" "));var o=ie(this),a=n?o[0].filter((function(e){return r.isModified(e)})):o[0],u=o[1];Array.isArray(e)&&(a=oe(a,e));var c={};a.forEach((function(e){if(!c[e]){c[e]=!0;var t=i.schema.path(e);if(t&&i.$isValid(e)){var n=i.$__getValue(e),r=t.doValidateSync(n,i,{skipSchemaValidators:u[e],path:e});if(r&&(!t.$isMongooseDocumentArray||r.$isArrayValidatorError)){if(t.$isSingleNested&&r instanceof _&&!1===t.schema.options.storeSubdocValidationError)return;i.invalidate(e,r,void 0,!0)}}}}));var l=i.$__.validationError;if(i.$__.validationError=void 0,i.emit("validate",i),i.constructor.emit("validate",i),l)for(var f in l.errors)l.errors[f]instanceof h.CastError&&i.invalidate(f,l.errors[f]);return l},J.prototype.invalidate=function(e,t,n,r){if(this.$__.validationError||(this.$__.validationError=new _(this)),!this.$__.validationError.errors[e])return t&&"string"!=typeof t||(t=new w({path:e,message:t,type:r||"user defined",value:n})),this.$__.validationError===t||this.$__.validationError.addError(e,t),this.$__.validationError},J.prototype.$markValid=function(e){this.$__.validationError&&this.$__.validationError.errors[e]&&(delete this.$__.validationError.errors[e],0===Object.keys(this.$__.validationError.errors).length&&(this.$__.validationError=null))},J.prototype.$isValid=function(e){var t=this;return null==this.$__.validationError||0===Object.keys(this.$__.validationError.errors).length||null!=e&&(-1!==e.indexOf(" ")&&(e=e.split(" ")),Array.isArray(e)?e.some((function(e){return null==t.$__.validationError.errors[e]})):null==this.$__.validationError.errors[e])},J.prototype.$__reset=function(){var e=this;return u||(u=n(18)),this.$__.activePaths.map("init","modify",(function(t){return e.$__getValue(t)})).filter((function(e){return e&&e instanceof Array&&e.isMongooseDocumentArray&&e.length})).forEach((function(t){for(var n=t.length;n--;){var r=t[n];r&&r.$__reset()}e.$__.activePaths.init(t.$path()),t[H]=t[$],t[$]={}})),this.$__.activePaths.map("init","modify",(function(t){return e.$__getValue(t)})).filter((function(e){return e&&e.$isSingleNested})).forEach((function(t){t.$__reset(),e.$__.activePaths.init(t.$basePath)})),this.$__dirty().forEach((function(e){var t=e.value;t&&t[$]&&(t[H]=t[$],t[$]={})})),this.$__.backup={},this.$__.backup.activePaths={modify:Object.assign({},this.$__.activePaths.states.modify),default:Object.assign({},this.$__.activePaths.states.default)},this.$__.backup.validationError=this.$__.validationError,this.$__.backup.errors=this.errors,this.$__.activePaths.clear("modify"),this.$__.activePaths.clear("default"),this.$__.validationError=void 0,this.errors=void 0,e=this,this.schema.requiredPaths().forEach((function(t){e.$__.activePaths.require(t)})),this},J.prototype.$__undoReset=function(){if(null!=this.$__.backup&&null!=this.$__.backup.activePaths){this.$__.activePaths.states.modify=this.$__.backup.activePaths.modify,this.$__.activePaths.states.default=this.$__.backup.activePaths.default,this.$__.validationError=this.$__.backup.validationError,this.errors=this.$__.backup.errors;var e,t=o(this.$__dirty());try{for(t.s();!(e=t.n()).done;){var n=e.value.value;n&&n[$]&&n[H]&&(n[$]=n[H])}}catch(e){t.e(e)}finally{t.f()}var r,i=o(this.$__getAllSubdocs());try{for(i.s();!(r=i.n()).done;)r.value.$__undoReset()}catch(e){i.e(e)}finally{i.f()}}},J.prototype.$__dirty=function(){var e=this,t=this.$__.activePaths.map("modify",(function(t){return{path:t,value:e.$__getValue(t),schema:e.$__path(t)}}));(t=t.concat(this.$__.activePaths.map("default",(function(t){if("_id"!==t&&null!=e.$__getValue(t))return{path:t,value:e.$__getValue(t),schema:e.$__path(t)}})))).sort((function(e,t){return e.path<t.path?-1:e.path>t.path?1:0}));var n,r,i=[];return t.forEach((function(e){e&&(null==n||0!==e.path.indexOf(n)?(n=e.path+".",i.push(e),r=e):null!=r&&null!=r.value&&null!=r.value[$]&&r.value.hasAtomics()&&(r.value[$]={},r.value[$].$set=r.value))})),r=n=null,i},J.prototype.$__setSchema=function(e){e.plugin(k,{deduplicate:!0}),O(e.tree,this,void 0,e.options);for(var t=0,n=Object.keys(e.virtuals);t<n.length;t++){var r=n[t];e.virtuals[r]._applyDefaultGetters()}this.schema=e,this[Y]=e},J.prototype.$__getArrayPathsToValidate=function(){return u||(u=n(18)),this.$__.activePaths.map("init","modify",function(e){return this.$__getValue(e)}.bind(this)).filter((function(e){return e&&e instanceof Array&&e.isMongooseDocumentArray&&e.length})).reduce((function(e,t){return e.concat(t)}),[]).filter((function(e){return e}))},J.prototype.$__getAllSubdocs=function(){u||(u=n(18)),l=l||n(26);var e=this;return Object.keys(this._doc).reduce((function(t,n){return function e(t,n,r){var i=t;return r&&(i=t instanceof J&&t[Y].paths[r]?t._doc[r]:t[r]),i instanceof l?n.push(i):i instanceof Map?n=Array.from(i.keys()).reduce((function(t,n){return e(i.get(n),t,null)}),n):i&&i.$isSingleNested?(n=Object.keys(i._doc).reduce((function(t,n){return e(i._doc,t,n)}),n)).push(i):i&&i.isMongooseDocumentArray?i.forEach((function(t){t&&t._doc&&(n=Object.keys(t._doc).reduce((function(n,r){return e(t._doc,n,r)}),n),t instanceof l&&n.push(t))})):i instanceof J&&i.$__isNested&&(n=Object.keys(i).reduce((function(t,n){return e(i,t,n)}),n)),n}(e,t,n)}),[])},J.prototype.$__handleReject=function(e){this.listeners("error").length?this.emit("error",e):this.constructor.listeners&&this.constructor.listeners("error").length&&this.constructor.emit("error",e)},J.prototype.$toObject=function(e,t){var n,i={transform:!0,flattenDecimals:!0},o=t?"toJSON":"toObject",a=P(this,"constructor.base.options."+o,{}),s=P(this,"schema.options",{});i=B.options(i,U(a)),i=B.options(i,U(s[o]||{})),(e=B.isPOJO(e)?U(e):{})._calledWithOptions=e._calledWithOptions||U(e),"flattenMaps"in e||(e.flattenMaps=i.flattenMaps),n=null!=e._calledWithOptions.minimize?e.minimize:null!=i.minimize?i.minimize:s.minimize;var u=Object.assign(B.clone(e),{_isNested:!0,json:t,minimize:n});if(B.hasUserDefinedProperty(e,"getters")&&(u.getters=e.getters),B.hasUserDefinedProperty(e,"virtuals")&&(u.virtuals=e.virtuals),(e.depopulate||P(e,"_parentOptions.depopulate",!1))&&e._isNested&&this.$__.wasPopulated)return U(this._id,u);(e=B.options(i,e))._isNested=!0,e.json=t,e.minimize=n,u._parentOptions=e,u._skipSingleNestedGetters=!0;var c=Object.assign({},u);c._skipSingleNestedGetters=!1;var l=e.transform,f=U(this._doc,u)||{};e.getters&&(function(e,t,n){var r,i,o=e.schema,a=Object.keys(o.paths),s=a.length,u=e._doc;if(!u)return t;for(;s--;){var c=(r=a[s]).split("."),l=c.length,f=l-1,p=t,h=void 0;if(u=e._doc,e.$__isSelected(r))for(var d=0;d<l;++d){if(i=u[h=c[d]],d===f){var m=e.get(r);p[h]=U(m,n)}else{if(null==i){h in u&&(p[h]=i);break}p=p[h]||(p[h]={})}u=i}}}(this,f,c),e.minimize&&(f=function e(t){for(var n,i,o,a=Object.keys(t),s=a.length;s--;)o=t[i=a[s]],B.isObject(o)&&!r.isBuffer(o)&&(t[i]=e(o)),void 0!==t[i]?n=!0:delete t[i];return n?t:void 0}(f)||{})),(e.virtuals||e.getters&&!1!==e.virtuals)&&se(this,f,c,e),!1===e.versionKey&&this.schema.options.versionKey&&delete f[this.schema.options.versionKey];var p=e.transform;if(p&&function(e,t){var n=e.schema,r=Object.keys(n.paths||{});if(!e._doc)return t;for(var i=0,o=r;i<o.length;i++){var a=o[i],s=n.paths[a];if("function"==typeof s.options.transform){var u=e.get(a),c=s.options.transform.call(e,u);ue(a,c),B.setValue(a,c,t)}else if(null!=s.$embeddedSchemaType&&"function"==typeof s.$embeddedSchemaType.options.transform){for(var l=[].concat(e.get(a)),f=s.$embeddedSchemaType.options.transform,p=0;p<l.length;++p){var h=f.call(e,l[p]);l[p]=h,ue(a,h)}t[a]=l}}}(this,f),e.useProjection&&function(e,t){var n=e.schema,r=Object.keys(n.paths||{});if(!e._doc)return t;var i=e.$__.selected;if(void 0===i&&(i={},I.applyPaths(i,n)),null==i||0===Object.keys(i).length)return t;for(var o=0,a=r;o<a.length;o++){var s=a[o];null==i[s]||i[s]||delete t[s]}}(this,f),!0===p||s.toObject&&p){var h=e.json?s.toJSON:s.toObject;h&&(p="function"==typeof e.transform?e.transform:h.transform)}else e.transform=l;if("function"==typeof p){var d=p(this,f,e);void 0!==d&&(f=d)}return f},J.prototype.toObject=function(e){return this.$toObject(e)},J.prototype.toJSON=function(e){return this.$toObject(e,!0)},J.prototype.parent=function(){return this.$__.parent},J.prototype.$parent=J.prototype.parent,J.prototype.inspect=function(e){var t;B.isPOJO(e)&&((t=e).minimize=!1);var n=this.toObject(t);return null==n?"MongooseDocument { "+n+" }":n},D.custom&&(J.prototype[D.custom]=J.prototype.inspect),J.prototype.toString=function(){var e=this.inspect();return"string"==typeof e?e:D(e)},J.prototype.equals=function(e){if(!e)return!1;var t=this.$__getValue("_id"),n=null!=e.$__?e.$__getValue("_id"):e;return t||n?t&&t.equals?t.equals(n):t===n:z(this,e)},J.prototype.populate=function(){if(0===arguments.length)return this;var e,t=this.$__.populate||(this.$__.populate={}),n=B.args(arguments);if("function"==typeof n[n.length-1]&&(e=n.pop()),n.length){var r,i=B.populate.apply(null,n),a=o(i);try{for(a.s();!(r=a.n()).done;){var s=r.value;t[s.path]=s}}catch(e){a.e(e)}finally{a.f()}}if(e){var u=B.object.vals(t);this.$__.populate=void 0;var c=this.constructor;if(this.$__isNested){c=this.$__[Q].constructor;var l=this.$__.nestedPath;u.forEach((function(e){e.path=l+"."+e.path}))}if(null!=this.$session()){var f=this.$session();u.forEach((function(e){null!=e.options?"session"in e.options||(e.options.session=f):e.options={session:f}}))}c.populate(this,u,e)}return this},J.prototype.execPopulate=function(e){var t=this,n=null!=e&&"function"!=typeof e;return n?this.populate.apply(this,arguments).execPopulate():S(e,(function(e){t.populate(e)}),this.constructor.events)},J.prototype.populated=function(e,t,n){if(null==t){if(!this.$__.populated)return;var r=this.$__.populated[e];return r?r.value:void 0}if(!0===t){if(!this.$__.populated)return;return this.$__.populated[e]}this.$__.populated||(this.$__.populated={}),this.$__.populated[e]={value:t,options:n};for(var i=e.split("."),o=0;o<i.length-1;++o){var a=i.slice(0,o+1).join("."),s=this.get(a);if(null!=s&&null!=s.$__&&this.populated(a)){var u=i.slice(o+1).join(".");s.populated(u,t,n);break}}return t},J.prototype.depopulate=function(e){var t;"string"==typeof e&&(e=e.split(" "));var n=this.$$populatedVirtuals?Object.keys(this.$$populatedVirtuals):[],r=P(this,"$__.populated",{});if(0===arguments.length){var i,a=o(n);try{for(a.s();!(i=a.n()).done;){var s=i.value;delete this.$$populatedVirtuals[s],delete this._doc[s],delete r[s]}}catch(e){a.e(e)}finally{a.f()}for(var u=Object.keys(r),c=0,l=u;c<l.length;c++){var f=l[c];(t=this.populated(f))&&(delete r[f],this.$set(f,t))}return this}var p,h=o(e);try{for(h.s();!(p=h.n()).done;){var d=p.value;t=this.populated(d),delete r[d],-1!==n.indexOf(d)?(delete this.$$populatedVirtuals[d],delete this._doc[d]):t&&this.$set(d,t)}}catch(e){h.e(e)}finally{h.f()}return this},J.prototype.$__fullPath=function(e){return e||""},J.prototype.getChanges=function(){var e=this.$__delta();return e?e[1]:{}},J.ValidationError=_,e.exports=J}).call(this,n(8),n(1).Buffer)},function(e,t,n){"use strict";(function(r){function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var s=n(5),u=n(9),c=n(48),l=n(72),f=n(3),p=n(134),h=n(50),d=n(0).schemaTypeSymbol,m=n(4),v=n(2),y=n(0).validatorErrorSymbol,g=n(0).documentIsModified,b=s.CastError,_=s.ValidatorError;function w(e,t,n){this[d]=!0,this.path=e,this.instance=n,this.validators=[],this.getters=this.constructor.hasOwnProperty("getters")?this.constructor.getters.slice():[],this.setters=[],t=t||{};for(var r=this.constructor.defaultOptions||{},i=0,o=Object.keys(r);i<o.length;i++){var s=o[i];r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}null==t.select&&delete t.select;var c=this.OptionsConstructor||u;this.options=new c(t),this._index=null,v.hasUserDefinedProperty(this.options,"immutable")&&(this.$immutable=this.options.immutable,p(this));for(var l=0,f=Object.keys(this.options);l<f.length;l++){var h=f[l];if("cast"!==h){if(v.hasUserDefinedProperty(this.options,h)&&"function"==typeof this[h]){if("index"===h&&this._index){if(!1===t.index){var m=this._index;if("object"===a(m)&&null!=m){if(m.unique)throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true');if(m.sparse)throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}this._index=!1}continue}var y=t[h];if("default"===h){this.default(y);continue}var g=Array.isArray(y)?y:[y];this[h].apply(this,g)}}else this.castFunction(this.options[h])}Object.defineProperty(this,"$$context",{enumerable:!1,configurable:!1,writable:!0,value:null})}w.prototype.OptionsConstructor=u,w.cast=function(e){return 0===arguments.length||(!1===e&&(e=function(e){return e}),this._cast=e),this._cast},w.prototype.castFunction=function(e){return 0===arguments.length||(!1===e&&(e=this.constructor._defaultCaster||function(e){return e}),this._castFunction=e),this._castFunction},w.set=function(e,t){this.hasOwnProperty("defaultOptions")||(this.defaultOptions=Object.assign({},this.defaultOptions)),this.defaultOptions[e]=t},w.get=function(e){this.getters=this.hasOwnProperty("getters")?this.getters:[],this.getters.push(e)},w.prototype.default=function(e){if(1===arguments.length){if(void 0===e)return void(this.defaultValue=void 0);if(null!=e&&e.instanceOfSchema)throw new s("Cannot set default value of path `"+this.path+"` to a mongoose Schema instance.");return this.defaultValue=e,this.defaultValue}return arguments.length>1&&(this.defaultValue=v.args(arguments)),this.defaultValue},w.prototype.index=function(e){return this._index=e,v.expires(this._index),this},w.prototype.unique=function(e){if(!1===this._index){if(!e)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `unique` set to true')}return null==this._index||!0===this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.unique=e,this},w.prototype.text=function(e){if(!1===this._index){if(!e)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `text` set to true')}return null===this._index||void 0===this._index||"boolean"==typeof this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.text=e,this},w.prototype.sparse=function(e){if(!1===this._index){if(!e)return;throw new Error('Path "'+this.path+'" may not have `index` set to false and `sparse` set to true')}return null==this._index||"boolean"==typeof this._index?this._index={}:"string"==typeof this._index&&(this._index={type:this._index}),this._index.sparse=e,this},w.prototype.immutable=function(e){return this.$immutable=e,p(this),this},w.prototype.transform=function(e){return this.options.transform=e,this},w.prototype.set=function(e){if("function"!=typeof e)throw new TypeError("A setter must be a function.");return this.setters.push(e),this},w.prototype.get=function(e){if("function"!=typeof e)throw new TypeError("A getter must be a function.");return this.getters.push(e),this},w.prototype.validate=function(e,t,n){var r,i,o,u;if("function"==typeof e||e&&"RegExp"===v.getFunctionName(e.constructor))return"function"==typeof t?(r={validator:e,message:t}).type=n||"user defined":t instanceof Object&&!n?((r=v.clone(t)).message||(r.message=r.msg),r.validator=e,r.type=r.type||"user defined"):(null==t&&(t=s.messages.general.default),n||(n="user defined"),r={message:t,type:n,validator:e}),r.isAsync&&x(),this.validators.push(r),this;for(i=0,o=arguments.length;i<o;i++){if(u=arguments[i],!v.isPOJO(u)){var c="Invalid validator. Received ("+a(u)+") "+u+". See http://mongoosejs.com/docs/api.html#schematype_SchemaType-validate";throw new Error(c)}this.validate(u.validator,u)}return this};var x=m.deprecate((function(){}),"Mongoose: the `isAsync` option for custom validators is deprecated. Make your async validators return a promise instead: https://mongoosejs.com/docs/validation.html#async-custom-validators");function S(e){return this.castForQuery(e)}function E(e){var t=this;return Array.isArray(e)?e.map((function(e){return Array.isArray(e)&&0===e.length?e:t.castForQuery(e)})):[this.castForQuery(e)]}w.prototype.required=function(e,t){var n={};if(arguments.length>0&&null==e)return this.validators=this.validators.filter((function(e){return e.validator!==this.requiredValidator}),this),this.isRequired=!1,delete this.originalRequiredValue,this;if("object"===a(e)&&(t=(n=e).message||t,e=e.isRequired),!1===e)return this.validators=this.validators.filter((function(e){return e.validator!==this.requiredValidator}),this),this.isRequired=!1,delete this.originalRequiredValue,this;var r=this;this.isRequired=!0,this.requiredValidator=function(t){var n=f(this,"$__.cachedRequired");if(null!=n&&!this.$__isSelected(r.path)&&!this[g](r.path))return!0;if(null!=n&&r.path in n){var i=!n[r.path]||r.checkRequired(t,this);return delete n[r.path],i}return"function"==typeof e&&!e.apply(this)||r.checkRequired(t,this)},this.originalRequiredValue=e,"string"==typeof e&&(t=e,e=void 0);var i=t||s.messages.general.required;return this.validators.unshift(Object.assign({},n,{validator:this.requiredValidator,message:i,type:"required"})),this},w.prototype.ref=function(e){return this.options.ref=e,this},w.prototype.getDefault=function(e,t){var n="function"==typeof this.defaultValue?this.defaultValue.call(e):this.defaultValue;if(null!=n){"object"!==a(n)||this.options&&this.options.shared||(n=v.clone(n));var r=this.applySetters(n,e,t);return r&&r.$isSingleNested&&(r.$__parent=e),r}return n},w.prototype._applySetters=function(e,t,n){var r=e;if(n)return r;var o,a=this.setters,s=i(v.clone(a).reverse());try{for(s.s();!(o=s.n()).done;)r=o.value.call(t,r,this)}catch(e){s.e(e)}finally{s.f()}return r},w.prototype._castNullish=function(e){return e},w.prototype.applySetters=function(e,t,n,r,i){var o=this._applySetters(e,t,n,r,i);return null==o?this._castNullish(o):o=this.cast(o,t,n,r,i)},w.prototype.applyGetters=function(e,t){var n=e,r=this.getters,i=r.length;if(0===i)return n;for(var o=0;o<i;++o)n=r[o].call(t,n,this);return n},w.prototype.select=function(e){return this.selected=!!e,this},w.prototype.doValidate=function(e,t,n,r){var i=!1,o=this.path,s=this.validators.filter((function(e){return null!=e&&"object"===a(e)})),u=s.length;if(!u)return t(null);var c=this;function l(e,n){if(!i)if(void 0===e||e)--u<=0&&h((function(){t(null)}));else{var r=n.ErrorConstructor||_;(i=new r(n))[y]=!0,h((function(){t(i)}))}}s.forEach((function(t){if(!i){var a,s=t.validator,u=v.clone(t);if(u.path=r&&r.path?r.path:o,u.value=e,s instanceof RegExp)l(s.test(e),u);else if("function"==typeof s)if(void 0!==e||s===c.requiredValidator)if(u.isAsync)!function(e,t,n,r,i){var o=!1,a=e.call(t,n,(function(e,t){o||(o=!0,t&&(r.message=t),i(e,r))}));"boolean"==typeof a?(o=!0,i(a,r)):a&&"function"==typeof a.then&&a.then((function(e){o||(o=!0,i(e,r))}),(function(e){o||(o=!0,r.reason=e,r.message=e.message,i(!1,r))}))}(s,n,e,u,l);else{try{a=u.propsParameter?s.call(n,e,u):s.call(n,e)}catch(e){a=!1,u.reason=e,e.message&&(u.message=e.message)}null!=a&&"function"==typeof a.then?a.then((function(e){l(e,u)}),(function(e){u.reason=e,u.message=e.message,l(a=!1,u)})):l(a,u)}else l(!0,u)}}))},w.prototype.doValidateSync=function(e,t,n){var r=this.path;if(!this.validators.length)return null;var i=this.validators;if(void 0===e){if(!(this.validators.length>0&&"required"===this.validators[0].type))return null;i=[this.validators[0]]}var o=null;return i.forEach((function(i){if(!o&&null!=i&&"object"===a(i)){var u,c=i.validator,l=v.clone(i);if(l.path=n&&n.path?n.path:r,l.value=e,!c.isAsync)if(c instanceof RegExp)s(c.test(e),l);else if("function"==typeof c){try{u=l.propsParameter?c.call(t,e,l):c.call(t,e)}catch(e){u=!1,l.reason=e}null!=u&&"function"==typeof u.then||s(u,l)}}})),o;function s(e,t){if(!o&&void 0!==e&&!e){var n=t.ErrorConstructor||_;(o=new n(t))[y]=!0}}},w._isRef=function(e,t,n,i){var o=i&&e.options&&(e.options.ref||e.options.refPath);if(!o&&n&&null!=n.$__){var a=n.$__fullPath(e.path);o=(n.ownerDocument?n.ownerDocument():n).populated(a)||n.populated(e.path)}if(o){if(null==t)return!0;if(!r.isBuffer(t)&&"Binary"!==t._bsontype&&v.isObject(t))return!0}return!1},w.prototype.$conditionalHandlers={$all:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.castForQuery(e)})):[this.castForQuery(e)]},$eq:S,$in:E,$ne:S,$nin:E,$exists:c,$type:l},w.prototype.castForQueryWrapper=function(e){if(this.$$context=e.context,"$conditional"in e){var t=this.castForQuery(e.$conditional,e.val);return this.$$context=null,t}if(e.$skipQueryCastForUpdate||e.$applySetters){var n=this._castForQuery(e.val);return this.$$context=null,n}var r=this.castForQuery(e.val);return this.$$context=null,r},w.prototype.castForQuery=function(e,t){var n;if(2===arguments.length){if(!(n=this.$conditionalHandlers[e]))throw new Error("Can't use "+e);return n.call(this,t)}return t=e,this._castForQuery(t)},w.prototype._castForQuery=function(e){return this.applySetters(e,this.$$context)},w.checkRequired=function(e){return arguments.length>0&&(this._checkRequired=e),this._checkRequired},w.prototype.checkRequired=function(e){return null!=e},w.prototype.clone=function(){var e=Object.assign({},this.options),t=new this.constructor(this.path,e,this.instance);return t.validators=this.validators.slice(),void 0!==this.requiredValidator&&(t.requiredValidator=this.requiredValidator),void 0!==this.defaultValue&&(t.defaultValue=this.defaultValue),void 0!==this.$immutable&&void 0===this.options.immutable&&(t.$immutable=this.$immutable,p(t)),void 0!==this._index&&(t._index=this._index),void 0!==this.selected&&(t.selected=this.selected),void 0!==this.isRequired&&(t.isRequired=this.isRequired),void 0!==this.originalRequiredValue&&(t.originalRequiredValue=this.originalRequiredValue),t.getters=this.getters.slice(),t.setters=this.setters.slice(),t},e.exports=t=w,t.CastError=b,t.ValidatorError=_}).call(this,n(1).Buffer)},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&h())}function h(){if(!l){var e=s(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var r=n(28),i=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),null==t)return this;Object.assign(this,r(t))},o=n(10);Object.defineProperty(i.prototype,"type",o),Object.defineProperty(i.prototype,"validate",o),Object.defineProperty(i.prototype,"cast",o),Object.defineProperty(i.prototype,"required",o),Object.defineProperty(i.prototype,"default",o),Object.defineProperty(i.prototype,"ref",o),Object.defineProperty(i.prototype,"select",o),Object.defineProperty(i.prototype,"index",o),Object.defineProperty(i.prototype,"unique",o),Object.defineProperty(i.prototype,"immutable",o),Object.defineProperty(i.prototype,"sparse",o),Object.defineProperty(i.prototype,"text",o),Object.defineProperty(i.prototype,"transform",o),e.exports=i},function(e,t,n){"use strict";e.exports=Object.freeze({enumerable:!0,configurable:!0,writable:!0,value:void 0})},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}e.exports=r},function(e,t,n){"use strict";var r=n(15).get().ObjectId,i=n(0).objectIdSymbol;Object.defineProperty(r.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),r.prototype[i]=!0,e.exports=r},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n(14),f=n(3),p=n(4),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(c,e);var t,n,r=s(c);function c(e,t,n,o,a){var s;if(i(this,c),arguments.length>0){var l=d(t),f=m(a),p=v(null,e,l,n,f);(s=r.call(this,p)).init(e,t,n,o,a)}else s=r.call(this,v());return u(s)}return t=c,(n=[{key:"init",value:function(e,t,n,r,i){this.stringValue=d(t),this.messageFormat=m(i),this.kind=e,this.value=t,this.path=n,this.reason=r}},{key:"copy",value:function(e){this.messageFormat=e.messageFormat,this.stringValue=e.stringValue,this.kind=e.kind,this.value=e.value,this.path=e.path,this.reason=e.reason,this.message=e.message}},{key:"setModel",value:function(e){this.model=e,this.message=v(e,this.kind,this.stringValue,this.path,this.messageFormat)}}])&&o(t.prototype,n),c}(l);function d(e){var t=p.inspect(e);return(t=t.replace(/^'|'$/g,'"')).startsWith('"')||(t='"'+t+'"'),t}function m(e){var t=f(e,"options.cast",null);if("string"==typeof t)return t}function v(e,t,n,r,i){if(null!=i){var o=i.replace("{KIND}",t).replace("{VALUE}",n).replace("{PATH}",r);return null!=e&&(o=o.replace("{MODEL}",e.modelName)),o}var a="Cast to "+t+" failed for value "+n+' at path "'+r+'"';return null!=e&&(a+=' for model "'+e.modelName+'"'),a}Object.defineProperty(h.prototype,"name",{value:"CastError"}),e.exports=h},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)})(e)}function s(e,t,n){return(s=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(a,e);var t,n,r=(t=a,n=u(),function(){var e,r=l(t);if(n){var i=l(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return o(this,e)});function a(){return i(this,a),r.apply(this,arguments)}return a}(a(Error));Object.defineProperty(f.prototype,"name",{value:"MongooseError"}),e.exports=f},function(e,t,n){"use strict";var r=null;e.exports.get=function(){return r},e.exports.set=function(e){r=e}},function(e,t,n){"use strict";(function(t){function n(e,n){return new t(e,n)}e.exports={normalizedFunctionString:function(e){return e.toString().replace(/function *\(/,"function (")},allocBuffer:"function"==typeof t.alloc?function(){return t.alloc.apply(t,arguments)}:n,toBuffer:"function"==typeof t.from?function(){return t.from.apply(t,arguments)}:n}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";t.internalToObjectOptions={transform:!1,virtuals:!1,getters:!1,_skipDepopulateTopLevel:!0,depopulate:!0,flattenDecimals:!1}},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(83),h=n(6),d=n(12),m=n(86),v=n(34),y=n(17).internalToObjectOptions,g=n(4),b=n(2),_=n(0).arrayAtomicsSymbol,w=n(0).arrayParentSymbol,x=n(0).arrayPathSymbol,S=n(0).arraySchemaSymbol,E=n(0).documentArrayParent,O=Array.prototype.push,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,e);var n=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}(r);function r(){return a(this,r),n.apply(this,arguments)}return function(e,t,n){t&&s(e.prototype,t)}(r,[{key:"isMongooseDocumentArray",get:function(){return!0}},{key:"toBSON",value:function(){return this.toObject(y)}},{key:"map",value:function(){var e=u(f(r.prototype),"map",this).apply(this,arguments);return e[S]=null,e[x]=null,e[w]=null,e}},{key:"_cast",value:function(e,n){if(null==this[S])return e;var r=this[S].casterConstructor;if((r.$isMongooseDocumentArray?e&&e.isMongooseDocumentArray:e instanceof r)||e&&e.constructor&&e.constructor.baseCasterConstructor===r)return e[E]&&e.__parentArray||(e[E]=this[w],e.__parentArray=this),e.$setIndex(n),e;if(null==e)return null;if((t.isBuffer(e)||e instanceof d||!b.isObject(e))&&(e={_id:e}),e&&r.discriminators&&r.schema&&r.schema.options&&r.schema.options.discriminatorKey)if("string"==typeof e[r.schema.options.discriminatorKey]&&r.discriminators[e[r.schema.options.discriminatorKey]])r=r.discriminators[e[r.schema.options.discriminatorKey]];else{var i=v(r,e[r.schema.options.discriminatorKey]);i&&(r=i)}return r.$isMongooseDocumentArray?r.cast(e,this,void 0,void 0,n):new r(e,this,void 0,void 0,n)}},{key:"id",value:function(e){var t,n,r;try{t=m(e).toString()}catch(e){t=null}var o,a=i(this);try{for(a.s();!(o=a.n()).done;){var s=o.value;if(s&&null!=(r=s.get("_id")))if(r instanceof h){if(n||(n=String(e)),n==r._id)return s}else if(e instanceof d||r instanceof d){if(t==r)return s}else if(e==r||b.deepEqual(e,r))return s}}catch(e){a.e(e)}finally{a.f()}return null}},{key:"toObject",value:function(e){return[].concat(this.map((function(t){return null==t?null:"function"!=typeof t.toObject?t:t.toObject(e)})))}},{key:"slice",value:function(){var e=u(f(r.prototype),"slice",this).apply(this,arguments);return e[w]=this[w],e[x]=this[x],e}},{key:"push",value:function(){var e=u(f(r.prototype),"push",this).apply(this,arguments);return M(this),e}},{key:"pull",value:function(){var e=u(f(r.prototype),"pull",this).apply(this,arguments);return M(this),e}},{key:"shift",value:function(){var e=u(f(r.prototype),"shift",this).apply(this,arguments);return M(this),e}},{key:"splice",value:function(){var e=u(f(r.prototype),"splice",this).apply(this,arguments);return M(this),e}},{key:"inspect",value:function(){return this.toObject()}},{key:"create",value:function(e){var t=this[S].casterConstructor;if(e&&t.discriminators&&t.schema&&t.schema.options&&t.schema.options.discriminatorKey)if("string"==typeof e[t.schema.options.discriminatorKey]&&t.discriminators[e[t.schema.options.discriminatorKey]])t=t.discriminators[e[t.schema.options.discriminatorKey]];else{var n=v(t,e[t.schema.options.discriminatorKey]);n&&(t=n)}return new t(e,this)}},{key:"notify",value:function(e){var t=this;return function n(r,i){for(var o=(i=i||t).length;o--;)if(null!=i[o]){switch(e){case"save":r=t[o]}i[o].isMongooseArray?n(r,i[o]):i[o]&&i[o].emit(e,r)}}}},{key:"_markModified",value:function(e,t){var n,r=this[w];if(r){if(n=this[x],arguments.length)if(null!=t){var i=e.__index;n=n+"."+i+"."+t}else n=n+"."+e;if(null!=n&&n.endsWith(".$"))return this;r.markModified(n,arguments.length>0?e:r)}return this}}]),r}(p);function M(e){var t=e[w];if(t&&null!=t.$__.populated){var n,r=i(Object.keys(t.$__.populated).filter((function(t){return t.startsWith(e[x]+".")})));try{var o=function(){var r=n.value,i=r.slice((e[x]+".").length);if(!Array.isArray(t.$__.populated[r].value))return"continue";t.$__.populated[r].value=e.map((function(e){return e.populated(i)}))};for(r.s();!(n=r.n()).done;)o()}catch(e){r.e(e)}finally{r.f()}}}g.inspect.custom&&(T.prototype[g.inspect.custom]=T.prototype.inspect),e.exports=function(e,t,n){var r=new T;if(r[_]={},r[S]=void 0,Array.isArray(e)&&(e[x]===t&&e[w]===n&&(r[_]=Object.assign({},e[_])),e.forEach((function(e){O.call(r,e)}))),r[x]=t,n&&n instanceof h)for(r[w]=n,r[S]=n.schema.path(t);null!=r&&null!=r[S]&&r[S].$isMongooseArray&&!r[S].$isMongooseDocumentArray;)r[S]=r[S].casterConstructor;return r}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o="object"===("undefined"==typeof Reflect?"undefined":r(Reflect))?Reflect:null,a=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function u(){u.init.call(this)}e.exports=u,e.exports.once=function(e,t){return new Promise((function(n,r){function i(){void 0!==o&&e.removeListener("error",o),n([].slice.call(arguments))}var o;"error"!==t&&(o=function(n){e.removeListener(t,i),r(n)},e.once("error",o)),e.once(t,i)}))},u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+r(e))}function f(e){return void 0===e._maxListeners?u.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var i,o,a,s;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=f(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=h.bind(r);return i.listener=n,r.wrapFn=i,i}function m(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):y(i,i.length)}function v(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function y(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},u.prototype.getMaxListeners=function(){return f(this)},u.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)a(u,this,t);else{var c=u.length,l=y(u,c);for(n=0;n<c;++n)a(l[n],this,t)}return!0},u.prototype.addListener=function(e,t){return p(this,e,t,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(e,t){return p(this,e,t,!0)},u.prototype.once=function(e,t){return l(t),this.on(e,d(this,e,t)),this},u.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,d(this,e,t)),this},u.prototype.removeListener=function(e,t){var n,r,i,o,a;if(l(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},u.prototype.listeners=function(e){return m(this,e,!0)},u.prototype.rawListeners=function(e){return m(this,e,!1)},u.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):v.call(e,t)},u.prototype.listenerCount=v,u.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t,n){"use strict";e.exports=n(15).get().Decimal128},function(e,t,n){"use strict";(function(t){e.exports=function(e){return!!t.isBuffer(e)||"[object Object]"===Object.prototype.toString.call(e)}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(115);function o(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0}function a(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n(4),u=Object.prototype.hasOwnProperty,c=Array.prototype.slice,l="foo"===function(){}.name;function f(e){return Object.prototype.toString.call(e)}function p(e){return!a(e)&&"function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer)))}var h=e.exports=b,d=/\s*function\s+([^\(\s]*)\s*/;function m(e){if(s.isFunction(e)){if(l)return e.name;var t=e.toString().match(d);return t&&t[1]}}function v(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function y(e){if(l||!s.isFunction(e))return s.inspect(e);var t=m(e);return"[Function"+(t?": "+t:"")+"]"}function g(e,t,n,r,i){throw new h.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function b(e,t){e||g(e,!0,t,"==",h.ok)}function _(e,t,n,i){if(e===t)return!0;if(a(e)&&a(t))return 0===o(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"===r(e)||null!==t&&"object"===r(t)){if(p(e)&&p(t)&&f(e)===f(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(a(e)!==a(t))return!1;var u=(i=i||{actual:[],expected:[]}).actual.indexOf(e);return-1!==u&&u===i.expected.indexOf(t)||(i.actual.push(e),i.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var i=w(e),o=w(t);if(i&&!o||!i&&o)return!1;if(i)return _(e=c.call(e),t=c.call(t),n);var a,u,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),u=l.length-1;u>=0;u--)if(l[u]!==f[u])return!1;for(u=l.length-1;u>=0;u--)if(!_(e[a=l[u]],t[a],n,r))return!1;return!0}(e,t,n,i))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function S(e,t,n,r){var i;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),i=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!i&&g(i,n,"Missing expected exception"+r);var o="string"==typeof r,a=!e&&i&&!n;if((!e&&s.isError(i)&&o&&x(i,n)||a)&&g(i,n,"Got unwanted exception"+r),e&&i&&n&&!x(i,n)||!e&&i)throw i}h.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return v(y(e.actual),128)+" "+e.operator+" "+v(y(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||g;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=m(t),o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},s.inherits(h.AssertionError,Error),h.fail=g,h.ok=b,h.equal=function(e,t,n){e!=t&&g(e,t,n,"==",h.equal)},h.notEqual=function(e,t,n){e==t&&g(e,t,n,"!=",h.notEqual)},h.deepEqual=function(e,t,n){_(e,t,!1)||g(e,t,n,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(e,t,n){_(e,t,!0)||g(e,t,n,"deepStrictEqual",h.deepStrictEqual)},h.notDeepEqual=function(e,t,n){_(e,t,!1)&&g(e,t,n,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=function e(t,n,r){_(t,n,!0)&&g(t,n,r,"notDeepStrictEqual",e)},h.strictEqual=function(e,t,n){e!==t&&g(e,t,n,"===",h.strictEqual)},h.notStrictEqual=function(e,t,n){e===t&&g(e,t,n,"!==",h.notStrictEqual)},h.throws=function(e,t,n){S(!0,e,t,n)},h.doesNotThrow=function(e,t,n){S(!1,e,t,n)},h.ifError=function(e){if(e)throw e},h.strict=i((function e(t,n){t||g(t,!0,n,"==",e)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var E=Object.keys||function(e){var t=[];for(var n in e)u.call(e,n)&&t.push(n);return t}}).call(this,n(11))},function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);this._bsontype="Long",this.low_=0|e,this.high_=0|t}n.prototype.toInt=function(){return this.low_},n.prototype.toNumber=function(){return this.high_*n.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(e){var t=e||10;if(t<2||36<t)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(n.MIN_VALUE)){var r=n.fromNumber(t),i=this.div(r),o=i.multiply(r).subtract(this);return i.toString(t)+o.toInt().toString(t)}return"-"+this.negate().toString(t)}var a=n.fromNumber(Math.pow(t,6));o=this;for(var s="";!o.isZero();){var u=o.div(a),c=o.subtract(u.multiply(a)).toInt().toString(t);if((o=u).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},n.prototype.getHighBits=function(){return this.high_},n.prototype.getLowBits=function(){return this.low_},n.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:n.TWO_PWR_32_DBL_+this.low_},n.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(n.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!==this.high_?t+33:t+1},n.prototype.isZero=function(){return 0===this.high_&&0===this.low_},n.prototype.isNegative=function(){return this.high_<0},n.prototype.isOdd=function(){return 1==(1&this.low_)},n.prototype.equals=function(e){return this.high_===e.high_&&this.low_===e.low_},n.prototype.notEquals=function(e){return this.high_!==e.high_||this.low_!==e.low_},n.prototype.lessThan=function(e){return this.compare(e)<0},n.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},n.prototype.greaterThan=function(e){return this.compare(e)>0},n.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},n.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},n.prototype.negate=function(){return this.equals(n.MIN_VALUE)?n.MIN_VALUE:this.not().add(n.ONE)},n.prototype.add=function(e){var t=this.high_>>>16,r=65535&this.high_,i=this.low_>>>16,o=65535&this.low_,a=e.high_>>>16,s=65535&e.high_,u=e.low_>>>16,c=0,l=0,f=0,p=0;return f+=(p+=o+(65535&e.low_))>>>16,p&=65535,l+=(f+=i+u)>>>16,f&=65535,c+=(l+=r+s)>>>16,l&=65535,c+=t+a,c&=65535,n.fromBits(f<<16|p,c<<16|l)},n.prototype.subtract=function(e){return this.add(e.negate())},n.prototype.multiply=function(e){if(this.isZero())return n.ZERO;if(e.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE))return e.isOdd()?n.MIN_VALUE:n.ZERO;if(e.equals(n.MIN_VALUE))return this.isOdd()?n.MIN_VALUE:n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(n.TWO_PWR_24_)&&e.lessThan(n.TWO_PWR_24_))return n.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,r=65535&this.high_,i=this.low_>>>16,o=65535&this.low_,a=e.high_>>>16,s=65535&e.high_,u=e.low_>>>16,c=65535&e.low_,l=0,f=0,p=0,h=0;return p+=(h+=o*c)>>>16,h&=65535,f+=(p+=i*c)>>>16,p&=65535,f+=(p+=o*u)>>>16,p&=65535,l+=(f+=r*c)>>>16,f&=65535,l+=(f+=i*u)>>>16,f&=65535,l+=(f+=o*s)>>>16,f&=65535,l+=t*c+r*u+i*s+o*a,l&=65535,n.fromBits(p<<16|h,l<<16|f)},n.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE)){if(e.equals(n.ONE)||e.equals(n.NEG_ONE))return n.MIN_VALUE;if(e.equals(n.MIN_VALUE))return n.ONE;var t=this.shiftRight(1).div(e).shiftLeft(1);if(t.equals(n.ZERO))return e.isNegative()?n.ONE:n.NEG_ONE;var r=this.subtract(e.multiply(t));return t.add(r.div(e))}if(e.equals(n.MIN_VALUE))return n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var i=n.ZERO;for(r=this;r.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:Math.pow(2,o-48),s=n.fromNumber(t),u=s.multiply(e);u.isNegative()||u.greaterThan(r);)t-=a,u=(s=n.fromNumber(t)).multiply(e);s.isZero()&&(s=n.ONE),i=i.add(s),r=r.subtract(u)}return i},n.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},n.prototype.not=function(){return n.fromBits(~this.low_,~this.high_)},n.prototype.and=function(e){return n.fromBits(this.low_&e.low_,this.high_&e.high_)},n.prototype.or=function(e){return n.fromBits(this.low_|e.low_,this.high_|e.high_)},n.prototype.xor=function(e){return n.fromBits(this.low_^e.low_,this.high_^e.high_)},n.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var t=this.low_;if(e<32){var r=this.high_;return n.fromBits(t<<e,r<<e|t>>>32-e)}return n.fromBits(0,t<<e-32)},n.prototype.shiftRight=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var r=this.low_;return n.fromBits(r>>>e|t<<32-e,t>>e)}return n.fromBits(t>>e-32,t>=0?0:-1)},n.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var r=this.low_;return n.fromBits(r>>>e|t<<32-e,t>>>e)}return 32===e?n.fromBits(t,0):n.fromBits(t>>>e-32,0)},n.fromInt=function(e){if(-128<=e&&e<128){var t=n.INT_CACHE_[e];if(t)return t}var r=new n(0|e,e<0?-1:0);return-128<=e&&e<128&&(n.INT_CACHE_[e]=r),r},n.fromNumber=function(e){return isNaN(e)||!isFinite(e)?n.ZERO:e<=-n.TWO_PWR_63_DBL_?n.MIN_VALUE:e+1>=n.TWO_PWR_63_DBL_?n.MAX_VALUE:e<0?n.fromNumber(-e).negate():new n(e%n.TWO_PWR_32_DBL_|0,e/n.TWO_PWR_32_DBL_|0)},n.fromBits=function(e,t){return new n(e,t)},n.fromString=function(e,t){if(0===e.length)throw Error("number format error: empty string");var r=t||10;if(r<2||36<r)throw Error("radix out of range: "+r);if("-"===e.charAt(0))return n.fromString(e.substring(1),r).negate();if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+e);for(var i=n.fromNumber(Math.pow(r,8)),o=n.ZERO,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),r);if(s<8){var c=n.fromNumber(Math.pow(r,s));o=o.multiply(c).add(n.fromNumber(u))}else o=(o=o.multiply(i)).add(n.fromNumber(u))}return o},n.INT_CACHE_={},n.TWO_PWR_16_DBL_=65536,n.TWO_PWR_24_DBL_=1<<24,n.TWO_PWR_32_DBL_=n.TWO_PWR_16_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_31_DBL_=n.TWO_PWR_32_DBL_/2,n.TWO_PWR_48_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_64_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_32_DBL_,n.TWO_PWR_63_DBL_=n.TWO_PWR_64_DBL_/2,n.ZERO=n.fromInt(0),n.ONE=n.fromInt(1),n.NEG_ONE=n.fromInt(-1),n.MAX_VALUE=n.fromBits(-1,2147483647),n.MIN_VALUE=n.fromBits(0,-2147483648),n.TWO_PWR_24_=n.fromInt(1<<24),e.exports=n,e.exports.Long=n},function(e,t,n){"use strict";(function(t){var r=n(67),i=Symbol.for("mongoose:emitted");e.exports=function(e,n,o,a){return"function"==typeof e?n((function(n){if(null==n)e.apply(this,arguments);else{null!=o&&o.listeners("error").length>0&&!n[i]&&(n[i]=!0,o.emit("error",n));try{e(n)}catch(n){return t.nextTick((function(){throw n}))}}})):new(a=a||r.get())((function(e,t){n((function(n,r){return null!=n?(null!=o&&o.listeners("error").length>0&&!n[i]&&(n[i]=!0,o.emit("error",n)),t(n)):arguments.length>2?e(Array.prototype.slice.call(arguments,1)):void e(r)}))}))}}).call(this,n(8))},function(e,t,n){"use strict";var r=n(7),i=n(51),o=n(21);function a(e,t){if(t&&t.default){var n=t.default;Array.isArray(n)&&0===n.length?t.default=Array:!t.shared&&o(n)&&0===Object.keys(n).length&&(t.default=function(){return{}})}r.call(this,e,t,"Mixed"),this[i.schemaMixedSymbol]=!0}a.schemaName="Mixed",a.defaultOptions={},a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.get=r.get,a.set=r.set,a.prototype.cast=function(e){return e},a.prototype.castForQuery=function(e,t){return 2===arguments.length?t:e},e.exports=a},function(e,t,n){"use strict";var r=n(61)(),i=n(19).EventEmitter,o=n(31),a=n(50),s=n(17).internalToObjectOptions,u=n(3),c=n(24),l=n(4),f=n(0).documentArrayParent,p=n(0).validatorErrorSymbol;function h(e,t,n,i,o){var a={};null!=t&&t.isMongooseDocumentArray?(this.__parentArray=t,this[f]=t.$parent()):(this.__parentArray=void 0,this[f]=void 0),this.$setIndex(o),this.$isDocumentArrayElement=!0,null!=this[f]&&(a.defaults=this[f].$__.$options.defaults),r.call(this,e,i,n,a);var s=this;this.on("isNew",(function(e){s.isNew=e})),s.on("save",(function(){s.constructor.emit("save",s)}))}for(var d in h.prototype=Object.create(r.prototype),h.prototype.constructor=h,i.prototype)h[d]=i.prototype[d];h.prototype.toBSON=function(){return this.toObject(s)},h.prototype.$setIndex=function(e){if(this.__index=e,null!=u(this,"$__.validationError",null))for(var t=0,n=Object.keys(this.$__.validationError.errors);t<n.length;t++){var r=n[t];this.invalidate(r,this.$__.validationError.errors[r])}},h.prototype.markModified=function(e){if(this.$__.activePaths.modify(e),this.__parentArray){var t=this.__parentArray.$path()+".0."+e;this.isNew&&this.ownerDocument().$__isSelected(t)?this.__parentArray._markModified():this.__parentArray._markModified(this,e)}},h.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.arr[0].populate("path")`, use `doc.populate("arr.0.path")`')},h.prototype.save=function(e,t){var n=this;return"function"==typeof e&&(t=e,e={}),(e=e||{}).suppressWarning||console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),c(t,(function(e){n.$__save(e)}))},h.prototype.$__save=function(e){var t=this;return a((function(){return e(null,t)}))},h.prototype.$__remove=function(e){if(null!=e)return e(null,this)},h.prototype.remove=function(e,t){if("function"!=typeof e||t||(t=e,e=void 0),!this.__parentArray||e&&e.noop)return this.$__remove(t),this;var n;if(!this.willRemove){if(!(n=this._doc._id))throw new Error("For your own good, Mongoose does not know how to remove an EmbeddedDocument that has no _id");this.__parentArray.pull({_id:n}),this.willRemove=!0,function(e){var t=e.ownerDocument();function n(){t.removeListener("save",n),t.removeListener("remove",n),e.emit("remove",e),e.constructor.emit("remove",e),t=e=null}t.on("save",n),t.on("remove",n)}(this)}return this.$__remove(t),this},h.prototype.update=function(){throw new Error("The #update method is not available on EmbeddedDocuments")},h.prototype.inspect=function(){return this.toObject({transform:!1,virtuals:!1,flattenDecimals:!1})},l.inspect.custom&&(h.prototype[l.inspect.custom]=h.prototype.inspect),h.prototype.invalidate=function(e,t,n){if(r.prototype.invalidate.call(this,e,t,n),!this[f]||null==this.__index){if(t[p]||t instanceof o)return this.ownerDocument().$__.validationError;throw t}var i=this.__index,a=[this.__parentArray.$path(),i,e].join(".");return this[f].invalidate(a,t,n),this.ownerDocument().$__.validationError},h.prototype.$markValid=function(e){if(this[f]){var t=this.__index;if(void 0!==t){var n=[this.__parentArray.$path(),t,e].join(".");this[f].$markValid(n)}}},h.prototype.$ignore=function(e){if(r.prototype.$ignore.call(this,e),this[f]){var t=this.__index;if(void 0!==t){var n=[this.__parentArray.$path(),t,e].join(".");this[f].$ignore(n)}}},h.prototype.$isValid=function(e){return void 0===this.__index||!this[f]||!this[f].$__.validationError||!this[f].$__.validationError.errors[this.$__fullPath(e)]},h.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var e=this[f];if(!e)return this;for(;e[f]||e.$__parent;)e=e[f]||e.$__parent;return this.$__.ownerDocument=e,this.$__.ownerDocument},h.prototype.$__fullPath=function(e){if(!this.$__.fullPath){var t=this;if(!t[f])return e;for(var n=[];t[f]||t.$__parent;)t[f]?n.unshift(t.__parentArray.$path()):n.unshift(t.$basePath),t=t[f]||t.$__parent;this.$__.fullPath=n.join("."),this.$__.ownerDocument||(this.$__.ownerDocument=t)}return e?this.$__.fullPath+"."+e:this.$__.fullPath},h.prototype.parent=function(){return this[f]},h.prototype.$parent=h.prototype.parent,h.prototype.parentArray=function(){return this.__parentArray},e.exports=h},function(e,t,n){(function(t){if(void 0!==t)var r=n(1).Buffer;var i=n(16);function o(e,t){if(!(this instanceof o))return new o(e,t);if(!(null==e||"string"==typeof e||r.isBuffer(e)||e instanceof Uint8Array||Array.isArray(e)))throw new Error("only String, Buffer, Uint8Array or Array accepted");if(this._bsontype="Binary",e instanceof Number?(this.sub_type=e,this.position=0):(this.sub_type=null==t?a:t,this.position=0),null==e||e instanceof Number)void 0!==r?this.buffer=i.allocBuffer(o.BUFFER_SIZE):"undefined"!=typeof Uint8Array?this.buffer=new Uint8Array(new ArrayBuffer(o.BUFFER_SIZE)):this.buffer=new Array(o.BUFFER_SIZE),this.position=0;else{if("string"==typeof e)if(void 0!==r)this.buffer=i.toBuffer(e);else{if("undefined"==typeof Uint8Array&&"[object Array]"!==Object.prototype.toString.call(e))throw new Error("only String, Buffer, Uint8Array or Array accepted");this.buffer=s(e)}else this.buffer=e;this.position=e.length}}o.prototype.put=function(e){if(null!=e.length&&"number"!=typeof e&&1!==e.length)throw new Error("only accepts single character String, Uint8Array or Array");if("number"!=typeof e&&e<0||e>255)throw new Error("only accepts number in a valid unsigned byte range 0-255");var t;if(t="string"==typeof e?e.charCodeAt(0):null!=e.length?e[0]:e,this.buffer.length>this.position)this.buffer[this.position++]=t;else if(void 0!==r&&r.isBuffer(this.buffer)){var n=i.allocBuffer(o.BUFFER_SIZE+this.buffer.length);this.buffer.copy(n,0,0,this.buffer.length),this.buffer=n,this.buffer[this.position++]=t}else{n=null,n="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(o.BUFFER_SIZE+this.buffer.length)):new Array(o.BUFFER_SIZE+this.buffer.length);for(var a=0;a<this.buffer.length;a++)n[a]=this.buffer[a];this.buffer=n,this.buffer[this.position++]=t}},o.prototype.write=function(e,t){if(t="number"==typeof t?t:this.position,this.buffer.length<t+e.length){var n=null;if(void 0!==r&&r.isBuffer(this.buffer))n=i.allocBuffer(this.buffer.length+e.length),this.buffer.copy(n,0,0,this.buffer.length);else if("[object Uint8Array]"===Object.prototype.toString.call(this.buffer)){n=new Uint8Array(new ArrayBuffer(this.buffer.length+e.length));for(var o=0;o<this.position;o++)n[o]=this.buffer[o]}this.buffer=n}if(void 0!==r&&r.isBuffer(e)&&r.isBuffer(this.buffer))e.copy(this.buffer,t,0,e.length),this.position=t+e.length>this.position?t+e.length:this.position;else if(void 0!==r&&"string"==typeof e&&r.isBuffer(this.buffer))this.buffer.write(e,t,"binary"),this.position=t+e.length>this.position?t+e.length:this.position;else if("[object Uint8Array]"===Object.prototype.toString.call(e)||"[object Array]"===Object.prototype.toString.call(e)&&"string"!=typeof e){for(o=0;o<e.length;o++)this.buffer[t++]=e[o];this.position=t>this.position?t:this.position}else if("string"==typeof e){for(o=0;o<e.length;o++)this.buffer[t++]=e.charCodeAt(o);this.position=t>this.position?t:this.position}},o.prototype.read=function(e,t){if(t=t&&t>0?t:this.position,this.buffer.slice)return this.buffer.slice(e,e+t);for(var n="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(t)):new Array(t),r=0;r<t;r++)n[r]=this.buffer[e++];return n},o.prototype.value=function(e){if((e=null!=e&&e)&&void 0!==r&&r.isBuffer(this.buffer)&&this.buffer.length===this.position)return this.buffer;if(void 0!==r&&r.isBuffer(this.buffer))return e?this.buffer.slice(0,this.position):this.buffer.toString("binary",0,this.position);if(e){if(null!=this.buffer.slice)return this.buffer.slice(0,this.position);for(var t="[object Uint8Array]"===Object.prototype.toString.call(this.buffer)?new Uint8Array(new ArrayBuffer(this.position)):new Array(this.position),n=0;n<this.position;n++)t[n]=this.buffer[n];return t}return u(this.buffer,0,this.position)},o.prototype.length=function(){return this.position},o.prototype.toJSON=function(){return null!=this.buffer?this.buffer.toString("base64"):""},o.prototype.toString=function(e){return null!=this.buffer?this.buffer.slice(0,this.position).toString(e):""};var a=0,s=function(e){for(var t="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(e.length)):new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},u=function(e,t,n){for(var r="",i=t;i<n;i++)r+=String.fromCharCode(e[i]);return r};o.BUFFER_SIZE=256,o.SUBTYPE_DEFAULT=0,o.SUBTYPE_FUNCTION=1,o.SUBTYPE_BYTE_ARRAY=2,o.SUBTYPE_UUID_OLD=3,o.SUBTYPE_UUID=4,o.SUBTYPE_MD5=5,o.SUBTYPE_USER_DEFINED=128,e.exports=o,e.exports.Binary=o}).call(this,n(11))},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(64),a=n(20),s=n(12),u=n(47),c=n(29),l=n(65),f=n(66),p=n(21),h=n(0),d=n(2);function m(e,t,n){if(null==e)return e;if(Array.isArray(e))return function(e,t){var n,i=[],o=r(e);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.push(m(a,t,!0))}}catch(e){o.e(e)}finally{o.f()}return i}(e,t);if(c(e))return t&&t._skipSingleNestedGetters&&e.$isSingleNested&&(t=Object.assign({},t,{getters:!1})),d.isPOJO(e)&&null!=e.$__&&null!=e._doc?e._doc:t&&t.json&&"function"==typeof e.toJSON?e.toJSON(t):e.toObject(t);if(e.constructor)switch(l(e.constructor)){case"Object":return v(e,t,n);case"Date":return new e.constructor(+e);case"RegExp":return o(e)}return e instanceof s?new s(e.id):f(e,"Decimal128")?t&&t.flattenDecimals?e.toJSON():a.fromString(e.toString()):!e.constructor&&p(e)?v(e,t,n):e[h.schemaTypeSymbol]?e.clone():t&&t.bson&&"function"==typeof e.toBSON?e:null!=e.valueOf?e.valueOf():v(e,t,n)}function v(e,t,n){for(var r,i=t&&t.minimize,o={},a=0,s=Object.keys(e);a<s.length;a++){var c=s[a];if(!u.has(c)){var l=m(e[c],t);i&&void 0===l||(!1===i&&void 0===l?delete o[c]:(r||(r=!0),o[c]=l))}}return i&&!n?r&&o:o}e.exports=m},function(e,t,n){"use strict";e.exports=function(e){return null!=e&&(null!=e.$__||e.isMongooseArray||e.isMongooseBuffer||e.$isMongooseMap)}},function(e,t,n){"use strict";var r=["find","findOne","update","updateMany","updateOne","replaceOne","remove","count","distinct","findAndModify","aggregate","findStream","deleteOne","deleteMany"];function i(){}for(var o=0,a=r.length;o<a;++o){var s=r[o];i.prototype[s]=u(s)}function u(e){return function(){throw new Error("collection."+e+" not implemented")}}e.exports=i,i.methods=r},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n(14),l=n(4),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,e);var t,n,r=a(s);function s(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),n=e&&"model"===e.constructor.name?e.constructor.modelName+" validation failed":"Validation failed",(t=r.call(this,n)).errors={},t._message=n,e&&(e.errors=t.errors),t}return t=s,(n=[{key:"toString",value:function(){return this.name+": "+p(this)}},{key:"inspect",value:function(){return Object.assign(new Error(this.message),this)}},{key:"addError",value:function(e,t){this.errors[e]=t,this.message=this._message+": "+p(this)}}])&&i(t.prototype,n),s}(c);function p(e){for(var t,n=Object.keys(e.errors||{}),r=n.length,i=[],o=0;o<r;++o)t=n[o],e!==e.errors[t]&&i.push(t+": "+e.errors[t].message);return i.join(", ")}l.inspect.custom&&(f.prototype[l.inspect.custom]=f.prototype.inspect),Object.defineProperty(f.prototype,"toJSON",{enumerable:!1,writable:!1,configurable:!0,value:function(){return Object.assign({},this,{name:this.name,message:this.message})}}),Object.defineProperty(f.prototype,"name",{value:"ValidationError"}),e.exports=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e,r,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),r=r||"Field `"+e+"` is not in schema and strict mode is set to throw.",(o=t.call(this,r)).isImmutableError=!!i,o.path=e,o}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"StrictModeError"}),e.exports=s},function(e,t,n){"use strict";var r=n(78);function i(e){return r.cast()(e)}t.castToNumber=i,t.castArraysOfNumbers=function e(t,n){t.forEach((function(r,o){Array.isArray(r)?e(r,n):t[o]=i.call(n,r)}))}},function(e,t,n){"use strict";e.exports=function(e,t){var n=null;if(!e.discriminators)return n;for(var r in e.discriminators){var i=e.discriminators[r];if(i.schema&&i.schema.discriminatorMapping&&i.schema.discriminatorMapping.value==t){n=i;break}}return n}},function(e,t,n){"use strict";var r=n(59),i=n(23),o=n(36),a=n(37),s=n(38),u=n(39),c=n(40),l=n(60),f=n(41),p=n(42),h=n(43),d=n(44),m=n(45),v=n(27),y=n(102),g=n(103),b=n(105),_=n(16),w=_.allocBuffer(17825792),x=function(){};x.prototype.serialize=function(e,t){var n="boolean"==typeof(t=t||{}).checkKeys&&t.checkKeys,r="boolean"==typeof t.serializeFunctions&&t.serializeFunctions,i="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined,o="number"==typeof t.minInternalBufferSize?t.minInternalBufferSize:17825792;w.length<o&&(w=_.allocBuffer(o));var a=g(w,e,n,0,0,r,i,[]),s=_.allocBuffer(a);return w.copy(s,0,0,s.length),s},x.prototype.serializeWithBufferAndIndex=function(e,t,n){var r="boolean"==typeof(n=n||{}).checkKeys&&n.checkKeys,i="boolean"==typeof n.serializeFunctions&&n.serializeFunctions,o="boolean"!=typeof n.ignoreUndefined||n.ignoreUndefined,a="number"==typeof n.index?n.index:0;return g(t,e,r,a||0,0,i,o)-1},x.prototype.deserialize=function(e,t){return y(e,t)},x.prototype.calculateObjectSize=function(e,t){var n="boolean"==typeof(t=t||{}).serializeFunctions&&t.serializeFunctions,r="boolean"!=typeof t.ignoreUndefined||t.ignoreUndefined;return b(e,n,r)},x.prototype.deserializeStream=function(e,t,n,r,i,o){o=null!=o?o:{};for(var a=t,s=0;s<n;s++){var u=e[a]|e[a+1]<<8|e[a+2]<<16|e[a+3]<<24;o.index=a,r[i+s]=this.deserialize(e,o),a+=u}return a},x.BSON_INT32_MAX=2147483647,x.BSON_INT32_MIN=-2147483648,x.BSON_INT64_MAX=Math.pow(2,63)-1,x.BSON_INT64_MIN=-Math.pow(2,63),x.JS_INT_MAX=9007199254740992,x.JS_INT_MIN=-9007199254740992,x.BSON_DATA_NUMBER=1,x.BSON_DATA_STRING=2,x.BSON_DATA_OBJECT=3,x.BSON_DATA_ARRAY=4,x.BSON_DATA_BINARY=5,x.BSON_DATA_OID=7,x.BSON_DATA_BOOLEAN=8,x.BSON_DATA_DATE=9,x.BSON_DATA_NULL=10,x.BSON_DATA_REGEXP=11,x.BSON_DATA_CODE=13,x.BSON_DATA_SYMBOL=14,x.BSON_DATA_CODE_W_SCOPE=15,x.BSON_DATA_INT=16,x.BSON_DATA_TIMESTAMP=17,x.BSON_DATA_LONG=18,x.BSON_DATA_MIN_KEY=255,x.BSON_DATA_MAX_KEY=127,x.BSON_BINARY_SUBTYPE_DEFAULT=0,x.BSON_BINARY_SUBTYPE_FUNCTION=1,x.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,x.BSON_BINARY_SUBTYPE_UUID=3,x.BSON_BINARY_SUBTYPE_MD5=4,x.BSON_BINARY_SUBTYPE_USER_DEFINED=128,e.exports=x,e.exports.Code=f,e.exports.Map=r,e.exports.Symbol=c,e.exports.BSON=x,e.exports.DBRef=m,e.exports.Binary=v,e.exports.ObjectID=s,e.exports.Long=i,e.exports.Timestamp=a,e.exports.Double=o,e.exports.Int32=l,e.exports.MinKey=h,e.exports.MaxKey=d,e.exports.BSONRegExp=u,e.exports.Decimal128=p},function(e,t){function n(e){if(!(this instanceof n))return new n(e);this._bsontype="Double",this.value=e}n.prototype.valueOf=function(){return this.value},n.prototype.toJSON=function(){return this.value},e.exports=n,e.exports.Double=n},function(e,t){function n(e,t){if(!(this instanceof n))return new n(e,t);this._bsontype="Timestamp",this.low_=0|e,this.high_=0|t}n.prototype.toInt=function(){return this.low_},n.prototype.toNumber=function(){return this.high_*n.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()},n.prototype.toJSON=function(){return this.toString()},n.prototype.toString=function(e){var t=e||10;if(t<2||36<t)throw Error("radix out of range: "+t);if(this.isZero())return"0";if(this.isNegative()){if(this.equals(n.MIN_VALUE)){var r=n.fromNumber(t),i=this.div(r),o=i.multiply(r).subtract(this);return i.toString(t)+o.toInt().toString(t)}return"-"+this.negate().toString(t)}var a=n.fromNumber(Math.pow(t,6));o=this;for(var s="";!o.isZero();){var u=o.div(a),c=o.subtract(u.multiply(a)).toInt().toString(t);if((o=u).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},n.prototype.getHighBits=function(){return this.high_},n.prototype.getLowBits=function(){return this.low_},n.prototype.getLowBitsUnsigned=function(){return this.low_>=0?this.low_:n.TWO_PWR_32_DBL_+this.low_},n.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(n.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high_?this.high_:this.low_,t=31;t>0&&0==(e&1<<t);t--);return 0!==this.high_?t+33:t+1},n.prototype.isZero=function(){return 0===this.high_&&0===this.low_},n.prototype.isNegative=function(){return this.high_<0},n.prototype.isOdd=function(){return 1==(1&this.low_)},n.prototype.equals=function(e){return this.high_===e.high_&&this.low_===e.low_},n.prototype.notEquals=function(e){return this.high_!==e.high_||this.low_!==e.low_},n.prototype.lessThan=function(e){return this.compare(e)<0},n.prototype.lessThanOrEqual=function(e){return this.compare(e)<=0},n.prototype.greaterThan=function(e){return this.compare(e)>0},n.prototype.greaterThanOrEqual=function(e){return this.compare(e)>=0},n.prototype.compare=function(e){if(this.equals(e))return 0;var t=this.isNegative(),n=e.isNegative();return t&&!n?-1:!t&&n?1:this.subtract(e).isNegative()?-1:1},n.prototype.negate=function(){return this.equals(n.MIN_VALUE)?n.MIN_VALUE:this.not().add(n.ONE)},n.prototype.add=function(e){var t=this.high_>>>16,r=65535&this.high_,i=this.low_>>>16,o=65535&this.low_,a=e.high_>>>16,s=65535&e.high_,u=e.low_>>>16,c=0,l=0,f=0,p=0;return f+=(p+=o+(65535&e.low_))>>>16,p&=65535,l+=(f+=i+u)>>>16,f&=65535,c+=(l+=r+s)>>>16,l&=65535,c+=t+a,c&=65535,n.fromBits(f<<16|p,c<<16|l)},n.prototype.subtract=function(e){return this.add(e.negate())},n.prototype.multiply=function(e){if(this.isZero())return n.ZERO;if(e.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE))return e.isOdd()?n.MIN_VALUE:n.ZERO;if(e.equals(n.MIN_VALUE))return this.isOdd()?n.MIN_VALUE:n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().multiply(e.negate()):this.negate().multiply(e).negate();if(e.isNegative())return this.multiply(e.negate()).negate();if(this.lessThan(n.TWO_PWR_24_)&&e.lessThan(n.TWO_PWR_24_))return n.fromNumber(this.toNumber()*e.toNumber());var t=this.high_>>>16,r=65535&this.high_,i=this.low_>>>16,o=65535&this.low_,a=e.high_>>>16,s=65535&e.high_,u=e.low_>>>16,c=65535&e.low_,l=0,f=0,p=0,h=0;return p+=(h+=o*c)>>>16,h&=65535,f+=(p+=i*c)>>>16,p&=65535,f+=(p+=o*u)>>>16,p&=65535,l+=(f+=r*c)>>>16,f&=65535,l+=(f+=i*u)>>>16,f&=65535,l+=(f+=o*s)>>>16,f&=65535,l+=t*c+r*u+i*s+o*a,l&=65535,n.fromBits(p<<16|h,l<<16|f)},n.prototype.div=function(e){if(e.isZero())throw Error("division by zero");if(this.isZero())return n.ZERO;if(this.equals(n.MIN_VALUE)){if(e.equals(n.ONE)||e.equals(n.NEG_ONE))return n.MIN_VALUE;if(e.equals(n.MIN_VALUE))return n.ONE;var t=this.shiftRight(1).div(e).shiftLeft(1);if(t.equals(n.ZERO))return e.isNegative()?n.ONE:n.NEG_ONE;var r=this.subtract(e.multiply(t));return t.add(r.div(e))}if(e.equals(n.MIN_VALUE))return n.ZERO;if(this.isNegative())return e.isNegative()?this.negate().div(e.negate()):this.negate().div(e).negate();if(e.isNegative())return this.div(e.negate()).negate();var i=n.ZERO;for(r=this;r.greaterThanOrEqual(e);){t=Math.max(1,Math.floor(r.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:Math.pow(2,o-48),s=n.fromNumber(t),u=s.multiply(e);u.isNegative()||u.greaterThan(r);)t-=a,u=(s=n.fromNumber(t)).multiply(e);s.isZero()&&(s=n.ONE),i=i.add(s),r=r.subtract(u)}return i},n.prototype.modulo=function(e){return this.subtract(this.div(e).multiply(e))},n.prototype.not=function(){return n.fromBits(~this.low_,~this.high_)},n.prototype.and=function(e){return n.fromBits(this.low_&e.low_,this.high_&e.high_)},n.prototype.or=function(e){return n.fromBits(this.low_|e.low_,this.high_|e.high_)},n.prototype.xor=function(e){return n.fromBits(this.low_^e.low_,this.high_^e.high_)},n.prototype.shiftLeft=function(e){if(0===(e&=63))return this;var t=this.low_;if(e<32){var r=this.high_;return n.fromBits(t<<e,r<<e|t>>>32-e)}return n.fromBits(0,t<<e-32)},n.prototype.shiftRight=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var r=this.low_;return n.fromBits(r>>>e|t<<32-e,t>>e)}return n.fromBits(t>>e-32,t>=0?0:-1)},n.prototype.shiftRightUnsigned=function(e){if(0===(e&=63))return this;var t=this.high_;if(e<32){var r=this.low_;return n.fromBits(r>>>e|t<<32-e,t>>>e)}return 32===e?n.fromBits(t,0):n.fromBits(t>>>e-32,0)},n.fromInt=function(e){if(-128<=e&&e<128){var t=n.INT_CACHE_[e];if(t)return t}var r=new n(0|e,e<0?-1:0);return-128<=e&&e<128&&(n.INT_CACHE_[e]=r),r},n.fromNumber=function(e){return isNaN(e)||!isFinite(e)?n.ZERO:e<=-n.TWO_PWR_63_DBL_?n.MIN_VALUE:e+1>=n.TWO_PWR_63_DBL_?n.MAX_VALUE:e<0?n.fromNumber(-e).negate():new n(e%n.TWO_PWR_32_DBL_|0,e/n.TWO_PWR_32_DBL_|0)},n.fromBits=function(e,t){return new n(e,t)},n.fromString=function(e,t){if(0===e.length)throw Error("number format error: empty string");var r=t||10;if(r<2||36<r)throw Error("radix out of range: "+r);if("-"===e.charAt(0))return n.fromString(e.substring(1),r).negate();if(e.indexOf("-")>=0)throw Error('number format error: interior "-" character: '+e);for(var i=n.fromNumber(Math.pow(r,8)),o=n.ZERO,a=0;a<e.length;a+=8){var s=Math.min(8,e.length-a),u=parseInt(e.substring(a,a+s),r);if(s<8){var c=n.fromNumber(Math.pow(r,s));o=o.multiply(c).add(n.fromNumber(u))}else o=(o=o.multiply(i)).add(n.fromNumber(u))}return o},n.INT_CACHE_={},n.TWO_PWR_16_DBL_=65536,n.TWO_PWR_24_DBL_=1<<24,n.TWO_PWR_32_DBL_=n.TWO_PWR_16_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_31_DBL_=n.TWO_PWR_32_DBL_/2,n.TWO_PWR_48_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_16_DBL_,n.TWO_PWR_64_DBL_=n.TWO_PWR_32_DBL_*n.TWO_PWR_32_DBL_,n.TWO_PWR_63_DBL_=n.TWO_PWR_64_DBL_/2,n.ZERO=n.fromInt(0),n.ONE=n.fromInt(1),n.NEG_ONE=n.fromInt(-1),n.MAX_VALUE=n.fromBits(-1,2147483647),n.MIN_VALUE=n.fromBits(0,-2147483648),n.TWO_PWR_24_=n.fromInt(1<<24),e.exports=n,e.exports.Timestamp=n},function(e,t,n){(function(t,r){var i="inspect",o=n(16),a=parseInt(16777215*Math.random(),10),s=new RegExp("^[0-9a-fA-F]{24}$");try{if(t&&t.from){var u=!0;i=n(4).inspect.custom||"inspect"}}catch(e){u=!1}for(var c=function e(t){if(t instanceof e)return t;if(!(this instanceof e))return new e(t);if(this._bsontype="ObjectID",null==t||"number"==typeof t)return this.id=this.generate(t),void(e.cacheHexString&&(this.__id=this.toString("hex")));var n=e.isValid(t);if(!n&&null!=t)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(n&&"string"==typeof t&&24===t.length&&u)return new e(o.toBuffer(t,"hex"));if(n&&"string"==typeof t&&24===t.length)return e.createFromHexString(t);if(null==t||12!==t.length){if(null!=t&&"function"==typeof t.toHexString)return t;throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters")}this.id=t,e.cacheHexString&&(this.__id=this.toString("hex"))},l=[],f=0;f<256;f++)l[f]=(f<=15?"0":"")+f.toString(16);c.prototype.toHexString=function(){if(c.cacheHexString&&this.__id)return this.__id;var e="";if(!this.id||!this.id.length)throw new Error("invalid ObjectId, ObjectId.id must be either a string or a Buffer, but is ["+JSON.stringify(this.id)+"]");if(this.id instanceof h)return e=d(this.id),c.cacheHexString&&(this.__id=e),e;for(var t=0;t<this.id.length;t++)e+=l[this.id.charCodeAt(t)];return c.cacheHexString&&(this.__id=e),e},c.prototype.get_inc=function(){return c.index=(c.index+1)%16777215},c.prototype.getInc=function(){return this.get_inc()},c.prototype.generate=function(e){"number"!=typeof e&&(e=~~(Date.now()/1e3));var t=(void 0===r||1===r.pid?Math.floor(1e5*Math.random()):r.pid)%65535,n=this.get_inc(),i=o.allocBuffer(12);return i[3]=255&e,i[2]=e>>8&255,i[1]=e>>16&255,i[0]=e>>24&255,i[6]=255&a,i[5]=a>>8&255,i[4]=a>>16&255,i[8]=255&t,i[7]=t>>8&255,i[11]=255&n,i[10]=n>>8&255,i[9]=n>>16&255,i},c.prototype.toString=function(e){return this.id&&this.id.copy?this.id.toString("string"==typeof e?e:"hex"):this.toHexString()},c.prototype[i]=c.prototype.toString,c.prototype.toJSON=function(){return this.toHexString()},c.prototype.equals=function(e){return e instanceof c?this.toString()===e.toString():"string"==typeof e&&c.isValid(e)&&12===e.length&&this.id instanceof h?e===this.id.toString("binary"):"string"==typeof e&&c.isValid(e)&&24===e.length?e.toLowerCase()===this.toHexString():"string"==typeof e&&c.isValid(e)&&12===e.length?e===this.id:!(null==e||!(e instanceof c||e.toHexString))&&e.toHexString()===this.toHexString()},c.prototype.getTimestamp=function(){var e=new Date,t=this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24;return e.setTime(1e3*Math.floor(t)),e},c.index=~~(16777215*Math.random()),c.createPk=function(){return new c},c.createFromTime=function(e){var t=o.toBuffer([0,0,0,0,0,0,0,0,0,0,0,0]);return t[3]=255&e,t[2]=e>>8&255,t[1]=e>>16&255,t[0]=e>>24&255,new c(t)};var p=[];for(f=0;f<10;)p[48+f]=f++;for(;f<16;)p[55+f]=p[87+f]=f++;var h=t,d=function(e){return e.toString("hex")};c.createFromHexString=function(e){if(void 0===e||null!=e&&24!==e.length)throw new Error("Argument passed in must be a single String of 12 bytes or a string of 24 hex characters");if(u)return new c(o.toBuffer(e,"hex"));for(var t=new h(12),n=0,r=0;r<24;)t[n++]=p[e.charCodeAt(r++)]<<4|p[e.charCodeAt(r++)];return new c(t)},c.isValid=function(e){return null!=e&&("number"==typeof e||("string"==typeof e?12===e.length||24===e.length&&s.test(e):e instanceof c||e instanceof h||"function"==typeof e.toHexString&&(e.id instanceof h||"string"==typeof e.id)&&(12===e.id.length||24===e.id.length&&s.test(e.id))))},Object.defineProperty(c.prototype,"generationTime",{enumerable:!0,get:function(){return this.id[3]|this.id[2]<<8|this.id[1]<<16|this.id[0]<<24},set:function(e){this.id[3]=255&e,this.id[2]=e>>8&255,this.id[1]=e>>16&255,this.id[0]=e>>24&255}}),e.exports=c,e.exports.ObjectID=c,e.exports.ObjectId=c}).call(this,n(1).Buffer,n(8))},function(e,t){function n(e,t){if(!(this instanceof n))return new n;this._bsontype="BSONRegExp",this.pattern=e||"",this.options=t||"";for(var r=0;r<this.options.length;r++)if("i"!==this.options[r]&&"m"!==this.options[r]&&"x"!==this.options[r]&&"l"!==this.options[r]&&"s"!==this.options[r]&&"u"!==this.options[r])throw new Error("the regular expression options ["+this.options[r]+"] is not supported")}e.exports=n,e.exports.BSONRegExp=n},function(e,t,n){(function(t){var r=t&&n(4).inspect.custom||"inspect";function i(e){if(!(this instanceof i))return new i(e);this._bsontype="Symbol",this.value=e}i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return this.value},i.prototype[r]=function(){return this.value},i.prototype.toJSON=function(){return this.value},e.exports=i,e.exports.Symbol=i}).call(this,n(1).Buffer)},function(e,t){var n=function e(t,n){if(!(this instanceof e))return new e(t,n);this._bsontype="Code",this.code=t,this.scope=n};n.prototype.toJSON=function(){return{scope:this.scope,code:this.code}},e.exports=n,e.exports.Code=n},function(e,t,n){"use strict";var r=n(23),i=/^(\+|-)?(\d+|(\d*\.\d*))?(E|e)?([-+])?(\d+)?$/,o=/^(\+|-)?(Infinity|inf)$/i,a=/^(\+|-)?NaN$/i,s=6176,u=[124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),c=[248,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),l=[120,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].reverse(),f=/^([-+])?(\d+)?$/,p=n(16),h=function(e){return!isNaN(parseInt(e,10))},d=function(e){var t=r.fromNumber(1e9),n=r.fromNumber(0),i=0;if(!(e.parts[0]||e.parts[1]||e.parts[2]||e.parts[3]))return{quotient:e,rem:n};for(i=0;i<=3;i++)n=(n=n.shiftLeft(32)).add(new r(e.parts[i],0)),e.parts[i]=n.div(t).low_,n=n.modulo(t);return{quotient:e,rem:n}},m=function(e){this._bsontype="Decimal128",this.bytes=e};m.fromString=function(e){var t,n=!1,d=!1,v=!1,y=0,g=0,b=0,_=0,w=0,x=[0],S=0,E=0,O=0,T=0,M=0,P=0,A=[0,0],C=[0,0],k=0;if((e=e.trim()).length>=7e3)throw new Error(e+" not a valid Decimal128 string");var j=e.match(i),R=e.match(o),D=e.match(a);if(!j&&!R&&!D||0===e.length)throw new Error(e+" not a valid Decimal128 string");if(j&&j[4]&&void 0===j[2])throw new Error(e+" not a valid Decimal128 string");if("+"!==e[k]&&"-"!==e[k]||(n="-"===e[k++]),!h(e[k])&&"."!==e[k]){if("i"===e[k]||"I"===e[k])return new m(p.toBuffer(n?c:l));if("N"===e[k])return new m(p.toBuffer(u))}for(;h(e[k])||"."===e[k];)if("."!==e[k])S<34&&("0"!==e[k]||v)&&(v||(w=g),v=!0,x[E++]=parseInt(e[k],10),S+=1),v&&(b+=1),d&&(_+=1),g+=1,k+=1;else{if(d)return new m(p.toBuffer(u));d=!0,k+=1}if(d&&!g)throw new Error(e+" not a valid Decimal128 string");if("e"===e[k]||"E"===e[k]){var N=e.substr(++k).match(f);if(!N||!N[2])return new m(p.toBuffer(u));M=parseInt(N[0],10),k+=N[0].length}if(e[k])return new m(p.toBuffer(u));if(O=0,S){if(T=S-1,y=b,0!==M&&1!==y)for(;"0"===e[w+y-1];)y-=1}else O=0,T=0,x[0]=0,b=1,S=1,y=0;for(M<=_&&_-M>16384?M=-6176:M-=_;M>6111;){if((T+=1)-O>34){var L=x.join("");if(L.match(/^0+$/)){M=6111;break}return new m(p.toBuffer(n?c:l))}M-=1}for(;M<-6176||S<b;){if(0===T){M=-6176,y=0;break}if(S<b?b-=1:T-=1,!(M<6111)){if((L=x.join("")).match(/^0+$/)){M=6111;break}return new m(p.toBuffer(n?c:l))}M+=1}if(T-O+1<y&&"0"!==e[y]){var I=g;d&&-6176===M&&(w+=1,I+=1);var B=parseInt(e[w+T+1],10),F=0;if(B>=5&&(F=1,5===B))for(F=x[T]%2==1,P=w+T+2;P<I;P++)if(parseInt(e[P],10)){F=1;break}if(F)for(var U=T;U>=0&&++x[U]>9;U--)if(x[U]=0,0===U){if(!(M<6111))return new m(p.toBuffer(n?c:l));M+=1,x[U]=1}}if(A=r.fromNumber(0),C=r.fromNumber(0),0===y)A=r.fromNumber(0),C=r.fromNumber(0);else if(T-O<17)for(U=O,C=r.fromNumber(x[U++]),A=new r(0,0);U<=T;U++)C=(C=C.multiply(r.fromNumber(10))).add(r.fromNumber(x[U]));else{for(U=O,A=r.fromNumber(x[U++]);U<=T-17;U++)A=(A=A.multiply(r.fromNumber(10))).add(r.fromNumber(x[U]));for(C=r.fromNumber(x[U++]);U<=T;U++)C=(C=C.multiply(r.fromNumber(10))).add(r.fromNumber(x[U]))}var z,V,H,$,G=function(e,t){if(!e&&!t)return{high:r.fromNumber(0),low:r.fromNumber(0)};var n=e.shiftRightUnsigned(32),i=new r(e.getLowBits(),0),o=t.shiftRightUnsigned(32),a=new r(t.getLowBits(),0),s=n.multiply(o),u=n.multiply(a),c=i.multiply(o),l=i.multiply(a);return s=s.add(u.shiftRightUnsigned(32)),u=new r(u.getLowBits(),0).add(c).add(l.shiftRightUnsigned(32)),{high:s=s.add(u.shiftRightUnsigned(32)),low:l=u.shiftLeft(32).add(new r(l.getLowBits(),0))}}(A,r.fromString("100000000000000000"));G.low=G.low.add(C),V=C,((H=(z=G.low).high_>>>0)<($=V.high_>>>0)||H===$&&z.low_>>>0<V.low_>>>0)&&(G.high=G.high.add(r.fromNumber(1))),t=M+s;var W={low:r.fromNumber(0),high:r.fromNumber(0)};G.high.shiftRightUnsigned(49).and(r.fromNumber(1)).equals(r.fromNumber)?(W.high=W.high.or(r.fromNumber(3).shiftLeft(61)),W.high=W.high.or(r.fromNumber(t).and(r.fromNumber(16383).shiftLeft(47))),W.high=W.high.or(G.high.and(r.fromNumber(0x7fffffffffff)))):(W.high=W.high.or(r.fromNumber(16383&t).shiftLeft(49)),W.high=W.high.or(G.high.and(r.fromNumber(562949953421311)))),W.low=G.low,n&&(W.high=W.high.or(r.fromString("9223372036854775808")));var q=p.allocBuffer(16);return k=0,q[k++]=255&W.low.low_,q[k++]=W.low.low_>>8&255,q[k++]=W.low.low_>>16&255,q[k++]=W.low.low_>>24&255,q[k++]=255&W.low.high_,q[k++]=W.low.high_>>8&255,q[k++]=W.low.high_>>16&255,q[k++]=W.low.high_>>24&255,q[k++]=255&W.high.low_,q[k++]=W.high.low_>>8&255,q[k++]=W.high.low_>>16&255,q[k++]=W.high.low_>>24&255,q[k++]=255&W.high.high_,q[k++]=W.high.high_>>8&255,q[k++]=W.high.high_>>16&255,q[k++]=W.high.high_>>24&255,new m(q)},s=6176,m.prototype.toString=function(){for(var e,t,n,i,o,a,u=0,c=new Array(36),l=0;l<c.length;l++)c[l]=0;var f,p,h,m,v,y=0,g=!1,b={parts:new Array(4)},_=[];y=0;var w=this.bytes;if(i=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24,n=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24,t=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24,e=w[y++]|w[y++]<<8|w[y++]<<16|w[y++]<<24,y=0,(new r(i,n),new r(t,e)).lessThan(r.ZERO)&&_.push("-"),(o=e>>26&31)>>3==3){if(30===o)return _.join("")+"Infinity";if(31===o)return"NaN";a=e>>15&16383,h=8+(e>>14&1)}else h=e>>14&7,a=e>>17&16383;if(f=a-s,b.parts[0]=(16383&e)+((15&h)<<14),b.parts[1]=t,b.parts[2]=n,b.parts[3]=i,0===b.parts[0]&&0===b.parts[1]&&0===b.parts[2]&&0===b.parts[3])g=!0;else for(v=3;v>=0;v--){var x=0,S=d(b);if(b=S.quotient,x=S.rem.low_)for(m=8;m>=0;m--)c[9*v+m]=x%10,x=Math.floor(x/10)}if(g)u=1,c[y]=0;else for(u=36,l=0;!c[y];)l++,u-=1,y+=1;if((p=u-1+f)>=34||p<=-7||f>0){for(_.push(c[y++]),(u-=1)&&_.push("."),l=0;l<u;l++)_.push(c[y++]);_.push("E"),p>0?_.push("+"+p):_.push(p)}else if(f>=0)for(l=0;l<u;l++)_.push(c[y++]);else{var E=u+f;if(E>0)for(l=0;l<E;l++)_.push(c[y++]);else _.push("0");for(_.push(".");E++<0;)_.push("0");for(l=0;l<u-Math.max(E-1,0);l++)_.push(c[y++])}return _.join("")},m.prototype.toJSON=function(){return{$numberDecimal:this.toString()}},e.exports=m,e.exports.Decimal128=m},function(e,t){function n(){if(!(this instanceof n))return new n;this._bsontype="MinKey"}e.exports=n,e.exports.MinKey=n},function(e,t){function n(){if(!(this instanceof n))return new n;this._bsontype="MaxKey"}e.exports=n,e.exports.MaxKey=n},function(e,t){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);this._bsontype="DBRef",this.namespace=e,this.oid=t,this.db=r}n.prototype.toJSON=function(){return{$ref:this.namespace,$id:this.oid,$db:null==this.db?"":this.db}},e.exports=n,e.exports.DBRef=n},function(e,t,n){"use strict";e.exports=n(112)},function(e,t,n){"use strict";e.exports=new Set(["__proto__","constructor","prototype"])},function(e,t,n){"use strict";var r=n(49);e.exports=function(e){var t=null!=this?this.path:null;return r(e,t)}},function(e,t,n){"use strict";var r=n(13);e.exports=function(t,n){if(e.exports.convertToTrue.has(t))return!0;if(e.exports.convertToFalse.has(t))return!1;if(null==t)return t;throw new r("boolean",t,n)},e.exports.convertToTrue=new Set([!0,"true",1,"1","yes"]),e.exports.convertToFalse=new Set([!1,"false",0,"0","no"])},function(e,t,n){"use strict";(function(t){e.exports=function(e){return t.nextTick(e)}}).call(this,n(8))},function(e,t,n){"use strict";t.schemaMixedSymbol=Symbol.for("mongoose:schema_mixed"),t.builtInMiddleware=Symbol.for("mongoose:built-in-middleware")},function(e,t,n){"use strict";(function(r){function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw o}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u,c=n(19).EventEmitter,l=n(137),f=n(14),p=n(7),h=n(9),d=n(138),m=n(53),v=n(74),y=n(0).arrayParentSymbol,g=n(3),b=n(139),_=n(140),w=n(46),x=n(15).get().ReadPreference,S=n(141),E=n(4),O=n(2),T=n(145),M=n(146).middlewareFunctions,P=n(76).middlewareFunctions,A=M.concat(P).reduce((function(e,t){return e.add(t)}),new Set),C=0;function k(e,t){if(!(this instanceof k))return new k(e,t);if(this.obj=e,this.paths={},this.aliases={},this.subpaths={},this.virtuals={},this.singleNestedPaths={},this.nested={},this.inherits={},this.callQueue=[],this._indexes=[],this.methods={},this.methodOptions={},this.statics={},this.tree={},this.query={},this.childSchemas=[],this.plugins=[],this.$id=++C,this.s={hooks:new l},this.options=this.defaultOptions(t),Array.isArray(e)){var n,r=a(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;this.add(i)}}catch(e){r.e(e)}finally{r.f()}}else e&&this.add(e);var o=e&&e._id&&O.isObject(e._id);!this.paths._id&&!this.options.noId&&this.options._id&&!o&&v(this),this.setupTimestamp(this.options.timestamps)}k.prototype=Object.create(c.prototype),k.prototype.constructor=k,k.prototype.instanceOfSchema=!0,Object.defineProperty(k.prototype,"$schemaType",{configurable:!1,enumerable:!1,writable:!0}),Object.defineProperty(k.prototype,"childSchemas",{configurable:!1,enumerable:!0,writable:!0}),k.prototype.obj,k.prototype.paths,k.prototype.tree,k.prototype.clone=function(){var e=this,t=new(null==this.base?k:this.base.Schema)({},this._userProvidedOptions);return t.base=this.base,t.obj=this.obj,t.options=O.clone(this.options),t.callQueue=this.callQueue.map((function(e){return e})),t.methods=O.clone(this.methods),t.methodOptions=O.clone(this.methodOptions),t.statics=O.clone(this.statics),t.query=O.clone(this.query),t.plugins=Array.prototype.slice.call(this.plugins),t._indexes=O.clone(this._indexes),t.s.hooks=this.s.hooks.clone(),t.tree=O.clone(this.tree),t.paths=O.clone(this.paths),t.nested=O.clone(this.nested),t.subpaths=O.clone(this.subpaths),t.singleNestedPaths=O.clone(this.singleNestedPaths),t.childSchemas=function(e){for(var t=[],n=0,r=Object.keys(e.paths);n<r.length;n++){var i=r[n],o=e.paths[i];(o.$isMongooseDocumentArray||o.$isSingleNested)&&t.push({schema:o.schema,model:o.caster})}return t}(t),t.virtuals=O.clone(this.virtuals),t.$globalPluginsApplied=this.$globalPluginsApplied,t.$isRootDiscriminator=this.$isRootDiscriminator,t.$implicitlyCreated=this.$implicitlyCreated,null!=this.discriminatorMapping&&(t.discriminatorMapping=Object.assign({},this.discriminatorMapping)),null!=this.discriminators&&(t.discriminators=Object.assign({},this.discriminators)),t.aliases=Object.assign({},this.aliases),t.on("init",(function(t){return e.emit("init",t)})),t},k.prototype.pick=function(e,t){var n=new k({},t||this.options);if(!Array.isArray(e))throw new f('Schema#pick() only accepts an array argument, got "'+o(e)+'"');var r,s=a(e);try{for(s.s();!(r=s.n()).done;){var u=r.value;if(this.nested[u])n.add(i({},u,g(this.tree,u)));else{var c=this.path(u);if(null==c)throw new f("Path `"+u+"` is not in the schema");n.add(i({},u,c))}}}catch(e){s.e(e)}finally{s.f()}return n},k.prototype.defaultOptions=function(e){e&&!1===e.safe&&(e.safe={w:0}),e&&e.safe&&0===e.safe.w&&(e.versionKey=!1),this._userProvidedOptions=null==e?{}:O.clone(e);var t=g(this,"base.options",{});if((e=O.options({strict:!("strict"in t)||t.strict,strictQuery:"strictQuery"in t&&t.strictQuery,bufferCommands:!0,capped:!1,versionKey:"__v",optimisticConcurrency:!1,discriminatorKey:"__t",minimize:!0,autoIndex:null,shardKey:null,read:null,validateBeforeSave:!0,noId:!1,_id:!0,noVirtualId:!1,id:!0,typeKey:"type",typePojoToMixed:!("typePojoToMixed"in t)||t.typePojoToMixed},O.clone(e))).read&&(e.read=x(e.read)),e.optimisticConcurrency&&!e.versionKey)throw new f("Must set `versionKey` if using `optimisticConcurrency`");return e},k.prototype.add=function(e,t){if(e instanceof k||null!=e&&e.instanceOfSchema)return _(this,e),this;!1===e._id&&null==t&&(this.options._id=!1),t=t||"";for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n],s=t+o;if(null==e[o])throw new TypeError("Invalid value for schema path `"+s+'`, got value "'+e[o]+'"');if("_id"!==o||!1!==e[o])if(e[o]instanceof m||"VirtualType"===g(e[o],"constructor.name",null))this.virtual(e[o]);else{if(Array.isArray(e[o])&&1===e[o].length&&null==e[o][0])throw new TypeError("Invalid value for schema Array path `"+s+'`, got value "'+e[o][0]+'"');if(O.isPOJO(e[o])||e[o]instanceof h)if(Object.keys(e[o]).length<1)t&&(this.nested[t.substr(0,t.length-1)]=!0),this.path(s,e[o]);else if(!e[o][this.options.typeKey]||"type"===this.options.typeKey&&e[o].type.type)this.nested[s]=!0,this.add(e[o],s+".");else if(!this.options.typePojoToMixed&&O.isPOJO(e[o][this.options.typeKey])){t&&(this.nested[t.substr(0,t.length-1)]=!0);var u=new k(e[o][this.options.typeKey],{typePojoToMixed:!1}),c=Object.assign({},e[o],i({},this.options.typeKey,u));this.path(t+o,c)}else t&&(this.nested[t.substr(0,t.length-1)]=!0),this.path(t+o,e[o]);else t&&(this.nested[t.substr(0,t.length-1)]=!0),this.path(t+o,e[o])}}return function(e,t){var n,r=a(t=t||Object.keys(e.paths));try{for(r.s();!(n=r.n()).done;){var i=n.value,o=g(e.paths[i],"options");if(null!=o){var s=e.paths[i].path,u=o.alias;if(u){if("string"!=typeof u)throw new Error("Invalid value for alias option on "+s+", got "+u);e.aliases[u]=s,e.virtual(u).get(function(e){return function(){return"function"==typeof this.get?this.get(e):this[e]}}(s)).set(function(e){return function(t){return this.$set(e,t)}}(s))}}}}catch(e){r.e(e)}finally{r.f()}}(this,Object.keys(e).map((function(e){return t?t+e:e}))),this},k.reserved=Object.create(null),k.prototype.reserved=k.reserved;var j=k.reserved;function R(e){return/\.\d+/.test(e)?e.replace(/\.\d+\./g,".$.").replace(/\.\d+$/,".$"):e}function D(e,t){for(var n=0,r=Object.keys(e.paths);n<r.length;n++){var i=r[n];if(i.includes(".$*")&&new RegExp("^"+i.replace(/\.\$\*/g,"\\.[^.]+")+"$").test(t))return e.paths[i]}return null}function N(e,t){var n=t.split(/\.(\d+)\.|\.(\d+)$/).filter(Boolean);if(n.length<2)return e.paths.hasOwnProperty(n[0])?e.paths[n[0]]:"adhocOrUndefined";var r=e.path(n[0]),i=!1;if(!r)return"adhocOrUndefined";for(var o=n.length-1,a=1;a<n.length;++a){i=!1;var s=n[a];if(a===o&&r&&!/\D/.test(s)){r=r.$isMongooseDocumentArray?r.$embeddedSchemaType:r instanceof u.Array?r.caster:void 0;break}if(/\D/.test(s)){if(!r||!r.schema){r=void 0;break}i="nested"===r.schema.pathType(s),r=r.schema.path(s)}else r instanceof u.Array&&a!==o&&(r=r.caster)}return e.subpaths[t]=r,r?"real":i?"nested":"adhocOrUndefined"}j.prototype=j.emit=j.listeners=j.on=j.removeListener=j.collection=j.errors=j.get=j.init=j.isModified=j.isNew=j.populated=j.remove=j.save=j.schema=j.toObject=j.validate=1,k.prototype.path=function(e,t){var n=R(e);if(void 0===t){var r=function(e,t,n){return e.paths.hasOwnProperty(t)?e.paths[t]:e.subpaths.hasOwnProperty(n)?e.subpaths[n]:e.singleNestedPaths.hasOwnProperty(n)&&"object"===o(e.singleNestedPaths[n])?e.singleNestedPaths[n]:null}(this,e,n);if(null!=r)return r;var i=D(this,e);return null!=i?i:null!=(r=this.hasMixedParent(n))?r:/\.\d+\.?.*$/.test(e)?function(e,t){return N(e,t),e.subpaths[t]}(this,e):void 0}var s=e.split(".")[0];if(j[s])throw new Error("`"+s+"` may not be used as a schema pathname");"object"===o(t)&&O.hasUserDefinedProperty(t,"ref")&&T(t.ref,e);var u,c=e.split(/\./),l=c.pop(),f=this.tree,h="",d=a(c);try{for(d.s();!(u=d.n()).done;){var m=u.value;if(h=h+=(h.length>0?".":"")+m,f[m]||(this.nested[h]=!0,f[m]={}),"object"!==o(f[m])){var v="Cannot set nested path `"+e+"`. Parent path `"+h+"` already set to type "+f[m].name+".";throw new Error(v)}f=f[m]}}catch(e){d.e(e)}finally{d.f()}f[l]=O.clone(t),this.paths[e]=this.interpretAsType(e,t,this.options);var y=this.paths[e];if(y.$isSchemaMap){var g=e+".$*",b={type:{}};O.hasUserDefinedProperty(t,"of")&&(b=O.isPOJO(t.of)&&Object.keys(t.of).length>0&&!O.hasUserDefinedProperty(t.of,this.options.typeKey)?new k(t.of):t.of),this.paths[g]=this.interpretAsType(g,b,this.options),y.$__schemaType=this.paths[g]}if(y.$isSingleNested){for(var _=0,w=Object.keys(y.schema.paths);_<w.length;_++){var x=w[_];this.singleNestedPaths[e+"."+x]=y.schema.paths[x]}for(var S=0,E=Object.keys(y.schema.singleNestedPaths);S<E.length;S++){var M=E[S];this.singleNestedPaths[e+"."+M]=y.schema.singleNestedPaths[M]}for(var P=0,A=Object.keys(y.schema.subpaths);P<A.length;P++){var C=A[P];this.singleNestedPaths[e+"."+C]=y.schema.subpaths[C]}for(var L=0,I=Object.keys(y.schema.nested);L<I.length;L++){var B=I[L];this.singleNestedPaths[e+"."+B]="nested"}Object.defineProperty(y.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),y.caster.base=this.base,this.childSchemas.push({schema:y.schema,model:y.caster})}else y.$isMongooseDocumentArray&&(Object.defineProperty(y.schema,"base",{configurable:!0,enumerable:!1,writable:!1,value:this.base}),y.casterConstructor.base=this.base,this.childSchemas.push({schema:y.schema,model:y.casterConstructor}));if(y.$isMongooseArray&&y.caster instanceof p){for(var F=e,U=y,z=[];U.$isMongooseArray;)F+=".$",U.$isMongooseDocumentArray?(U.$embeddedSchemaType._arrayPath=F,U.$embeddedSchemaType._arrayParentPath=e,U=U.$embeddedSchemaType.clone()):(U.caster._arrayPath=F,U.caster._arrayParentPath=e,U=U.caster.clone()),U.path=F,z.push(U);for(var V=0,H=z;V<H.length;V++){var $=H[V];this.subpaths[$.path]=$}}if(y.$isMongooseDocumentArray){for(var G=0,W=Object.keys(y.schema.paths);G<W.length;G++){var q=W[G];this.subpaths[e+"."+q]=y.schema.paths[q],y.schema.paths[q].$isUnderneathDocArray=!0}for(var Y=0,X=Object.keys(y.schema.subpaths);Y<X.length;Y++){var Z=X[Y];this.subpaths[e+"."+Z]=y.schema.subpaths[Z],y.schema.subpaths[Z].$isUnderneathDocArray=!0}for(var Q=0,K=Object.keys(y.schema.singleNestedPaths);Q<K.length;Q++){var J=K[Q];"object"===o(y.schema.singleNestedPaths[n])&&(this.subpaths[e+"."+J]=y.schema.singleNestedPaths[J],y.schema.singleNestedPaths[J].$isUnderneathDocArray=!0)}}return this},Object.defineProperty(k.prototype,"base",{configurable:!0,enumerable:!1,writable:!0,value:null}),k.prototype.interpretAsType=function(e,t,n){if(t instanceof p){if(t.path===e)return t;var i=t.clone();return i.path=e,i}var a=null!=this.base?this.base.Schema.Types:k.Types;if(!(O.isPOJO(t)||t instanceof h)&&"Object"!==O.getFunctionName(t.constructor)){var s=t;(t={})[n.typeKey]=s}var u,c=!t[n.typeKey]||"type"===n.typeKey&&t.type.type?{}:t[n.typeKey];if(O.isPOJO(c)||"mixed"===c)return new a.Mixed(e,t);if(Array.isArray(c)||c===Array||"array"===c||c===a.Array){var l=c===Array||"array"===c?t.cast||t.of:c[0];if(l&&l.instanceOfSchema)return new a.DocumentArray(e,l,t);if(l&&l[n.typeKey]&&l[n.typeKey].instanceOfSchema)return new a.DocumentArray(e,l[n.typeKey],t,l);if(Array.isArray(l))return new a.Array(e,this.interpretAsType(e,l,n),t);if("string"==typeof l)l=a[l.charAt(0).toUpperCase()+l.substring(1)];else if(l&&(!l[n.typeKey]||"type"===n.typeKey&&l.type.type)&&O.isPOJO(l)){if(Object.keys(l).length){var f={minimize:n.minimize};n.typeKey&&(f.typeKey=n.typeKey),n.hasOwnProperty("strict")&&(f.strict=n.strict),n.hasOwnProperty("typePojoToMixed")&&(f.typePojoToMixed=n.typePojoToMixed),this._userProvidedOptions.hasOwnProperty("_id")?f._id=this._userProvidedOptions._id:k.Types.DocumentArray.defaultOptions&&null!=k.Types.DocumentArray.defaultOptions._id&&(f._id=k.Types.DocumentArray.defaultOptions._id);var d=new k(l,f);return d.$implicitlyCreated=!0,new a.DocumentArray(e,d,t)}return new a.Array(e,a.Mixed,t)}if(l&&(u="string"==typeof(c=!l[n.typeKey]||"type"===n.typeKey&&l.type.type?l:l[n.typeKey])?c:c.schemaName||O.getFunctionName(c),!a.hasOwnProperty(u)))throw new TypeError("Invalid schema configuration: "+"`".concat(u,"` is not a valid type within the array `").concat(e,"`.")+"See http://bit.ly/mongoose-schematypes for a list of valid schema types.");return new a.Array(e,l||a.Mixed,t,n)}if(c&&c.instanceOfSchema)return new a.Embedded(c,e,t);if((u=r.isBuffer(c)?"Buffer":"function"==typeof c||"object"===o(c)?c.schemaName||O.getFunctionName(c):null==c?""+c:c.toString())&&(u=u.charAt(0).toUpperCase()+u.substring(1)),"ObjectID"===u&&(u="ObjectId"),null==a[u])throw new TypeError("Invalid schema configuration: `".concat(u,"` is not ")+"a valid type at path `".concat(e,"`. See ")+"http://bit.ly/mongoose-schematypes for a list of valid schema types.");return new a[u](e,t)},k.prototype.eachPath=function(e){for(var t=Object.keys(this.paths),n=t.length,r=0;r<n;++r)e(t[r],this.paths[t[r]]);return this},k.prototype.requiredPaths=function(e){if(this._requiredpaths&&!e)return this._requiredpaths;for(var t=Object.keys(this.paths),n=t.length,r=[];n--;){var i=t[n];this.paths[i].isRequired&&r.push(i)}return this._requiredpaths=r,this._requiredpaths},k.prototype.indexedPaths=function(){return this._indexedpaths||(this._indexedpaths=this.indexes()),this._indexedpaths},k.prototype.pathType=function(e){var t=R(e);if(this.paths.hasOwnProperty(e))return"real";if(this.virtuals.hasOwnProperty(e))return"virtual";if(this.nested.hasOwnProperty(e))return"nested";if(this.subpaths.hasOwnProperty(t)||this.subpaths.hasOwnProperty(e))return"real";var n=this.singleNestedPaths.hasOwnProperty(t)||this.singleNestedPaths.hasOwnProperty(e);return n?"nested"===n?"nested":"real":null!=D(this,e)?"real":/\.\d+\.|\.\d+$/.test(e)?N(this,e):"adhocOrUndefined"},k.prototype.hasMixedParent=function(e){var t=e.split(/\./g);e="";for(var n=0;n<t.length;++n)if(e=n>0?e+"."+t[n]:t[n],this.paths.hasOwnProperty(e)&&this.paths[e]instanceof u.Mixed)return this.paths[e];return null},k.prototype.setupTimestamp=function(e){return S(this,e)},k.prototype.queue=function(e,t){return this.callQueue.push([e,t]),this},k.prototype.pre=function(e){if(e instanceof RegExp){var t,n=Array.prototype.slice.call(arguments,1),r=a(A);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.test(i)&&this.pre.apply(this,[i].concat(n))}}catch(e){r.e(e)}finally{r.f()}return this}if(Array.isArray(e)){var o,s=Array.prototype.slice.call(arguments,1),u=a(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;this.pre.apply(this,[c].concat(s))}}catch(e){u.e(e)}finally{u.f()}return this}return this.s.hooks.pre.apply(this.s.hooks,arguments),this},k.prototype.post=function(e){if(e instanceof RegExp){var t,n=Array.prototype.slice.call(arguments,1),r=a(A);try{for(r.s();!(t=r.n()).done;){var i=t.value;e.test(i)&&this.post.apply(this,[i].concat(n))}}catch(e){r.e(e)}finally{r.f()}return this}if(Array.isArray(e)){var o,s=Array.prototype.slice.call(arguments,1),u=a(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;this.post.apply(this,[c].concat(s))}}catch(e){u.e(e)}finally{u.f()}return this}return this.s.hooks.post.apply(this.s.hooks,arguments),this},k.prototype.plugin=function(e,t){if("function"!=typeof e)throw new Error('First param to `schema.plugin()` must be a function, got "'+o(e)+'"');if(t&&t.deduplicate){var n,r=a(this.plugins);try{for(r.s();!(n=r.n()).done;)if(n.value.fn===e)return this}catch(e){r.e(e)}finally{r.f()}}return this.plugins.push({fn:e,opts:t}),e(this,t),this},k.prototype.method=function(e,t,n){if("string"!=typeof e)for(var r in e)this.methods[r]=e[r],this.methodOptions[r]=O.clone(n);else this.methods[e]=t,this.methodOptions[e]=O.clone(n);return this},k.prototype.static=function(e,t){if("string"!=typeof e)for(var n in e)this.statics[n]=e[n];else this.statics[e]=t;return this},k.prototype.index=function(e,t){return e||(e={}),t||(t={}),t.expires&&O.expires(t),this._indexes.push([e,t]),this},k.prototype.set=function(e,t,n){if(1===arguments.length)return this.options[e];switch(e){case"read":this.options[e]=x(t,n),this._userProvidedOptions[e]=this.options[e];break;case"safe":L(this.options,t),this._userProvidedOptions[e]=this.options[e];break;case"timestamps":this.setupTimestamp(t),this.options[e]=t,this._userProvidedOptions[e]=this.options[e];break;case"_id":this.options[e]=t,this._userProvidedOptions[e]=this.options[e],t&&!this.paths._id?v(this):!t&&null!=this.paths._id&&this.paths._id.auto&&this.remove("_id");break;default:this.options[e]=t,this._userProvidedOptions[e]=this.options[e]}return this};var L=E.deprecate((function(e,t){e.safe=!1===t?{w:0}:t}),"Mongoose: The `safe` option for schemas is deprecated. Use the `writeConcern` option instead: http://bit.ly/mongoose-write-concern");k.prototype.get=function(e){return this.options[e]};var I="2d 2dsphere hashed text".split(" ");function B(e,t){var n,r=t.split("."),i=r.pop(),o=e.tree,s=a(r);try{for(s.s();!(n=s.n()).done;)o=o[n.value]}catch(e){s.e(e)}finally{s.f()}delete o[i]}function F(e){return e.startsWith("$[")&&e.endsWith("]")}Object.defineProperty(k,"indexTypes",{get:function(){return I},set:function(){throw new Error("Cannot overwrite Schema.indexTypes")}}),k.prototype.indexes=function(){return b(this)},k.prototype.virtual=function(e,t){var n=this;if(e instanceof m||null!=e&&"VirtualType"===e.constructor.name)return this.virtual(e.path,e.options);if(t=new d(t),O.hasUserDefinedProperty(t,["ref","refPath"])){if(null==t.localField)throw new Error("Reference virtuals require `localField` option");if(null==t.foreignField)throw new Error("Reference virtuals require `foreignField` option");this.pre("init",(function(n){if(w.has(e,n)){var r=w.get(e,n);this.$$populatedVirtuals||(this.$$populatedVirtuals={}),t.justOne||t.count?this.$$populatedVirtuals[e]=Array.isArray(r)?r[0]:r:this.$$populatedVirtuals[e]=Array.isArray(r)?r:null==r?[]:[r],w.unset(e,n)}}));var r=this.virtual(e);return r.options=t,r.set((function(n){this.$$populatedVirtuals||(this.$$populatedVirtuals={}),t.justOne||t.count?(this.$$populatedVirtuals[e]=Array.isArray(n)?n[0]:n,"object"!==o(this.$$populatedVirtuals[e])&&(this.$$populatedVirtuals[e]=t.count?n:null)):(this.$$populatedVirtuals[e]=Array.isArray(n)?n:null==n?[]:[n],this.$$populatedVirtuals[e]=this.$$populatedVirtuals[e].filter((function(e){return e&&"object"===o(e)})))})),"function"==typeof t.get&&r.get(t.get),r}var i=this.virtuals,a=e.split(".");if("real"===this.pathType(e))throw new Error('Virtual path "'+e+'" conflicts with a real path in the schema');i[e]=a.reduce((function(n,r,i){return n[r]||(n[r]=i===a.length-1?new m(t,e):{}),n[r]}),this.tree);for(var s=a[0],u=0;u<a.length-1&&(null==this.paths[s]||!this.paths[s].$isMongooseDocumentArray||"break"!==function(){var e=a.slice(u+1).join(".");return n.paths[s].schema.virtual(e).get((function(t,n,r){var i=r.__parentArray[y],o=s+"."+r.__index+"."+e;return i.get(o)})),"break"}());++u)s+="."+a[u+1];return i[e]},k.prototype.virtualpath=function(e){return this.virtuals.hasOwnProperty(e)?this.virtuals[e]:null},k.prototype.remove=function(e){return"string"==typeof e&&(e=[e]),Array.isArray(e)&&e.forEach((function(e){if(null!=this.path(e)||this.nested[e]){if(this.nested[e]){var t,n=a(Object.keys(this.paths).concat(Object.keys(this.nested)));try{for(n.s();!(t=n.n()).done;){var r=t.value;r.startsWith(e+".")&&(delete this.paths[r],delete this.nested[r],B(this,r))}}catch(e){n.e(e)}finally{n.f()}return delete this.nested[e],void B(this,e)}delete this.paths[e],B(this,e)}}),this),this},k.prototype.loadClass=function(e,t){return e===Object.prototype||e===Function.prototype||e.prototype.hasOwnProperty("$isMongooseModelPrototype")||(this.loadClass(Object.getPrototypeOf(e)),t||Object.getOwnPropertyNames(e).forEach((function(t){if(!t.match(/^(length|name|prototype)$/)){var n=Object.getOwnPropertyDescriptor(e,t);"function"==typeof n.value&&this.static(t,n.value)}}),this),Object.getOwnPropertyNames(e.prototype).forEach((function(n){if(!n.match(/^(constructor)$/)){var r=Object.getOwnPropertyDescriptor(e.prototype,n);t||"function"==typeof r.value&&this.method(n,r.value),"function"==typeof r.get&&this.virtual(n).get(r.get),"function"==typeof r.set&&this.virtual(n).set(r.set)}}),this)),this},k.prototype._getSchema=function(e){var t=this.path(e),n=[];if(t)return t.$fullPath=e,t;for(var r=e.split("."),i=0;i<r.length;++i)("$"===r[i]||F(r[i]))&&(r[i]="0");return function e(t,r){for(var i,o,a=t.length+1;a--;)if(o=t.slice(0,a).join("."),i=r.path(o)){if(n.push(o),i.caster){if(i.caster instanceof u.Mixed)return i.caster.$fullPath=n.join("."),i.caster;if(a!==t.length&&i.schema){var s=void 0;return"$"===t[a]||F(t[a])?a+1===t.length?i:((s=e(t.slice(a+1),i.schema))&&(s.$isUnderneathDocArray=s.$isUnderneathDocArray||!i.schema.$isSingleNested),s):((s=e(t.slice(a),i.schema))&&(s.$isUnderneathDocArray=s.$isUnderneathDocArray||!i.schema.$isSingleNested),s)}}else if(i.$isSchemaMap)return a+1>=t.length?i.$__schemaType:e(t.slice(a+1),i.$__schemaType.schema);return i.$fullPath=n.join("."),i}}(r,this)},k.prototype._getPathType=function(e){return this.path(e)?"real":function e(t,n){for(var r,i,o=t.length+1;o--;){if(i=t.slice(0,o).join("."),r=n.path(i))return r.caster?r.caster instanceof u.Mixed?{schema:r,pathType:"mixed"}:o!==t.length&&r.schema?"$"===t[o]||F(t[o])?o===t.length-1?{schema:r,pathType:"nested"}:e(t.slice(o+1),r.schema):e(t.slice(o),r.schema):{schema:r,pathType:r.$isSingleNested?"nested":"array"}:{schema:r,pathType:"real"};if(o===t.length&&n.nested[i])return{schema:n,pathType:"nested"}}return{schema:r||n,pathType:"undefined"}}(e.split("."),this)},e.exports=t=k,k.Types=u=n(54),t.ObjectId=u.ObjectId}).call(this,n(1).Buffer)},function(e,t,n){"use strict";var r=n(2);function i(e,t){this.path=t,this.getters=[],this.setters=[],this.options=Object.assign({},e)}i.prototype._applyDefaultGetters=function(){if(!(this.getters.length>0||this.setters.length>0)){var e="$"+this.path;this.getters.push((function(){return this[e]})),this.setters.push((function(t){this[e]=t}))}},i.prototype.clone=function(){var e=new i(this.options,this.path);return e.getters=[].concat(this.getters),e.setters=[].concat(this.setters),e},i.prototype.get=function(e){return this.getters.push(e),this},i.prototype.set=function(e){return this.setters.push(e),this},i.prototype.applyGetters=function(e,t){r.hasUserDefinedProperty(this.options,["ref","refPath"])&&t.$$populatedVirtuals&&t.$$populatedVirtuals.hasOwnProperty(this.path)&&(e=t.$$populatedVirtuals[this.path]);for(var n=e,i=this.getters.length-1;i>=0;i--)n=this.getters[i].call(t,n,this,t);return n},i.prototype.applySetters=function(e,t){for(var n=e,r=this.setters.length-1;r>=0;r--)n=this.setters[r].call(t,n,this,t);return n},e.exports=i},function(e,t,n){"use strict";t.String=n(147),t.Number=n(78),t.Boolean=n(151),t.DocumentArray=n(152),t.Embedded=n(159),t.Array=n(55),t.Buffer=n(161),t.Date=n(163),t.ObjectId=n(166),t.Mixed=n(25),t.Decimal128=t.Decimal=n(168),t.Map=n(170),t.Oid=t.ObjectId,t.Object=t.Mixed,t.Bool=t.Boolean,t.ObjectID=t.ObjectId},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o,a,s=n(48),u=n(72),c=n(14),l=n(153),f=n(7),p=f.CastError,h=n(25),d=n(154),m=n(155),v=n(3),y=n(80),g=n(4),b=n(2),_=n(33).castToNumber,w=n(81),x=n(34),S=Symbol("mongoose#isNestedArray");function E(e,t,r,i){a||(a=n(56).Embedded);var o,s,u="type";if(i&&i.typeKey&&(u=i.typeKey),this.schemaOptions=i,t){var c={};b.isPOJO(t)&&(t[u]?(delete(c=b.clone(t))[u],t=t[u]):t=h),t===Object&&(t=h);var l="string"==typeof t?t:b.getFunctionName(t),p=n(54),d=p.hasOwnProperty(l)?p[l]:t;this.casterConstructor=d,this.casterConstructor instanceof E&&(this.casterConstructor[S]=!0),"function"!=typeof d||d.$isArraySubdocument||d.$isSchemaMap?this.caster=d:this.caster=new d(null,c),this.$embeddedSchemaType=this.caster,this.caster instanceof a||(this.caster.path=e)}if(this.$isMongooseArray=!0,f.call(this,e,r,"Array"),null!=this.defaultValue&&(o=this.defaultValue,s="function"==typeof o),!("defaultValue"in this)||void 0!==this.defaultValue){var m=function(){var e=[];return s?e=o.call(this):null!=o&&(e=e.concat(o)),e};m.$runBeforeSetters=!s,this.default(m)}}E.schemaName="Array",E.options={castNonArrays:!0},E.defaultOptions={},E.set=f.set,E.prototype=Object.create(f.prototype),E.prototype.constructor=E,E.prototype.OptionsConstructor=l,E._checkRequired=f.prototype.checkRequired,E.checkRequired=f.checkRequired,E.prototype.checkRequired=function(e,t){return f._isRef(this,e,t,!0)?!!e:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():E.checkRequired())(e)},E.prototype.enum=function(){for(var e=this;;){var t=v(e,"caster.instance");if("Array"!==t){if("String"!==t&&"Number"!==t)throw new Error("`enum` can only be set on an array of strings or numbers , not "+t);break}e=e.caster}var n=arguments;return!Array.isArray(arguments)&&b.isObject(arguments)&&(n=b.object.vals(n)),e.caster.enum.apply(e.caster,n),this},E.prototype.applyGetters=function(e,t){if(null!=t&&t.populated(this.path))return e;var n=f.prototype.applyGetters.call(this,e,t);if(Array.isArray(n))for(var r=n.length,i=0;i<r;++i)n[i]=this.caster.applyGetters(n[i],t);return n},E.prototype._applySetters=function(e,t,n,r){if(this.casterConstructor instanceof E&&E.options.castNonArrays&&!this[S]){for(var i=0,o=this;null!=o&&o instanceof E&&!o.$isMongooseDocumentArray;)++i,o=o.casterConstructor;if(null!=e&&e.length>0){var a=d(e);if(a.min===a.max&&a.max<i&&a.containsNonArrayItem)for(var s=a.max;s<i;++s)e=[e]}}return f.prototype._applySetters.call(this,e,t,n,r)},E.prototype.cast=function(e,t,r,i,a){var s,u;if(o||(o=n(56).Array),Array.isArray(e)){if(!e.length&&t){var l=t.schema.indexedPaths(),f=this.path;for(s=0,u=l.length;s<u;++s){var d=l[s][0][f];if("2dsphere"===d||"2d"===d)return}var m=this.path.endsWith(".coordinates")?this.path.substr(0,this.path.lastIndexOf(".")):null;if(null!=m)for(s=0,u=l.length;s<u;++s)if("2dsphere"===l[s][0][m])return}if(e&&e.isMongooseArray?e&&e.isMongooseArray&&(e=o(e,v(a,"path",null)||this._arrayPath||this.path,t,this)):e=o(e,v(a,"path",null)||this._arrayPath||this.path,t,this),null!=t&&null!=t.$__&&t.populated(this.path)&&r)return e;var y=this.caster;if(y&&this.casterConstructor!==h)try{var b=e.length;for(s=0;s<b;s++){if("Number"===y.instance&&void 0===e[s])throw new c("Mongoose number arrays disallow storing undefined");var _={};y.$isMongooseArray&&(null!=a&&null!=a.arrayPath?_.arrayPath=a.arrayPath+"."+s:null!=this.caster._arrayParentPath&&(_.arrayPath=this.caster._arrayParentPath+"."+s)),e[s]=y.applySetters(e[s],t,r,void 0,_)}}catch(t){throw new p("["+t.kind+"]",g.inspect(e),this.path+"."+s,t,this)}return e}if(r||E.options.castNonArrays)return t&&r&&t.markModified(this.path),this.cast([e],t,r);throw new p("Array",g.inspect(e),this.path,null,this)},E.prototype.discriminator=function(e,t){for(var n=this;n.$isMongooseArray&&!n.$isMongooseDocumentArray;)if(null==(n=n.casterConstructor)||"function"==typeof n)throw new c("You can only add an embedded discriminator on a document array, "+this.path+" is a plain array");return n.discriminator(e,t)},E.prototype.clone=function(){var e=Object.assign({},this.options),t=new this.constructor(this.path,this.caster,e,this.schemaOptions);return t.validators=this.validators.slice(),void 0!==this.requiredValidator&&(t.requiredValidator=this.requiredValidator),t},E.prototype.castForQuery=function(e,t){var n,r,i=this;if(2===arguments.length){if(!(n=this.$conditionalHandlers[e]))throw new Error("Can't use "+e+" with Array.");r=n.call(this,t)}else{r=e;var o=this.casterConstructor;if(r&&o.discriminators&&o.schema&&o.schema.options&&o.schema.options.discriminatorKey)if("string"==typeof r[o.schema.options.discriminatorKey]&&o.discriminators[r[o.schema.options.discriminatorKey]])o=o.discriminators[r[o.schema.options.discriminatorKey]];else{var a=x(o,r[o.schema.options.discriminatorKey]);a&&(o=a)}var s=this.casterConstructor.prototype,u=s&&(s.castForQuery||s.cast);!u&&o.castForQuery&&(u=o.castForQuery);var c=this.caster;Array.isArray(r)?(this.setters.reverse().forEach((function(e){r=e.call(i,r,i)})),r=r.map((function(e){return b.isObject(e)&&e.$elemMatch?e:u?e=u.call(c,e):null!=e?e=new o(e):e}))):u?r=u.call(c,r):null!=r&&(r=new o(r))}return r};var O=E.prototype.$conditionalHandlers={};function T(e){return function(t){if(!Array.isArray(t))throw new TypeError("conditional "+e+" requires an array");var n,i=[],o=r(t);try{for(o.s();!(n=o.n()).done;){var a=n.value;i.push(m(this.casterConstructor.schema,a))}}catch(e){o.e(e)}finally{o.f()}return i}}O.$all=function(e){return Array.isArray(e)||(e=[e]),e=e.map((function(e){if(b.isObject(e)){var t={};return t[this.path]=e,m(this.casterConstructor.schema,t)[this.path]}return e}),this),this.castForQuery(e)},O.$options=String,O.$elemMatch=function(e){for(var t=Object.keys(e),n=t.length,r=0;r<n;++r){var i=t[r],o=e[i];y(i)&&null!=o&&(e[i]=this.castForQuery(i,o))}var a=v(this,"casterConstructor.schema.options.discriminatorKey"),s=v(this,"casterConstructor.schema.discriminators",{});return null!=a&&null!=e[a]&&null!=s[e[a]]?m(s[e[a]],e):m(this.casterConstructor.schema,e)},O.$geoIntersects=w.cast$geoIntersects,O.$or=T("$or"),O.$and=T("$and"),O.$nor=T("$nor"),O.$near=O.$nearSphere=w.cast$near,O.$within=O.$geoWithin=w.cast$within,O.$size=O.$minDistance=O.$maxDistance=_,O.$exists=s,O.$type=u,O.$eq=O.$gt=O.$gte=O.$lt=O.$lte=O.$ne=O.$regex=E.prototype.castForQuery,O.$nin=f.prototype.$conditionalHandlers.$nin,O.$in=f.prototype.$conditionalHandlers.$in,e.exports=E},function(e,t,n){"use strict";t.Array=n(82),t.Buffer=n(85),t.Document=t.Embedded=n(26),t.DocumentArray=n(18),t.Decimal128=n(20),t.ObjectId=n(12),t.Map=n(87),t.Subdocument=n(89)},function(e,t,n){"use strict";var r,i=n(0).documentSchemaSymbol,o=n(3),a=n(17).internalToObjectOptions,s=n(2),u=n(0).getSymbol,c=n(0).scopeSymbol;function l(e,t,i,o){r=r||n(6);for(var a,u,c=Object.keys(e),l=c.length,p=0;p<l;++p)a=e[u=c[p]],f(u,s.isPOJO(a)&&Object.keys(a).length&&(!a[o.typeKey]||"type"===o.typeKey&&a.type.type)?a:null,t,i,0,o)}function f(e,t,f,p,h,d){r=r||n(6);var m=(p?p+".":"")+e;p=p||"",t?Object.defineProperty(f,e,{enumerable:!0,configurable:!0,get:function(){var e,n,a=this;if(this.$__.getters||(this.$__.getters={}),!this.$__.getters[m]){var u=Object.create(r.prototype,(e=this,n={},Object.getOwnPropertyNames(e).forEach((function(t){n[t]=Object.getOwnPropertyDescriptor(e,t),n[t].get?delete n[t]:n[t].enumerable=-1===["isNew","$__","errors","_doc","$locals","$op","__parentArray","__index","$isDocumentArrayElement"].indexOf(t)})),n));p||(u.$__[c]=this),u.$__.nestedPath=m,Object.defineProperty(u,"schema",{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty(u,i,{enumerable:!1,configurable:!0,writable:!1,value:f.schema}),Object.defineProperty(u,"toObject",{enumerable:!1,configurable:!0,writable:!1,value:function(){return s.clone(a.get(m,null,{virtuals:o(this,"schema.options.toObject.virtuals",null)}))}}),Object.defineProperty(u,"$__get",{enumerable:!1,configurable:!0,writable:!1,value:function(){return a.get(m,null,{virtuals:o(this,"schema.options.toObject.virtuals",null)})}}),Object.defineProperty(u,"toJSON",{enumerable:!1,configurable:!0,writable:!1,value:function(){return a.get(m,null,{virtuals:o(a,"schema.options.toJSON.virtuals",null)})}}),Object.defineProperty(u,"$__isNested",{enumerable:!1,configurable:!0,writable:!1,value:!0});var h=Object.freeze({minimize:!0,virtuals:!1,getters:!1,transform:!1});Object.defineProperty(u,"$isEmpty",{enumerable:!1,configurable:!0,writable:!1,value:function(){return 0===Object.keys(this.get(m,null,h)||{}).length}}),Object.defineProperty(u,"$__parent",{enumerable:!1,configurable:!0,writable:!1,value:this}),l(t,u,m,d),this.$__.getters[m]=u}return this.$__.getters[m]},set:function(e){null!=e&&e.$__isNested?e=e.$__get():e instanceof r&&!e.$__isNested&&(e=e.toObject(a)),(this.$__[c]||this).$set(m,e)}}):Object.defineProperty(f,e,{enumerable:!0,configurable:!0,get:function(){return this[u].call(this.$__[c]||this,m)},set:function(e){this.$set.call(this.$__[c]||this,m,e)}})}t.compile=l,t.defineKey=f},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return null==e||"object"!==r(e)||!("$meta"in e)&&!("$slice"in e)}},function(e,t,n){"use strict";(function(t){if(void 0!==t.Map)e.exports=t.Map,e.exports.Map=t.Map;else{var n=function(e){this._keys=[],this._values={};for(var t=0;t<e.length;t++)if(null!=e[t]){var n=e[t],r=n[0],i=n[1];this._keys.push(r),this._values[r]={v:i,i:this._keys.length-1}}};n.prototype.clear=function(){this._keys=[],this._values={}},n.prototype.delete=function(e){var t=this._values[e];return null!=t&&(delete this._values[e],this._keys.splice(t.i,1),!0)},n.prototype.entries=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?[n,e._values[n].v]:void 0,done:void 0===n}}}},n.prototype.forEach=function(e,t){t=t||this;for(var n=0;n<this._keys.length;n++){var r=this._keys[n];e.call(t,this._values[r].v,r,t)}},n.prototype.get=function(e){return this._values[e]?this._values[e].v:void 0},n.prototype.has=function(e){return null!=this._values[e]},n.prototype.keys=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?n:void 0,done:void 0===n}}}},n.prototype.set=function(e,t){return this._values[e]?(this._values[e].v=t,this):(this._keys.push(e),this._values[e]={v:t,i:this._keys.length-1},this)},n.prototype.values=function(){var e=this,t=0;return{next:function(){var n=e._keys[t++];return{value:void 0!==n?e._values[n].v:void 0,done:void 0===n}}}},Object.defineProperty(n.prototype,"size",{enumerable:!0,get:function(){return this._keys.length}}),e.exports=n,e.exports.Map=n}}).call(this,n(11))},function(e,t){var n=function e(t){if(!(this instanceof e))return new e(t);this._bsontype="Int32",this.value=t};n.prototype.valueOf=function(){return this.value},n.prototype.toJSON=function(){return this.value},e.exports=n,e.exports.Int32=n},function(e,t,n){"use strict";var r=n(6),i=n(179),o=!1;e.exports=function(){return o?i:r},e.exports.setBrowser=function(e){o=e}},function(e,t){e.exports=function(e,t,n){var r=[],i=e.length;if(0===i)return r;var o=t<0?Math.max(0,t+i):t||0;for(void 0!==n&&(i=n<0?n+i:n);i-- >o;)r[i-o]=e[i];return r}},function(e,t,n){var r=n(1),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=Object.prototype.toString;e.exports=function(e){if("object"!=n(t=e)||"[object RegExp]"!=r.call(t))throw new TypeError("Not a RegExp");var t,i=[];e.global&&i.push("g"),e.multiline&&i.push("m"),e.ignoreCase&&i.push("i"),e.dotAll&&i.push("s"),e.unicode&&i.push("u"),e.sticky&&i.push("y");var o=new RegExp(e.source,i.join(""));return"number"==typeof e.lastIndex&&(o.lastIndex=e.lastIndex),o}},function(e,t,n){"use strict";e.exports=function(e){return e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t){return r(e,"_bsontype",void 0)===t}},function(e,t,n){"use strict";(function(t){var r=n(22),i=n(116),o={_promise:null,get:function(){return o._promise},set:function(e){r.ok("function"==typeof e,"mongoose.Promise must be a function, got ".concat(e)),o._promise=e,i.Promise=e}};o.set(t.Promise),e.exports=o}).call(this,n(11))},function(e,t,n){"use strict";(function(e,r){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(118).Buffer,a=n(64),s=["__proto__","constructor","prototype"],u=t.clone=function e(n,r){if(null==n)return n;if(Array.isArray(n))return t.cloneArray(n,r);if(n.constructor){if(/ObjectI[dD]$/.test(n.constructor.name))return"function"==typeof n.clone?n.clone():new n.constructor(n.id);if("ReadPreference"===n.constructor.name)return new n.constructor(n.mode,e(n.tags,r));if("Binary"==n._bsontype&&n.buffer&&n.value)return"function"==typeof n.clone?n.clone():new n.constructor(n.value(!0),n.sub_type);if("Date"===n.constructor.name||"Function"===n.constructor.name)return new n.constructor(+n);if("RegExp"===n.constructor.name)return a(n);if("Buffer"===n.constructor.name)return t.cloneBuffer(n)}return l(n)?t.cloneObject(n,r):n.valueOf?n.valueOf():void 0};t.cloneObject=function(e,t){for(var n,r,i=t&&t.minimize,o={},a=0,c=Object.keys(e);a<c.length;a++){var l=c[a];-1===s.indexOf(l)&&(r=u(e[l],t),i&&void 0===r||(n||(n=!0),o[l]=r))}return i?n&&o:o},t.cloneArray=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n.push(u(e[r],t));return n},t.tick=function(e){if("function"==typeof e)return function(){var t=arguments;f((function(){e.apply(this,t)}))}},t.merge=function e(n,r){for(var i,o=Object.keys(r),a=o.length;a--;)i=o[a],-1===s.indexOf(i)&&(void 0===n[i]?n[i]=r[i]:t.isObject(r[i])?e(n[i],r[i]):n[i]=r[i])},t.mergeClone=function e(n,r){for(var i,o=Object.keys(r),a=o.length;a--;)void 0===n[i=o[a]]?n[i]=u(r[i]):t.isObject(r[i])?e(n[i],r[i]):n[i]=u(r[i])},t.readPref=function(e){switch(e){case"p":e="primary";break;case"pp":e="primaryPreferred";break;case"s":e="secondary";break;case"sp":e="secondaryPreferred";break;case"n":e="nearest"}return e},t.readConcern=function(e){if("string"==typeof e){switch(e){case"l":e="local";break;case"a":e="available";break;case"m":e="majority";break;case"lz":e="linearizable";break;case"s":e="snapshot"}e={level:e}}return e};var c=Object.prototype.toString;t.toString=function(e){return c.call(e)};var l=t.isObject=function(e){return"[object Object]"==t.toString(e)};t.isArray=function(e){return Array.isArray(e)||"object"==i(e)&&"[object Array]"==t.toString(e)},t.keys=Object.keys,t.create="function"==typeof Object.create?Object.create:function(e){if(arguments.length>1)throw new Error("Adding properties is not supported");function t(){}return t.prototype=e,new t},t.inherits=function(e,n){e.prototype=t.create(n.prototype),e.prototype.constructor=e};var f=t.soon="function"==typeof e?e:r.nextTick;t.cloneBuffer=function(e){var t=o.alloc(e.length);return e.copy(t,0,0,e.length),t},t.isArgumentsObject=function(e){return"[object Arguments]"===Object.prototype.toString.call(e)}}).call(this,n(69).setImmediate,n(8))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},n(117),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(11))},function(e,t,n){"use strict";(function(e,n,r,i){function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.isNode=void 0!==e&&"object"==o(n)&&"object"==(void 0===r?"undefined":o(r))&&"function"==typeof i&&e.argv,t.isMongo=!t.isNode&&"function"==typeof printjson&&"function"==typeof ObjectId&&"function"==typeof rs&&"function"==typeof sh,t.isBrowser=!t.isNode&&!t.isMongo&&"undefined"!=typeof window,t.type=t.isNode?"node":t.isMongo?"mongo":t.isBrowser?"browser":"unknown"}).call(this,n(8),n(123)(e),n(11),n(1).Buffer)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n(5),l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(s,e);var t,n,r=a(s);function s(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var n=e.message;n||(n=c.messages.general.default);var i=f(n,e);return t=r.call(this,i),e=Object.assign({},e,{message:i}),t.properties=e,t.kind=e.type,t.path=e.path,t.value=e.value,t.reason=e.reason,t}return t=s,(n=[{key:"toString",value:function(){return this.message}},{key:"toJSON",value:function(){return Object.assign({name:this.name,message:this.message},this)}}])&&i(t.prototype,n),s}(c);function f(e,t){if("function"==typeof e)return e(t);for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];"message"!==i&&(e=e.replace("{"+i.toUpperCase()+"}",t[i]))}return e}Object.defineProperty(l.prototype,"name",{value:"ValidatorError"}),Object.defineProperty(l.prototype,"properties",{enumerable:!1,writable:!0,value:null}),l.prototype.formatMessage=f,e.exports=l},function(e,t,n){"use strict";e.exports=function(e){if(Array.isArray(e)){if(!e.every((function(e){return"number"==typeof e||"string"==typeof e})))throw new Error("$type array values must be strings or numbers");return e}if("number"!=typeof e&&"string"!=typeof e)throw new Error("$type parameter must be number, string, or array of numbers and strings");return e}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=Array.isArray(r)?"array":"primitive value";return(i=t.call(this,"Tried to set nested object field `"+e+"` to ".concat(o," `")+r+"` and strict mode is set to throw.")).path=e,i}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"ObjectExpectedError"}),e.exports=s},function(e,t,n){"use strict";e.exports=function(e){var t={_id:{auto:!0}};t._id[e.options.typeKey]="ObjectId",e.add(t)}},function(e,t,n){"use strict";e.exports=function(e,t){return null==e?null:"boolean"==typeof e?t:"boolean"==typeof e[t]?e[t]?t:null:t in e?e[t]:t}},function(e,t,n){"use strict";var r=n(51),i=n(24);function o(e,t,n){var a={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0,contextParameter:!0},s=(n=n||{}).decorateDoc?e:e.prototype;e.$appliedHooks=!0;for(var u=0,c=Object.keys(t.paths);u<c.length;u++){var l=c[u],f=t.paths[l],p=null;if(f.$isSingleNested)p=f.caster;else{if(!f.$isMongooseDocumentArray)continue;p=f.Constructor}if(!p.$appliedHooks&&(o(p,f.schema,n),null!=p.discriminators))for(var h=0,d=Object.keys(p.discriminators);h<d.length;h++){var m=d[h];o(p.discriminators[m],p.discriminators[m].schema,n)}}var v=t.s.hooks.filter((function(e){return"updateOne"===e.name||"deleteOne"===e.name?!!e.document:"remove"===e.name||"init"===e.name?null==e.document||!!e.document:null==e.query&&null==e.document||!1!==e.document})).filter((function(e){return!t.methods[e.name]||!e.fn[r.builtInMiddleware]}));e._middleware=v,s.$__originalValidate=s.$__originalValidate||s.$__validate;for(var y=0,g=["save","validate","remove","deleteOne"];y<g.length;y++){var b=g[y],_="validate"===b?"$__originalValidate":"$__".concat(b),w=v.createWrapper(b,s[_],null,a);s["$__".concat(b)]=w}s.$__init=v.createWrapperSync("init",s.$__init,null,a);for(var x=Object.keys(t.methods),S=Object.assign({},a,{checkForPromise:!0}),E=function(){var t=T[O];if(!v.hasHooks(t))return"continue";var n=s[t];s[t]=function(){var n=this,r=Array.prototype.slice.call(arguments),o=r.slice(-1).pop(),a="function"==typeof o?r.slice(0,r.length-1):r;return i(o,(function(e){return n["$__".concat(t)].apply(n,a.concat([e]))}),e.events)},s["$__".concat(t)]=v.createWrapper(t,n,null,S)},O=0,T=x;O<T.length;O++)E()}e.exports=o,o.middlewareFunctions=["deleteOne","save","validate","remove","updateOne","init"]},function(e,t,n){"use strict";var r=n(13);e.exports=function(e,t){if(null==e)return e;if(e._id&&"string"==typeof e._id)return e._id;if(e.toString&&e.toString!==Object.prototype.toString&&!Array.isArray(e))return e.toString();throw new r("string",e,t)}},function(e,t,n){"use strict";(function(t){var r,i=n(5),o=n(149),a=n(7),s=n(150),u=n(79),c=n(2),l=n(0).populateModelSymbol,f=a.CastError;function p(e,t){a.call(this,e,t,"Number")}function h(e){return this.cast(e)}p.get=a.get,p.set=a.set,p._cast=s,p.cast=function(e){return 0===arguments.length||(!1===e&&(e=this._defaultCaster),this._cast=e),this._cast},p._defaultCaster=function(e){if("number"!=typeof e)throw new Error;return e},p.schemaName="Number",p.defaultOptions={},p.prototype=Object.create(a.prototype),p.prototype.constructor=p,p.prototype.OptionsConstructor=o,p._checkRequired=function(e){return"number"==typeof e||e instanceof Number},p.checkRequired=a.checkRequired,p.prototype.checkRequired=function(e,t){return a._isRef(this,e,t,!0)?!!e:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():p.checkRequired())(e)},p.prototype.min=function(e,t){if(this.minValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.minValidator}),this)),null!=e){var n=t||i.messages.Number.min;n=n.replace(/{MIN}/,e),this.validators.push({validator:this.minValidator=function(t){return null==t||t>=e},message:n,type:"min",min:e})}return this},p.prototype.max=function(e,t){if(this.maxValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.maxValidator}),this)),null!=e){var n=t||i.messages.Number.max;n=n.replace(/{MAX}/,e),this.validators.push({validator:this.maxValidator=function(t){return null==t||t<=e},message:n,type:"max",max:e})}return this},p.prototype.enum=function(e,t){return this.enumValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.enumValidator}),this)),Array.isArray(e)||(e=c.isObject(e)?c.object.vals(e):Array.prototype.slice.call(arguments),t=i.messages.Number.enum),t=null==t?i.messages.Number.enum:t,this.enumValidator=function(t){return null==t||-1!==e.indexOf(t)},this.validators.push({validator:this.enumValidator,message:t,type:"enum",enumValues:e}),this},p.prototype.cast=function(e,i,o){if(a._isRef(this,e,i,o)){if(null==e)return e;if(r||(r=n(6)),e instanceof r)return e.$__.wasPopulated=!0,e;if("number"==typeof e)return e;if(t.isBuffer(e)||!c.isObject(e))throw new f("Number",e,this.path,null,this);var s=i.$__fullPath(this.path),u=new((i.ownerDocument?i.ownerDocument():i).populated(s,!0).options[l])(e);return u.$__.wasPopulated=!0,u}var h,d=e&&void 0!==e._id?e._id:e;h="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():p.cast();try{return h(d)}catch(e){throw new f("Number",d,this.path,e,this)}},p.prototype.$conditionalHandlers=c.options(a.prototype.$conditionalHandlers,{$bitsAllClear:u,$bitsAnyClear:u,$bitsAllSet:u,$bitsAnySet:u,$gt:h,$gte:h,$lt:h,$lte:h,$mod:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.cast(e)})):[this.cast(e)]}}),p.prototype.castForQuery=function(e,t){var n;if(2===arguments.length){if(!(n=this.$conditionalHandlers[e]))throw new f("number",t,this.path,null,this);return n.call(this,t)}return this._castForQuery(e)},e.exports=p}).call(this,n(1).Buffer)},function(e,t,n){"use strict";(function(t){var r=n(13);function i(e,t){var n=Number(t);if(isNaN(n))throw new r("number",t,e);return n}e.exports=function(e){var n=this;return Array.isArray(e)?e.map((function(e){return i(n.path,e)})):t.isBuffer(e)?e:i(n.path,e)}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";var r=new Set(["$ref","$id","$db"]);e.exports=function(e){return e.startsWith("$")&&!r.has(e)}},function(e,t,n){"use strict";var r=n(33).castArraysOfNumbers,i=n(33).castToNumber;function o(e,t){switch(e.$geometry.type){case"Polygon":case"LineString":case"Point":r(e.$geometry.coordinates,t)}return a(t,e),e}function a(e,t){t.$maxDistance&&(t.$maxDistance=i.call(e,t.$maxDistance)),t.$minDistance&&(t.$minDistance=i.call(e,t.$minDistance))}t.cast$geoIntersects=function(e){if(e.$geometry)return o(e,this),e},t.cast$near=function(e){var t=n(55);if(Array.isArray(e))return r(e,this),e;if(a(this,e),e&&e.$geometry)return o(e,this);if(!Array.isArray(e))throw new TypeError("$near must be either an array or an object with a $geometry property");return t.prototype.castForQuery.call(this,e)},t.cast$within=function(e){var t=this;if(a(this,e),e.$box||e.$polygon){var n=e.$box?"$box":"$polygon";e[n].forEach((function(e){if(!Array.isArray(e))throw new TypeError("Invalid $within $box argument. Expected an array, received "+e);e.forEach((function(n,r){e[r]=i.call(t,n)}))}))}else if(e.$center||e.$centerSphere){var r=e.$center?"$center":"$centerSphere";e[r].forEach((function(n,o){Array.isArray(n)?n.forEach((function(e,r){n[r]=i.call(t,e)})):e[r][o]=i.call(t,n)}))}else e.$geometry&&o(e,this);return e}},function(e,t,n){"use strict";var r=n(83),i=n(6),o=n(0).arrayAtomicsSymbol,a=n(0).arrayParentSymbol,s=n(0).arrayPathSymbol,u=n(0).arraySchemaSymbol,c=Array.prototype.push;e.exports=function(e,t,n,l){var f=new r;if(f[o]={},Array.isArray(e)){for(var p=e.length,h=0;h<p;++h)c.call(f,e[h]);null!=e[o]&&(f[o]=e[o])}return f[s]=t,f[u]=void 0,n&&n instanceof i&&(f[a]=n,f[u]=l||n.schema.path(t)),f}},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){var t="function"==typeof Map?new Map:void 0;return(l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return f(e,arguments,d(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),h(r,e)})(e)}function f(e,t,n){return(f=p()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i}).apply(null,arguments)}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n(6),v=n(26),y=n(14),g=n(12),b=n(84),_=n(3),w=n(17).internalToObjectOptions,x=n(2),S=n(4),E=n(0).arrayAtomicsSymbol,O=n(0).arrayParentSymbol,T=n(0).arrayPathSymbol,M=n(0).arraySchemaSymbol,P=n(0).populateModelSymbol,A=Symbol("mongoose#Array#sliced"),C=Array.prototype.push,k=Symbol("mongoose#MongooseCoreArray#validators"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(f,e);var n,r,i,o,l=(n=f,r=p(),function(){var e,t=d(n);if(r){var i=d(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return c(this,e)});function f(){return a(this,f),l.apply(this,arguments)}return i=f,(o=[{key:"isMongooseArray",get:function(){return!0}},{key:"validators",get:function(){return this[k]},set:function(e){this[k]=e}},{key:"$__getAtomics",value:function(){var e=[],t=Object.keys(this[E]||{}),n=t.length,r=Object.assign({},w,{_isNested:!0});if(0===n)return e[0]=["$set",this.toObject(r)],e;for(;n--;){var i=t[n],o=this[E][i];x.isMongooseObject(o)?o=o.toObject(r):Array.isArray(o)?o=this.toObject.call(o,r):null!=o&&Array.isArray(o.$each)?o.$each=this.toObject.call(o.$each,r):null!=o&&"function"==typeof o.valueOf&&(o=o.valueOf()),"$addToSet"===i&&(o={$each:o}),e.push([i,o])}return e}},{key:"$atomics",value:function(){return this[E]}},{key:"$parent",value:function(){return this[O]}},{key:"$path",value:function(){return this[T]}},{key:"$shift",value:function(){if(this._registerAtomic("$pop",-1),this._markModified(),!this._shifted)return this._shifted=!0,[].shift.call(this)}},{key:"$pop",value:function(){if(this._registerAtomic("$pop",1),this._markModified(),!this._popped)return this._popped=!0,[].pop.call(this)}},{key:"$schema",value:function(){return this[M]}},{key:"_cast",value:function(e){var n,r=!1;return this[O]&&(r=this[O].populated(this[T],!0)),r&&null!=e?(n=r.options[P],(t.isBuffer(e)||e instanceof g||!x.isObject(e))&&(e={_id:e}),e.schema&&e.schema.discriminatorMapping&&void 0!==e.schema.discriminatorMapping.key||(e=new n(e)),this[M].caster.applySetters(e,this[O],!0)):this[M].caster.applySetters(e,this[O],!1)}},{key:"_mapCast",value:function(e,t){return this._cast(e,this.length+t)}},{key:"_markModified",value:function(e){var t,n=this[O];if(n){if(t=this[T],arguments.length&&(t=t+"."+e),null!=t&&t.endsWith(".$"))return this;n.markModified(t,arguments.length>0?e:n)}return this}},{key:"_registerAtomic",value:function(e,t){if(!this[A]){if("$set"===e)return this[E]={$set:t},b(this[O],this[T]),this._markModified(),this;var n,r=this[E];if("$pop"===e&&!("$pop"in r)){var i=this;this[O].once("save",(function(){i._popped=i._shifted=null}))}if(this[E].$set||Object.keys(r).length&&!(e in r))return this[E]={$set:this},this;if("$pullAll"===e||"$addToSet"===e)r[e]||(r[e]=[]),r[e]=r[e].concat(t);else if("$pullDocs"===e){var o=r.$pull||(r.$pull={});t[0]instanceof v?(n=o.$or||(o.$or=[]),Array.prototype.push.apply(n,t.map((function(e){return e.toObject({transform:!1,virtuals:!1})})))):(n=o._id||(o._id={$in:[]})).$in=n.$in.concat(t)}else"$push"===e?(r.$push=r.$push||{$each:[]},null!=t&&x.hasUserDefinedProperty(t,"$each")?r.$push=t:r.$push.$each=r.$push.$each.concat(t)):r[e]=t;return this}}},{key:"addToSet",value:function(){R(this,arguments);var e=[].map.call(arguments,this._mapCast,this);e=this[M].applySetters(e,this[O]);var t=[],n="";return e[0]instanceof v?n="doc":e[0]instanceof Date&&(n="date"),e.forEach((function(e){var r,i=+e;switch(n){case"doc":r=this.some((function(t){return t.equals(e)}));break;case"date":r=this.some((function(e){return+e===i}));break;default:r=~this.indexOf(e)}r||([].push.call(this,e),this._registerAtomic("$addToSet",e),this._markModified(),[].push.call(t,e))}),this),t}},{key:"hasAtomics",value:function(){return x.isPOJO(this[E])?Object.keys(this[E]).length:0}},{key:"includes",value:function(e,t){return-1!==this.indexOf(e,t)}},{key:"indexOf",value:function(e,t){e instanceof g&&(e=e.toString()),t=null==t?0:t;for(var n=this.length,r=t;r<n;++r)if(e==this[r])return r;return-1}},{key:"inspect",value:function(){return JSON.stringify(this)}},{key:"nonAtomicPush",value:function(){var e=[].map.call(arguments,this._mapCast,this),t=[].push.apply(this,e);return this._registerAtomic("$set",this),this._markModified(),t}},{key:"pop",value:function(){var e=[].pop.call(this);return this._registerAtomic("$set",this),this._markModified(),e}},{key:"pull",value:function(){for(var e,t=[].map.call(arguments,this._cast,this),n=this[O].get(this[T]),r=n.length;r--;)if((e=n[r])instanceof m){var i=t.some((function(t){return e.equals(t)}));i&&[].splice.call(n,r,1)}else~n.indexOf.call(t,e)&&[].splice.call(n,r,1);return t[0]instanceof v?this._registerAtomic("$pullDocs",t.map((function(e){return e.$__getValue("_id")||e}))):this._registerAtomic("$pullAll",t),this._markModified(),b(this[O],this[T])>0&&this._registerAtomic("$set",this),this}},{key:"push",value:function(){var e=arguments,t=e,n=null!=e[0]&&x.hasUserDefinedProperty(e[0],"$each");if(n&&(t=e[0],e=e[0].$each),null==this[M])return C.apply(this,e);R(this,e);var r,i=this[O];e=[].map.call(e,this._mapCast,this),e=this[M].applySetters(e,i,void 0,void 0,{skipDocumentArrayCast:!0});var o=this[E];if(n){if(t.$each=e,_(o,"$push.$each.length",0)>0&&o.$push.$position!=o.$position)throw new y("Cannot call `Array#push()` multiple times with different `$position`");null!=t.$position?([].splice.apply(this,[t.$position,0].concat(e)),r=this.length):r=[].push.apply(this,e)}else{if(_(o,"$push.$each.length",0)>0&&null!=o.$push.$position)throw new y("Cannot call `Array#push()` multiple times with different `$position`");t=e,r=[].push.apply(this,e)}return this._registerAtomic("$push",t),this._markModified(),r}},{key:"remove",value:function(){return this.pull.apply(this,arguments)}},{key:"set",value:function(e,t){var n=this._cast(t,e);return this[e]=n,this._markModified(e),this}},{key:"shift",value:function(){var e=[].shift.call(this);return this._registerAtomic("$set",this),this._markModified(),e}},{key:"sort",value:function(){var e=[].sort.apply(this,arguments);return this._registerAtomic("$set",this),e}},{key:"splice",value:function(){var e;if(R(this,Array.prototype.slice.call(arguments,2)),arguments.length){var t;if(null==this[M])t=arguments;else{t=[];for(var n=0;n<arguments.length;++n)t[n]=n<2?arguments[n]:this._cast(arguments[n],arguments[0]+(n-2))}e=[].splice.apply(this,t),this._registerAtomic("$set",this)}return e}},{key:"slice",value:function(){var e=u(d(f.prototype),"slice",this).apply(this,arguments);return e[O]=this[O],e[M]=this[M],e[E]=this[E],e[T]=this[T],e[A]=!0,e}},{key:"filter",value:function(){var e=u(d(f.prototype),"filter",this).apply(this,arguments);return e[O]=this[O],e[M]=this[M],e[E]=this[E],e[T]=this[T],e}},{key:"toBSON",value:function(){return this.toObject(w)}},{key:"toObject",value:function(e){return e&&e.depopulate?((e=x.clone(e))._isNested=!0,[].concat(this).map((function(t){return t instanceof m?t.toObject(e):t}))):[].concat(this)}},{key:"unshift",value:function(){var e;return R(this,arguments),null==this[M]?e=arguments:(e=[].map.call(arguments,this._cast,this),e=this[M].applySetters(e,this[O])),[].unshift.apply(this,e),this._registerAtomic("$set",this),this._markModified(),this.length}}])&&s(i.prototype,o),f}(l(Array));function R(e,t){var n,r,o,a=null==e?null:_(e[M],"caster.options.ref",null);0===e.length&&t.length>0&&function(e,t){if(!t)return!1;var n,r=i(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(null==o)return!1;var a=o.constructor;if(!(o instanceof m)||a.modelName!==t&&a.baseModelName!==t)return!1}}catch(e){r.e(e)}finally{r.f()}return!0}(t,a)&&e[O].populated(e[T],[],(n={},r=P,o=t[0].constructor,r in n?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n))}S.inspect.custom&&(j.prototype[S.inspect.custom]=j.prototype.inspect),e.exports=j}).call(this,n(1).Buffer)},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=(n=n||{}).skipDocArrays,i=0;if(!e)return i;for(var o=0,a=Object.keys(e.$__.activePaths.states.modify);o<a.length;o++){var s=a[o];if(r){var u=e.schema.path(s);if(u&&u.$isMongooseDocumentArray)continue}s.startsWith(t+".")&&(delete e.$__.activePaths.states.modify[s],++i)}return i}},function(e,t,n){"use strict";var r=n(15).get().Binary,i=n(2),o=n(63).Buffer;function a(e,t,n){var r,s,c,l,f,p=arguments.length;return r=0===p||null==arguments[0]?0:e,Array.isArray(t)?(c=t[0],l=t[1]):s=t,f="number"==typeof r||r instanceof Number?o.alloc(r):o.from(r,s,n),i.decorate(f,a.mixin),f.isMongooseBuffer=!0,f[a.pathSymbol]=c,f[u]=l,f._subtype=0,f}var s=Symbol.for("mongoose#Buffer#_path"),u=Symbol.for("mongoose#Buffer#_parent");a.pathSymbol=s,a.mixin={_subtype:void 0,_markModified:function(){var e=this[u];return e&&e.markModified(this[a.pathSymbol]),this},write:function(){var e=o.prototype.write.apply(this,arguments);return e>0&&this._markModified(),e},copy:function(e){var t=o.prototype.copy.apply(this,arguments);return e&&e.isMongooseBuffer&&e._markModified(),t}},"writeUInt8 writeUInt16 writeUInt32 writeInt8 writeInt16 writeInt32 writeFloat writeDouble fill utf8Write binaryWrite asciiWrite set writeUInt16LE writeUInt16BE writeUInt32LE writeUInt32BE writeInt16LE writeInt16BE writeInt32LE writeInt32BE writeFloatLE writeFloatBE writeDoubleLE writeDoubleBE".split(" ").forEach((function(e){o.prototype[e]&&(a.mixin[e]=function(){var t=o.prototype[e].apply(this,arguments);return this._markModified(),t})})),a.mixin.toObject=function(e){var t="number"==typeof e?e:this._subtype||0;return new r(o.from(this),t)},a.mixin.toBSON=function(){return new r(this,this._subtype||0)},a.mixin.equals=function(e){if(!o.isBuffer(e))return!1;if(this.length!==e.length)return!1;for(var t=0;t<this.length;++t)if(this[t]!==e[t])return!1;return!0},a.mixin.subtype=function(e){if("number"!=typeof e)throw new TypeError("Invalid subtype. Expected a number");this._subtype!==e&&this._markModified(),this._subtype=e},a.Binary=r,e.exports=a},function(e,t,n){"use strict";var r=n(15).get().ObjectId,i=n(22);e.exports=function(e){if(null==e)return e;if(e instanceof r)return e;if(e._id){if(e._id instanceof r)return e._id;if(e._id.toString instanceof Function)return new r(e._id.toString())}if(e.toString instanceof Function)return new r(e.toString());i.ok(!1)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return l(e,arguments,h(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)})(e)}function l(e,t,n){return(l=f()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&p(i,n.prototype),i}).apply(null,arguments)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n(25),m=n(12),v=n(2).deepEqual,y=n(3),g=n(88),b=n(4),_=n(47),w=n(0).populateModelSymbol,x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(l,e);var t,n,r,o,c=(t=l,n=f(),function(){var e,r=h(t);if(n){var i=h(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return u(this,e)});function l(e,t,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),null!=e&&"Object"===e.constructor.name&&(e=Object.keys(e).reduce((function(t,n){return t.concat([[n,e[n]]])}),[])),(i=c.call(this,e)).$__parent=null!=n&&null!=n.$__?n:null,i.$__path=t,i.$__schemaType=null==r?new d(t):r,i.$__runDeferred(),i}return r=l,(o=[{key:"$init",value:function(e,t){S(e),s(h(l.prototype),"set",this).call(this,e,t),null!=t&&t.$isSingleNested&&(t.$basePath=this.$__path+"."+e)}},{key:"$__set",value:function(e,t){s(h(l.prototype),"set",this).call(this,e,t)}},{key:"get",value:function(e,t){return e instanceof m&&(e=e.toString()),!1===(t=t||{}).getters?s(h(l.prototype),"get",this).call(this,e):this.$__schemaType.applyGetters(s(h(l.prototype),"get",this).call(this,e),this.$__parent)}},{key:"set",value:function(e,t){if(e instanceof m&&(e=e.toString()),S(e),t=g(t),null==this.$__schemaType)return this.$__deferred=this.$__deferred||[],void this.$__deferred.push({key:e,value:t});var n=this.$__path+"."+e,r=null!=this.$__parent&&this.$__parent.$__?this.$__parent.populated(n)||this.$__parent.populated(this.$__path):null,i=this.get(e);if(null!=r)null==t.$__&&(t=new r.options[w](t)),t.$__.wasPopulated=!0;else try{t=this.$__schemaType.applySetters(t,this.$__parent,!1,this.get(e),{path:n})}catch(e){if(null!=this.$__parent&&null!=this.$__parent.$__)return void this.$__parent.invalidate(n,e);throw e}s(h(l.prototype),"set",this).call(this,e,t),null!=t&&t.$isSingleNested&&(t.$basePath=this.$__path+"."+e);var o=this.$__parent;null==o||null==o.$__||v(t,i)||o.markModified(this.$__path+"."+e)}},{key:"clear",value:function(){s(h(l.prototype),"clear",this).call(this);var e=this.$__parent;null!=e&&e.markModified(this.$__path)}},{key:"delete",value:function(e){e instanceof m&&(e=e.toString()),this.set(e,void 0),s(h(l.prototype),"delete",this).call(this,e)}},{key:"toBSON",value:function(){return new Map(this)}},{key:"toObject",value:function(e){if(y(e,"flattenMaps")){var t,n={},r=i(this.keys());try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o]=this.get(o)}}catch(e){r.e(e)}finally{r.f()}return n}return new Map(this)}},{key:"toJSON",value:function(){var e,t={},n=i(this.keys());try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r]=this.get(r)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"inspect",value:function(){return new Map(this)}},{key:"$__runDeferred",value:function(){if(this.$__deferred){var e,t=i(this.$__deferred);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.set(n.key,n.value)}}catch(e){t.e(e)}finally{t.f()}this.$__deferred=null}}}])&&a(r.prototype,o),l}(c(Map));function S(e){var t=r(e);if("string"!==t)throw new TypeError("Mongoose maps only support string keys, got ".concat(t));if(e.startsWith("$"))throw new Error('Mongoose maps do not support keys that start with "$", got "'.concat(e,'"'));if(e.includes("."))throw new Error('Mongoose maps do not support keys that contain ".", got "'.concat(e,'"'));if(_.has(e))throw new Error('Mongoose maps do not support reserved key name "'.concat(e,'"'))}b.inspect.custom&&Object.defineProperty(x.prototype,b.inspect.custom,{enumerable:!1,writable:!1,configurable:!1,value:x.prototype.inspect}),Object.defineProperty(x.prototype,"$__set",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(x.prototype,"$__parent",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(x.prototype,"$__path",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(x.prototype,"$__schemaType",{enumerable:!1,writable:!0,configurable:!1}),Object.defineProperty(x.prototype,"$isMongooseMap",{enumerable:!1,writable:!1,configurable:!1,value:!0}),Object.defineProperty(x.prototype,"$__deferredCalls",{enumerable:!1,writable:!1,configurable:!1,value:!0}),e.exports=x},function(e,t,n){"use strict";var r=n(2);e.exports=function(e){return r.isPOJO(e)&&null!=e.$__&&null!=e._doc?e._doc:e}},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(6),a=n(50),s=n(17).internalToObjectOptions,u=n(24),c=n(0).documentArrayParent;function l(e,t,n,i,a){var s=this;this.$isSingleNested=!0,null!=a&&null!=a.path&&(this.$basePath=a.path);var u=null!=a&&a.priorDoc,c=null;if(u&&(this._doc=Object.assign({},a.priorDoc._doc),delete this._doc[this.schema.options.discriminatorKey],c=Object.keys(a.priorDoc._doc||{}).filter((function(e){return e!==s.schema.options.discriminatorKey}))),null!=n&&(a=Object.assign({},a,{isNew:n.isNew,defaults:n.$__.$options.defaults})),o.call(this,e,t,i,a),u){var l,f=r(c);try{for(f.s();!(l=f.n()).done;){var p=l.value;if(!this.$__.activePaths.states.modify[p]&&!this.$__.activePaths.states.default[p]&&!this.$__.$setCalled.has(p)){var h=this.schema.path(p),d=null==h?void 0:h.getDefault(this);void 0===d?delete this._doc[p]:(this._doc[p]=d,this.$__.activePaths.default(p))}}}catch(e){f.e(e)}finally{f.f()}delete a.priorDoc,delete this.$__.$options.priorDoc}}e.exports=l,l.prototype=Object.create(o.prototype),l.prototype.toBSON=function(){return this.toObject(s)},l.prototype.save=function(e,t){var n=this;return"function"==typeof e&&(t=e,e={}),(e=e||{}).suppressWarning||console.warn("mongoose: calling `save()` on a subdoc does **not** save the document to MongoDB, it only runs save middleware. Use `subdoc.save({ suppressWarning: true })` to hide this warning if you're sure this behavior is right for your app."),u(t,(function(e){n.$__save(e)}))},l.prototype.$__save=function(e){var t=this;return a((function(){return e(null,t)}))},l.prototype.$isValid=function(e){return this.$__parent&&this.$basePath?this.$__parent.$isValid([this.$basePath,e].join(".")):o.prototype.$isValid.call(this,e)},l.prototype.markModified=function(e){if(o.prototype.markModified.call(this,e),this.$__parent&&this.$basePath){if(this.$__parent.isDirectModified(this.$basePath))return;this.$__parent.markModified([this.$basePath,e].join("."),this)}},l.prototype.isModified=function(e,t){var n=this;return this.$__parent&&this.$basePath?Array.isArray(e)||"string"==typeof e?(e=(e=Array.isArray(e)?e:e.split(" ")).map((function(e){return[n.$basePath,e].join(".")})),this.$__parent.isModified(e,t)):this.$__parent.isModified(this.$basePath):o.prototype.isModified.call(this,e,t)},l.prototype.$markValid=function(e){o.prototype.$markValid.call(this,e),this.$__parent&&this.$basePath&&this.$__parent.$markValid([this.$basePath,e].join("."))},l.prototype.invalidate=function(e,t,n){if(t!==this.ownerDocument().$__.validationError&&o.prototype.invalidate.call(this,e,t,n),this.$__parent&&this.$basePath)this.$__parent.invalidate([this.$basePath,e].join("."),t,n);else if("cast"===t.kind||"CastError"===t.name)throw t;return this.ownerDocument().$__.validationError},l.prototype.$ignore=function(e){o.prototype.$ignore.call(this,e),this.$__parent&&this.$basePath&&this.$__parent.$ignore([this.$basePath,e].join("."))},l.prototype.ownerDocument=function(){if(this.$__.ownerDocument)return this.$__.ownerDocument;var e=this.$__parent;if(!e)return this;for(;e.$__parent||e[c];)e=e.$__parent||e[c];return this.$__.ownerDocument=e,this.$__.ownerDocument},l.prototype.parent=function(){return this.$__parent},l.prototype.$parent=l.prototype.parent,l.prototype.$__remove=function(e){return e(null,this)},l.prototype.remove=function(e,t){"function"==typeof e&&(t=e,e=null),function(e){var t=e.ownerDocument();function n(){t.removeListener("save",n),t.removeListener("remove",n),e.emit("remove",e),e.constructor.emit("remove",e),t=e=null}t.on("save",n),t.on("remove",n)}(this),e&&e.noop||this.$__parent.set(this.$basePath,null),"function"==typeof t&&t(null)},l.prototype.populate=function(){throw new Error('Mongoose does not support calling populate() on nested docs. Instead of `doc.nested.populate("path")`, use `doc.populate("nested.path")`')}},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(25),a=n(57).defineKey,s=n(3),u=n(2),c={toJSON:!0,toObject:!0,_id:!0,id:!0};e.exports=function(e,t,n,i,l){if(!n||!n.instanceOfSchema)throw new Error("You must pass a valid discriminator Schema");if(e.schema.discriminatorMapping&&!e.schema.discriminatorMapping.isRoot)throw new Error('Discriminator "'+t+'" can only be a discriminator of the root model');if(l){var f=s(e.base,"options.applyPluginsToDiscriminators",!1);e.base._applyPlugins(n,{skipTopLevel:!f})}var p=e.schema.options.discriminatorKey,h=e.schema.path(p);if(null!=h)u.hasUserDefinedProperty(h.options,"select")||(h.options.select=!0),h.options.$skipDiscriminatorCheck=!0;else{var d={};d[p]={default:void 0,select:!0,$skipDiscriminatorCheck:!0},d[p][e.schema.options.typeKey]=String,e.schema.add(d),a(p,null,e.prototype,null,[p],e.schema.options)}if(n.path(p)&&!0!==n.path(p).options.$skipDiscriminatorCheck)throw new Error('Discriminator "'+t+'" cannot have field with name "'+p+'"');var m=t;if("string"==typeof i&&i.length&&(m=i),function(t,n){t._baseSchema=n,n.paths._id&&n.paths._id.options&&!n.paths._id.options.auto&&t.remove("_id");for(var i=[],a=0,s=Object.keys(n.paths);a<s.length;a++){var l=s[a];if(t.nested[l])i.push(l);else if(-1!==l.indexOf(".")){var f,d="",v=r(l.split(".").slice(0,-1));try{for(v.s();!(f=v.n()).done;){var y=f.value;d+=(d.length?".":"")+y,(t.paths[d]instanceof o||t.singleNestedPaths[d]instanceof o)&&i.push(l)}}catch(e){v.e(e)}finally{v.f()}}}u.merge(t,n,{isDiscriminatorSchemaMerge:!0,omit:{discriminators:!0,base:!0},omitNested:i.reduce((function(e,t){return e["tree."+t]=!0,e}),{})});for(var g=0,b=i;g<b.length;g++){var _=b[g];delete t.paths[_]}t.childSchemas.forEach((function(e){e.model.prototype.$__setSchema(e.schema)}));var w={};w[p]={default:m,select:!0,set:function(e){if(e===m)return m;throw new Error("Can't set discriminator key \""+p+'"')},$skipDiscriminatorCheck:!0},w[p][t.options.typeKey]=h?h.instance:String,t.add(w),t.discriminatorMapping={key:p,value:m,isRoot:!1},n.options.collection&&(t.options.collection=n.options.collection);var x=t.options.toJSON,S=t.options.toObject,E=t.options._id,O=t.options.id,T=Object.keys(t.options);t.options.discriminatorKey=n.options.discriminatorKey;for(var M=0,P=T;M<P.length;M++){var A=P[M];if(!c[A]){if("pluralization"===A&&1==t.options[A]&&null==n.options[A])continue;if(!u.deepEqual(t.options[A],n.options[A]))throw new Error("Can't customize discriminator option "+A+" (can only modify "+Object.keys(c).join(", ")+")")}}t.options=u.clone(n.options),x&&(t.options.toJSON=x),S&&(t.options.toObject=S),void 0!==E&&(t.options._id=E),t.options.id=O,t.s.hooks=e.schema.s.hooks.merge(t.s.hooks),t.plugins=Array.prototype.slice.call(n.plugins),t.callQueue=n.callQueue.concat(t.callQueue),delete t._requiredpaths}(n,e.schema),e.discriminators||(e.discriminators={}),e.schema.discriminatorMapping||(e.schema.discriminatorMapping={key:p,value:null,isRoot:!0}),e.schema.discriminators||(e.schema.discriminators={}),e.schema.discriminators[t]=n,e.discriminators[t])throw new Error('Discriminator with name "'+t+'" already exists');return n}},function(e,t,n){"use strict";var r=n(74);e.exports=function(e,t){return null==t||null==t._id||(e=e.clone(),t._id?e.paths._id||(r(e),e.options._id=!0):(e.remove("_id"),e.options._id=!1)),e}},function(e,t,n){"use strict";var r=n(34);e.exports=function(e,t){var n=e.schema.options.discriminatorKey;if(null!=t&&e.discriminators&&null!=t[n])if(e.discriminators[t[n]])e=e.discriminators[t[n]];else{var i=r(e,t[n]);i&&(e=i)}return e}},function(e,t,n){"use strict";e.exports=n(94)},function(e,t,n){"use strict";(function(r){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(15).set(n(98));var u=n(61),c=n(67);u.setBrowser(!0),Object.defineProperty(t,"Promise",{get:function(){return c.get()},set:function(e){c.set(e)}}),t.PromiseProvider=c,t.Error=n(5),t.Schema=n(52),t.Types=n(56),t.VirtualType=n(53),t.SchemaType=n(7),t.utils=n(2),t.Document=u(),t.model=function(e,n){var r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(r);function r(e,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),t.call(this,e,n,i)}return r}(t.Document);return r.modelName=e,r},"undefined"!=typeof window&&(window.mongoose=e.exports,window.Buffer=r)}).call(this,n(1).Buffer)},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(l(e,a,a+16383>s?s:a+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,p=n?-1:1,h=e[t+f];for(f+=p,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=p,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=p,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,p=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,d=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?p/u:p*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=d,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=d,a/=256,c-=8);e[n+h-d]|=128*m}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";t.Binary=n(99),t.Collection=function(){throw new Error("Cannot create a collection from browser library")},t.Decimal128=n(106),t.ObjectId=n(107),t.ReadPreference=n(108)},function(e,t,n){"use strict";var r=n(35).Binary;e.exports=r},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return e&&"object"===n(e)&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(module,exports,__webpack_require__){"use strict";var Long=__webpack_require__(23).Long,Double=__webpack_require__(36).Double,Timestamp=__webpack_require__(37).Timestamp,ObjectID=__webpack_require__(38).ObjectID,_Symbol=__webpack_require__(40).Symbol,Code=__webpack_require__(41).Code,MinKey=__webpack_require__(43).MinKey,MaxKey=__webpack_require__(44).MaxKey,Decimal128=__webpack_require__(42),Int32=__webpack_require__(60),DBRef=__webpack_require__(45).DBRef,BSONRegExp=__webpack_require__(39).BSONRegExp,Binary=__webpack_require__(27).Binary,utils=__webpack_require__(16),deserialize=function(e,t,n){var r=(t=null==t?{}:t)&&t.index?t.index:0,i=e[r]|e[r+1]<<8|e[r+2]<<16|e[r+3]<<24;if(i<5||e.length<i||i+r>e.length)throw new Error("corrupt bson message");if(0!==e[r+i-1])throw new Error("One object, sized correctly, with a spot for an EOO, but the EOO isn't 0x00");return deserializeObject(e,r,t,n)},deserializeObject=function e(t,n,r,i){var o=null!=r.evalFunctions&&r.evalFunctions,a=null!=r.cacheFunctions&&r.cacheFunctions,s=null!=r.cacheFunctionsCrc32&&r.cacheFunctionsCrc32;if(!s)var u=null;var c=null==r.fieldsAsRaw?null:r.fieldsAsRaw,l=null!=r.raw&&r.raw,f="boolean"==typeof r.bsonRegExp&&r.bsonRegExp,p=null!=r.promoteBuffers&&r.promoteBuffers,h=null==r.promoteLongs||r.promoteLongs,d=null==r.promoteValues||r.promoteValues,m=n;if(t.length<5)throw new Error("corrupt bson message < 5 bytes long");var v=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;if(v<5||v>t.length)throw new Error("corrupt bson message");for(var y=i?[]:{},g=0;;){var b=t[n++];if(0===b)break;for(var _=n;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");var w=i?g++:t.toString("utf8",n,_);if(n=_+1,b===BSON.BSON_DATA_STRING){var x=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;if(x<=0||x>t.length-n||0!==t[n+x-1])throw new Error("bad string length in bson");y[w]=t.toString("utf8",n,n+x-1),n+=x}else if(b===BSON.BSON_DATA_OID){var S=utils.allocBuffer(12);t.copy(S,0,n,n+12),y[w]=new ObjectID(S),n+=12}else if(b===BSON.BSON_DATA_INT&&!1===d)y[w]=new Int32(t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24);else if(b===BSON.BSON_DATA_INT)y[w]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;else if(b===BSON.BSON_DATA_NUMBER&&!1===d)y[w]=new Double(t.readDoubleLE(n)),n+=8;else if(b===BSON.BSON_DATA_NUMBER)y[w]=t.readDoubleLE(n),n+=8;else if(b===BSON.BSON_DATA_DATE){var E=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24,O=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;y[w]=new Date(new Long(E,O).toNumber())}else if(b===BSON.BSON_DATA_BOOLEAN){if(0!==t[n]&&1!==t[n])throw new Error("illegal boolean type value");y[w]=1===t[n++]}else if(b===BSON.BSON_DATA_OBJECT){var T=n,M=t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24;if(M<=0||M>t.length-n)throw new Error("bad embedded document length in bson");y[w]=l?t.slice(n,n+M):e(t,T,r,!1),n+=M}else if(b===BSON.BSON_DATA_ARRAY){T=n;var P=r,A=n+(M=t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24);if(c&&c[w]){for(var C in P={},r)P[C]=r[C];P.raw=!0}if(y[w]=e(t,T,P,!0),0!==t[(n+=M)-1])throw new Error("invalid array terminator byte");if(n!==A)throw new Error("corrupted array bson")}else if(b===BSON.BSON_DATA_UNDEFINED)y[w]=void 0;else if(b===BSON.BSON_DATA_NULL)y[w]=null;else if(b===BSON.BSON_DATA_LONG){E=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24,O=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;var k=new Long(E,O);y[w]=h&&!0===d&&k.lessThanOrEqual(JS_INT_MAX_LONG)&&k.greaterThanOrEqual(JS_INT_MIN_LONG)?k.toNumber():k}else if(b===BSON.BSON_DATA_DECIMAL128){var j=utils.allocBuffer(16);t.copy(j,0,n,n+16),n+=16;var R=new Decimal128(j);y[w]=R.toObject?R.toObject():R}else if(b===BSON.BSON_DATA_BINARY){var D=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24,N=D,L=t[n++];if(D<0)throw new Error("Negative binary type element size found");if(D>t.length)throw new Error("Binary type size larger than document size");if(null!=t.slice){if(L===Binary.SUBTYPE_BYTE_ARRAY){if((D=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(D>N-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(D<N-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}y[w]=p&&d?t.slice(n,n+D):new Binary(t.slice(n,n+D),L)}else{var I="undefined"!=typeof Uint8Array?new Uint8Array(new ArrayBuffer(D)):new Array(D);if(L===Binary.SUBTYPE_BYTE_ARRAY){if((D=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24)<0)throw new Error("Negative binary type element size found for subtype 0x02");if(D>N-4)throw new Error("Binary type with subtype 0x02 contains to long binary size");if(D<N-4)throw new Error("Binary type with subtype 0x02 contains to short binary size")}for(_=0;_<D;_++)I[_]=t[n+_];y[w]=p&&d?I:new Binary(I,L)}n+=D}else if(b===BSON.BSON_DATA_REGEXP&&!1===f){for(_=n;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");var B=t.toString("utf8",n,_);for(_=n=_+1;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");var F=t.toString("utf8",n,_);n=_+1;var U=new Array(F.length);for(_=0;_<F.length;_++)switch(F[_]){case"m":U[_]="m";break;case"s":U[_]="g";break;case"i":U[_]="i"}y[w]=new RegExp(B,U.join(""))}else if(b===BSON.BSON_DATA_REGEXP&&!0===f){for(_=n;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");for(B=t.toString("utf8",n,_),_=n=_+1;0!==t[_]&&_<t.length;)_++;if(_>=t.length)throw new Error("Bad BSON Document: illegal CString");F=t.toString("utf8",n,_),n=_+1,y[w]=new BSONRegExp(B,F)}else if(b===BSON.BSON_DATA_SYMBOL){if((x=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24)<=0||x>t.length-n||0!==t[n+x-1])throw new Error("bad string length in bson");y[w]=new _Symbol(t.toString("utf8",n,n+x-1)),n+=x}else if(b===BSON.BSON_DATA_TIMESTAMP)E=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24,O=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24,y[w]=new Timestamp(E,O);else if(b===BSON.BSON_DATA_MIN_KEY)y[w]=new MinKey;else if(b===BSON.BSON_DATA_MAX_KEY)y[w]=new MaxKey;else if(b===BSON.BSON_DATA_CODE){if((x=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24)<=0||x>t.length-n||0!==t[n+x-1])throw new Error("bad string length in bson");var z=t.toString("utf8",n,n+x-1);if(o)if(a){var V=s?u(z):z;y[w]=isolateEvalWithHash(functionCache,V,z,y)}else y[w]=isolateEval(z);else y[w]=new Code(z);n+=x}else if(b===BSON.BSON_DATA_CODE_W_SCOPE){var H=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;if(H<13)throw new Error("code_w_scope total size shorter minimum expected length");if((x=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24)<=0||x>t.length-n||0!==t[n+x-1])throw new Error("bad string length in bson");z=t.toString("utf8",n,n+x-1),T=n+=x,M=t[n]|t[n+1]<<8|t[n+2]<<16|t[n+3]<<24;var $=e(t,T,r,!1);if(n+=M,H<8+M+x)throw new Error("code_w_scope total size is to short, truncating scope");if(H>8+M+x)throw new Error("code_w_scope total size is to long, clips outer document");o?(a?(V=s?u(z):z,y[w]=isolateEvalWithHash(functionCache,V,z,y)):y[w]=isolateEval(z),y[w].scope=$):y[w]=new Code(z,$)}else{if(b!==BSON.BSON_DATA_DBPOINTER)throw new Error("Detected unknown BSON type "+b.toString(16)+' for fieldname "'+w+'", are you using the latest BSON parser');if((x=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24)<=0||x>t.length-n||0!==t[n+x-1])throw new Error("bad string length in bson");var G=t.toString("utf8",n,n+x-1);n+=x;var W=utils.allocBuffer(12);t.copy(W,0,n,n+12),S=new ObjectID(W),n+=12;var q=G.split("."),Y=q.shift(),X=q.join(".");y[w]=new DBRef(X,S,Y)}}if(v!==n-m){if(i)throw new Error("corrupt array bson");throw new Error("corrupt object bson")}return null!=y.$id&&(y=new DBRef(y.$ref,y.$id,y.$db)),y},isolateEvalWithHash=function isolateEvalWithHash(functionCache,hash,functionString,object){var value=null;return null==functionCache[hash]&&(eval("value = "+functionString),functionCache[hash]=value),functionCache[hash].bind(object)},isolateEval=function isolateEval(functionString){var value=null;return eval("value = "+functionString),value},BSON={},functionCache=BSON.functionCache={};BSON.BSON_DATA_NUMBER=1,BSON.BSON_DATA_STRING=2,BSON.BSON_DATA_OBJECT=3,BSON.BSON_DATA_ARRAY=4,BSON.BSON_DATA_BINARY=5,BSON.BSON_DATA_UNDEFINED=6,BSON.BSON_DATA_OID=7,BSON.BSON_DATA_BOOLEAN=8,BSON.BSON_DATA_DATE=9,BSON.BSON_DATA_NULL=10,BSON.BSON_DATA_REGEXP=11,BSON.BSON_DATA_DBPOINTER=12,BSON.BSON_DATA_CODE=13,BSON.BSON_DATA_SYMBOL=14,BSON.BSON_DATA_CODE_W_SCOPE=15,BSON.BSON_DATA_INT=16,BSON.BSON_DATA_TIMESTAMP=17,BSON.BSON_DATA_LONG=18,BSON.BSON_DATA_DECIMAL128=19,BSON.BSON_DATA_MIN_KEY=255,BSON.BSON_DATA_MAX_KEY=127,BSON.BSON_BINARY_SUBTYPE_DEFAULT=0,BSON.BSON_BINARY_SUBTYPE_FUNCTION=1,BSON.BSON_BINARY_SUBTYPE_BYTE_ARRAY=2,BSON.BSON_BINARY_SUBTYPE_UUID=3,BSON.BSON_BINARY_SUBTYPE_MD5=4,BSON.BSON_BINARY_SUBTYPE_USER_DEFINED=128,BSON.BSON_INT32_MAX=2147483647,BSON.BSON_INT32_MIN=-2147483648,BSON.BSON_INT64_MAX=Math.pow(2,63)-1,BSON.BSON_INT64_MIN=-Math.pow(2,63),BSON.JS_INT_MAX=9007199254740992,BSON.JS_INT_MIN=-9007199254740992;var JS_INT_MAX_LONG=Long.fromNumber(9007199254740992),JS_INT_MIN_LONG=Long.fromNumber(-9007199254740992);module.exports=deserialize},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(104).writeIEEE754,o=n(23).Long,a=n(59),s=n(27).Binary,u=n(16).normalizedFunctionString,c=/\x00/,l=["$db","$ref","$id","$clusterTime"],f=function(e){return"object"===r(e)&&"[object Date]"===Object.prototype.toString.call(e)},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},h=function(e,t,n,r,i){e[r++]=D.BSON_DATA_STRING;var o=i?e.write(t,r,"ascii"):e.write(t,r,"utf8");e[(r=r+o+1)-1]=0;var a=e.write(n,r+4,"utf8");return e[r+3]=a+1>>24&255,e[r+2]=a+1>>16&255,e[r+1]=a+1>>8&255,e[r]=a+1&255,r=r+4+a,e[r++]=0,r},d=function(e,t,n,r,a){if(Math.floor(n)===n&&n>=D.JS_INT_MIN&&n<=D.JS_INT_MAX)if(n>=D.BSON_INT32_MIN&&n<=D.BSON_INT32_MAX){e[r++]=D.BSON_DATA_INT;var s=a?e.write(t,r,"ascii"):e.write(t,r,"utf8");r+=s,e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255}else if(n>=D.JS_INT_MIN&&n<=D.JS_INT_MAX)e[r++]=D.BSON_DATA_NUMBER,r+=s=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,i(e,n,r,"little",52,8),r+=8;else{e[r++]=D.BSON_DATA_LONG,r+=s=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var u=o.fromNumber(n),c=u.getLowBits(),l=u.getHighBits();e[r++]=255&c,e[r++]=c>>8&255,e[r++]=c>>16&255,e[r++]=c>>24&255,e[r++]=255&l,e[r++]=l>>8&255,e[r++]=l>>16&255,e[r++]=l>>24&255}else e[r++]=D.BSON_DATA_NUMBER,r+=s=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,i(e,n,r,"little",52,8),r+=8;return r},m=function(e,t,n,r,i){return e[r++]=D.BSON_DATA_NULL,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r},v=function(e,t,n,r,i){return e[r++]=D.BSON_DATA_BOOLEAN,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=n?1:0,r},y=function(e,t,n,r,i){e[r++]=D.BSON_DATA_DATE,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var a=o.fromNumber(n.getTime()),s=a.getLowBits(),u=a.getHighBits();return e[r++]=255&s,e[r++]=s>>8&255,e[r++]=s>>16&255,e[r++]=s>>24&255,e[r++]=255&u,e[r++]=u>>8&255,e[r++]=u>>16&255,e[r++]=u>>24&255,r},g=function(e,t,n,r,i){if(e[r++]=D.BSON_DATA_REGEXP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.source&&null!=n.source.match(c))throw Error("value "+n.source+" must not contain null bytes");return r+=e.write(n.source,r,"utf8"),e[r++]=0,n.global&&(e[r++]=115),n.ignoreCase&&(e[r++]=105),n.multiline&&(e[r++]=109),e[r++]=0,r},b=function(e,t,n,r,i){if(e[r++]=D.BSON_DATA_REGEXP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,null!=n.pattern.match(c))throw Error("pattern "+n.pattern+" must not contain null bytes");return r+=e.write(n.pattern,r,"utf8"),e[r++]=0,r+=e.write(n.options.split("").sort().join(""),r,"utf8"),e[r++]=0,r},_=function(e,t,n,r,i){return null===n?e[r++]=D.BSON_DATA_NULL:"MinKey"===n._bsontype?e[r++]=D.BSON_DATA_MIN_KEY:e[r++]=D.BSON_DATA_MAX_KEY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,r},w=function(e,t,n,r,i){if(e[r++]=D.BSON_DATA_OID,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,"string"==typeof n.id)e.write(n.id,r,"binary");else{if(!n.id||!n.id.copy)throw new Error("object ["+JSON.stringify(n)+"] is not a valid ObjectId");n.id.copy(e,r,0,12)}return r+12},x=function(e,t,n,r,i){e[r++]=D.BSON_DATA_BINARY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.length;return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=D.BSON_BINARY_SUBTYPE_DEFAULT,n.copy(e,r,0,o),r+o},S=function(e,t,n,r,i,o,a,s,u,c){for(var l=0;l<c.length;l++)if(c[l]===n)throw new Error("cyclic dependency detected");c.push(n),e[r++]=Array.isArray(n)?D.BSON_DATA_ARRAY:D.BSON_DATA_OBJECT,r+=u?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var f=R(e,n,i,r,o+1,a,s,c);return c.pop(),f},E=function(e,t,n,r,i){return e[r++]=D.BSON_DATA_DECIMAL128,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,n.bytes.copy(e,r,0,16),r+16},O=function(e,t,n,r,i){e[r++]="Long"===n._bsontype?D.BSON_DATA_LONG:D.BSON_DATA_TIMESTAMP,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.getLowBits(),a=n.getHighBits();return e[r++]=255&o,e[r++]=o>>8&255,e[r++]=o>>16&255,e[r++]=o>>24&255,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,r},T=function(e,t,n,r,i){return e[r++]=D.BSON_DATA_INT,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,e[r++]=255&n,e[r++]=n>>8&255,e[r++]=n>>16&255,e[r++]=n>>24&255,r},M=function(e,t,n,r,o){return e[r++]=D.BSON_DATA_NUMBER,r+=o?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0,i(e,n,r,"little",52,8),r+8},P=function(e,t,n,r,i,o,a){e[r++]=D.BSON_DATA_CODE,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s=u(n),c=e.write(s,r+4,"utf8")+1;return e[r]=255&c,e[r+1]=c>>8&255,e[r+2]=c>>16&255,e[r+3]=c>>24&255,r=r+4+c-1,e[r++]=0,r},A=function(e,t,n,i,o,a,s,u,c){if(n.scope&&"object"===r(n.scope)){e[i++]=D.BSON_DATA_CODE_W_SCOPE;var l=c?e.write(t,i,"ascii"):e.write(t,i,"utf8");i+=l,e[i++]=0;var f=i,p="string"==typeof n.code?n.code:n.code.toString();i+=4;var h=e.write(p,i+4,"utf8")+1;e[i]=255&h,e[i+1]=h>>8&255,e[i+2]=h>>16&255,e[i+3]=h>>24&255,e[i+4+h-1]=0,i=i+h+4;var d=R(e,n.scope,o,i,a+1,s,u);i=d-1;var m=d-f;e[f++]=255&m,e[f++]=m>>8&255,e[f++]=m>>16&255,e[f++]=m>>24&255,e[i++]=0}else{e[i++]=D.BSON_DATA_CODE,i+=l=c?e.write(t,i,"ascii"):e.write(t,i,"utf8"),e[i++]=0,p=n.code.toString();var v=e.write(p,i+4,"utf8")+1;e[i]=255&v,e[i+1]=v>>8&255,e[i+2]=v>>16&255,e[i+3]=v>>24&255,i=i+4+v-1,e[i++]=0}return i},C=function(e,t,n,r,i){e[r++]=D.BSON_DATA_BINARY,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=n.value(!0),a=n.position;return n.sub_type===s.SUBTYPE_BYTE_ARRAY&&(a+=4),e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255,e[r++]=n.sub_type,n.sub_type===s.SUBTYPE_BYTE_ARRAY&&(a-=4,e[r++]=255&a,e[r++]=a>>8&255,e[r++]=a>>16&255,e[r++]=a>>24&255),o.copy(e,r,0,n.position),r+n.position},k=function(e,t,n,r,i){e[r++]=D.BSON_DATA_SYMBOL,r+=i?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var o=e.write(n.value,r+4,"utf8")+1;return e[r]=255&o,e[r+1]=o>>8&255,e[r+2]=o>>16&255,e[r+3]=o>>24&255,r=r+4+o-1,e[r++]=0,r},j=function(e,t,n,r,i,o,a){e[r++]=D.BSON_DATA_OBJECT,r+=a?e.write(t,r,"ascii"):e.write(t,r,"utf8"),e[r++]=0;var s,u=r,c=(s=null!=n.db?R(e,{$ref:n.namespace,$id:n.oid,$db:n.db},!1,r,i+1,o):R(e,{$ref:n.namespace,$id:n.oid},!1,r,i+1,o))-u;return e[u++]=255&c,e[u++]=c>>8&255,e[u++]=c>>16&255,e[u++]=c>>24&255,s},R=function(e,n,i,o,s,u,R,D){o=o||0,(D=D||[]).push(n);var N=o+4;if(Array.isArray(n))for(var L=0;L<n.length;L++){var I=""+L,B=n[L];if(B&&B.toBSON){if("function"!=typeof B.toBSON)throw new Error("toBSON is not a function");B=B.toBSON()}var F=r(B);if("string"===F)N=h(e,I,B,N,!0);else if("number"===F)N=d(e,I,B,N,!0);else if("boolean"===F)N=v(e,I,B,N,!0);else if(B instanceof Date||f(B))N=y(e,I,B,N,!0);else if(void 0===B)N=m(e,I,0,N,!0);else if(null===B)N=m(e,I,0,N,!0);else if("ObjectID"===B._bsontype||"ObjectId"===B._bsontype)N=w(e,I,B,N,!0);else if(t.isBuffer(B))N=x(e,I,B,N,!0);else if(B instanceof RegExp||p(B))N=g(e,I,B,N,!0);else if("object"===F&&null==B._bsontype)N=S(e,I,B,N,i,s,u,R,!0,D);else if("object"===F&&"Decimal128"===B._bsontype)N=E(e,I,B,N,!0);else if("Long"===B._bsontype||"Timestamp"===B._bsontype)N=O(e,I,B,N,!0);else if("Double"===B._bsontype)N=M(e,I,B,N,!0);else if("function"==typeof B&&u)N=P(e,I,B,N,0,0,u);else if("Code"===B._bsontype)N=A(e,I,B,N,i,s,u,R,!0);else if("Binary"===B._bsontype)N=C(e,I,B,N,!0);else if("Symbol"===B._bsontype)N=k(e,I,B,N,!0);else if("DBRef"===B._bsontype)N=j(e,I,B,N,s,u,!0);else if("BSONRegExp"===B._bsontype)N=b(e,I,B,N,!0);else if("Int32"===B._bsontype)N=T(e,I,B,N,!0);else if("MinKey"===B._bsontype||"MaxKey"===B._bsontype)N=_(e,I,B,N,!0);else if(void 0!==B._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+B._bsontype)}else if(n instanceof a)for(var U=n.entries(),z=!1;!z;){var V=U.next();if(!(z=V.done)){if(I=V.value[0],F=r(B=V.value[1]),"string"==typeof I&&-1===l.indexOf(I)){if(null!=I.match(c))throw Error("key "+I+" must not contain null bytes");if(i){if("$"===I[0])throw Error("key "+I+" must not start with '$'");if(~I.indexOf("."))throw Error("key "+I+" must not contain '.'")}}if("string"===F)N=h(e,I,B,N);else if("number"===F)N=d(e,I,B,N);else if("boolean"===F)N=v(e,I,B,N);else if(B instanceof Date||f(B))N=y(e,I,B,N);else if(null===B||void 0===B&&!1===R)N=m(e,I,0,N);else if("ObjectID"===B._bsontype||"ObjectId"===B._bsontype)N=w(e,I,B,N);else if(t.isBuffer(B))N=x(e,I,B,N);else if(B instanceof RegExp||p(B))N=g(e,I,B,N);else if("object"===F&&null==B._bsontype)N=S(e,I,B,N,i,s,u,R,!1,D);else if("object"===F&&"Decimal128"===B._bsontype)N=E(e,I,B,N);else if("Long"===B._bsontype||"Timestamp"===B._bsontype)N=O(e,I,B,N);else if("Double"===B._bsontype)N=M(e,I,B,N);else if("Code"===B._bsontype)N=A(e,I,B,N,i,s,u,R);else if("function"==typeof B&&u)N=P(e,I,B,N,0,0,u);else if("Binary"===B._bsontype)N=C(e,I,B,N);else if("Symbol"===B._bsontype)N=k(e,I,B,N);else if("DBRef"===B._bsontype)N=j(e,I,B,N,s,u);else if("BSONRegExp"===B._bsontype)N=b(e,I,B,N);else if("Int32"===B._bsontype)N=T(e,I,B,N);else if("MinKey"===B._bsontype||"MaxKey"===B._bsontype)N=_(e,I,B,N);else if(void 0!==B._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+B._bsontype)}}else{if(n.toBSON){if("function"!=typeof n.toBSON)throw new Error("toBSON is not a function");if(null!=(n=n.toBSON())&&"object"!==r(n))throw new Error("toBSON function did not return an object")}for(I in n){if((B=n[I])&&B.toBSON){if("function"!=typeof B.toBSON)throw new Error("toBSON is not a function");B=B.toBSON()}if(F=r(B),"string"==typeof I&&-1===l.indexOf(I)){if(null!=I.match(c))throw Error("key "+I+" must not contain null bytes");if(i){if("$"===I[0])throw Error("key "+I+" must not start with '$'");if(~I.indexOf("."))throw Error("key "+I+" must not contain '.'")}}if("string"===F)N=h(e,I,B,N);else if("number"===F)N=d(e,I,B,N);else if("boolean"===F)N=v(e,I,B,N);else if(B instanceof Date||f(B))N=y(e,I,B,N);else if(void 0===B)!1===R&&(N=m(e,I,0,N));else if(null===B)N=m(e,I,0,N);else if("ObjectID"===B._bsontype||"ObjectId"===B._bsontype)N=w(e,I,B,N);else if(t.isBuffer(B))N=x(e,I,B,N);else if(B instanceof RegExp||p(B))N=g(e,I,B,N);else if("object"===F&&null==B._bsontype)N=S(e,I,B,N,i,s,u,R,!1,D);else if("object"===F&&"Decimal128"===B._bsontype)N=E(e,I,B,N);else if("Long"===B._bsontype||"Timestamp"===B._bsontype)N=O(e,I,B,N);else if("Double"===B._bsontype)N=M(e,I,B,N);else if("Code"===B._bsontype)N=A(e,I,B,N,i,s,u,R);else if("function"==typeof B&&u)N=P(e,I,B,N,0,0,u);else if("Binary"===B._bsontype)N=C(e,I,B,N);else if("Symbol"===B._bsontype)N=k(e,I,B,N);else if("DBRef"===B._bsontype)N=j(e,I,B,N,s,u);else if("BSONRegExp"===B._bsontype)N=b(e,I,B,N);else if("Int32"===B._bsontype)N=T(e,I,B,N);else if("MinKey"===B._bsontype||"MaxKey"===B._bsontype)N=_(e,I,B,N);else if(void 0!==B._bsontype)throw new TypeError("Unrecognized or invalid _bsontype: "+B._bsontype)}}D.pop(),e[N++]=0;var H=N-o;return e[o++]=255&H,e[o++]=H>>8&255,e[o++]=H>>16&255,e[o++]=H>>24&255,N},D={BSON_DATA_NUMBER:1,BSON_DATA_STRING:2,BSON_DATA_OBJECT:3,BSON_DATA_ARRAY:4,BSON_DATA_BINARY:5,BSON_DATA_UNDEFINED:6,BSON_DATA_OID:7,BSON_DATA_BOOLEAN:8,BSON_DATA_DATE:9,BSON_DATA_NULL:10,BSON_DATA_REGEXP:11,BSON_DATA_CODE:13,BSON_DATA_SYMBOL:14,BSON_DATA_CODE_W_SCOPE:15,BSON_DATA_INT:16,BSON_DATA_TIMESTAMP:17,BSON_DATA_LONG:18,BSON_DATA_DECIMAL128:19,BSON_DATA_MIN_KEY:255,BSON_DATA_MAX_KEY:127,BSON_BINARY_SUBTYPE_DEFAULT:0,BSON_BINARY_SUBTYPE_FUNCTION:1,BSON_BINARY_SUBTYPE_BYTE_ARRAY:2,BSON_BINARY_SUBTYPE_UUID:3,BSON_BINARY_SUBTYPE_MD5:4,BSON_BINARY_SUBTYPE_USER_DEFINED:128,BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648};D.BSON_INT64_MAX=Math.pow(2,63)-1,D.BSON_INT64_MIN=-Math.pow(2,63),D.JS_INT_MAX=9007199254740992,D.JS_INT_MIN=-9007199254740992,e.exports=R}).call(this,n(1).Buffer)},function(e,t){t.readIEEE754=function(e,t,n,r,i){var o,a,s="big"===n,u=8*i-r-1,c=(1<<u)-1,l=c>>1,f=-7,p=s?0:i-1,h=s?1:-1,d=e[t+p];for(p+=h,o=d&(1<<-f)-1,d>>=-f,f+=u;f>0;o=256*o+e[t+p],p+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+e[t+p],p+=h,f-=8);if(0===o)o=1-l;else{if(o===c)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=l}return(d?-1:1)*a*Math.pow(2,o-r)},t.writeIEEE754=function(e,t,n,r,i,o){var a,s,u,c="big"===r,l=8*o-i-1,f=(1<<l)-1,p=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=c?o-1:0,m=c?-1:1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?h/u:h*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=f?(s=0,a=f):a+p>=1?(s=(t*u-1)*Math.pow(2,i),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;e[n+d]=255&s,d+=m,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+d]=255&a,d+=m,a/=256,l-=8);e[n+d-m]|=128*v}},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(23).Long,o=n(36).Double,a=n(37).Timestamp,s=n(38).ObjectID,u=n(40).Symbol,c=n(39).BSONRegExp,l=n(41).Code,f=n(42),p=n(43).MinKey,h=n(44).MaxKey,d=n(45).DBRef,m=n(27).Binary,v=n(16).normalizedFunctionString,y=function(e,t,n){var r=5;if(Array.isArray(e))for(var i=0;i<e.length;i++)r+=g(i.toString(),e[i],t,!0,n);else for(var o in e.toBSON&&(e=e.toBSON()),e)r+=g(o,e[o],t,!1,n);return r};function g(e,n,g,_,w){switch(n&&n.toBSON&&(n=n.toBSON()),r(n)){case"string":return 1+t.byteLength(e,"utf8")+1+4+t.byteLength(n,"utf8")+1;case"number":return Math.floor(n)===n&&n>=b.JS_INT_MIN&&n<=b.JS_INT_MAX&&n>=b.BSON_INT32_MIN&&n<=b.BSON_INT32_MAX?(null!=e?t.byteLength(e,"utf8")+1:0)+5:(null!=e?t.byteLength(e,"utf8")+1:0)+9;case"undefined":return _||!w?(null!=e?t.byteLength(e,"utf8")+1:0)+1:0;case"boolean":return(null!=e?t.byteLength(e,"utf8")+1:0)+2;case"object":if(null==n||n instanceof p||n instanceof h||"MinKey"===n._bsontype||"MaxKey"===n._bsontype)return(null!=e?t.byteLength(e,"utf8")+1:0)+1;if(n instanceof s||"ObjectID"===n._bsontype||"ObjectId"===n._bsontype)return(null!=e?t.byteLength(e,"utf8")+1:0)+13;if(n instanceof Date||"object"===r(S=n)&&"[object Date]"===Object.prototype.toString.call(S))return(null!=e?t.byteLength(e,"utf8")+1:0)+9;if(void 0!==t&&t.isBuffer(n))return(null!=e?t.byteLength(e,"utf8")+1:0)+6+n.length;if(n instanceof i||n instanceof o||n instanceof a||"Long"===n._bsontype||"Double"===n._bsontype||"Timestamp"===n._bsontype)return(null!=e?t.byteLength(e,"utf8")+1:0)+9;if(n instanceof f||"Decimal128"===n._bsontype)return(null!=e?t.byteLength(e,"utf8")+1:0)+17;if(n instanceof l||"Code"===n._bsontype)return null!=n.scope&&Object.keys(n.scope).length>0?(null!=e?t.byteLength(e,"utf8")+1:0)+1+4+4+t.byteLength(n.code.toString(),"utf8")+1+y(n.scope,g,w):(null!=e?t.byteLength(e,"utf8")+1:0)+1+4+t.byteLength(n.code.toString(),"utf8")+1;if(n instanceof m||"Binary"===n._bsontype)return n.sub_type===m.SUBTYPE_BYTE_ARRAY?(null!=e?t.byteLength(e,"utf8")+1:0)+(n.position+1+4+1+4):(null!=e?t.byteLength(e,"utf8")+1:0)+(n.position+1+4+1);if(n instanceof u||"Symbol"===n._bsontype)return(null!=e?t.byteLength(e,"utf8")+1:0)+t.byteLength(n.value,"utf8")+4+1+1;if(n instanceof d||"DBRef"===n._bsontype){var x={$ref:n.namespace,$id:n.oid};return null!=n.db&&(x.$db=n.db),(null!=e?t.byteLength(e,"utf8")+1:0)+1+y(x,g,w)}return n instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(n)?(null!=e?t.byteLength(e,"utf8")+1:0)+1+t.byteLength(n.source,"utf8")+1+(n.global?1:0)+(n.ignoreCase?1:0)+(n.multiline?1:0)+1:n instanceof c||"BSONRegExp"===n._bsontype?(null!=e?t.byteLength(e,"utf8")+1:0)+1+t.byteLength(n.pattern,"utf8")+1+t.byteLength(n.options,"utf8")+1:(null!=e?t.byteLength(e,"utf8")+1:0)+y(n,g,w)+1;case"function":if(n instanceof RegExp||"[object RegExp]"===Object.prototype.toString.call(n)||"[object RegExp]"===String.call(n))return(null!=e?t.byteLength(e,"utf8")+1:0)+1+t.byteLength(n.source,"utf8")+1+(n.global?1:0)+(n.ignoreCase?1:0)+(n.multiline?1:0)+1;if(g&&null!=n.scope&&Object.keys(n.scope).length>0)return(null!=e?t.byteLength(e,"utf8")+1:0)+1+4+4+t.byteLength(v(n),"utf8")+1+y(n.scope,g,w);if(g)return(null!=e?t.byteLength(e,"utf8")+1:0)+1+4+t.byteLength(v(n),"utf8")+1}var S;return 0}var b={BSON_INT32_MAX:2147483647,BSON_INT32_MIN:-2147483648,JS_INT_MAX:9007199254740992,JS_INT_MIN:-9007199254740992};e.exports=y}).call(this,n(1).Buffer)},function(e,t,n){"use strict";e.exports=n(35).Decimal128},function(e,t,n){"use strict";var r=n(35).ObjectID;Object.defineProperty(r.prototype,"_id",{enumerable:!1,configurable:!0,get:function(){return this}}),e.exports=r},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(110).ctor("require","modify","init","default","ignore");e.exports=function(){this.strictMode=void 0,this.selected=void 0,this.shardval=void 0,this.saveError=void 0,this.validationError=void 0,this.adhocPaths=void 0,this.removing=void 0,this.inserting=void 0,this.saving=void 0,this.version=void 0,this.getters={},this._id=void 0,this.populate=void 0,this.populated=void 0,this.wasPopulated=!1,this.scope=void 0,this.activePaths=new r,this.pathsToScopes={},this.cachedRequired={},this.session=null,this.$setCalled=new Set,this.ownerDocument=void 0,this.fullPath=void 0}},function(e,t,n){"use strict";var r=n(2),i=e.exports=function(){};i.ctor=function(){var e=r.args(arguments),t=function(){i.apply(this,arguments),this.paths={},this.states={},this.stateNames=e;for(var t,n=e.length;n--;)t=e[n],this.states[t]={}};return t.prototype=new i,e.forEach((function(e){t.prototype[e]=function(t){this._changeState(t,e)}})),t},i.prototype._changeState=function(e,t){var n=this.states[this.paths[e]];n&&delete n[e],this.paths[e]=t,this.states[t][e]=!0},i.prototype.clear=function(e){for(var t,n=Object.keys(this.states[e]),r=n.length;r--;)t=n[r],delete this.states[e][t],delete this.paths[t]},i.prototype.some=function(){var e=this,t=arguments.length?arguments:this.stateNames;return Array.prototype.some.call(t,(function(t){return Object.keys(e.states[t]).length}))},i.prototype._iter=function(e){return function(){var t=arguments.length,n=r.args(arguments,0,t-1),i=arguments[t-1];n.length||(n=this.stateNames);var o=this,a=n.reduce((function(e,t){return e.concat(Object.keys(o.states[t]))}),[]);return a[e]((function(e,t,n){return i(e,t,n)}))}},i.prototype.forEach=function(){return this.forEach=this._iter("forEach"),this.forEach.apply(this,arguments)},i.prototype.map=function(){return this.map=this._iter("map"),this.map.apply(this,arguments)}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=1e3,i=6e4,o=60*i,a=24*o;function s(e,t,n,r){var i=t>=1.5*n;return Math.round(e/n)+" "+r+(i?"s":"")}e.exports=function(e,t){t=t||{};var u=n(e);if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"weeks":case"week":case"w":return 6048e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===u&&isFinite(e))return t.long?function(e){var t=Math.abs(e);return t>=a?s(e,t,a,"day"):t>=o?s(e,t,o,"hour"):t>=i?s(e,t,i,"minute"):t>=r?s(e,t,r,"second"):e+" ms"}(e):function(e){var t=Math.abs(e);return t>=a?Math.round(e/a)+"d":t>=o?Math.round(e/o)+"h":t>=i?Math.round(e/i)+"m":t>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(113),o=["__proto__","constructor","prototype"];function a(e){return e}t.get=function(e,n,r,o){var s;"function"==typeof r&&(r.length<2?(o=r,r=void 0):(s=r,r=void 0)),o||(o=a);var u="string"==typeof e?i(e):e;if(!Array.isArray(u))throw new TypeError("Invalid `path`. Must be either string or array");for(var c,l=n,f=0;f<u.length;++f){if(c=u[f],Array.isArray(l)&&!/^\d+$/.test(c)){var p=u.slice(f);return[].concat(l).map((function(e){return e?t.get(p,e,r||s,o):o(void 0)}))}if(s)l=s(l,c);else{var h=r&&l[r]?l[r]:l;l=h instanceof Map?h.get(c):h[c]}if(!l)return o(l)}return o(l)},t.has=function(e,t){var n="string"==typeof e?i(e):e;if(!Array.isArray(n))throw new TypeError("Invalid `path`. Must be either string or array");for(var o=n.length,a=t,s=0;s<o;++s){if(null==a||"object"!==r(a)||!(n[s]in a))return!1;a=a[n[s]]}return!0},t.unset=function(e,t){var n="string"==typeof e?i(e):e;if(!Array.isArray(n))throw new TypeError("Invalid `path`. Must be either string or array");for(var a=n.length,s=t,u=0;u<a;++u){if(null==s||"object"!==r(s)||!(n[u]in s))return!1;if(-1!==o.indexOf(n[u]))return!1;if(u===a-1)return delete s[n[u]],!0;s=s instanceof Map?s.get(n[u]):s[n[u]]}return!0},t.set=function(e,n,r,s,u,c){var l;"function"==typeof s&&(s.length<2?(u=s,s=void 0):(l=s,s=void 0)),u||(u=a);var f="string"==typeof e?i(e):e;if(!Array.isArray(f))throw new TypeError("Invalid `path`. Must be either string or array");if(null!=r){for(var p=0;p<f.length;++p)if(-1!==o.indexOf(f[p]))return;for(var h,d=c||/\$/.test(e)&&!1!==c,m=r,v=(p=0,f.length-1);p<v;++p)if("$"!=(h=f[p])){if(Array.isArray(m)&&!/^\d+$/.test(h)){var y=f.slice(p);if(!d&&Array.isArray(n))for(var g=0;g<m.length&&g<n.length;++g)t.set(y,n[g],m[g],s||l,u,d);else for(g=0;g<m.length;++g)t.set(y,n,m[g],s||l,u,d);return}if(l)m=l(m,h);else{var b=s&&m[s]?m[s]:m;m=b instanceof Map?b.get(h):b[h]}if(!m)return}else if(p==v-1)break;if(h=f[v],s&&m[s]&&(m=m[s]),Array.isArray(m)&&!/^\d+$/.test(h))if(!d&&Array.isArray(n))!function e(t,n,r,i,o,a){for(var s,u=0;u<t.length&&u<n.length;++u)s=t[u],Array.isArray(s)&&Array.isArray(n[u])?e(s,n[u],r,i,o,a):s&&(i?i(s,r,a(n[u])):(s[o]&&(s=s[o]),s[r]=a(n[u])))}(m,n,h,l,s,u);else for(g=0;g<m.length;++g){var _=m[g];_&&(l?l(_,h,u(n)):(_[s]&&(_=_[s]),_[h]=u(n)))}else l?l(m,h,u(n)):m instanceof Map?m.set(h,u(n)):m[h]=u(n)}}},function(e,t,n){"use strict";e.exports=function(e){for(var t=[],n="",r="DEFAULT",i=0;i<e.length;++i)"IN_SQUARE_BRACKETS"!==r||/\d/.test(e[i])||"]"===e[i]||(r="DEFAULT",n=t[t.length-1]+"["+n,t.splice(t.length-1,1)),"["===e[i]?("IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==r&&(t.push(n),n=""),r="IN_SQUARE_BRACKETS"):"]"===e[i]?"IN_SQUARE_BRACKETS"===r?(r="IMMEDIATELY_AFTER_SQUARE_BRACKETS",t.push(n),n=""):(r="DEFAULT",n+=e[i]):"."===e[i]?("IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==r&&(t.push(n),n=""),r="DEFAULT"):n+=e[i];return"IMMEDIATELY_AFTER_SQUARE_BRACKETS"!==r&&t.push(n),t}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(28);e.exports=function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._docs={},this._childDocs=[],null!=t&&(t=i(t),Object.assign(this,t),"object"===r(t.subPopulate)&&(this.populate=t.subPopulate),null!=t.perDocumentLimit&&null!=t.limit))throw new Error("Can not use `limit` and `perDocumentLimit` at the same time. Path: `"+t.path+"`.")}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,s,u=a(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var f=0;f<s.length;f++)o.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(62),o=n(22),a=n(4),s=n(68),u=n(119)("mquery");function c(e,t){if(!(this instanceof c))return new c(e,t);var n=this.constructor.prototype;this.op=n.op||void 0,this.options=Object.assign({},n.options),this._conditions=n._conditions?s.clone(n._conditions):{},this._fields=n._fields?s.clone(n._fields):void 0,this._update=n._update?s.clone(n._update):void 0,this._path=n._path||void 0,this._distinct=n._distinct||void 0,this._collection=n._collection||void 0,this._traceFunction=n._traceFunction||void 0,t&&this.setOptions(t),e&&(e.find&&e.remove&&e.update?this.collection(e):this.find(e))}var l="$geoWithin";Object.defineProperty(c,"use$geoWithin",{get:function(){return"$geoWithin"==l},set:function(e){l=!0===e?"$geoWithin":"$within"}}),c.prototype.toConstructor=function(){function e(t,n){if(!(this instanceof e))return new e(t,n);c.call(this,t,n)}s.inherits(e,c);var t=e.prototype;return t.options={},t.setOptions(this.options),t.op=this.op,t._conditions=s.clone(this._conditions),t._fields=s.clone(this._fields),t._update=s.clone(this._update),t._path=this._path,t._distinct=this._distinct,t._collection=this._collection,t._traceFunction=this._traceFunction,e},c.prototype.setOptions=function(e){if(!e||!s.isObject(e))return this;for(var t,n=s.keys(e),r=0;r<n.length;++r)if("function"==typeof this[t=n[r]]){var i=s.isArray(e[t])?e[t]:[e[t]];this[t].apply(this,i)}else this.options[t]=e[t];return this},c.prototype.collection=function(e){return this._collection=new c.Collection(e),this},c.prototype.collation=function(e){return this.options.collation=e,this},c.prototype.$where=function(e){return this._conditions.$where=e,this},c.prototype.where=function(){if(!arguments.length)return this;this.op||(this.op="find");var e=r(arguments[0]);if("string"==e)return this._path=arguments[0],2===arguments.length&&(this._conditions[this._path]=arguments[1]),this;if("object"==e&&!Array.isArray(arguments[0]))return this.merge(arguments[0]);throw new TypeError("path must be a string or object")},c.prototype.equals=function(e){this._ensurePath("equals");var t=this._path;return this._conditions[t]=e,this},c.prototype.eq=function(e){this._ensurePath("eq");var t=this._path;return this._conditions[t]=e,this},c.prototype.or=function(e){var t=this._conditions.$or||(this._conditions.$or=[]);return s.isArray(e)||(e=[e]),t.push.apply(t,e),this},c.prototype.nor=function(e){var t=this._conditions.$nor||(this._conditions.$nor=[]);return s.isArray(e)||(e=[e]),t.push.apply(t,e),this},c.prototype.and=function(e){var t=this._conditions.$and||(this._conditions.$and=[]);return Array.isArray(e)||(e=[e]),t.push.apply(t,e),this},"gt gte lt lte ne in nin all regex size maxDistance minDistance".split(" ").forEach((function(e){c.prototype[e]=function(){var t,n;1===arguments.length?(this._ensurePath(e),n=arguments[0],t=this._path):(n=arguments[1],t=arguments[0]);var i=null===this._conditions[t]||"object"===r(this._conditions[t])?this._conditions[t]:this._conditions[t]={};return i["$"+e]=n,this}})),c.prototype.mod=function(){var e,t;1===arguments.length?(this._ensurePath("mod"),e=arguments[0],t=this._path):2!==arguments.length||s.isArray(arguments[1])?3===arguments.length?(e=i(arguments,1),t=arguments[0]):(e=arguments[1],t=arguments[0]):(this._ensurePath("mod"),e=i(arguments),t=this._path);var n=this._conditions[t]||(this._conditions[t]={});return n.$mod=e,this},c.prototype.exists=function(){var e,t;0===arguments.length?(this._ensurePath("exists"),e=this._path,t=!0):1===arguments.length?"boolean"==typeof arguments[0]?(this._ensurePath("exists"),e=this._path,t=arguments[0]):(e=arguments[0],t=!0):2===arguments.length&&(e=arguments[0],t=arguments[1]);var n=this._conditions[e]||(this._conditions[e]={});return n.$exists=t,this},c.prototype.elemMatch=function(){if(null==arguments[0])throw new TypeError("Invalid argument");var e,t,n;if("function"==typeof arguments[0])this._ensurePath("elemMatch"),t=this._path,e=arguments[0];else if(s.isObject(arguments[0]))this._ensurePath("elemMatch"),t=this._path,n=arguments[0];else if("function"==typeof arguments[1])t=arguments[0],e=arguments[1];else{if(!arguments[1]||!s.isObject(arguments[1]))throw new TypeError("Invalid argument");t=arguments[0],n=arguments[1]}e&&(e(n=new c),n=n._conditions);var r=this._conditions[t]||(this._conditions[t]={});return r.$elemMatch=n,this},c.prototype.within=function(){if(this._ensurePath("within"),this._geoComparison=l,0===arguments.length)return this;if(2===arguments.length)return this.box.apply(this,arguments);if(2<arguments.length)return this.polygon.apply(this,arguments);var e=arguments[0];if(!e)throw new TypeError("Invalid argument");if(e.center)return this.circle(e);if(e.box)return this.box.apply(this,e.box);if(e.polygon)return this.polygon.apply(this,e.polygon);if(e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")},c.prototype.box=function(){var e,t;if(3===arguments.length)e=arguments[0],t=[arguments[1],arguments[2]];else{if(2!==arguments.length)throw new TypeError("Invalid argument");this._ensurePath("box"),e=this._path,t=[arguments[0],arguments[1]]}var n=this._conditions[e]||(this._conditions[e]={});return n[this._geoComparison||l]={$box:t},this},c.prototype.polygon=function(){var e,t;"string"==typeof arguments[0]?(t=arguments[0],e=i(arguments,1)):(this._ensurePath("polygon"),t=this._path,e=i(arguments));var n=this._conditions[t]||(this._conditions[t]={});return n[this._geoComparison||l]={$polygon:e},this},c.prototype.circle=function(){var e,t;if(1===arguments.length)this._ensurePath("circle"),e=this._path,t=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");e=arguments[0],t=arguments[1]}if(!("radius"in t)||!t.center)throw new Error("center and radius are required");var n=this._conditions[e]||(this._conditions[e]={}),r=t.spherical?"$centerSphere":"$center",i=this._geoComparison||l;return n[i]={},n[i][r]=[t.center,t.radius],"unique"in t&&(n[i].$uniqueDocs=!!t.unique),this},c.prototype.near=function(){var e,t;if(this._geoComparison="$near",0===arguments.length)return this;if(1===arguments.length)this._ensurePath("near"),e=this._path,t=arguments[0];else{if(2!==arguments.length)throw new TypeError("Invalid argument");e=arguments[0],t=arguments[1]}if(!t.center)throw new Error("center is required");var n=this._conditions[e]||(this._conditions[e]={}),r=t.spherical?"$nearSphere":"$near";if(Array.isArray(t.center)){n[r]=t.center;var i="maxDistance"in t?t.maxDistance:null;null!=i&&(n.$maxDistance=i),null!=t.minDistance&&(n.$minDistance=t.minDistance)}else{if("Point"!=t.center.type||!Array.isArray(t.center.coordinates))throw new Error(a.format("Invalid GeoJSON specified for %s",r));n[r]={$geometry:t.center},"maxDistance"in t&&(n[r].$maxDistance=t.maxDistance),"minDistance"in t&&(n[r].$minDistance=t.minDistance)}return this},c.prototype.intersects=function(){if(this._ensurePath("intersects"),this._geoComparison="$geoIntersects",0===arguments.length)return this;var e=arguments[0];if(null!=e&&e.type&&e.coordinates)return this.geometry(e);throw new TypeError("Invalid argument")},c.prototype.geometry=function(){if("$within"!=this._geoComparison&&"$geoWithin"!=this._geoComparison&&"$near"!=this._geoComparison&&"$geoIntersects"!=this._geoComparison)throw new Error("geometry() must come after `within()`, `intersects()`, or `near()");var e,t;if(1!==arguments.length)throw new TypeError("Invalid argument");if(this._ensurePath("geometry"),t=this._path,!(e=arguments[0]).type||!Array.isArray(e.coordinates))throw new TypeError("Invalid argument");var n=this._conditions[t]||(this._conditions[t]={});return n[this._geoComparison]={$geometry:e},this},c.prototype.select=function(){var e=arguments[0];if(!e)return this;if(1!==arguments.length)throw new Error("Invalid select: select only takes 1 argument");this._validate("select");var t,n,i=this._fields||(this._fields={}),o=r(e);if(("string"==o||s.isArgumentsObject(e))&&"number"==typeof e.length||Array.isArray(e)){for("string"==o&&(e=e.split(/\s+/)),t=0,n=e.length;t<n;++t){var a=e[t];if(a){var u="-"==a[0]?0:1;0===u&&(a=a.substring(1)),i[a]=u}}return this}if(s.isObject(e)){var c=s.keys(e);for(t=0;t<c.length;++t)i[c[t]]=e[c[t]];return this}throw new TypeError("Invalid select() argument. Must be string or object.")},c.prototype.slice=function(){if(0===arguments.length)return this;var e,t;if(this._validate("slice"),1===arguments.length){var n=arguments[0];if("object"===r(n)&&!Array.isArray(n)){for(var o=Object.keys(n),a=o.length,s=0;s<a;++s)this.slice(o[s],n[o[s]]);return this}this._ensurePath("slice"),e=this._path,t=arguments[0]}else 2===arguments.length?"number"==typeof arguments[0]?(this._ensurePath("slice"),e=this._path,t=i(arguments)):(e=arguments[0],t=arguments[1]):3===arguments.length&&(e=arguments[0],t=i(arguments,1));var u=this._fields||(this._fields={});return u[e]={$slice:t},this},c.prototype.sort=function(e){if(!e)return this;var t,n,i;this._validate("sort");var o=r(e);if(Array.isArray(e)){for(n=e.length,t=0;t<e.length;++t){if(!Array.isArray(e[t]))throw new Error("Invalid sort() argument, must be array of arrays");h(this.options,e[t][0],e[t][1])}return this}if(1===arguments.length&&"string"==o){for(n=(e=e.split(/\s+/)).length,t=0;t<n;++t)if(i=e[t]){var a="-"==i[0]?-1:1;-1===a&&(i=i.substring(1)),p(this.options,i,a)}return this}if(s.isObject(e)){var u=s.keys(e);for(t=0;t<u.length;++t)i=u[t],p(this.options,i,e[i]);return this}if("undefined"!=typeof Map&&e instanceof Map)return d(this.options,e),this;throw new TypeError("Invalid sort() argument. Must be a string, object, or array.")};var f={1:1,"-1":-1,asc:1,ascending:1,desc:-1,descending:-1};function p(e,t,n){if(Array.isArray(e.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");var r;if(n&&n.$meta)(r=e.sort||(e.sort={}))[t]={$meta:n.$meta};else{r=e.sort||(e.sort={});var i=String(n||1).toLowerCase();if(!(i=f[i]))throw new TypeError("Invalid sort value: { "+t+": "+n+" }");r[t]=i}}function h(e,t,n){if(e.sort=e.sort||[],!Array.isArray(e.sort))throw new TypeError("Can't mix sort syntaxes. Use either array or object:\n- `.sort([['field', 1], ['test', -1]])`\n- `.sort({ field: 1, test: -1 })`");var r=String(n||1).toLowerCase();if(!(r=f[r]))throw new TypeError("Invalid sort value: [ "+t+", "+n+" ]");e.sort.push([t,r])}function d(e,t){if(e.sort=e.sort||new Map,!(e.sort instanceof Map))throw new TypeError("Can't mix sort syntaxes. Use either array or object or map consistently");t.forEach((function(t,n){var r=String(t||1).toLowerCase();if(!(r=f[r]))throw new TypeError("Invalid sort value: < "+n+": "+t+" >");e.sort.set(n,r)}))}function m(e,t,n,r,i,o,a){return e.op=t,c.canMerge(n)&&e.merge(n),r&&e._mergeUpdate(r),s.isObject(i)&&e.setOptions(i),o||a?!e._update||!e.options.overwrite&&0===s.keys(e._update).length?(a&&s.soon(a.bind(null,null,0)),e):(i=e._optionsForExec(),a||(i.safe=!1),n=e._conditions,r=e._updateForExec(),u("update",e._collection.collectionName,n,r,i),a=e._wrapCallback(t,a,{conditions:n,doc:r,options:i}),e._collection[t](n,r,i,s.tick(a)),e):e}["limit","skip","maxScan","batchSize","comment"].forEach((function(e){c.prototype[e]=function(t){return this._validate(e),this.options[e]=t,this}})),c.prototype.maxTime=c.prototype.maxTimeMS=function(e){return this._validate("maxTime"),this.options.maxTimeMS=e,this},c.prototype.snapshot=function(){return this._validate("snapshot"),this.options.snapshot=!arguments.length||!!arguments[0],this},c.prototype.hint=function(){if(0===arguments.length)return this;this._validate("hint");var e=arguments[0];if(s.isObject(e)){var t=this.options.hint||(this.options.hint={});for(var n in e)t[n]=e[n];return this}if("string"==typeof e)return this.options.hint=e,this;throw new TypeError("Invalid hint. "+e)},c.prototype.j=function(e){return this.options.j=e,this},c.prototype.slaveOk=function(e){return this.options.slaveOk=!arguments.length||!!e,this},c.prototype.read=c.prototype.setReadPreference=function(e){return arguments.length>1&&!c.prototype.read.deprecationWarningIssued&&(console.error("Deprecation warning: 'tags' argument is not supported anymore in Query.read() method. Please use mongodb.ReadPreference object instead."),c.prototype.read.deprecationWarningIssued=!0),this.options.readPreference=s.readPref(e),this},c.prototype.readConcern=c.prototype.r=function(e){return this.options.readConcern=s.readConcern(e),this},c.prototype.tailable=function(){return this._validate("tailable"),this.options.tailable=!arguments.length||!!arguments[0],this},c.prototype.writeConcern=c.prototype.w=function(e){return"object"===r(e)?(void 0!==e.j&&(this.options.j=e.j),void 0!==e.w&&(this.options.w=e.w),void 0!==e.wtimeout&&(this.options.wtimeout=e.wtimeout)):this.options.w="m"===e?"majority":e,this},c.prototype.wtimeout=c.prototype.wTimeout=function(e){return this.options.wtimeout=e,this},c.prototype.merge=function(e){if(!e)return this;if(!c.canMerge(e))throw new TypeError("Invalid argument. Expected instanceof mquery or plain object");return e instanceof c?(e._conditions&&s.merge(this._conditions,e._conditions),e._fields&&(this._fields||(this._fields={}),s.merge(this._fields,e._fields)),e.options&&(this.options||(this.options={}),s.merge(this.options,e.options)),e._update&&(this._update||(this._update={}),s.mergeClone(this._update,e._update)),e._distinct&&(this._distinct=e._distinct),this):(s.merge(this._conditions,e),this)},c.prototype.find=function(e,t){if(this.op="find","function"==typeof e?(t=e,e=void 0):c.canMerge(e)&&this.merge(e),!t)return this;var n=this._conditions,r=this._optionsForExec();return this.$useProjection?r.projection=this._fieldsForExec():r.fields=this._fieldsForExec(),u("find",this._collection.collectionName,n,r),t=this._wrapCallback("find",t,{conditions:n,options:r}),this._collection.find(n,r,s.tick(t)),this},c.prototype.cursor=function(e){if(this.op){if("find"!==this.op)throw new TypeError(".cursor only support .find method")}else this.find(e);var t=this._conditions,n=this._optionsForExec();return this.$useProjection?n.projection=this._fieldsForExec():n.fields=this._fieldsForExec(),u("findCursor",this._collection.collectionName,t,n),this._collection.findCursor(t,n)},c.prototype.findOne=function(e,t){if(this.op="findOne","function"==typeof e?(t=e,e=void 0):c.canMerge(e)&&this.merge(e),!t)return this;var n=this._conditions,r=this._optionsForExec();return this.$useProjection?r.projection=this._fieldsForExec():r.fields=this._fieldsForExec(),u("findOne",this._collection.collectionName,n,r),t=this._wrapCallback("findOne",t,{conditions:n,options:r}),this._collection.findOne(n,r,s.tick(t)),this},c.prototype.count=function(e,t){if(this.op="count",this._validate(),"function"==typeof e?(t=e,e=void 0):c.canMerge(e)&&this.merge(e),!t)return this;var n=this._conditions,r=this._optionsForExec();return u("count",this._collection.collectionName,n,r),t=this._wrapCallback("count",t,{conditions:n,options:r}),this._collection.count(n,r,s.tick(t)),this},c.prototype.distinct=function(e,t,n){if(this.op="distinct",this._validate(),!n){switch(r(t)){case"function":n=t,"string"==typeof e&&(t=e,e=void 0);break;case"undefined":case"string":break;default:throw new TypeError("Invalid `field` argument. Must be string or function")}switch(r(e)){case"function":n=e,e=t=void 0;break;case"string":t=e,e=void 0}}if("string"==typeof t&&(this._distinct=t),c.canMerge(e)&&this.merge(e),!n)return this;if(!this._distinct)throw new Error("No value for `distinct` has been declared");var i=this._conditions,o=this._optionsForExec();return u("distinct",this._collection.collectionName,i,o),n=this._wrapCallback("distinct",n,{conditions:i,options:o}),this._collection.distinct(this._distinct,i,o,s.tick(n)),this},c.prototype.update=function(e,t,n,i){var o;switch(arguments.length){case 3:"function"==typeof n&&(i=n,n=void 0);break;case 2:"function"==typeof t&&(i=t,t=e,e=void 0);break;case 1:switch(r(e)){case"function":i=e,e=n=t=void 0;break;case"boolean":o=e,e=void 0;break;default:t=e,e=n=void 0}}return m(this,"update",e,t,n,o,i)},c.prototype.updateMany=function(e,t,n,i){var o;switch(arguments.length){case 3:"function"==typeof n&&(i=n,n=void 0);break;case 2:"function"==typeof t&&(i=t,t=e,e=void 0);break;case 1:switch(r(e)){case"function":i=e,e=n=t=void 0;break;case"boolean":o=e,e=void 0;break;default:t=e,e=n=void 0}}return m(this,"updateMany",e,t,n,o,i)},c.prototype.updateOne=function(e,t,n,i){var o;switch(arguments.length){case 3:"function"==typeof n&&(i=n,n=void 0);break;case 2:"function"==typeof t&&(i=t,t=e,e=void 0);break;case 1:switch(r(e)){case"function":i=e,e=n=t=void 0;break;case"boolean":o=e,e=void 0;break;default:t=e,e=n=void 0}}return m(this,"updateOne",e,t,n,o,i)},c.prototype.replaceOne=function(e,t,n,i){var o;switch(arguments.length){case 3:"function"==typeof n&&(i=n,n=void 0);break;case 2:"function"==typeof t&&(i=t,t=e,e=void 0);break;case 1:switch(r(e)){case"function":i=e,e=n=t=void 0;break;case"boolean":o=e,e=void 0;break;default:t=e,e=n=void 0}}return this.setOptions({overwrite:!0}),m(this,"replaceOne",e,t,n,o,i)},c.prototype.remove=function(e,t){var n;if(this.op="remove","function"==typeof e?(t=e,e=void 0):c.canMerge(e)?this.merge(e):!0===e&&(n=e,e=void 0),!n&&!t)return this;var r=this._optionsForExec();t||(r.safe=!1);var i=this._conditions;return u("remove",this._collection.collectionName,i,r),t=this._wrapCallback("remove",t,{conditions:i,options:r}),this._collection.remove(i,r,s.tick(t)),this},c.prototype.deleteOne=function(e,t){var n;if(this.op="deleteOne","function"==typeof e?(t=e,e=void 0):c.canMerge(e)?this.merge(e):!0===e&&(n=e,e=void 0),!n&&!t)return this;var r=this._optionsForExec();t||(r.safe=!1),delete r.justOne;var i=this._conditions;return u("deleteOne",this._collection.collectionName,i,r),t=this._wrapCallback("deleteOne",t,{conditions:i,options:r}),this._collection.deleteOne(i,r,s.tick(t)),this},c.prototype.deleteMany=function(e,t){var n;if(this.op="deleteMany","function"==typeof e?(t=e,e=void 0):c.canMerge(e)?this.merge(e):!0===e&&(n=e,e=void 0),!n&&!t)return this;var r=this._optionsForExec();t||(r.safe=!1),delete r.justOne;var i=this._conditions;return u("deleteOne",this._collection.collectionName,i,r),t=this._wrapCallback("deleteOne",t,{conditions:i,options:r}),this._collection.deleteMany(i,r,s.tick(t)),this},c.prototype.findOneAndUpdate=function(e,t,n,r){switch(this.op="findOneAndUpdate",this._validate(),arguments.length){case 3:"function"==typeof n&&(r=n,n={});break;case 2:"function"==typeof t&&(r=t,t=e,e=void 0),n=void 0;break;case 1:"function"==typeof e?(r=e,e=n=t=void 0):(t=e,e=n=void 0)}return c.canMerge(e)&&this.merge(e),t&&this._mergeUpdate(t),n&&this.setOptions(n),r?this._findAndModify("update",r):this},c.prototype.findOneAndRemove=c.prototype.findOneAndDelete=function(e,t,n){return this.op="findOneAndRemove",this._validate(),"function"==typeof t?(n=t,t=void 0):"function"==typeof e&&(n=e,e=void 0),c.canMerge(e)&&this.merge(e),t&&this.setOptions(t),n?this._findAndModify("remove",n):this},c.prototype._findAndModify=function(e,t){o.equal("function",r(t));var n,i=this._optionsForExec();if("remove"==e)i.remove=!0;else if("new"in i||(i.new=!0),"upsert"in i||(i.upsert=!1),!(n=this._updateForExec())){if(!i.upsert)return this.findOne(t);n={$set:{}}}null!=this._fieldsForExec()&&(this.$useProjection?i.projection=this._fieldsForExec():i.fields=this._fieldsForExec());var a=this._conditions;return u("findAndModify",this._collection.collectionName,a,n,i),t=this._wrapCallback("findAndModify",t,{conditions:a,doc:n,options:i}),this._collection.findAndModify(a,n,i,s.tick(t)),this},c.prototype._wrapCallback=function(e,t,n){var r=this._traceFunction||c.traceFunction;if(r){n.collectionName=this._collection.collectionName;var i=r&&r.call(null,e,n,this),o=(new Date).getTime();return function(e,n){if(i){var r=(new Date).getTime()-o;i.call(null,e,n,r)}t&&t.apply(null,arguments)}}return t},c.prototype.setTraceFunction=function(e){return this._traceFunction=e,this},c.prototype.exec=function(e,t){switch(r(e)){case"function":t=e,e=null;break;case"string":this.op=e}o.ok(this.op,"Missing query type: (find, update, etc)"),"update"!=this.op&&"remove"!=this.op||t||(t=!0);var n=this;if("function"!=typeof t)return new c.Promise((function(e,t){n[n.op]((function(n,r){n?t(n):e(r),e=t=null}))}));this[this.op](t)},c.prototype.thunk=function(){var e=this;return function(t){e.exec(t)}},c.prototype.then=function(e,t){var n=this;return new c.Promise((function(e,t){n.exec((function(n,r){n?t(n):e(r),e=t=null}))})).then(e,t)},c.prototype.stream=function(e){if("find"!=this.op)throw new Error("stream() is only available for find");var t=this._conditions,n=this._optionsForExec();return this.$useProjection?n.projection=this._fieldsForExec():n.fields=this._fieldsForExec(),u("stream",this._collection.collectionName,t,n,e),this._collection.findStream(t,n,e)},c.prototype.selected=function(){return!!(this._fields&&Object.keys(this._fields).length>0)},c.prototype.selectedInclusively=function(){if(!this._fields)return!1;var e=Object.keys(this._fields);if(0===e.length)return!1;for(var t=0;t<e.length;++t){var n=e[t];if(0===this._fields[n])return!1;if(this._fields[n]&&"object"===r(this._fields[n])&&this._fields[n].$meta)return!1}return!0},c.prototype.selectedExclusively=function(){if(!this._fields)return!1;var e=Object.keys(this._fields);if(0===e.length)return!1;for(var t=0;t<e.length;++t){var n=e[t];if(0===this._fields[n])return!0}return!1},c.prototype._mergeUpdate=function(e){this._update||(this._update={}),e instanceof c?e._update&&s.mergeClone(this._update,e._update):s.mergeClone(this._update,e)},c.prototype._optionsForExec=function(){return s.clone(this.options)},c.prototype._fieldsForExec=function(){return s.clone(this._fields)},c.prototype._updateForExec=function(){for(var e=s.clone(this._update),t=s.keys(e),n=t.length,r={};n--;){var i=t[n];this.options.overwrite?r[i]=e[i]:"$"!==i[0]?(r.$set||(e.$set?r.$set=e.$set:r.$set={}),r.$set[i]=e[i],t.splice(n,1),~t.indexOf("$set")||t.push("$set")):"$set"===i&&r.$set||(r[i]=e[i])}return this._compiledUpdate=r,r},c.prototype._ensurePath=function(e){if(!this._path)throw new Error(e+"() must be used after where() when called with these arguments")},c.permissions=n(122),c._isPermitted=function(e,t){var n=c.permissions[t];return!n||!0!==n[e]},c.prototype._validate=function(e){var t,n;if(void 0===e){if("function"!=typeof(n=c.permissions[this.op]))return!0;t=n(this)}else c._isPermitted(e,this.op)||(t=e);if(t)throw new Error(t+" cannot be used with "+this.op)},c.canMerge=function(e){return e instanceof c||s.isObject(e)},c.setGlobalTraceFunction=function(e){c.traceFunction=e},c.utils=s,c.env=n(70),c.Collection=n(124),c.BaseCollection=n(30),c.Promise=n(126),e.exports=c},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i,o,a,s,u=1,c={},l=!1,f=e.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(e);p=p&&p.setTimeout?p:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&d(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),r=function(t){e.postMessage(a+t,"*")}):e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){d(e.data)},r=function(e){o.port2.postMessage(e)}):f&&"onreadystatechange"in f.createElement("script")?(i=f.documentElement,r=function(e){var t=f.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):r=function(e){setTimeout(d,0,e)},p.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return c[u]=i,r(u),u++},p.clearImmediate=h}function h(e){delete c[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=c[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{h(e),l=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(11),n(8))},function(e,t,n){var r=n(1),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),o(i,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"==typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},function(e,t,n){(function(r){function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(120)).log=function(){return"object"===("undefined"==typeof console?"undefined":i(console))&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=o,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(o())}).call(this,n(8))},function(e,t,n){function r(e){var n;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(n||i);e.diff=o,e.prev=n,e.curr=i,n=i;for(var a=new Array(arguments.length),s=0;s<a.length;s++)a[s]=arguments[s];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var u=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;u++;var i=t.formatters[r];if("function"==typeof i){var o=a[u];n=i.call(e,o),a.splice(u,1),u--}return n})),t.formatArgs.call(e,a);var c=r.log||t.log||console.log.bind(console);c.apply(e,a)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),r.destroy=i,"function"==typeof t.init&&t.init(r),t.instances.push(r),r}function i(){var e=t.instances.indexOf(this);return-1!==e&&(t.instances.splice(e,1),!0)}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){var n;t.save(e),t.names=[],t.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")));for(n=0;n<t.instances.length;n++){var o=t.instances[n];o.enabled=t.enabled(o.namespace)}},t.enabled=function(e){if("*"===e[e.length-1])return!0;var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(121),t.instances=[],t.names=[],t.skips=[],t.formatters={}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=1e3,i=6e4,o=60*i,a=24*o;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var u,c=n(e);if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}(e);if("number"===c&&!1===isNaN(e))return t.long?s(u=e,a,"day")||s(u,o,"hour")||s(u,i,"minute")||s(u,r,"second")||u+" ms":function(e){return e>=a?Math.round(e/a)+"d":e>=o?Math.round(e/o)+"h":e>=i?Math.round(e/i)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=t;r.distinct=function(e){return e._fields&&Object.keys(e._fields).length>0?"field selection and slice":(Object.keys(r.distinct).every((function(n){return!e.options[n]||(t=n,!1)})),t);var t},r.distinct.select=r.distinct.slice=r.distinct.sort=r.distinct.limit=r.distinct.skip=r.distinct.batchSize=r.distinct.comment=r.distinct.maxScan=r.distinct.snapshot=r.distinct.hint=r.distinct.tailable=!0,r.findOneAndUpdate=r.findOneAndRemove=function(e){var t;return Object.keys(r.findOneAndUpdate).every((function(n){return!e.options[n]||(t=n,!1)})),t},r.findOneAndUpdate.limit=r.findOneAndUpdate.skip=r.findOneAndUpdate.batchSize=r.findOneAndUpdate.maxScan=r.findOneAndUpdate.snapshot=r.findOneAndUpdate.hint=r.findOneAndUpdate.tailable=r.findOneAndUpdate.comment=!0,r.count=function(e){return e._fields&&Object.keys(e._fields).length>0?"field selection and slice":(Object.keys(r.count).every((function(n){return!e.options[n]||(t=n,!1)})),t);var t},r.count.slice=r.count.batchSize=r.count.comment=r.count.maxScan=r.count.snapshot=r.count.tailable=!0},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=n(70);if("unknown"==r.type)throw new Error("Unknown environment");e.exports=r.isNode?n(125):(r.isMongo,n(30))},function(e,t,n){"use strict";var r=n(30);function i(e){this.collection=e,this.collectionName=e.collectionName}n(68).inherits(i,r),i.prototype.find=function(e,t,n){this.collection.find(e,t,(function(e,t){if(e)return n(e);try{t.toArray(n)}catch(e){n(e)}}))},i.prototype.findOne=function(e,t,n){this.collection.findOne(e,t,n)},i.prototype.count=function(e,t,n){this.collection.count(e,t,n)},i.prototype.distinct=function(e,t,n,r){this.collection.distinct(e,t,n,r)},i.prototype.update=function(e,t,n,r){this.collection.update(e,t,n,r)},i.prototype.updateMany=function(e,t,n,r){this.collection.updateMany(e,t,n,r)},i.prototype.updateOne=function(e,t,n,r){this.collection.updateOne(e,t,n,r)},i.prototype.replaceOne=function(e,t,n,r){this.collection.replaceOne(e,t,n,r)},i.prototype.deleteOne=function(e,t,n){this.collection.deleteOne(e,t,n)},i.prototype.deleteMany=function(e,t,n){this.collection.deleteMany(e,t,n)},i.prototype.remove=function(e,t,n){this.collection.remove(e,t,n)},i.prototype.findAndModify=function(e,t,n,r){var i=Array.isArray(n.sort)?n.sort:[];this.collection.findAndModify(e,i,t,n,r)},i.prototype.findStream=function(e,t,n){return this.collection.find(e,t).stream(n)},i.prototype.findCursor=function(e,t){return this.collection.find(e,t)},e.exports=i},function(e,t,n){(function(n,r,i){var o,a,s,u;function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}u=function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var u="function"==typeof _dereq_&&_dereq_;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,(function(e){return i(t[a][1][e]||e)}),l,l.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof _dereq_&&_dereq_,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";t.exports=function(e){var t=e._SomePromiseArray;function n(e){var n=new t(e),r=n.promise();return n.setHowMany(1),n.setUnwrap(),n.init(),r}e.any=function(e){return n(e)},e.prototype.any=function(){return n(this)}}},{}],2:[function(e,t,r){"use strict";var i;try{throw new Error}catch(e){i=e}var o=e("./schedule"),a=e("./queue"),s=e("./util");function u(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new a(16),this._normalQueue=new a(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var e=this;this.drainQueues=function(){e._drainQueues()},this._schedule=o}function c(e,t,n){this._lateQueue.push(e,t,n),this._queueTick()}function l(e,t,n){this._normalQueue.push(e,t,n),this._queueTick()}function f(e){this._normalQueue._pushOne(e),this._queueTick()}u.prototype.setScheduler=function(e){var t=this._schedule;return this._schedule=e,this._customScheduler=!0,t},u.prototype.hasCustomScheduler=function(){return this._customScheduler},u.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},u.prototype.disableTrampolineIfNecessary=function(){s.hasDevTools&&(this._trampolineEnabled=!1)},u.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},u.prototype.fatalError=function(e,t){t?(n.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),n.exit(2)):this.throwLater(e)},u.prototype.throwLater=function(e,t){if(1===arguments.length&&(t=e,e=function(){throw t}),"undefined"!=typeof setTimeout)setTimeout((function(){e(t)}),0);else try{this._schedule((function(){e(t)}))}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},s.hasDevTools?(u.prototype.invokeLater=function(e,t,n){this._trampolineEnabled?c.call(this,e,t,n):this._schedule((function(){setTimeout((function(){e.call(t,n)}),100)}))},u.prototype.invoke=function(e,t,n){this._trampolineEnabled?l.call(this,e,t,n):this._schedule((function(){e.call(t,n)}))},u.prototype.settlePromises=function(e){this._trampolineEnabled?f.call(this,e):this._schedule((function(){e._settlePromises()}))}):(u.prototype.invokeLater=c,u.prototype.invoke=l,u.prototype.settlePromises=f),u.prototype._drainQueue=function(e){for(;e.length()>0;){var t=e.shift();if("function"==typeof t){var n=e.shift(),r=e.shift();t.call(n,r)}else t._settlePromises()}},u.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},u.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},u.prototype._reset=function(){this._isTickUsed=!1},t.exports=u,t.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){var i=!1,o=function(e,t){this._reject(t)},a=function(e,t){t.promiseRejectionQueued=!0,t.bindingPromise._then(o,o,null,this,e)},s=function(e,t){0==(50397184&this._bitField)&&this._resolveCallback(t.target)},u=function(e,t){t.promiseRejectionQueued||this._reject(e)};e.prototype.bind=function(o){i||(i=!0,e.prototype._propagateFrom=r.propagateFromFunction(),e.prototype._boundValue=r.boundValueFunction());var c=n(o),l=new e(t);l._propagateFrom(this,1);var f=this._target();if(l._setBoundTo(c),c instanceof e){var p={promiseRejectionQueued:!1,promise:l,target:f,bindingPromise:c};f._then(t,a,void 0,l,p),c._then(s,u,void 0,l,p),l._setOnCancel(c)}else l._resolveCallback(f);return l},e.prototype._setBoundTo=function(e){void 0!==e?(this._bitField=2097152|this._bitField,this._boundTo=e):this._bitField=-2097153&this._bitField},e.prototype._isBound=function(){return 2097152==(2097152&this._bitField)},e.bind=function(t,n){return e.resolve(n).bind(t)}}},{}],4:[function(e,t,n){"use strict";var r;"undefined"!=typeof Promise&&(r=Promise);var i=e("./promise")();i.noConflict=function(){try{Promise===i&&(Promise=r)}catch(e){}return i},t.exports=i},{"./promise":22}],5:[function(e,t,n){"use strict";var r=Object.create;if(r){var i=r(null),o=r(null);i[" size"]=o[" size"]=0}t.exports=function(t){var n=e("./util"),r=n.canEvaluate;function i(e){return function(e,r){var i;if(null!=e&&(i=e[r]),"function"!=typeof i){var o="Object "+n.classString(e)+" has no method '"+n.toString(r)+"'";throw new t.TypeError(o)}return i}(e,this.pop()).apply(e,this)}function o(e){return e[this]}function a(e){var t=+this;return t<0&&(t=Math.max(0,t+e.length)),e[t]}n.isIdentifier,t.prototype.call=function(e){var t=[].slice.call(arguments,1);return t.push(e),this._then(i,void 0,void 0,t,void 0)},t.prototype.get=function(e){var t;if("number"==typeof e)t=a;else if(r){var n=(void 0)(e);t=null!==n?n:o}else t=o;return this._then(t,void 0,void 0,e,void 0)}}},{"./util":36}],6:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util"),a=o.tryCatch,s=o.errorObj,u=t._async;t.prototype.break=t.prototype.cancel=function(){if(!i.cancellation())return this._warn("cancellation is disabled");for(var e=this,t=e;e._isCancellable();){if(!e._cancelBy(t)){t._isFollowing()?t._followee().cancel():t._cancelBranched();break}var n=e._cancellationParent;if(null==n||!n._isCancellable()){e._isFollowing()?e._followee().cancel():e._cancelBranched();break}e._isFollowing()&&e._followee().cancel(),e._setWillBeCancelled(),t=e,e=n}},t.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},t.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},t.prototype._cancelBy=function(e){return e===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},t.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},t.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),u.invoke(this._cancelPromises,this,void 0))},t.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},t.prototype._unsetOnCancel=function(){this._onCancelField=void 0},t.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},t.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},t.prototype._doInvokeOnCancel=function(e,t){if(o.isArray(e))for(var n=0;n<e.length;++n)this._doInvokeOnCancel(e[n],t);else if(void 0!==e)if("function"==typeof e){if(!t){var r=a(e).call(this._boundValue());r===s&&(this._attachExtraTrace(r.e),u.throwLater(r.e))}}else e._resultCancelled(this)},t.prototype._invokeOnCancel=function(){var e=this._onCancel();this._unsetOnCancel(),u.invoke(this._doInvokeOnCancel,this,e)},t.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},t.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=e("./es5").keys,i=n.tryCatch,o=n.errorObj;return function(e,a,s){return function(u){var c=s._boundValue();e:for(var l=0;l<e.length;++l){var f=e[l];if(f===Error||null!=f&&f.prototype instanceof Error){if(u instanceof f)return i(a).call(c,u)}else if("function"==typeof f){var p=i(f).call(c,u);if(p===o)return p;if(p)return i(a).call(c,u)}else if(n.isObject(u)){for(var h=r(f),d=0;d<h.length;++d){var m=h[d];if(f[m]!=u[m])continue e}return i(a).call(c,u)}}return t}}}},{"./es5":13,"./util":36}],8:[function(e,t,n){"use strict";t.exports=function(e){var t=!1,n=[];function r(){this._trace=new r.CapturedTrace(i())}function i(){var e=n.length-1;if(e>=0)return n[e]}return e.prototype._promiseCreated=function(){},e.prototype._pushContext=function(){},e.prototype._popContext=function(){return null},e._peekContext=e.prototype._peekContext=function(){},r.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,n.push(this._trace))},r.prototype._popContext=function(){if(void 0!==this._trace){var e=n.pop(),t=e._promiseCreated;return e._promiseCreated=null,t}return null},r.CapturedTrace=null,r.create=function(){if(t)return new r},r.deactivateLongStackTraces=function(){},r.activateLongStackTraces=function(){var n=e.prototype._pushContext,o=e.prototype._popContext,a=e._peekContext,s=e.prototype._peekContext,u=e.prototype._promiseCreated;r.deactivateLongStackTraces=function(){e.prototype._pushContext=n,e.prototype._popContext=o,e._peekContext=a,e.prototype._peekContext=s,e.prototype._promiseCreated=u,t=!1},t=!0,e.prototype._pushContext=r.prototype._pushContext,e.prototype._popContext=r.prototype._popContext,e._peekContext=e.prototype._peekContext=i,e.prototype._promiseCreated=function(){var e=this._peekContext();e&&null==e._promiseCreated&&(e._promiseCreated=this)}},r}},{}],9:[function(e,t,r){"use strict";t.exports=function(t,r){var i,o,a,s=t._getDomain,u=t._async,l=e("./errors").Warning,f=e("./util"),p=f.canAttachTrace,h=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,d=/\((?:timers\.js):\d+:\d+\)/,m=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,v=null,y=null,g=!1,b=!(0==f.env("BLUEBIRD_DEBUG")),_=!(0==f.env("BLUEBIRD_WARNINGS")||!b&&!f.env("BLUEBIRD_WARNINGS")),w=!(0==f.env("BLUEBIRD_LONG_STACK_TRACES")||!b&&!f.env("BLUEBIRD_LONG_STACK_TRACES")),x=0!=f.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(_||!!f.env("BLUEBIRD_W_FORGOTTEN_RETURN"));t.prototype.suppressUnhandledRejections=function(){var e=this._target();e._bitField=-1048577&e._bitField|524288},t.prototype._ensurePossibleRejectionHandled=function(){if(0==(524288&this._bitField)){this._setRejectionIsUnhandled();var e=this;setTimeout((function(){e._notifyUnhandledRejection()}),1)}},t.prototype._notifyUnhandledRejectionIsHandled=function(){$("rejectionHandled",i,void 0,this)},t.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},t.prototype._returnedNonUndefined=function(){return 0!=(268435456&this._bitField)},t.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var e=this._settledValue();this._setUnhandledRejectionIsNotified(),$("unhandledRejection",o,e,this)}},t.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},t.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},t.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},t.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},t.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},t.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},t.prototype._warn=function(e,t,n){return U(e,t,n||this)},t.onPossiblyUnhandledRejection=function(e){var t=s();o="function"==typeof e?null===t?e:f.domainBind(t,e):void 0},t.onUnhandledRejectionHandled=function(e){var t=s();i="function"==typeof e?null===t?e:f.domainBind(t,e):void 0};var S=function(){};t.longStackTraces=function(){if(u.haveItemsQueued()&&!K.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!K.longStackTraces&&W()){var e=t.prototype._captureStackTrace,n=t.prototype._attachExtraTrace;K.longStackTraces=!0,S=function(){if(u.haveItemsQueued()&&!K.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");t.prototype._captureStackTrace=e,t.prototype._attachExtraTrace=n,r.deactivateLongStackTraces(),u.enableTrampoline(),K.longStackTraces=!1},t.prototype._captureStackTrace=B,t.prototype._attachExtraTrace=F,r.activateLongStackTraces(),u.disableTrampolineIfNecessary()}},t.hasLongStackTraces=function(){return K.longStackTraces&&W()};var E=function(){try{if("function"==typeof CustomEvent){var e=new CustomEvent("CustomEvent");return f.global.dispatchEvent(e),function(e,t){var n=new CustomEvent(e.toLowerCase(),{detail:t,cancelable:!0});return!f.global.dispatchEvent(n)}}return"function"==typeof Event?(e=new Event("CustomEvent"),f.global.dispatchEvent(e),function(e,t){var n=new Event(e.toLowerCase(),{cancelable:!0});return n.detail=t,!f.global.dispatchEvent(n)}):((e=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),f.global.dispatchEvent(e),function(e,t){var n=document.createEvent("CustomEvent");return n.initCustomEvent(e.toLowerCase(),!1,!0,t),!f.global.dispatchEvent(n)})}catch(e){}return function(){return!1}}(),O=f.isNode?function(){return n.emit.apply(n,arguments)}:f.global?function(e){var t="on"+e.toLowerCase(),n=f.global[t];return!!n&&(n.apply(f.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function T(e,t){return{promise:t}}var M={promiseCreated:T,promiseFulfilled:T,promiseRejected:T,promiseResolved:T,promiseCancelled:T,promiseChained:function(e,t,n){return{promise:t,child:n}},warning:function(e,t){return{warning:t}},unhandledRejection:function(e,t,n){return{reason:t,promise:n}},rejectionHandled:T},P=function(e){var t=!1;try{t=O.apply(null,arguments)}catch(e){u.throwLater(e),t=!0}var n=!1;try{n=E(e,M[e].apply(null,arguments))}catch(e){u.throwLater(e),n=!0}return n||t};function A(){return!1}function C(e,t,n){var r=this;try{e(t,n,(function(e){if("function"!=typeof e)throw new TypeError("onCancel must be a function, got: "+f.toString(e));r._attachCancellationCallback(e)}))}catch(e){return e}}function k(e){if(!this._isCancellable())return this;var t=this._onCancel();void 0!==t?f.isArray(t)?t.push(e):this._setOnCancel([t,e]):this._setOnCancel(e)}function j(){return this._onCancelField}function R(e){this._onCancelField=e}function D(){this._cancellationParent=void 0,this._onCancelField=void 0}function N(e,t){if(0!=(1&t)){this._cancellationParent=e;var n=e._branchesRemainingToCancel;void 0===n&&(n=0),e._branchesRemainingToCancel=n+1}0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)}t.config=function(e){if("longStackTraces"in(e=Object(e))&&(e.longStackTraces?t.longStackTraces():!e.longStackTraces&&t.hasLongStackTraces()&&S()),"warnings"in e){var n=e.warnings;K.warnings=!!n,x=K.warnings,f.isObject(n)&&"wForgottenReturn"in n&&(x=!!n.wForgottenReturn)}if("cancellation"in e&&e.cancellation&&!K.cancellation){if(u.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");t.prototype._clearCancellationData=D,t.prototype._propagateFrom=N,t.prototype._onCancel=j,t.prototype._setOnCancel=R,t.prototype._attachCancellationCallback=k,t.prototype._execute=C,L=N,K.cancellation=!0}return"monitoring"in e&&(e.monitoring&&!K.monitoring?(K.monitoring=!0,t.prototype._fireEvent=P):!e.monitoring&&K.monitoring&&(K.monitoring=!1,t.prototype._fireEvent=A)),t},t.prototype._fireEvent=A,t.prototype._execute=function(e,t,n){try{e(t,n)}catch(e){return e}},t.prototype._onCancel=function(){},t.prototype._setOnCancel=function(e){},t.prototype._attachCancellationCallback=function(e){},t.prototype._captureStackTrace=function(){},t.prototype._attachExtraTrace=function(){},t.prototype._clearCancellationData=function(){},t.prototype._propagateFrom=function(e,t){};var L=function(e,t){0!=(2&t)&&e._isBound()&&this._setBoundTo(e._boundTo)};function I(){var e=this._boundTo;return void 0!==e&&e instanceof t?e.isFulfilled()?e.value():void 0:e}function B(){this._trace=new Z(this._peekContext())}function F(e,t){if(p(e)){var n=this._trace;if(void 0!==n&&t&&(n=n._parent),void 0!==n)n.attachExtraTrace(e);else if(!e.__stackCleaned__){var r=V(e);f.notEnumerableProp(e,"stack",r.message+"\n"+r.stack.join("\n")),f.notEnumerableProp(e,"__stackCleaned__",!0)}}}function U(e,n,r){if(K.warnings){var i,o=new l(e);if(n)r._attachExtraTrace(o);else if(K.longStackTraces&&(i=t._peekContext()))i.attachExtraTrace(o);else{var a=V(o);o.stack=a.message+"\n"+a.stack.join("\n")}P("warning",o)||H(o,"",!0)}}function z(e){for(var t=[],n=0;n<e.length;++n){var r=e[n],i="    (No stack trace)"===r||v.test(r),o=i&&q(r);i&&!o&&(g&&" "!==r.charAt(0)&&(r="    "+r),t.push(r))}return t}function V(e){var t=e.stack,n=e.toString();return t="string"==typeof t&&t.length>0?function(e){for(var t=e.stack.replace(/\s+$/g,"").split("\n"),n=0;n<t.length;++n){var r=t[n];if("    (No stack trace)"===r||v.test(r))break}return n>0&&"SyntaxError"!=e.name&&(t=t.slice(n)),t}(e):["    (No stack trace)"],{message:n,stack:"SyntaxError"==e.name?t:z(t)}}function H(e,t,n){if("undefined"!=typeof console){var r;if(f.isObject(e)){var i=e.stack;r=t+y(i,e)}else r=t+String(e);"function"==typeof a?a(r,n):"function"!=typeof console.log&&"object"!==c(console.log)||console.log(r)}}function $(e,t,n,r){var i=!1;try{"function"==typeof t&&(i=!0,"rejectionHandled"===e?t(r):t(n,r))}catch(e){u.throwLater(e)}"unhandledRejection"===e?P(e,n,r)||i||H(n,"Unhandled rejection "):P(e,r)}function G(e){var t;if("function"==typeof e)t="[function "+(e.name||"anonymous")+"]";else{if(t=e&&"function"==typeof e.toString?e.toString():f.toString(e),/\[object [a-zA-Z0-9$_]+\]/.test(t))try{t=JSON.stringify(e)}catch(e){}0===t.length&&(t="(empty array)")}return"(<"+function(e){return e.length<41?e:e.substr(0,38)+"..."}(t)+">, no stack trace)"}function W(){return"function"==typeof Q}var q=function(){return!1},Y=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function X(e){var t=e.match(Y);if(t)return{fileName:t[1],line:parseInt(t[2],10)}}function Z(e){this._parent=e,this._promisesCreated=0;var t=this._length=1+(void 0===e?0:e._length);Q(this,Z),t>32&&this.uncycle()}f.inherits(Z,Error),r.CapturedTrace=Z,Z.prototype.uncycle=function(){var e=this._length;if(!(e<2)){for(var t=[],n={},r=0,i=this;void 0!==i;++r)t.push(i),i=i._parent;for(r=(e=this._length=r)-1;r>=0;--r){var o=t[r].stack;void 0===n[o]&&(n[o]=r)}for(r=0;r<e;++r){var a=n[t[r].stack];if(void 0!==a&&a!==r){a>0&&(t[a-1]._parent=void 0,t[a-1]._length=1),t[r]._parent=void 0,t[r]._length=1;var s=r>0?t[r-1]:this;a<e-1?(s._parent=t[a+1],s._parent.uncycle(),s._length=s._parent._length+1):(s._parent=void 0,s._length=1);for(var u=s._length+1,c=r-2;c>=0;--c)t[c]._length=u,u++;return}}}},Z.prototype.attachExtraTrace=function(e){if(!e.__stackCleaned__){this.uncycle();for(var t=V(e),n=t.message,r=[t.stack],i=this;void 0!==i;)r.push(z(i.stack.split("\n"))),i=i._parent;!function(e){for(var t=e[0],n=1;n<e.length;++n){for(var r=e[n],i=t.length-1,o=t[i],a=-1,s=r.length-1;s>=0;--s)if(r[s]===o){a=s;break}for(s=a;s>=0;--s){var u=r[s];if(t[i]!==u)break;t.pop(),i--}t=r}}(r),function(e){for(var t=0;t<e.length;++t)(0===e[t].length||t+1<e.length&&e[t][0]===e[t+1][0])&&(e.splice(t,1),t--)}(r),f.notEnumerableProp(e,"stack",function(e,t){for(var n=0;n<t.length-1;++n)t[n].push("From previous event:"),t[n]=t[n].join("\n");return n<t.length&&(t[n]=t[n].join("\n")),e+"\n"+t.join("\n")}(n,r)),f.notEnumerableProp(e,"__stackCleaned__",!0)}};var Q=function(){var e=/^\s*at\s*/,t=function(e,t){return"string"==typeof e?e:void 0!==t.name&&void 0!==t.message?t.toString():G(t)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,v=e,y=t;var n=Error.captureStackTrace;return q=function(e){return h.test(e)},function(e,t){Error.stackTraceLimit+=6,n(e,t),Error.stackTraceLimit-=6}}var r,i=new Error;if("string"==typeof i.stack&&i.stack.split("\n")[0].indexOf("stackDetection@")>=0)return v=/@/,y=t,g=!0,function(e){e.stack=(new Error).stack};try{throw new Error}catch(e){r="stack"in e}return!("stack"in i)&&r&&"number"==typeof Error.stackTraceLimit?(v=e,y=t,function(e){Error.stackTraceLimit+=6;try{throw new Error}catch(t){e.stack=t.stack}Error.stackTraceLimit-=6}):(y=function(e,t){return"string"==typeof e?e:"object"!==c(t)&&"function"!=typeof t||void 0===t.name||void 0===t.message?G(t):t.toString()},null)}();"undefined"!=typeof console&&void 0!==console.warn&&(a=function(e){console.warn(e)},f.isNode&&n.stderr.isTTY?a=function(e,t){var n=t?"\x1b[33m":"\x1b[31m";console.warn(n+e+"\x1b[0m\n")}:f.isNode||"string"!=typeof(new Error).stack||(a=function(e,t){console.warn("%c"+e,t?"color: darkorange":"color: red")}));var K={warnings:_,longStackTraces:!1,cancellation:!1,monitoring:!1};return w&&t.longStackTraces(),{longStackTraces:function(){return K.longStackTraces},warnings:function(){return K.warnings},cancellation:function(){return K.cancellation},monitoring:function(){return K.monitoring},propagateFromFunction:function(){return L},boundValueFunction:function(){return I},checkForgottenReturns:function(e,t,n,r,i){if(void 0===e&&null!==t&&x){if(void 0!==i&&i._returnedNonUndefined())return;if(0==(65535&r._bitField))return;n&&(n+=" ");var o="",a="";if(t._trace){for(var s=t._trace.stack.split("\n"),u=z(s),c=u.length-1;c>=0;--c){var l=u[c];if(!d.test(l)){var f=l.match(m);f&&(o="at "+f[1]+":"+f[2]+":"+f[3]+" ");break}}if(u.length>0){var p=u[0];for(c=0;c<s.length;++c)if(s[c]===p){c>0&&(a="\n"+s[c-1]);break}}}var h="a promise was created in a "+n+"handler "+o+"but was not returned from it, see http://goo.gl/rRqMUw"+a;r._warn(h,!0,t)}},setBounds:function(e,t){if(W()){for(var n,r,i=e.stack.split("\n"),o=t.stack.split("\n"),a=-1,s=-1,u=0;u<i.length;++u)if(c=X(i[u])){n=c.fileName,a=c.line;break}for(u=0;u<o.length;++u){var c;if(c=X(o[u])){r=c.fileName,s=c.line;break}}a<0||s<0||!n||!r||n!==r||a>=s||(q=function(e){if(h.test(e))return!0;var t=X(e);return!!(t&&t.fileName===n&&a<=t.line&&t.line<=s)})}},warn:U,deprecated:function(e,t){var n=e+" is deprecated and will be removed in a future version.";return t&&(n+=" Use "+t+" instead."),U(n)},CapturedTrace:Z,fireDomEvent:E,fireGlobalEvent:O}}},{"./errors":12,"./util":36}],10:[function(e,t,n){"use strict";t.exports=function(e){function t(){return this.value}function n(){throw this.reason}e.prototype.return=e.prototype.thenReturn=function(n){return n instanceof e&&n.suppressUnhandledRejections(),this._then(t,void 0,void 0,{value:n},void 0)},e.prototype.throw=e.prototype.thenThrow=function(e){return this._then(n,void 0,void 0,{reason:e},void 0)},e.prototype.catchThrow=function(e){if(arguments.length<=1)return this._then(void 0,n,void 0,{reason:e},void 0);var t=arguments[1],r=function(){throw t};return this.caught(e,r)},e.prototype.catchReturn=function(n){if(arguments.length<=1)return n instanceof e&&n.suppressUnhandledRejections(),this._then(void 0,t,void 0,{value:n},void 0);var r=arguments[1];r instanceof e&&r.suppressUnhandledRejections();var i=function(){return r};return this.caught(n,i)}}},{}],11:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.reduce,r=e.all;function i(){return r(this)}e.prototype.each=function(e){return n(this,e,t,0)._then(i,void 0,void 0,this,void 0)},e.prototype.mapSeries=function(e){return n(this,e,t,t)},e.each=function(e,r){return n(e,r,t,0)._then(i,void 0,void 0,e,void 0)},e.mapSeries=function(e,r){return n(e,r,t,t)}}},{}],12:[function(e,t,n){"use strict";var r,i,o=e("./es5"),a=o.freeze,s=e("./util"),u=s.inherits,c=s.notEnumerableProp;function l(e,t){function n(r){if(!(this instanceof n))return new n(r);c(this,"message","string"==typeof r?r:t),c(this,"name",e),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return u(n,Error),n}var f=l("Warning","warning"),p=l("CancellationError","cancellation error"),h=l("TimeoutError","timeout error"),d=l("AggregateError","aggregate error");try{r=TypeError,i=RangeError}catch(e){r=l("TypeError","type error"),i=l("RangeError","range error")}for(var m="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),v=0;v<m.length;++v)"function"==typeof Array.prototype[m[v]]&&(d.prototype[m[v]]=Array.prototype[m[v]]);o.defineProperty(d.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),d.prototype.isOperational=!0;var y=0;function g(e){if(!(this instanceof g))return new g(e);c(this,"name","OperationalError"),c(this,"message",e),this.cause=e,this.isOperational=!0,e instanceof Error?(c(this,"message",e.message),c(this,"stack",e.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}d.prototype.toString=function(){var e=Array(4*y+1).join(" "),t="\n"+e+"AggregateError of:\n";y++,e=Array(4*y+1).join(" ");for(var n=0;n<this.length;++n){for(var r=this[n]===this?"[Circular AggregateError]":this[n]+"",i=r.split("\n"),o=0;o<i.length;++o)i[o]=e+i[o];t+=(r=i.join("\n"))+"\n"}return y--,t},u(g,Error);var b=Error.__BluebirdErrorTypes__;b||(b=a({CancellationError:p,TimeoutError:h,OperationalError:g,RejectionError:g,AggregateError:d}),o.defineProperty(Error,"__BluebirdErrorTypes__",{value:b,writable:!1,enumerable:!1,configurable:!1})),t.exports={Error:Error,TypeError:r,RangeError:i,CancellationError:b.CancellationError,OperationalError:b.OperationalError,TimeoutError:b.TimeoutError,AggregateError:b.AggregateError,Warning:f}},{"./es5":13,"./util":36}],13:[function(e,t,n){var r=function(){"use strict";return void 0===this}();if(r)t.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:r,propertyIsWritable:function(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!(n&&!n.writable&&!n.set)}};else{var i={}.hasOwnProperty,o={}.toString,a={}.constructor.prototype,s=function(e){var t=[];for(var n in e)i.call(e,n)&&t.push(n);return t};t.exports={isArray:function(e){try{return"[object Array]"===o.call(e)}catch(e){return!1}},keys:s,names:s,defineProperty:function(e,t,n){return e[t]=n.value,e},getDescriptor:function(e,t){return{value:e[t]}},freeze:function(e){return e},getPrototypeOf:function(e){try{return Object(e).constructor.prototype}catch(e){return a}},isES5:r,propertyIsWritable:function(){return!0}}}},{}],14:[function(e,t,n){"use strict";t.exports=function(e,t){var n=e.map;e.prototype.filter=function(e,r){return n(this,e,r,t)},e.filter=function(e,r,i){return n(e,r,i,t)}}},{}],15:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=t.CancellationError,a=i.errorObj,s=e("./catch_filter")(r);function u(e,t,n){this.promise=e,this.type=t,this.handler=n,this.called=!1,this.cancelPromise=null}function c(e){this.finallyHandler=e}function l(e,t){return null!=e.cancelPromise&&(arguments.length>1?e.cancelPromise._reject(t):e.cancelPromise._cancel(),e.cancelPromise=null,!0)}function f(){return h.call(this,this.promise._target()._settledValue())}function p(e){if(!l(this,e))return a.e=e,a}function h(e){var i=this.promise,s=this.handler;if(!this.called){this.called=!0;var u=this.isFinallyHandler()?s.call(i._boundValue()):s.call(i._boundValue(),e);if(u===r)return u;if(void 0!==u){i._setReturnedNonUndefined();var h=n(u,i);if(h instanceof t){if(null!=this.cancelPromise){if(h._isCancelled()){var d=new o("late cancellation observer");return i._attachExtraTrace(d),a.e=d,a}h.isPending()&&h._attachCancellationCallback(new c(this))}return h._then(f,p,void 0,this,void 0)}}}return i.isRejected()?(l(this),a.e=e,a):(l(this),e)}return u.prototype.isFinallyHandler=function(){return 0===this.type},c.prototype._resultCancelled=function(){l(this.finallyHandler)},t.prototype._passThrough=function(e,t,n,r){return"function"!=typeof e?this.then():this._then(n,r,void 0,new u(this,t,e),void 0)},t.prototype.lastly=t.prototype.finally=function(e){return this._passThrough(e,0,h,h)},t.prototype.tap=function(e){return this._passThrough(e,1,h)},t.prototype.tapCatch=function(e){var n=arguments.length;if(1===n)return this._passThrough(e,1,void 0,h);var r,o=new Array(n-1),a=0;for(r=0;r<n-1;++r){var u=arguments[r];if(!i.isObject(u))return t.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+i.classString(u)));o[a++]=u}o.length=a;var c=arguments[r];return this._passThrough(s(o,c,this),1,void 0,h)},u}},{"./catch_filter":7,"./util":36}],16:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./errors").TypeError,u=e("./util"),c=u.errorObj,l=u.tryCatch,f=[];function p(e,n,i,o){if(a.cancellation()){var s=new t(r),u=this._finallyPromise=new t(r);this._promise=s.lastly((function(){return u})),s._captureStackTrace(),s._setOnCancel(this)}else(this._promise=new t(r))._captureStackTrace();this._stack=o,this._generatorFunction=e,this._receiver=n,this._generator=void 0,this._yieldHandlers="function"==typeof i?[i].concat(f):f,this._yieldedPromise=null,this._cancellationPhase=!1}u.inherits(p,o),p.prototype._isResolved=function(){return null===this._promise},p.prototype._cleanup=function(){this._promise=this._generator=null,a.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},p.prototype._promiseCancelled=function(){if(!this._isResolved()){var e;if(void 0!==this._generator.return)this._promise._pushContext(),e=l(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var n=new t.CancellationError("generator .return() sentinel");t.coroutine.returnSentinel=n,this._promise._attachExtraTrace(n),this._promise._pushContext(),e=l(this._generator.throw).call(this._generator,n),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(e)}},p.prototype._promiseFulfilled=function(e){this._yieldedPromise=null,this._promise._pushContext();var t=l(this._generator.next).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._promiseRejected=function(e){this._yieldedPromise=null,this._promise._attachExtraTrace(e),this._promise._pushContext();var t=l(this._generator.throw).call(this._generator,e);this._promise._popContext(),this._continue(t)},p.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof t){var e=this._yieldedPromise;this._yieldedPromise=null,e.cancel()}},p.prototype.promise=function(){return this._promise},p.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},p.prototype._continue=function(e){var n=this._promise;if(e===c)return this._cleanup(),this._cancellationPhase?n.cancel():n._rejectCallback(e.e,!1);var r=e.value;if(!0===e.done)return this._cleanup(),this._cancellationPhase?n.cancel():n._resolveCallback(r);var o=i(r,this._promise);if(o instanceof t||null!==(o=function(e,n,r){for(var o=0;o<n.length;++o){r._pushContext();var a=l(n[o])(e);if(r._popContext(),a===c){r._pushContext();var s=t.reject(c.e);return r._popContext(),s}var u=i(a,r);if(u instanceof t)return u}return null}(o,this._yieldHandlers,this._promise))){var a=(o=o._target())._bitField;0==(50397184&a)?(this._yieldedPromise=o,o._proxy(this,null)):0!=(33554432&a)?t._async.invoke(this._promiseFulfilled,this,o._value()):0!=(16777216&a)?t._async.invoke(this._promiseRejected,this,o._reason()):this._promiseCancelled()}else this._promiseRejected(new s("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",String(r))+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")))},t.coroutine=function(e,t){if("function"!=typeof e)throw new s("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var n=Object(t).yieldHandler,r=p,i=(new Error).stack;return function(){var t=e.apply(this,arguments),o=new r(void 0,void 0,n,i),a=o.promise();return o._generator=t,o._promiseFulfilled(void 0),a}},t.coroutine.addYieldHandler=function(e){if("function"!=typeof e)throw new s("expecting a function but got "+u.classString(e));f.push(e)},t.spawn=function(e){if(a.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof e)return n("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var r=new p(e,this),i=r.promise();return r._run(t.spawn),i}}},{"./errors":12,"./util":36}],17:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util");s.canEvaluate,s.tryCatch,s.errorObj,t.join=function(){var e,t=arguments.length-1;t>0&&"function"==typeof arguments[t]&&(e=arguments[t]);var r=[].slice.call(arguments);e&&r.pop();var i=new n(r).promise();return void 0!==e?i.spread(e):i}}},{"./util":36}],18:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=t._getDomain,u=e("./util"),l=u.tryCatch,f=u.errorObj,p=t._async;function h(e,t,n,r){this.constructor$(e),this._promise._captureStackTrace();var i=s();this._callback=null===i?t:u.domainBind(i,t),this._preservedValues=r===o?new Array(this.length()):null,this._limit=n,this._inFlight=0,this._queue=[],p.invoke(this._asyncInit,this,void 0)}function d(e,n,i,o){if("function"!=typeof n)return r("expecting a function but got "+u.classString(n));var a=0;if(void 0!==i){if("object"!==c(i)||null===i)return t.reject(new TypeError("options argument must be an object but it is "+u.classString(i)));if("number"!=typeof i.concurrency)return t.reject(new TypeError("'concurrency' must be a number but it is "+u.classString(i.concurrency)));a=i.concurrency}return new h(e,n,a="number"==typeof a&&isFinite(a)&&a>=1?a:0,o).promise()}u.inherits(h,n),h.prototype._asyncInit=function(){this._init$(void 0,-2)},h.prototype._init=function(){},h.prototype._promiseFulfilled=function(e,n){var r=this._values,o=this.length(),s=this._preservedValues,u=this._limit;if(n<0){if(r[n=-1*n-1]=e,u>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(u>=1&&this._inFlight>=u)return r[n]=e,this._queue.push(n),!1;null!==s&&(s[n]=e);var c=this._promise,p=this._callback,h=c._boundValue();c._pushContext();var d=l(p).call(h,e,n,o),m=c._popContext();if(a.checkForgottenReturns(d,m,null!==s?"Promise.filter":"Promise.map",c),d===f)return this._reject(d.e),!0;var v=i(d,this._promise);if(v instanceof t){var y=(v=v._target())._bitField;if(0==(50397184&y))return u>=1&&this._inFlight++,r[n]=v,v._proxy(this,-1*(n+1)),!1;if(0==(33554432&y))return 0!=(16777216&y)?(this._reject(v._reason()),!0):(this._cancel(),!0);d=v._value()}r[n]=d}return++this._totalResolved>=o&&(null!==s?this._filter(r,s):this._resolve(r),!0)},h.prototype._drainQueue=function(){for(var e=this._queue,t=this._limit,n=this._values;e.length>0&&this._inFlight<t;){if(this._isResolved())return;var r=e.pop();this._promiseFulfilled(n[r],r)}},h.prototype._filter=function(e,t){for(var n=t.length,r=new Array(n),i=0,o=0;o<n;++o)e[o]&&(r[i++]=t[o]);r.length=i,this._resolve(r)},h.prototype.preservedValues=function(){return this._preservedValues},t.prototype.map=function(e,t){return d(this,e,t,null)},t.map=function(e,t,n,r){return d(e,t,n,r)}}},{"./util":36}],19:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util"),s=a.tryCatch;t.method=function(e){if("function"!=typeof e)throw new t.TypeError("expecting a function but got "+a.classString(e));return function(){var r=new t(n);r._captureStackTrace(),r._pushContext();var i=s(e).apply(this,arguments),a=r._popContext();return o.checkForgottenReturns(i,a,"Promise.method",r),r._resolveFromSyncValue(i),r}},t.attempt=t.try=function(e){if("function"!=typeof e)return i("expecting a function but got "+a.classString(e));var r,u=new t(n);if(u._captureStackTrace(),u._pushContext(),arguments.length>1){o.deprecated("calling Promise.try with more than 1 argument");var c=arguments[1],l=arguments[2];r=a.isArray(c)?s(e).apply(l,c):s(e).call(l,c)}else r=s(e)();var f=u._popContext();return o.checkForgottenReturns(r,f,"Promise.try",u),u._resolveFromSyncValue(r),u},t.prototype._resolveFromSyncValue=function(e){e===a.errorObj?this._rejectCallback(e.e,!1):this._resolveCallback(e,!0)}}},{"./util":36}],20:[function(e,t,n){"use strict";var r=e("./util"),i=r.maybeWrapAsError,o=e("./errors").OperationalError,a=e("./es5"),s=/^(?:name|message|stack|cause)$/;function u(e){var t;if(function(e){return e instanceof Error&&a.getPrototypeOf(e)===Error.prototype}(e)){(t=new o(e)).name=e.name,t.message=e.message,t.stack=e.stack;for(var n=a.keys(e),i=0;i<n.length;++i){var u=n[i];s.test(u)||(t[u]=e[u])}return t}return r.markAsOriginatingFromRejection(e),e}t.exports=function(e,t){return function(n,r){if(null!==e){if(n){var o=u(i(n));e._attachExtraTrace(o),e._reject(o)}else if(t){var a=[].slice.call(arguments,1);e._fulfill(a)}else e._fulfill(r);e=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(e,t,n){"use strict";t.exports=function(t){var n=e("./util"),r=t._async,i=n.tryCatch,o=n.errorObj;function a(e,t){if(!n.isArray(e))return s.call(this,e,t);var a=i(t).apply(this._boundValue(),[null].concat(e));a===o&&r.throwLater(a.e)}function s(e,t){var n=this._boundValue(),a=void 0===e?i(t).call(n,null):i(t).call(n,null,e);a===o&&r.throwLater(a.e)}function u(e,t){if(!e){var n=new Error(e+"");n.cause=e,e=n}var a=i(t).call(this._boundValue(),e);a===o&&r.throwLater(a.e)}t.prototype.asCallback=t.prototype.nodeify=function(e,t){if("function"==typeof e){var n=s;void 0!==t&&Object(t).spread&&(n=a),this._then(n,u,void 0,this,e)}return this}}},{"./util":36}],22:[function(e,t,r){"use strict";t.exports=function(){var r=function(){return new d("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},i=function(){return new A.PromiseInspection(this._target())},o=function(e){return A.reject(new d(e))};function a(){}var s,u={},c=e("./util");s=c.isNode?function(){var e=n.domain;return void 0===e&&(e=null),e}:function(){return null},c.notEnumerableProp(A,"_getDomain",s);var l=e("./es5"),f=e("./async"),p=new f;l.defineProperty(A,"_async",{value:p});var h=e("./errors"),d=A.TypeError=h.TypeError;A.RangeError=h.RangeError;var m=A.CancellationError=h.CancellationError;A.TimeoutError=h.TimeoutError,A.OperationalError=h.OperationalError,A.RejectionError=h.OperationalError,A.AggregateError=h.AggregateError;var v=function(){},y={},g={},b=e("./thenables")(A,v),_=e("./promise_array")(A,v,b,o,a),w=e("./context")(A),x=w.create,S=e("./debuggability")(A,w),E=(S.CapturedTrace,e("./finally")(A,b,g)),O=e("./catch_filter")(g),T=e("./nodeback"),M=c.errorObj,P=c.tryCatch;function A(e){e!==v&&function(e,t){if(null==e||e.constructor!==A)throw new d("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n");if("function"!=typeof t)throw new d("expecting a function but got "+c.classString(t))}(this,e),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(e),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function C(e){this.promise._resolveCallback(e)}function k(e){this.promise._rejectCallback(e,!1)}function j(e){var t=new A(v);t._fulfillmentHandler0=e,t._rejectionHandler0=e,t._promise0=e,t._receiver0=e}return A.prototype.toString=function(){return"[object Promise]"},A.prototype.caught=A.prototype.catch=function(e){var t=arguments.length;if(t>1){var n,r=new Array(t-1),i=0;for(n=0;n<t-1;++n){var a=arguments[n];if(!c.isObject(a))return o("Catch statement predicate: expecting an object but got "+c.classString(a));r[i++]=a}return r.length=i,e=arguments[n],this.then(void 0,O(r,e,this))}return this.then(void 0,e)},A.prototype.reflect=function(){return this._then(i,i,void 0,this,void 0)},A.prototype.then=function(e,t){if(S.warnings()&&arguments.length>0&&"function"!=typeof e&&"function"!=typeof t){var n=".then() only accepts functions but was passed: "+c.classString(e);arguments.length>1&&(n+=", "+c.classString(t)),this._warn(n)}return this._then(e,t,void 0,void 0,void 0)},A.prototype.done=function(e,t){this._then(e,t,void 0,void 0,void 0)._setIsFinal()},A.prototype.spread=function(e){return"function"!=typeof e?o("expecting a function but got "+c.classString(e)):this.all()._then(e,void 0,void 0,y,void 0)},A.prototype.toJSON=function(){var e={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(e.fulfillmentValue=this.value(),e.isFulfilled=!0):this.isRejected()&&(e.rejectionReason=this.reason(),e.isRejected=!0),e},A.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new _(this).promise()},A.prototype.error=function(e){return this.caught(c.originatesFromRejection,e)},A.getNewLibraryCopy=t.exports,A.is=function(e){return e instanceof A},A.fromNode=A.fromCallback=function(e){var t=new A(v);t._captureStackTrace();var n=arguments.length>1&&!!Object(arguments[1]).multiArgs,r=P(e)(T(t,n));return r===M&&t._rejectCallback(r.e,!0),t._isFateSealed()||t._setAsyncGuaranteed(),t},A.all=function(e){return new _(e).promise()},A.cast=function(e){var t=b(e);return t instanceof A||((t=new A(v))._captureStackTrace(),t._setFulfilled(),t._rejectionHandler0=e),t},A.resolve=A.fulfilled=A.cast,A.reject=A.rejected=function(e){var t=new A(v);return t._captureStackTrace(),t._rejectCallback(e,!0),t},A.setScheduler=function(e){if("function"!=typeof e)throw new d("expecting a function but got "+c.classString(e));return p.setScheduler(e)},A.prototype._then=function(e,t,n,r,i){var o=void 0!==i,a=o?i:new A(v),u=this._target(),l=u._bitField;o||(a._propagateFrom(this,3),a._captureStackTrace(),void 0===r&&0!=(2097152&this._bitField)&&(r=0!=(50397184&l)?this._boundValue():u===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,a));var f=s();if(0!=(50397184&l)){var h,d,y=u._settlePromiseCtx;0!=(33554432&l)?(d=u._rejectionHandler0,h=e):0!=(16777216&l)?(d=u._fulfillmentHandler0,h=t,u._unsetRejectionIsUnhandled()):(y=u._settlePromiseLateCancellationObserver,d=new m("late cancellation observer"),u._attachExtraTrace(d),h=t),p.invoke(y,u,{handler:null===f?h:"function"==typeof h&&c.domainBind(f,h),promise:a,receiver:r,value:d})}else u._addCallbacks(e,t,a,r,f);return a},A.prototype._length=function(){return 65535&this._bitField},A.prototype._isFateSealed=function(){return 0!=(117506048&this._bitField)},A.prototype._isFollowing=function(){return 67108864==(67108864&this._bitField)},A.prototype._setLength=function(e){this._bitField=-65536&this._bitField|65535&e},A.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},A.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},A.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},A.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},A.prototype._isFinal=function(){return(4194304&this._bitField)>0},A.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},A.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},A.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},A.prototype._setAsyncGuaranteed=function(){p.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},A.prototype._receiverAt=function(e){var t=0===e?this._receiver0:this[4*e-4+3];if(t!==u)return void 0===t&&this._isBound()?this._boundValue():t},A.prototype._promiseAt=function(e){return this[4*e-4+2]},A.prototype._fulfillmentHandlerAt=function(e){return this[4*e-4+0]},A.prototype._rejectionHandlerAt=function(e){return this[4*e-4+1]},A.prototype._boundValue=function(){},A.prototype._migrateCallback0=function(e){e._bitField;var t=e._fulfillmentHandler0,n=e._rejectionHandler0,r=e._promise0,i=e._receiverAt(0);void 0===i&&(i=u),this._addCallbacks(t,n,r,i,null)},A.prototype._migrateCallbackAt=function(e,t){var n=e._fulfillmentHandlerAt(t),r=e._rejectionHandlerAt(t),i=e._promiseAt(t),o=e._receiverAt(t);void 0===o&&(o=u),this._addCallbacks(n,r,i,o,null)},A.prototype._addCallbacks=function(e,t,n,r,i){var o=this._length();if(o>=65531&&(o=0,this._setLength(0)),0===o)this._promise0=n,this._receiver0=r,"function"==typeof e&&(this._fulfillmentHandler0=null===i?e:c.domainBind(i,e)),"function"==typeof t&&(this._rejectionHandler0=null===i?t:c.domainBind(i,t));else{var a=4*o-4;this[a+2]=n,this[a+3]=r,"function"==typeof e&&(this[a+0]=null===i?e:c.domainBind(i,e)),"function"==typeof t&&(this[a+1]=null===i?t:c.domainBind(i,t))}return this._setLength(o+1),o},A.prototype._proxy=function(e,t){this._addCallbacks(void 0,void 0,t,e,null)},A.prototype._resolveCallback=function(e,t){if(0==(117506048&this._bitField)){if(e===this)return this._rejectCallback(r(),!1);var n=b(e,this);if(!(n instanceof A))return this._fulfill(e);t&&this._propagateFrom(n,2);var i=n._target();if(i!==this){var o=i._bitField;if(0==(50397184&o)){var a=this._length();a>0&&i._migrateCallback0(this);for(var s=1;s<a;++s)i._migrateCallbackAt(this,s);this._setFollowing(),this._setLength(0),this._setFollowee(i)}else if(0!=(33554432&o))this._fulfill(i._value());else if(0!=(16777216&o))this._reject(i._reason());else{var u=new m("late cancellation observer");i._attachExtraTrace(u),this._reject(u)}}else this._reject(r())}},A.prototype._rejectCallback=function(e,t,n){var r=c.ensureErrorObject(e),i=r===e;if(!i&&!n&&S.warnings()){var o="a promise was rejected with a non-error: "+c.classString(e);this._warn(o,!0)}this._attachExtraTrace(r,!!t&&i),this._reject(e)},A.prototype._resolveFromExecutor=function(e){if(e!==v){var t=this;this._captureStackTrace(),this._pushContext();var n=!0,r=this._execute(e,(function(e){t._resolveCallback(e)}),(function(e){t._rejectCallback(e,n)}));n=!1,this._popContext(),void 0!==r&&t._rejectCallback(r,!0)}},A.prototype._settlePromiseFromHandler=function(e,t,n,r){var i=r._bitField;if(0==(65536&i)){var o;r._pushContext(),t===y?n&&"number"==typeof n.length?o=P(e).apply(this._boundValue(),n):(o=M).e=new d("cannot .spread() a non-array: "+c.classString(n)):o=P(e).call(t,n);var a=r._popContext();0==(65536&(i=r._bitField))&&(o===g?r._reject(n):o===M?r._rejectCallback(o.e,!1):(S.checkForgottenReturns(o,a,"",r,this),r._resolveCallback(o)))}},A.prototype._target=function(){for(var e=this;e._isFollowing();)e=e._followee();return e},A.prototype._followee=function(){return this._rejectionHandler0},A.prototype._setFollowee=function(e){this._rejectionHandler0=e},A.prototype._settlePromise=function(e,t,n,r){var o=e instanceof A,s=this._bitField,u=0!=(134217728&s);0!=(65536&s)?(o&&e._invokeInternalOnCancel(),n instanceof E&&n.isFinallyHandler()?(n.cancelPromise=e,P(t).call(n,r)===M&&e._reject(M.e)):t===i?e._fulfill(i.call(n)):n instanceof a?n._promiseCancelled(e):o||e instanceof _?e._cancel():n.cancel()):"function"==typeof t?o?(u&&e._setAsyncGuaranteed(),this._settlePromiseFromHandler(t,n,r,e)):t.call(n,r,e):n instanceof a?n._isResolved()||(0!=(33554432&s)?n._promiseFulfilled(r,e):n._promiseRejected(r,e)):o&&(u&&e._setAsyncGuaranteed(),0!=(33554432&s)?e._fulfill(r):e._reject(r))},A.prototype._settlePromiseLateCancellationObserver=function(e){var t=e.handler,n=e.promise,r=e.receiver,i=e.value;"function"==typeof t?n instanceof A?this._settlePromiseFromHandler(t,r,i,n):t.call(r,i,n):n instanceof A&&n._reject(i)},A.prototype._settlePromiseCtx=function(e){this._settlePromise(e.promise,e.handler,e.receiver,e.value)},A.prototype._settlePromise0=function(e,t,n){var r=this._promise0,i=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(r,e,i,t)},A.prototype._clearCallbackDataAtIndex=function(e){var t=4*e-4;this[t+2]=this[t+3]=this[t+0]=this[t+1]=void 0},A.prototype._fulfill=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(e===this){var n=r();return this._attachExtraTrace(n),this._reject(n)}this._setFulfilled(),this._rejectionHandler0=e,(65535&t)>0&&(0!=(134217728&t)?this._settlePromises():p.settlePromises(this))}},A.prototype._reject=function(e){var t=this._bitField;if(!((117506048&t)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=e,this._isFinal())return p.fatalError(e,c.isNode);(65535&t)>0?p.settlePromises(this):this._ensurePossibleRejectionHandled()}},A.prototype._fulfillPromises=function(e,t){for(var n=1;n<e;n++){var r=this._fulfillmentHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},A.prototype._rejectPromises=function(e,t){for(var n=1;n<e;n++){var r=this._rejectionHandlerAt(n),i=this._promiseAt(n),o=this._receiverAt(n);this._clearCallbackDataAtIndex(n),this._settlePromise(i,r,o,t)}},A.prototype._settlePromises=function(){var e=this._bitField,t=65535&e;if(t>0){if(0!=(16842752&e)){var n=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,n,e),this._rejectPromises(t,n)}else{var r=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,r,e),this._fulfillPromises(t,r)}this._setLength(0)}this._clearCancellationData()},A.prototype._settledValue=function(){var e=this._bitField;return 0!=(33554432&e)?this._rejectionHandler0:0!=(16777216&e)?this._fulfillmentHandler0:void 0},A.defer=A.pending=function(){return S.deprecated("Promise.defer","new Promise"),{promise:new A(v),resolve:C,reject:k}},c.notEnumerableProp(A,"_makeSelfResolutionError",r),e("./method")(A,v,b,o,S),e("./bind")(A,v,b,S),e("./cancel")(A,_,o,S),e("./direct_resolve")(A),e("./synchronous_inspection")(A),e("./join")(A,_,b,v,p,s),A.Promise=A,A.version="3.5.1",e("./map.js")(A,_,o,b,v,S),e("./call_get.js")(A),e("./using.js")(A,o,b,x,v,S),e("./timers.js")(A,v,S),e("./generators.js")(A,o,v,b,a,S),e("./nodeify.js")(A),e("./promisify.js")(A,v),e("./props.js")(A,_,b,o),e("./race.js")(A,v,b,o),e("./reduce.js")(A,_,o,b,v,S),e("./settle.js")(A,_,S),e("./some.js")(A,_,o),e("./filter.js")(A,v),e("./each.js")(A,v),e("./any.js")(A),c.toFastProperties(A),c.toFastProperties(A.prototype),j({a:1}),j({b:2}),j({c:3}),j(1),j((function(){})),j(void 0),j(!1),j(new A(v)),S.setBounds(f.firstLineError,c.lastLineError),A}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o){var a=e("./util");function s(e){var r=this._promise=new t(n);e instanceof t&&r._propagateFrom(e,3),r._setOnCancel(this),this._values=e,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return a.isArray,a.inherits(s,o),s.prototype.length=function(){return this._length},s.prototype.promise=function(){return this._promise},s.prototype._init=function e(n,o){var s=r(this._values,this._promise);if(s instanceof t){var u=(s=s._target())._bitField;if(this._values=s,0==(50397184&u))return this._promise._setAsyncGuaranteed(),s._then(e,this._reject,void 0,this,o);if(0==(33554432&u))return 0!=(16777216&u)?this._reject(s._reason()):this._cancel();s=s._value()}if(null!==(s=a.asArray(s)))0!==s.length?this._iterate(s):-5===o?this._resolveEmptyArray():this._resolve(function(e){switch(e){case-2:return[];case-3:return{};case-6:return new Map}}(o));else{var c=i("expecting an array or an iterable object but got "+a.classString(s)).reason();this._promise._rejectCallback(c,!1)}},s.prototype._iterate=function(e){var n=this.getActualLength(e.length);this._length=n,this._values=this.shouldCopyValues()?new Array(n):this._values;for(var i=this._promise,o=!1,a=null,s=0;s<n;++s){var u=r(e[s],i);a=u instanceof t?(u=u._target())._bitField:null,o?null!==a&&u.suppressUnhandledRejections():null!==a?0==(50397184&a)?(u._proxy(this,s),this._values[s]=u):o=0!=(33554432&a)?this._promiseFulfilled(u._value(),s):0!=(16777216&a)?this._promiseRejected(u._reason(),s):this._promiseCancelled(s):o=this._promiseFulfilled(u,s)}o||i._setAsyncGuaranteed()},s.prototype._isResolved=function(){return null===this._values},s.prototype._resolve=function(e){this._values=null,this._promise._fulfill(e)},s.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},s.prototype._reject=function(e){this._values=null,this._promise._rejectCallback(e,!1)},s.prototype._promiseFulfilled=function(e,t){return this._values[t]=e,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},s.prototype._promiseCancelled=function(){return this._cancel(),!0},s.prototype._promiseRejected=function(e){return this._totalResolved++,this._reject(e),!0},s.prototype._resultCancelled=function(){if(!this._isResolved()){var e=this._values;if(this._cancel(),e instanceof t)e.cancel();else for(var n=0;n<e.length;++n)e[n]instanceof t&&e[n].cancel()}},s.prototype.shouldCopyValues=function(){return!0},s.prototype.getActualLength=function(e){return e},s}},{"./util":36}],24:[function(e,t,n){"use strict";t.exports=function(t,n){var r={},i=e("./util"),o=e("./nodeback"),a=i.withAppended,s=i.maybeWrapAsError,u=i.canEvaluate,l=e("./errors").TypeError,f={__isPromisified__:!0},p=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),h=function(e){return i.isIdentifier(e)&&"_"!==e.charAt(0)&&"constructor"!==e};function d(e){return!p.test(e)}function m(e){try{return!0===e.__isPromisified__}catch(e){return!1}}function v(e,t,n){var r=i.getDataPropertyOrDefault(e,t+n,f);return!!r&&m(r)}function y(e,t,n,r){for(var o=i.inheritedDataKeys(e),a=[],s=0;s<o.length;++s){var u=o[s],c=e[u],f=r===h||h(u);"function"!=typeof c||m(c)||v(e,u,t)||!r(u,c,e,f)||a.push(u,c)}return function(e,t,n){for(var r=0;r<e.length;r+=2){var i=e[r];if(n.test(i))for(var o=i.replace(n,""),a=0;a<e.length;a+=2)if(e[a]===o)throw new l("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",t))}}(a,t,n),a}var g=u?void 0:function(e,u,c,l,f,p){var h=function(){return this}(),d=e;function m(){var i=u;u===r&&(i=this);var c=new t(n);c._captureStackTrace();var l="string"==typeof d&&this!==h?this[d]:e,f=o(c,p);try{l.apply(i,a(arguments,f))}catch(e){c._rejectCallback(s(e),!0,!0)}return c._isFateSealed()||c._setAsyncGuaranteed(),c}return"string"==typeof d&&(e=l),i.notEnumerableProp(m,"__isPromisified__",!0),m};function b(e,t,n,o,a){for(var s=new RegExp(t.replace(/([$])/,"\\$")+"$"),u=y(e,t,s,n),c=0,l=u.length;c<l;c+=2){var f=u[c],p=u[c+1],h=f+t;if(o===g)e[h]=g(f,r,f,p,t,a);else{var d=o(p,(function(){return g(f,r,f,p,t,a)}));i.notEnumerableProp(d,"__isPromisified__",!0),e[h]=d}}return i.toFastProperties(e),e}t.promisify=function(e,t){if("function"!=typeof e)throw new l("expecting a function but got "+i.classString(e));if(m(e))return e;var n=function(e,t,n){return g(e,t,void 0,e,null,n)}(e,void 0===(t=Object(t)).context?r:t.context,!!t.multiArgs);return i.copyDescriptors(e,n,d),n},t.promisifyAll=function(e,t){if("function"!=typeof e&&"object"!==c(e))throw new l("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");var n=!!(t=Object(t)).multiArgs,r=t.suffix;"string"!=typeof r&&(r="Async");var o=t.filter;"function"!=typeof o&&(o=h);var a=t.promisifier;if("function"!=typeof a&&(a=g),!i.isIdentifier(r))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var s=i.inheritedDataKeys(e),u=0;u<s.length;++u){var f=e[s[u]];"constructor"!==s[u]&&i.isClass(f)&&(b(f.prototype,r,o,a,n),b(f,r,o,a,n))}return b(e,r,o,a,n)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o,a=e("./util"),s=a.isObject,u=e("./es5");"function"==typeof Map&&(o=Map);var c=function(){var e=0,t=0;function n(n,r){this[e]=n,this[e+t]=r,e++}return function(r){t=r.size,e=0;var i=new Array(2*r.size);return r.forEach(n,i),i}}();function l(e){var t,n=!1;if(void 0!==o&&e instanceof o)t=c(e),n=!0;else{var r=u.keys(e),i=r.length;t=new Array(2*i);for(var a=0;a<i;++a){var s=r[a];t[a]=e[s],t[a+i]=s}}this.constructor$(t),this._isMap=n,this._init$(void 0,n?-6:-3)}function f(e){var n,o=r(e);return s(o)?(n=o instanceof t?o._then(t.props,void 0,void 0,void 0,void 0):new l(o).promise(),o instanceof t&&n._propagateFrom(o,2),n):i("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}a.inherits(l,n),l.prototype._init=function(){},l.prototype._promiseFulfilled=function(e,t){if(this._values[t]=e,++this._totalResolved>=this._length){var n;if(this._isMap)n=function(e){for(var t=new o,n=e.length/2|0,r=0;r<n;++r){var i=e[n+r],a=e[r];t.set(i,a)}return t}(this._values);else{n={};for(var r=this.length(),i=0,a=this.length();i<a;++i)n[this._values[i+r]]=this._values[i]}return this._resolve(n),!0}return!1},l.prototype.shouldCopyValues=function(){return!1},l.prototype.getActualLength=function(e){return e>>1},t.prototype.props=function(){return f(this)},t.props=function(e){return f(e)}}},{"./es5":13,"./util":36}],26:[function(e,t,n){"use strict";function r(e){this._capacity=e,this._length=0,this._front=0}r.prototype._willBeOverCapacity=function(e){return this._capacity<e},r.prototype._pushOne=function(e){var t=this.length();this._checkCapacity(t+1),this[this._front+t&this._capacity-1]=e,this._length=t+1},r.prototype.push=function(e,t,n){var r=this.length()+3;if(this._willBeOverCapacity(r))return this._pushOne(e),this._pushOne(t),void this._pushOne(n);var i=this._front+r-3;this._checkCapacity(r);var o=this._capacity-1;this[i+0&o]=e,this[i+1&o]=t,this[i+2&o]=n,this._length=r},r.prototype.shift=function(){var e=this._front,t=this[e];return this[e]=void 0,this._front=e+1&this._capacity-1,this._length--,t},r.prototype.length=function(){return this._length},r.prototype._checkCapacity=function(e){this._capacity<e&&this._resizeTo(this._capacity<<1)},r.prototype._resizeTo=function(e){var t=this._capacity;this._capacity=e,function(e,t,n,r,i){for(var o=0;o<i;++o)n[o+r]=e[o+0],e[o+0]=void 0}(this,0,this,t,this._front+this._length&t-1)},t.exports=r},{}],27:[function(e,t,n){"use strict";t.exports=function(t,n,r,i){var o=e("./util");function a(e,s){var u,c=r(e);if(c instanceof t)return(u=c).then((function(e){return a(e,u)}));if(null===(e=o.asArray(e)))return i("expecting an array or an iterable object but got "+o.classString(e));var l=new t(n);void 0!==s&&l._propagateFrom(s,3);for(var f=l._fulfill,p=l._reject,h=0,d=e.length;h<d;++h){var m=e[h];(void 0!==m||h in e)&&t.cast(m)._then(f,p,void 0,l,null)}return l}t.race=function(e){return a(e,void 0)},t.prototype.race=function(){return a(this,void 0)}}},{"./util":36}],28:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=t._getDomain,u=e("./util"),c=u.tryCatch;function l(e,n,r,i){this.constructor$(e);var a=s();this._fn=null===a?n:u.domainBind(a,n),void 0!==r&&(r=t.resolve(r))._attachCancellationCallback(this),this._initialValue=r,this._currentCancellable=null,this._eachValues=i===o?Array(this._length):0===i?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function f(e,t){this.isFulfilled()?t._resolve(e):t._reject(e)}function p(e,t,n,i){return"function"!=typeof t?r("expecting a function but got "+u.classString(t)):new l(e,t,n,i).promise()}function h(e){this.accum=e,this.array._gotAccum(e);var n=i(this.value,this.array._promise);return n instanceof t?(this.array._currentCancellable=n,n._then(d,void 0,void 0,this,void 0)):d.call(this,n)}function d(e){var n,r=this.array,i=r._promise,o=c(r._fn);i._pushContext(),(n=void 0!==r._eachValues?o.call(i._boundValue(),e,this.index,this.length):o.call(i._boundValue(),this.accum,e,this.index,this.length))instanceof t&&(r._currentCancellable=n);var s=i._popContext();return a.checkForgottenReturns(n,s,void 0!==r._eachValues?"Promise.each":"Promise.reduce",i),n}u.inherits(l,n),l.prototype._gotAccum=function(e){void 0!==this._eachValues&&null!==this._eachValues&&e!==o&&this._eachValues.push(e)},l.prototype._eachComplete=function(e){return null!==this._eachValues&&this._eachValues.push(e),this._eachValues},l.prototype._init=function(){},l.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},l.prototype.shouldCopyValues=function(){return!1},l.prototype._resolve=function(e){this._promise._resolveCallback(e),this._values=null},l.prototype._resultCancelled=function(e){if(e===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof t&&this._currentCancellable.cancel(),this._initialValue instanceof t&&this._initialValue.cancel())},l.prototype._iterate=function(e){var n,r;this._values=e;var i=e.length;if(void 0!==this._initialValue?(n=this._initialValue,r=0):(n=t.resolve(e[0]),r=1),this._currentCancellable=n,!n.isRejected())for(;r<i;++r){var o={accum:null,value:e[r],index:r,length:i,array:this};n=n._then(h,void 0,void 0,o,void 0)}void 0!==this._eachValues&&(n=n._then(this._eachComplete,void 0,void 0,this,void 0)),n._then(f,f,void 0,n,this)},t.prototype.reduce=function(e,t){return p(this,e,t,null)},t.reduce=function(e,t,n,r){return p(e,t,n,r)}}},{"./util":36}],29:[function(e,t,o){"use strict";var a,s,u,c,l,f=e("./util"),p=f.getNativePromise();if(f.isNode&&"undefined"==typeof MutationObserver){var h=r.setImmediate,d=n.nextTick;a=f.isRecentNode?function(e){h.call(r,e)}:function(e){d.call(n,e)}}else if("function"==typeof p&&"function"==typeof p.resolve){var m=p.resolve();a=function(e){m.then(e)}}else a="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?void 0!==i?function(e){i(e)}:"undefined"!=typeof setTimeout?function(e){setTimeout(e,0)}:function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}:(s=document.createElement("div"),u={attributes:!0},c=!1,l=document.createElement("div"),new MutationObserver((function(){s.classList.toggle("foo"),c=!1})).observe(l,u),function(e){var t=new MutationObserver((function(){t.disconnect(),e()}));t.observe(s,u),c||(c=!0,l.classList.toggle("foo"))});t.exports=a},{"./util":36}],30:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=t.PromiseInspection;function o(e){this.constructor$(e)}e("./util").inherits(o,n),o.prototype._promiseResolved=function(e,t){return this._values[e]=t,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},o.prototype._promiseFulfilled=function(e,t){var n=new i;return n._bitField=33554432,n._settledValueField=e,this._promiseResolved(t,n)},o.prototype._promiseRejected=function(e,t){var n=new i;return n._bitField=16777216,n._settledValueField=e,this._promiseResolved(t,n)},t.settle=function(e){return r.deprecated(".settle()",".reflect()"),new o(e).promise()},t.prototype.settle=function(){return t.settle(this)}}},{"./util":36}],31:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=e("./errors").RangeError,a=e("./errors").AggregateError,s=i.isArray,u={};function c(e){this.constructor$(e),this._howMany=0,this._unwrap=!1,this._initialized=!1}function l(e,t){if((0|t)!==t||t<0)return r("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var n=new c(e),i=n.promise();return n.setHowMany(t),n.init(),i}i.inherits(c,n),c.prototype._init=function(){if(this._initialized)if(0!==this._howMany){this._init$(void 0,-5);var e=s(this._values);!this._isResolved()&&e&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},c.prototype.init=function(){this._initialized=!0,this._init()},c.prototype.setUnwrap=function(){this._unwrap=!0},c.prototype.howMany=function(){return this._howMany},c.prototype.setHowMany=function(e){this._howMany=e},c.prototype._promiseFulfilled=function(e){return this._addFulfilled(e),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},c.prototype._promiseRejected=function(e){return this._addRejected(e),this._checkOutcome()},c.prototype._promiseCancelled=function(){return this._values instanceof t||null==this._values?this._cancel():(this._addRejected(u),this._checkOutcome())},c.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new a,t=this.length();t<this._values.length;++t)this._values[t]!==u&&e.push(this._values[t]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},c.prototype._fulfilled=function(){return this._totalResolved},c.prototype._rejected=function(){return this._values.length-this.length()},c.prototype._addRejected=function(e){this._values.push(e)},c.prototype._addFulfilled=function(e){this._values[this._totalResolved++]=e},c.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},c.prototype._getRangeError=function(e){var t="Input array must contain at least "+this._howMany+" items but contains only "+e+" items";return new o(t)},c.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},t.some=function(e,t){return l(e,t)},t.prototype.some=function(e){return l(this,e)},t._SomePromiseArray=c}},{"./errors":12,"./util":36}],32:[function(e,t,n){"use strict";t.exports=function(e){function t(e){void 0!==e?(e=e._target(),this._bitField=e._bitField,this._settledValueField=e._isFateSealed()?e._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}t.prototype._settledValue=function(){return this._settledValueField};var n=t.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},r=t.prototype.error=t.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},i=t.prototype.isFulfilled=function(){return 0!=(33554432&this._bitField)},o=t.prototype.isRejected=function(){return 0!=(16777216&this._bitField)},a=t.prototype.isPending=function(){return 0==(50397184&this._bitField)},s=t.prototype.isResolved=function(){return 0!=(50331648&this._bitField)};t.prototype.isCancelled=function(){return 0!=(8454144&this._bitField)},e.prototype.__isCancelled=function(){return 65536==(65536&this._bitField)},e.prototype._isCancelled=function(){return this._target().__isCancelled()},e.prototype.isCancelled=function(){return 0!=(8454144&this._target()._bitField)},e.prototype.isPending=function(){return a.call(this._target())},e.prototype.isRejected=function(){return o.call(this._target())},e.prototype.isFulfilled=function(){return i.call(this._target())},e.prototype.isResolved=function(){return s.call(this._target())},e.prototype.value=function(){return n.call(this._target())},e.prototype.reason=function(){var e=this._target();return e._unsetRejectionIsUnhandled(),r.call(e)},e.prototype._value=function(){return this._settledValue()},e.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},e.PromiseInspection=t}},{}],33:[function(e,t,n){"use strict";t.exports=function(t,n){var r=e("./util"),i=r.errorObj,o=r.isObject,a={}.hasOwnProperty;return function(e,s){if(o(e)){if(e instanceof t)return e;var u=function(e){try{return function(e){return e.then}(e)}catch(e){return i.e=e,i}}(e);if(u===i){s&&s._pushContext();var c=t.reject(u.e);return s&&s._popContext(),c}if("function"==typeof u)return function(e){try{return a.call(e,"_promise0")}catch(e){return!1}}(e)?(c=new t(n),e._then(c._fulfill,c._reject,void 0,c,null),c):function(e,o,a){var s=new t(n),u=s;a&&a._pushContext(),s._captureStackTrace(),a&&a._popContext();var c=r.tryCatch(o).call(e,(function(e){s&&(s._resolveCallback(e),s=null)}),(function(e){s&&(s._rejectCallback(e,!1,!0),s=null)}));return s&&c===i&&(s._rejectCallback(c.e,!0,!0),s=null),u}(e,u,s)}return e}}},{"./util":36}],34:[function(e,t,n){"use strict";t.exports=function(t,n,r){var i=e("./util"),o=t.TimeoutError;function a(e){this.handle=e}a.prototype._resultCancelled=function(){clearTimeout(this.handle)};var s=function(e){return u(+this).thenReturn(e)},u=t.delay=function(e,i){var o,u;return void 0!==i?(o=t.resolve(i)._then(s,null,null,e,void 0),r.cancellation()&&i instanceof t&&o._setOnCancel(i)):(o=new t(n),u=setTimeout((function(){o._fulfill()}),+e),r.cancellation()&&o._setOnCancel(new a(u)),o._captureStackTrace()),o._setAsyncGuaranteed(),o};function c(e){return clearTimeout(this.handle),e}function l(e){throw clearTimeout(this.handle),e}t.prototype.delay=function(e){return u(e,this)},t.prototype.timeout=function(e,t){var n,s;e=+e;var u=new a(setTimeout((function(){n.isPending()&&function(e,t,n){var r;r="string"!=typeof t?t instanceof Error?t:new o("operation timed out"):new o(t),i.markAsOriginatingFromRejection(r),e._attachExtraTrace(r),e._reject(r),null!=n&&n.cancel()}(n,t,s)}),e));return r.cancellation()?(s=this.then(),(n=s._then(c,l,void 0,u,void 0))._setOnCancel(u)):n=this._then(c,l,void 0,u,void 0),n}}},{"./util":36}],35:[function(e,t,n){"use strict";t.exports=function(t,n,r,i,o,a){var s=e("./util"),u=e("./errors").TypeError,c=e("./util").inherits,l=s.errorObj,f=s.tryCatch,p={};function h(e){setTimeout((function(){throw e}),0)}function d(e,n){var i=0,a=e.length,s=new t(o);return function o(){if(i>=a)return s._fulfill();var u=function(e){var t=r(e);return t!==e&&"function"==typeof e._isDisposable&&"function"==typeof e._getDisposer&&e._isDisposable()&&t._setDisposable(e._getDisposer()),t}(e[i++]);if(u instanceof t&&u._isDisposable()){try{u=r(u._getDisposer().tryDispose(n),e.promise)}catch(e){return h(e)}if(u instanceof t)return u._then(o,h,null,null,null)}o()}(),s}function m(e,t,n){this._data=e,this._promise=t,this._context=n}function v(e,t,n){this.constructor$(e,t,n)}function y(e){return m.isDisposer(e)?(this.resources[this.index]._setDisposable(e),e.promise()):e}function g(e){this.length=e,this.promise=null,this[e-1]=null}m.prototype.data=function(){return this._data},m.prototype.promise=function(){return this._promise},m.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():p},m.prototype.tryDispose=function(e){var t=this.resource(),n=this._context;void 0!==n&&n._pushContext();var r=t!==p?this.doDispose(t,e):null;return void 0!==n&&n._popContext(),this._promise._unsetDisposable(),this._data=null,r},m.isDisposer=function(e){return null!=e&&"function"==typeof e.resource&&"function"==typeof e.tryDispose},c(v,m),v.prototype.doDispose=function(e,t){return this.data().call(e,e,t)},g.prototype._resultCancelled=function(){for(var e=this.length,n=0;n<e;++n){var r=this[n];r instanceof t&&r.cancel()}},t.using=function(){var e=arguments.length;if(e<2)return n("you must pass at least 2 arguments to Promise.using");var i,o=arguments[e-1];if("function"!=typeof o)return n("expecting a function but got "+s.classString(o));var u=!0;2===e&&Array.isArray(arguments[0])?(e=(i=arguments[0]).length,u=!1):(i=arguments,e--);for(var c=new g(e),p=0;p<e;++p){var h=i[p];if(m.isDisposer(h)){var v=h;(h=h.promise())._setDisposable(v)}else{var b=r(h);b instanceof t&&(h=b._then(y,null,null,{resources:c,index:p},void 0))}c[p]=h}var _=new Array(c.length);for(p=0;p<_.length;++p)_[p]=t.resolve(c[p]).reflect();var w=t.all(_).then((function(e){for(var t=0;t<e.length;++t){var n=e[t];if(n.isRejected())return l.e=n.error(),l;if(!n.isFulfilled())return void w.cancel();e[t]=n.value()}x._pushContext(),o=f(o);var r=u?o.apply(void 0,e):o(e),i=x._popContext();return a.checkForgottenReturns(r,i,"Promise.using",x),r})),x=w.lastly((function(){var e=new t.PromiseInspection(w);return d(c,e)}));return c.promise=x,x._setOnCancel(c),x},t.prototype._setDisposable=function(e){this._bitField=131072|this._bitField,this._disposer=e},t.prototype._isDisposable=function(){return(131072&this._bitField)>0},t.prototype._getDisposer=function(){return this._disposer},t.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},t.prototype.disposer=function(e){if("function"==typeof e)return new v(e,this,i());throw new u}}},{"./errors":12,"./util":36}],36:[function(e,t,i){"use strict";var o,a=e("./es5"),s="undefined"==typeof navigator,u={e:{}},l="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:void 0!==this?this:null;function f(){try{var e=o;return o=null,e.apply(this,arguments)}catch(e){return u.e=e,u}}function p(e){return null==e||!0===e||!1===e||"string"==typeof e||"number"==typeof e}function h(e,t,n){if(p(e))return e;var r={value:n,configurable:!0,enumerable:!1,writable:!0};return a.defineProperty(e,t,r),e}var d=function(){var e=[Array.prototype,Object.prototype,Function.prototype],t=function(t){for(var n=0;n<e.length;++n)if(e[n]===t)return!0;return!1};if(a.isES5){var n=Object.getOwnPropertyNames;return function(e){for(var r=[],i=Object.create(null);null!=e&&!t(e);){var o;try{o=n(e)}catch(e){return r}for(var s=0;s<o.length;++s){var u=o[s];if(!i[u]){i[u]=!0;var c=Object.getOwnPropertyDescriptor(e,u);null!=c&&null==c.get&&null==c.set&&r.push(u)}}e=a.getPrototypeOf(e)}return r}}var r={}.hasOwnProperty;return function(n){if(t(n))return[];var i=[];e:for(var o in n)if(r.call(n,o))i.push(o);else{for(var a=0;a<e.length;++a)if(r.call(e[a],o))continue e;i.push(o)}return i}}(),m=/this\s*\.\s*\S+\s*=/,v=/^[a-z$_][a-z$_0-9]*$/i;function y(e){try{return e+""}catch(e){return"[no string representation]"}}function g(e){return e instanceof Error||null!==e&&"object"===c(e)&&"string"==typeof e.message&&"string"==typeof e.name}function b(e){return g(e)&&a.propertyIsWritable(e,"stack")}var _="stack"in new Error?function(e){return b(e)?e:new Error(y(e))}:function(e){if(b(e))return e;try{throw new Error(y(e))}catch(e){return e}};function w(e){return{}.toString.call(e)}var x=function(e){return a.isArray(e)?e:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var S="function"==typeof Array.from?function(e){return Array.from(e)}:function(e){for(var t,n=[],r=e[Symbol.iterator]();!(t=r.next()).done;)n.push(t.value);return n};x=function(e){return a.isArray(e)?e:null!=e&&"function"==typeof e[Symbol.iterator]?S(e):null}}var E,O=void 0!==n&&"[object process]"===w(n).toLowerCase(),T=void 0!==n&&void 0!==n.env,M={isClass:function(e){try{if("function"==typeof e){var t=a.names(e.prototype),n=a.isES5&&t.length>1,r=t.length>0&&!(1===t.length&&"constructor"===t[0]),i=m.test(e+"")&&a.names(e).length>0;if(n||r||i)return!0}return!1}catch(e){return!1}},isIdentifier:function(e){return v.test(e)},inheritedDataKeys:d,getDataPropertyOrDefault:function(e,t,n){if(!a.isES5)return{}.hasOwnProperty.call(e,t)?e[t]:void 0;var r=Object.getOwnPropertyDescriptor(e,t);return null!=r?null==r.get&&null==r.set?r.value:n:void 0},thrower:function(e){throw e},isArray:a.isArray,asArray:x,notEnumerableProp:h,isPrimitive:p,isObject:function(e){return"function"==typeof e||"object"===c(e)&&null!==e},isError:g,canEvaluate:s,errorObj:u,tryCatch:function(e){return o=e,f},inherits:function(e,t){var n={}.hasOwnProperty;function r(){for(var r in this.constructor=e,this.constructor$=t,t.prototype)n.call(t.prototype,r)&&"$"!==r.charAt(r.length-1)&&(this[r+"$"]=t.prototype[r])}return r.prototype=t.prototype,e.prototype=new r,e.prototype},withAppended:function(e,t){var n,r=e.length,i=new Array(r+1);for(n=0;n<r;++n)i[n]=e[n];return i[n]=t,i},maybeWrapAsError:function(e){return p(e)?new Error(y(e)):e},toFastProperties:function(e){function t(){}t.prototype=e;for(var n=8;n--;)new t;return e},filledRange:function(e,t,n){for(var r=new Array(e),i=0;i<e;++i)r[i]=t+i+n;return r},toString:y,canAttachTrace:b,ensureErrorObject:_,originatesFromRejection:function(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||!0===e.isOperational)},markAsOriginatingFromRejection:function(e){try{h(e,"isOperational",!0)}catch(e){}},classString:w,copyDescriptors:function(e,t,n){for(var r=a.names(e),i=0;i<r.length;++i){var o=r[i];if(n(o))try{a.defineProperty(t,o,a.getDescriptor(e,o))}catch(e){}}},hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:O,hasEnvVariables:T,env:function(e){return T?n.env[e]:void 0},global:l,getNativePromise:function(){if("function"==typeof Promise)try{var e=new Promise((function(){}));if("[object Promise]"==={}.toString.call(e))return Promise}catch(e){}},domainBind:function(e,t){return e.bind(t)}};M.isRecentNode=M.isNode&&(0===(E=n.versions.node.split(".").map(Number))[0]&&E[1]>10||E[0]>0),M.isNode&&M.toFastProperties(n);try{throw new Error}catch(e){M.lastLineError=e}t.exports=M},{"./es5":13}]},{},[4])(4)},"object"==c(t)&&void 0!==e?e.exports=u():(a=[],void 0===(s="function"==typeof(o=u)?o.apply(t,a):o)||(e.exports=s)),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,n(8),n(11),n(69).setImmediate)},function(e,t,n){"use strict";var r=e.exports={};r.DocumentNotFoundError=null,r.general={},r.general.default="Validator failed for path `{PATH}` with value `{VALUE}`",r.general.required="Path `{PATH}` is required.",r.Number={},r.Number.min="Path `{PATH}` ({VALUE}) is less than minimum allowed value ({MIN}).",r.Number.max="Path `{PATH}` ({VALUE}) is more than maximum allowed value ({MAX}).",r.Number.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",r.Date={},r.Date.min="Path `{PATH}` ({VALUE}) is before minimum allowed value ({MIN}).",r.Date.max="Path `{PATH}` ({VALUE}) is after maximum allowed value ({MAX}).",r.String={},r.String.enum="`{VALUE}` is not a valid enum value for path `{PATH}`.",r.String.match="Path `{PATH}` is invalid ({VALUE}).",r.String.minlength="Path `{PATH}` (`{VALUE}`) is shorter than the minimum allowed length ({MINLENGTH}).",r.String.maxlength="Path `{PATH}` (`{VALUE}`) is longer than the maximum allowed length ({MAXLENGTH})."},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=n(5),u=n(4),c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e,r,i,o){var a,c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var l=s.messages;return c=null!=l.DocumentNotFoundError?"function"==typeof l.DocumentNotFoundError?l.DocumentNotFoundError(e,r):l.DocumentNotFoundError:'No document found for query "'+u.inspect(e)+'" on model "'+r+'"',(a=t.call(this,c)).result=o,a.numAffected=i,a.filter=e,a.query=e,a}return n}(s);Object.defineProperty(c.prototype,"name",{value:"DocumentNotFoundError"}),e.exports=c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e,r,i){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var a=i.join(", ");return(o=t.call(this,'No matching document found for id "'+e._id+'" version '+r+' modifiedPaths "'+a+'"')).version=r,o.modifiedPaths=i,o}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"VersionError"}),e.exports=s},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,"Can't save() the same doc multiple times in parallel. Document: "+e._id)}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"ParallelSaveError"}),e.exports=s},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,"Cannot overwrite `"+e+"` model once compiled.")}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"OverwriteModelError"}),e.exports=s},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r="Schema hasn't been registered for model \""+e+'".\nUse mongoose.model(name, schema)';return t.call(this,r)}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"MissingSchemaError"}),e.exports=s},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r="For your own good, using `document.save()` to update an array which was selected using an $elemMatch projection OR populated using skip, limit, query conditions, or exclusion of the _id field when the operation results in a $pop or $set of the entire array is not supported. The following path(s) would have been modified unsafely:\n  "+e.join("\n  ")+"\nUse Model.update() to update these arrays instead.";return t.call(this,r)}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"DivergentArrayError"}),e.exports=s},function(e,t,n){"use strict";var r=n(32);e.exports=function(e){var t,n;e.$immutable?(e.$immutableSetter=(t=e.path,n=e.options.immutable,function(e){if(null==this||null==this.$__)return e;if(this.isNew)return e;if(!("function"==typeof n?n.call(this,this):n))return e;var i=this.$__getValue(t);if("throw"===this.$__.strictMode&&e!==i)throw new r(t,"Path `"+t+"` is immutable and strict mode is set to throw.",!0);return i}),e.set(e.$immutableSetter)):e.$immutableSetter&&(e.setters=e.setters.filter((function(t){return t!==e.$immutableSetter})),delete e.$immutableSetter)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e,r,i){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,'Parameter "'+r+'" to '+i+"() must be an object, got "+e.toString())}return n}(n(5));Object.defineProperty(s.prototype,"name",{value:"ObjectParameterError"}),e.exports=s},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var s=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return o(this,n)}}(n);function n(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),t.call(this,"Can't validate() the same doc multiple times in parallel. Document: "+e._id)}return n}(n(14));Object.defineProperty(s.prototype,"name",{value:"ParallelValidateError"}),e.exports=s},function(e,t,n){"use strict";(function(t){function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){this._pres=new Map,this._posts=new Map}function a(e,t,n,r,i,o,a){if(o.useErrorHandlers){var s={error:t};return e.execPost(n,r,i,s,(function(e){return"function"==typeof a&&a(e)}))}return"function"==typeof a?a(t):void 0}function s(e,t,n){return e.has(t)?e.get(t):n}function u(e,t,n,r){var i;try{i=e.apply(t,n)}catch(e){return r(e)}c(i)&&i.then((function(){return r()}),(function(e){return r(e)}))}function c(e){return null!=e&&"function"==typeof e.then}function l(e){var n=!1,r=this;return function(){var i=arguments;if(!n)return n=!0,t.nextTick((function(){return e.apply(r,i)}))}}o.prototype.execPre=function(e,n,r,i){3===arguments.length&&(i=r,r=[]);var o=s(this._pres,e,[]),a=o.length,f=o.numAsync||0,p=0,h=f,d=!1,m=r;if(!a)return t.nextTick((function(){i(null)}));var v=function e(){if(!(p>=a)){var r=o[p];if(r.isAsync){var s=[l(y),l((function(e){if(e){if(d)return;return d=!0,i(e)}if(0==--h&&p>=a)return i(null)}))];u(r.fn,n,s,s[0])}else if(r.fn.length>0){s=[l(y)];for(var f=arguments.length>=2?arguments:[null].concat(m),v=1;v<f.length;++v)s.push(f[v]);u(r.fn,n,s,s[0])}else{var g=null;try{g=r.fn.call(n)}catch(e){if(null!=e)return i(e)}if(c(g))g.then((function(){return y()}),(function(e){return y(e)}));else{if(++p>=a)return h>0?void 0:t.nextTick((function(){i(null)}));e()}}}};function y(e){if(e){if(d)return;return d=!0,i(e)}if(++p>=a)return h>0?void 0:i(null);v.apply(n,arguments)}v.apply(null,[null].concat(r))},o.prototype.execPreSync=function(e,t,n){for(var r=s(this._pres,e,[]),i=r.length,o=0;o<i;++o)r[o].fn.apply(t,n||[])},o.prototype.execPost=function(e,n,r,i,o){arguments.length<5&&(o=i,i=null);var a=s(this._posts,e,[]),f=a.length,p=0,h=null;if(i&&i.error&&(h=i.error),!f)return t.nextTick((function(){o.apply(null,[h].concat(r))}));var d=function e(){for(var t=a[p].fn,i=0,s=r.length,d=[],m=0;m<s;++m)i+=r[m]&&r[m]._kareemIgnore?0:1,r[m]&&r[m]._kareemIgnore||d.push(r[m]);if(h)if(t.length===i+2){var v=l((function(t){if(t&&(h=t),++p>=f)return o.call(null,h);e()}));u(t,n,[h].concat(d).concat([v]),v)}else{if(++p>=f)return o.call(null,h);e()}else{var y=l((function(t){return t?(h=t,e()):++p>=f?o.apply(null,[null].concat(r)):void e()}));if(t.length===i+2)return++p>=f?o.apply(null,[null].concat(r)):e();if(t.length===i+1)u(t,n,d.concat([y]),y);else{var g,b;try{b=t.apply(n,d)}catch(e){g=e,h=e}if(c(b))return b.then((function(){return y()}),(function(e){return y(e)}));if(++p>=f)return o.apply(null,[g].concat(r));e()}}};d()},o.prototype.execPostSync=function(e,t,n){for(var r=s(this._posts,e,[]),i=r.length,o=0;o<i;++o)r[o].fn.apply(t,n||[])},o.prototype.createWrapperSync=function(e,t){var n=this;return function(){n.execPreSync(e,this,arguments);var r=t.apply(this,arguments);return n.execPostSync(e,this,[r]),r}},o.prototype.wrap=function(e,t,n,r,i){var o=r.length>0?r[r.length-1]:null,s=("function"==typeof o&&r.slice(0,r.length-1),this),u=(i=i||{}).checkForPromise;this.execPre(e,n,r,(function(c){if(c){for(var l=i.numCallbackParams||0,f=i.contextParameter?[n]:[],p=f.length;p<l;++p)f.push(null);return a(s,c,e,n,f,i,o)}var h="function"==typeof o?r.length-1:r.length,d=t.length,m=t.apply(n,r.slice(0,h).concat(v));if(u){if(null!=m&&"function"==typeof m.then)return m.then((function(e){return v(null,e)}),(function(e){return v(e)}));if(d<h+1)return v(null,m)}function v(){var t=Array.prototype.slice.call(arguments,1);if(i.nullResultByDefault&&0===t.length&&t.push(null),arguments[0])return a(s,arguments[0],e,n,t,i,o);s.execPost(e,n,t,(function(){return arguments[0]?"function"==typeof o?o(arguments[0]):void 0:"function"==typeof o?o.apply(n,arguments):void 0}))}}))},o.prototype.filter=function(e){for(var t=this,n=this.clone(),r=Array.from(n._pres.keys()),i=function(){var r=a[o],i=t._pres.get(r).map((function(e){return Object.assign({},e,{name:r})})).filter(e);if(0===i.length)return n._pres.delete(r),"continue";i.numAsync=i.filter((function(e){return e.isAsync})).length,n._pres.set(r,i)},o=0,a=r;o<a.length;o++)i();for(var s=Array.from(n._posts.keys()),u=function(){var r=l[c],i=t._posts.get(r).map((function(e){return Object.assign({},e,{name:r})})).filter(e);if(0===i.length)return n._posts.delete(r),"continue";n._posts.set(r,i)},c=0,l=s;c<l.length;c++)u();return n},o.prototype.hasHooks=function(e){return this._pres.has(e)||this._posts.has(e)},o.prototype.createWrapper=function(e,n,r,i){var o=this;return this.hasHooks(e)?function(){var t=r||this,a=Array.prototype.slice.call(arguments);o.wrap(e,n,t,a,i)}:function(){var e=arguments,r=this;t.nextTick((function(){return n.apply(r,e)}))}},o.prototype.pre=function(e,t,n,r,o){var a={};"object"===i(t)&&null!=t?t=(a=t).isAsync:"boolean"!=typeof arguments[1]&&(r=n,n=t,t=!1);var u=s(this._pres,e,[]);if(this._pres.set(e,u),t&&(u.numAsync=u.numAsync||0,++u.numAsync),"function"!=typeof n)throw new Error('pre() requires a function, got "'+i(n)+'"');return o?u.unshift(Object.assign({},a,{fn:n,isAsync:t})):u.push(Object.assign({},a,{fn:n,isAsync:t})),this},o.prototype.post=function(e,t,n,r){var o=s(this._posts,e,[]);if("function"==typeof t&&(r=!!n,n=t,t={}),"function"!=typeof n)throw new Error('post() requires a function, got "'+i(n)+'"');return r?o.unshift(Object.assign({},t,{fn:n})):o.push(Object.assign({},t,{fn:n})),this._posts.set(e,o),this},o.prototype.clone=function(){var e,t=new o,r=n(this._pres.keys());try{for(r.s();!(e=r.n()).done;){var i=e.value,a=this._pres.get(i).slice();a.numAsync=this._pres.get(i).numAsync,t._pres.set(i,a)}}catch(e){r.e(e)}finally{r.f()}var s,u=n(this._posts.keys());try{for(u.s();!(s=u.n()).done;){var c=s.value;t._posts.set(c,this._posts.get(c).slice())}}catch(e){u.e(e)}finally{u.f()}return t},o.prototype.merge=function(e,t){var r,i=(t=1===arguments.length||t)?this.clone():this,o=n(e._pres.keys());try{var a=function(){var t=r.value,n=s(i._pres,t,[]),o=e._pres.get(t).filter((function(e){return-1===n.map((function(e){return e.fn})).indexOf(e.fn)})),a=n.concat(o);a.numAsync=n.numAsync||0,a.numAsync+=o.filter((function(e){return e.isAsync})).length,i._pres.set(t,a)};for(o.s();!(r=o.n()).done;)a()}catch(e){o.e(e)}finally{o.f()}var u,c=n(e._posts.keys());try{var l=function(){var t=u.value,n=s(i._posts,t,[]),r=e._posts.get(t).filter((function(e){return-1===n.indexOf(e)}));i._posts.set(t,n.concat(r))};for(c.s();!(u=c.n()).done;)l()}catch(e){c.e(e)}finally{c.f()}return i},e.exports=o}).call(this,n(8))},function(e,t,n){"use strict";var r=n(10),i=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.assign(this,t),null!=t&&null!=t.options&&(this.options=Object.assign({},t.options))};Object.defineProperty(i.prototype,"ref",r),Object.defineProperty(i.prototype,"refPath",r),Object.defineProperty(i.prototype,"localField",r),Object.defineProperty(i.prototype,"foreignField",r),Object.defineProperty(i.prototype,"justOne",r),Object.defineProperty(i.prototype,"count",r),Object.defineProperty(i.prototype,"match",r),Object.defineProperty(i.prototype,"options",r),Object.defineProperty(i.prototype,"skip",r),Object.defineProperty(i.prototype,"limit",r),Object.defineProperty(i.prototype,"perDocumentLimit",r),e.exports=i},function(e,t,n){"use strict";var r=n(3),i=n(21);e.exports=function(e){var t=[],n=new WeakMap,o=e.constructor.indexTypes,a=new Map;return function e(s,u,c){if(!n.has(s)){n.set(s,!0),u=u||"";for(var l=0,f=Object.keys(s.paths);l<f.length;l++){var p=f[l],h=s.paths[p];if(null==c||!c.paths[p]){if(h.$isMongooseDocumentArray||h.$isSingleNested){if(!0!==r(h,"options.excludeIndexes")&&!0!==r(h,"schemaOptions.excludeIndexes")&&!0!==r(h,"schema.options.excludeIndexes")&&e(h.schema,u+p+"."),null!=h.schema.discriminators)for(var d=h.schema.discriminators,m=0,v=Object.keys(d);m<v.length;m++)e(d[v[m]],u+p+".",h.schema);if(h.$isMongooseDocumentArray)continue}var y=h._index||h.caster&&h.caster._index;if(!1!==y&&null!=y){var g={},b=i(y),_=b?y:{},w="string"==typeof y?y:!!b&&y.type;if(w&&-1!==o.indexOf(w))g[u+p]=w;else if(_.text)g[u+p]="text",delete _.text;else{var x=-1===Number(y);g[u+p]=x?-1:1}delete _.type,"background"in _||(_.background=!0),null!=s.options.autoIndex&&(_._autoIndex=s.options.autoIndex);var S=_&&_.name;"string"==typeof S&&a.has(S)?Object.assign(a.get(S),g):(t.push([g,_]),a.set(S,g))}}}n.delete(s),u?function(e,n){for(var r=e._indexes,i=r.length,o=0;o<i;++o){for(var a=r[o][0],s=r[o][1],u=Object.keys(a),c=u.length,l={},f=0;f<c;++f){var p=u[f];l[n+p]=a[p]}var h=Object.assign({},s);if(null!=s&&null!=s.partialFilterExpression){h.partialFilterExpression={};for(var d=s.partialFilterExpression,m=0,v=Object.keys(d);m<v.length;m++){var y=v[m];h.partialFilterExpression[n+y]=d[y]}}t.push([l,h])}}(s,u):(s._indexes.forEach((function(e){"background"in e[1]||(e[1].background=!0)})),t=t.concat(s._indexes))}}(e),t}},function(e,t,n){"use strict";e.exports=function(e,t){for(var n in e.add(t.tree||{}),e.callQueue=e.callQueue.concat(t.callQueue),e.method(t.methods),e.static(t.statics),t.query)e.query[n]=t.query[n];for(var r in t.virtuals)e.virtuals[r]=t.virtuals[r].clone();e.s.hooks.merge(t.s.hooks,!1)}},function(e,t,n){"use strict";var r=n(142),i=n(144),o=n(3),a=n(75),s=n(51);e.exports=function(e,t){var n=e.childSchemas.find((function(e){return!!e.schema.options.timestamps}));if(t||n){var u=a(t,"createdAt"),c=a(t,"updatedAt"),l=null!=t&&t.hasOwnProperty("currentTime")?t.currentTime:null,f={};e.$timestamps={createdAt:u,updatedAt:c},c&&!e.paths[c]&&(f[c]=Date),u&&!e.paths[u]&&(f[u]=Date),e.add(f),e.pre("save",(function(e){var t=o(this,"$__.saveOptions.timestamps");if(!1===t)return e();var n=null!=t&&!1===t.updatedAt,r=null!=t&&!1===t.createdAt,i=null!=l?l():(this.ownerDocument?this.ownerDocument():this).constructor.base.now(),a=this._id&&this._id.auto;if(!r&&u&&!this.get(u)&&this.$__isSelected(u)&&this.$set(u,a?this._id.getTimestamp():i),!n&&c&&(this.isNew||this.isModified())){var s=i;this.isNew&&(null!=u?s=this.$__getValue(u):a&&(s=this._id.getTimestamp())),this.$set(c,s)}e()})),e.methods.initializeTimestamps=function(){var e=null!=l?l():this.constructor.base.now();return u&&!this.get(u)&&this.$set(u,e),c&&!this.get(c)&&this.$set(c,e),this},h[s.builtInMiddleware]=!0;var p={query:!0,model:!1};e.pre("findOneAndUpdate",p,h),e.pre("replaceOne",p,h),e.pre("update",p,h),e.pre("updateOne",p,h),e.pre("updateMany",p,h)}function h(e){var t=null!=l?l():this.model.base.now();i(t,u,c,this.getUpdate(),this.options,this.schema),r(t,this.getUpdate(),this.model.schema),e()}}},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n(143),a=n(75);function s(e,t,n){if(null!=t){if(Object.keys(t).some((function(e){return e.startsWith("$")}))){if(t.$push)for(var i=0,o=Object.keys(t.$push);i<o.length;i++){var s=o[i],c=n.path(s);t.$push[s]&&c&&c.$isMongooseDocumentArray&&c.schema.options.timestamps&&function(){var n=c.schema.options.timestamps,r=a(n,"createdAt"),i=a(n,"updatedAt");t.$push[s].$each?t.$push[s].$each.forEach((function(t){null!=i&&(t[i]=e),null!=r&&(t[r]=e)})):(null!=i&&(t.$push[s][i]=e),null!=r&&(t.$push[s][r]=e))}()}if(null!=t.$set)for(var l=0,f=Object.keys(t.$set);l<f.length;l++)u(n,f[l],t.$set,e)}var p,h=r(Object.keys(t).filter((function(e){return!e.startsWith("$")})));try{for(h.s();!(p=h.n()).done;)u(n,p.value,t,e)}catch(e){h.e(e)}finally{h.f()}}}function u(e,t,n,i){var u=o(t),c=e.path(u);if(c){for(var l=[],f=u.split("."),p=f.length-1;p>0;--p){var h=e.path(f.slice(0,p).join("."));null!=h&&(h.$isMongooseDocumentArray||h.$isSingleNested)&&l.push({parentPath:t.split(".").slice(0,p).join("."),parentSchemaType:h})}if(Array.isArray(n[t])&&c.$isMongooseDocumentArray)!function(e,t,n){var r=t.schema.options.timestamps;if(r)for(var i=e.length,o=a(r,"createdAt"),u=a(r,"updatedAt"),c=0;c<i;++c)null!=u&&(e[c][u]=n),null!=o&&(e[c][o]=n),s(n,e[c],t.schema)}(n[t],c,i);else if(n[t]&&c.$isSingleNested)!function(e,t,n){var r=t.schema.options.timestamps;if(r){var i=a(r,"createdAt"),o=a(r,"updatedAt");null!=o&&(e[o]=n),null!=i&&(e[i]=n),s(n,e,t.schema)}}(n[t],c,i);else if(l.length>0){var d,m=r(l);try{for(m.s();!(d=m.n()).done;){var v=d.value,y=v.parentPath,g=v.parentSchemaType,b=g.schema.options.timestamps,_=a(b,"updatedAt");if(b&&null!=_)if(g.$isSingleNested)n[y+"."+_]=i;else if(g.$isMongooseDocumentArray){var w=t.substr(y.length+1);if(/^\d+$/.test(w)){n[y+"."+w][_]=i;continue}var x=w.indexOf(".");n[y+"."+(w=-1!==x?w.substr(0,x):w)+"."+_]=i}}}catch(e){m.e(e)}finally{m.f()}}else if(null!=c.schema&&c.schema!=e&&n[t]){var S=c.schema.options.timestamps,E=a(S,"createdAt"),O=a(S,"updatedAt");if(!S)return;null!=O&&(n[t][O]=i),null!=E&&(n[t][E]=i)}}}e.exports=s},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/\.\$(\[[^\]]*\])?\./g,".0.").replace(/\.(\[[^\]]*\])?\$$/g,".0")}},function(e,t,n){"use strict";var r=n(3);e.exports=function(e,t,n,i,o){var a=i,s=a,u=r(o,"overwrite",!1),c=r(o,"timestamps",!0);if(!c||null==a)return i;var l=null!=c&&!1===c.createdAt,f=null!=c&&!1===c.updatedAt;if(u)return i&&i.$set&&(i=i.$set,a.$set={},s=a.$set),f||!n||i[n]||(s[n]=e),l||!t||i[t]||(s[t]=e),a;if(i=i||{},Array.isArray(a))return a.push({$set:{updatedAt:e}}),a;if(a.$set=a.$set||{},!f&&n&&(!i.$currentDate||!i.$currentDate[n])){var p=!1;if(-1!==n.indexOf("."))for(var h=n.split("."),d=1;d<h.length;++d){var m=h.slice(-d).join("."),v=h.slice(0,-d).join(".");if(null!=i[v]){i[v][m]=e,p=!0;break}if(i.$set&&i.$set[v]){i.$set[v][m]=e,p=!0;break}}p||(a.$set[n]=e),a.hasOwnProperty(n)&&delete a[n]}if(!l&&t){i[t]&&delete i[t],i.$set&&i.$set[t]&&delete i.$set[t];var y=!1;if(-1!==t.indexOf("."))for(var g=t.split("."),b=1;b<g.length;++b){var _=g.slice(-b).join("."),w=g.slice(0,-b).join(".");if(null!=i[w]){i[w][_]=e,y=!0;break}if(i.$set&&i.$set[w]){i.$set[w][_]=e,y=!0;break}}y||(a.$setOnInsert=a.$setOnInsert||{},a.$setOnInsert[t]=e)}return 0===Object.keys(a.$set).length&&delete a.$set,a}},function(e,t,n){"use strict";var r=n(14),i=n(4);e.exports=function(e,t){if("string"!=typeof e&&"function"!=typeof e)throw new r('Invalid ref at path "'+t+'". Got '+i.inspect(e,{depth:0}))}},function(e,t,n){"use strict";function r(e,t){var n={useErrorHandlers:!0,numCallbackParams:1,nullResultByDefault:!0},i=t.hooks.filter((function(e){var t=function(e){var t={};return e.hasOwnProperty("query")&&(t.query=e.query),e.hasOwnProperty("document")&&(t.document=e.document),t}(e);return"updateOne"===e.name?null==t.query||!!t.query:"deleteOne"===e.name?!!t.query||0===Object.keys(t).length:"validate"===e.name||"remove"===e.name?!!t.query:null==e.query&&null==e.document||!!e.query}));e.prototype._execUpdate=i.createWrapper("update",e.prototype._execUpdate,null,n),e.prototype.__distinct=i.createWrapper("distinct",e.prototype.__distinct,null,n),e.prototype.validate=i.createWrapper("validate",e.prototype.validate,null,n),r.middlewareFunctions.filter((function(e){return"update"!==e&&"distinct"!==e&&"validate"!==e})).forEach((function(t){e.prototype["_".concat(t)]=i.createWrapper(t,e.prototype["_".concat(t)],null,n)}))}e.exports=r,r.middlewareFunctions=["count","countDocuments","deleteMany","deleteOne","distinct","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndRemove","findOneAndReplace","findOneAndUpdate","remove","replaceOne","update","updateMany","updateOne","validate"]},function(e,t,n){"use strict";(function(t){function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o,a=n(7),s=n(5),u=n(148),c=n(77),l=n(2),f=n(0).populateModelSymbol,p=a.CastError;function h(e,t){this.enumValues=[],this.regExp=null,a.call(this,e,t,"String")}function d(e){return this.castForQuery(e)}h.schemaName="String",h.defaultOptions={},h.prototype=Object.create(a.prototype),h.prototype.constructor=h,Object.defineProperty(h.prototype,"OptionsConstructor",{configurable:!1,enumerable:!1,writable:!1,value:u}),h._cast=c,h.cast=function(e){return 0===arguments.length||(!1===e&&(e=this._defaultCaster),this._cast=e),this._cast},h._defaultCaster=function(e){if(null!=e&&"string"!=typeof e)throw new Error;return e},h.get=a.get,h.set=a.set,h._checkRequired=function(e){return(e instanceof String||"string"==typeof e)&&e.length},h.checkRequired=a.checkRequired,h.prototype.enum=function(){if(this.enumValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.enumValidator}),this),this.enumValidator=!1),void 0===arguments[0]||!1===arguments[0])return this;var e,t;l.isObject(arguments[0])?Array.isArray(arguments[0].values)?(e=arguments[0].values,t=arguments[0].message):(e=l.object.vals(arguments[0]),t=s.messages.String.enum):(e=arguments,t=s.messages.String.enum);var n,i=r(e);try{for(i.s();!(n=i.n()).done;){var o=n.value;void 0!==o&&this.enumValues.push(this.cast(o))}}catch(e){i.e(e)}finally{i.f()}var a=this.enumValues;return this.enumValidator=function(e){return void 0===e||~a.indexOf(e)},this.validators.push({validator:this.enumValidator,message:t,type:"enum",enumValues:a}),this},h.prototype.lowercase=function(e){return arguments.length>0&&!e?this:this.set((function(e,t){return"string"!=typeof e&&(e=t.cast(e)),e?e.toLowerCase():e}))},h.prototype.uppercase=function(e){return arguments.length>0&&!e?this:this.set((function(e,t){return"string"!=typeof e&&(e=t.cast(e)),e?e.toUpperCase():e}))},h.prototype.trim=function(e){return arguments.length>0&&!e?this:this.set((function(e,t){return"string"!=typeof e&&(e=t.cast(e)),e?e.trim():e}))},h.prototype.minlength=function(e,t){if(this.minlengthValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.minlengthValidator}),this)),null!=e){var n=t||s.messages.String.minlength;n=n.replace(/{MINLENGTH}/,e),this.validators.push({validator:this.minlengthValidator=function(t){return null===t||t.length>=e},message:n,type:"minlength",minlength:e})}return this},h.prototype.minLength=h.prototype.minlength,h.prototype.maxlength=function(e,t){if(this.maxlengthValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.maxlengthValidator}),this)),null!=e){var n=t||s.messages.String.maxlength;n=n.replace(/{MAXLENGTH}/,e),this.validators.push({validator:this.maxlengthValidator=function(t){return null===t||t.length<=e},message:n,type:"maxlength",maxlength:e})}return this},h.prototype.maxLength=h.prototype.maxlength,h.prototype.match=function(e,t){var n=t||s.messages.String.match;return this.validators.push({validator:function(t){return!!e&&(e.lastIndex=0,null==t||""===t||e.test(t))},message:n,type:"regexp",regexp:e}),this},h.prototype.checkRequired=function(e,t){return a._isRef(this,e,t,!0)?!!e:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():h.checkRequired())(e)},h.prototype.cast=function(e,r,i){if(a._isRef(this,e,r,i)){if(null==e)return e;if(o||(o=n(6)),e instanceof o)return e.$__.wasPopulated=!0,e;if("string"==typeof e)return e;if(t.isBuffer(e)||!l.isObject(e))throw new p("string",e,this.path,null,this);var s=r.$__fullPath(this.path),u=new((r.ownerDocument?r.ownerDocument():r).populated(s,!0).options[f])(e);return u.$__.wasPopulated=!0,u}var c;c="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():h.cast();try{return c(e)}catch(t){throw new p("string",e,this.path,null,this)}};var m=l.options(a.prototype.$conditionalHandlers,{$all:function(e){var t=this;return Array.isArray(e)?e.map((function(e){return t.castForQuery(e)})):[this.castForQuery(e)]},$gt:d,$gte:d,$lt:d,$lte:d,$options:String,$regex:d,$not:d});Object.defineProperty(h.prototype,"$conditionalHandlers",{configurable:!1,enumerable:!1,writable:!1,value:Object.freeze(m)}),h.prototype.castForQuery=function(e,t){var n;if(2===arguments.length){if(!(n=this.$conditionalHandlers[e]))throw new Error("Can't use "+e+" with String.");return n.call(this,t)}return t=e,"[object RegExp]"===Object.prototype.toString.call(t)?t:this._castForQuery(t)},e.exports=h}).call(this,n(1).Buffer)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"enum",c),Object.defineProperty(u.prototype,"match",c),Object.defineProperty(u.prototype,"lowercase",c),Object.defineProperty(u.prototype,"trim",c),Object.defineProperty(u.prototype,"uppercase",c),Object.defineProperty(u.prototype,"minLength",c),Object.defineProperty(u.prototype,"minlength",c),Object.defineProperty(u.prototype,"maxLength",c),Object.defineProperty(u.prototype,"maxlength",c),Object.defineProperty(u.prototype,"populate",c),e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"min",c),Object.defineProperty(u.prototype,"max",c),Object.defineProperty(u.prototype,"enum",c),Object.defineProperty(u.prototype,"populate",c),e.exports=u},function(e,t,n){"use strict";var r=n(22);e.exports=function(e){return null==e?e:""===e?null:("string"!=typeof e&&"boolean"!=typeof e||(e=Number(e)),r.ok(!isNaN(e)),e instanceof Number?e.valueOf():"number"==typeof e?e:Array.isArray(e)||"function"!=typeof e.valueOf?e.toString&&!Array.isArray(e)&&e.toString()==Number(e)?Number(e):void r.ok(!1):Number(e.valueOf()))}},function(e,t,n){"use strict";var r=n(13),i=n(7),o=n(49),a=n(2);function s(e,t){i.call(this,e,t,"Boolean")}s.schemaName="Boolean",s.defaultOptions={},s.prototype=Object.create(i.prototype),s.prototype.constructor=s,s._cast=o,s.set=i.set,s.cast=function(e){return 0===arguments.length||(!1===e&&(e=this._defaultCaster),this._cast=e),this._cast},s._defaultCaster=function(e){if(null!=e&&"boolean"!=typeof e)throw new Error;return e},s._checkRequired=function(e){return!0===e||!1===e},s.checkRequired=i.checkRequired,s.prototype.checkRequired=function(e){return this.constructor._checkRequired(e)},Object.defineProperty(s,"convertToTrue",{get:function(){return o.convertToTrue},set:function(e){o.convertToTrue=e}}),Object.defineProperty(s,"convertToFalse",{get:function(){return o.convertToFalse},set:function(e){o.convertToFalse=e}}),s.prototype.cast=function(e){var t;t="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():s.cast();try{return t(e)}catch(t){throw new r("Boolean",e,this.path,t,this)}},s.$conditionalHandlers=a.options(i.prototype.$conditionalHandlers,{}),s.prototype.castForQuery=function(e,t){var n;return 2===arguments.length?(n=s.$conditionalHandlers[e])?n.call(this,t):this._castForQuery(t):this._castForQuery(e)},s.prototype._castNullish=function(e){if(void 0===e&&null!=this.$$context&&null!=this.$$context._mongooseOptions&&this.$$context._mongooseOptions.omitUndefined)return e;var t="function"==typeof this.constructor.cast?this.constructor.cast():s.cast();return null==t?e:!(t.convertToFalse instanceof Set&&t.convertToFalse.has(e))&&(!!(t.convertToTrue instanceof Set&&t.convertToTrue.has(e))||e)},e.exports=s},function(e,t,n){"use strict";var r,i,o=n(55),a=n(13),s=n(19).EventEmitter,u=n(158),c=n(7),l=n(31),f=n(90),p=n(3),h=n(91),d=n(4),m=n(2),v=n(92),y=n(0).arrayPathSymbol,g=n(0).documentArrayParent;function b(e,t,n,r){null!=r&&null!=r._id?t=h(t,r):null!=n&&null!=n._id&&(t=h(t,n));var i=_(t,n);i.prototype.$basePath=e,o.call(this,e,i,n),this.schema=t,this.schemaOptions=r||{},this.$isMongooseDocumentArray=!0,this.Constructor=i,i.base=t.base;var a=this.defaultValue;"defaultValue"in this&&void 0===a||this.default((function(){var e=a.call(this);return Array.isArray(e)||(e=[e]),e}));var s=this;this.$embeddedSchemaType=new c(e+".$",{required:p(this,"schemaOptions.required",!1)}),this.$embeddedSchemaType.cast=function(e,t,n){return s.cast(e,t,n)[0]},this.$embeddedSchemaType.$isMongooseDocumentArrayElement=!0,this.$embeddedSchemaType.caster=this.Constructor,this.$embeddedSchemaType.schema=this.schema}function _(e,t,r){function o(){i.apply(this,arguments),this.$session(this.ownerDocument().$session())}i||(i=n(26));var a=null!=r?r.prototype:i.prototype;for(var u in o.prototype=Object.create(a),o.prototype.$__setSchema(e),o.schema=e,o.prototype.constructor=o,o.$isArraySubdocument=!0,o.events=new s,e.methods)o.prototype[u]=e.methods[u];for(var c in e.statics)o[c]=e.statics[c];for(var l in s.prototype)o[l]=s.prototype[l];return o.options=t,o}function w(e,t,n){if(n&&t){for(var r,i,o,a=e.path+".",s=Object.keys(t),u=s.length,c={};u--;)if((i=s[u]).startsWith(a)){if("$"===(o=i.substring(a.length)))continue;o.startsWith("$.")&&(o=o.substr(2)),r||(r=!0),c[o]=t[i]}return r&&c||void 0}}b.schemaName="DocumentArray",b.options={castNonArrays:!0},b.prototype=Object.create(o.prototype),b.prototype.constructor=b,b.prototype.OptionsConstructor=u,b.prototype.discriminator=function(e,t,n){"function"==typeof e&&(e=m.getFunctionName(e));var r=_(t=f(this.casterConstructor,e,t,n),null,this.casterConstructor);r.baseCasterConstructor=this.casterConstructor;try{Object.defineProperty(r,"name",{value:e})}catch(e){}return this.casterConstructor.discriminators[e]=r,this.casterConstructor.discriminators[e]},b.prototype.doValidate=function(e,t,o,a){r||(r=n(18));var s=this;try{c.prototype.doValidate.call(this,e,(function(n){if(n)return n.$isArrayValidatorError=!0,t(n);var u,c=e&&e.length;if(!c)return t();if(a&&a.updateValidator)return t();function f(e){null!=e&&((u=e)instanceof l||(u.$isArrayValidatorError=!0)),--c||t(u)}e.isMongooseDocumentArray||(e=new r(e,s.path,o));for(var p=0,h=c;p<h;++p){var d=e[p];if(null!=d){if(!(d instanceof i)){var m=v(s.casterConstructor,e[p]);d=e[p]=new m(d,e,void 0,void 0,p)}d.$__validate(f)}else--c||t(u)}}),o)}catch(e){return e.$isArrayValidatorError=!0,t(e)}},b.prototype.doValidateSync=function(e,t){var n=c.prototype.doValidateSync.call(this,e,t);if(null!=n)return n.$isArrayValidatorError=!0,n;var r=e&&e.length,o=null;if(r){for(var a=0,s=r;a<s;++a){var u=e[a];if(u){if(!(u instanceof i)){var l=v(this.casterConstructor,e[a]);u=e[a]=new l(u,e,void 0,void 0,a)}var f=u.validateSync();f&&null==o&&(o=f)}}return o}},b.prototype.getDefault=function(e){var t="function"==typeof this.defaultValue?this.defaultValue.call(e):this.defaultValue;if(null==t)return t;r||(r=n(18)),Array.isArray(t)||(t=[t]),t=new r(t,this.path,e);for(var i=0;i<t.length;++i){var o=new(v(this.casterConstructor,t[i]))({},t,void 0,void 0,i);o.init(t[i]),o.isNew=!0,Object.assign(o.$__.activePaths.default,o.$__.activePaths.init),o.$__.activePaths.init={},t[i]=o}return t},b.prototype.cast=function(e,t,o,s,u){if(r||(r=n(18)),null!=e&&null!=e[y]&&e===s)return e;var c,l,f={transform:!1,virtuals:!1};if(u=u||{},!Array.isArray(e)){if(!o&&!b.options.castNonArrays)throw new a("DocumentArray",d.inspect(e),this.path,null,this);return t&&o&&t.markModified(this.path),this.cast([e],t,o,s,u)}e&&e.isMongooseDocumentArray||u.skipDocumentArrayCast?e&&e.isMongooseDocumentArray&&(e=new r(e,this.path,t)):e=new r(e,this.path,t),null!=u.arrayPath&&(e[y]=u.arrayPath);for(var p=e.length,h={skipId:!0,willInit:!0},_=0;_<p;++_)if(e[_]){var x=v(this.casterConstructor,e[_]);if(!e[_].$__||e[_]instanceof x&&e[_][g]===t||(e[_]=e[_].toObject({transform:!1,virtuals:e[_].schema===x.schema})),e[_]instanceof i)null==e[_].__index&&e[_].$setIndex(_);else if(null!=e[_])if(o)t?c||(c=w(this,t.$__.selected,o)):c=!0,l=new x(null,e,h,c,_),e[_]=l.init(e[_]);else if(s&&"function"==typeof s.id&&(l=s.id(e[_]._id)),s&&l&&m.deepEqual(l.toObject(f),e[_]))l.set(e[_]),e[_]=l;else try{l=new x(e[_],e,void 0,void 0,_),e[_]=l}catch(t){var S=d.inspect(e[_]);throw new a("embedded",S,e[y],t,this)}}return e},b.prototype.clone=function(){var e=Object.assign({},this.options),t=new this.constructor(this.path,this.schema,e,this.schemaOptions);return t.validators=this.validators.slice(),void 0!==this.requiredValidator&&(t.requiredValidator=this.requiredValidator),t.Constructor.discriminators=Object.assign({},this.Constructor.discriminators),t},b.prototype.applyGetters=function(e,t){return c.prototype.applyGetters.call(this,e,t)},b.defaultOptions={},b.set=c.set,e.exports=b},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"enum",c),Object.defineProperty(u.prototype,"enum",c),e.exports=u},function(e,t,n){"use strict";e.exports=function e(t){if(!Array.isArray(t))return{min:0,max:0,containsNonArrayItem:!0};if(0===t.length)return{min:1,max:1,containsNonArrayItem:!1};for(var n=e(t[0]),r=1;r<t.length;++r){var i=e(t[r]);i.min<n.min&&(n.min=i.min),i.max>n.max&&(n.max=i.max),n.containsNonArrayItem=n.containsNonArrayItem||i.containsNonArrayItem}return n.min=n.min+1,n.max=n.max+1,n}},function(e,t,n){"use strict";function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var a=n(13),s=n(32),u=n(54),c=n(156),l=n(3),f=n(157),p=n(80),h=n(4),d=n(21),m=n(29),v=["Polygon","MultiPolygon"];function y(e,t,n){if(Array.isArray(e))e.forEach((function(r,i){if(Array.isArray(r)||d(r))return y(r,t,n);e[i]=t.castForQueryWrapper({val:r,context:n})}));else for(var r=Object.keys(e),i=r.length;i--;){var o=r[i],a=e[o];Array.isArray(a)||d(a)?(y(a,t,n),e[o]=a):e[o]=t.castForQuery({val:a,context:n})}}e.exports=function e(t,n,i,g){if(Array.isArray(n))throw new Error("Query filter must be an object, got an array ",h.inspect(n));if(null==n)return n;n.hasOwnProperty("_bsontype")&&"ObjectID"!==n._bsontype&&delete n._bsontype,null!=t&&null!=t.discriminators&&null!=n[t.options.discriminatorKey]&&(t=f(t,n[t.options.discriminatorKey])||t);var b,_,w,x,S,E,O=Object.keys(n),T=O.length;for(i=i||{};T--;)if(E=n[x=O[T]],"$or"===x||"$nor"===x||"$and"===x){if(!Array.isArray(E))throw new a("Array",E,x);for(var M=0;M<E.length;++M){if(null==E[M]||"object"!==o(E[M]))throw new a("Object",E[M],x+"."+M);E[M]=e(t,E[M],i,g)}}else{if("$where"===x){if("string"!==(S=o(E))&&"function"!==S)throw new Error("Must have a string or function for $where");"function"===S&&(n[x]=E.toString());continue}if("$elemMatch"===x)E=e(t,E,i,g);else if("$text"===x)E=c(E,x);else{if(!t)continue;if(!(_=t.path(x)))for(var P=x.split("."),A=P.length;A--;){var C=P.slice(0,A).join("."),k=P.slice(A).join("."),j=t.path(C),R=l(j,"schema.options.discriminatorKey");if(null!=j&&null!=l(j,"schema.discriminators")&&null!=R&&k!==R){var D=l(n,C+"."+R);null!=D&&(_=j.schema.discriminators[D].path(k))}}if(_){if(null==E)continue;if("Object"===E.constructor.name)if(Object.keys(E).some(p))for(var N=Object.keys(E),L=void 0,I=N.length;I--;)if(w=E[L=N[I]],"$not"===L){if(w&&_&&!_.caster){if((b=Object.keys(w)).length&&p(b[0]))for(var B in w)w[B]=_.castForQueryWrapper({$conditional:B,val:w[B],context:g});else E[L]=_.castForQueryWrapper({$conditional:L,val:w,context:g});continue}e(_.caster?_.caster.schema:t,w,i,g)}else E[L]=_.castForQueryWrapper({$conditional:L,val:w,context:g});else n[x]=_.castForQueryWrapper({val:E,context:g});else if(Array.isArray(E)&&-1===["Buffer","Array"].indexOf(_.instance)){var F,U=[],z=r(E);try{for(z.s();!(F=z.n()).done;){var V=F.value;U.push(_.castForQueryWrapper({val:V,context:g}))}}catch(e){z.e(e)}finally{z.f()}n[x]={$in:U}}else n[x]=_.castForQueryWrapper({val:E,context:g})}else{for(var H=x.split("."),$=H.length,G=void 0,W=void 0,q=void 0;$--&&(G=H.slice(0,$).join("."),!(_=t.path(G))););if(_){_.caster&&_.caster.schema?((q={})[W=H.slice($).join(".")]=E,n[x]=e(_.caster.schema,q,i,g)[W]):n[x]=E;continue}if(d(E)){var Y="";if(E.$near?Y="$near":E.$nearSphere?Y="$nearSphere":E.$within?Y="$within":E.$geoIntersects?Y="$geoIntersects":E.$geoWithin&&(Y="$geoWithin"),Y){var X=new u.Number("__QueryCasting__"),Z=E[Y];if(null!=E.$maxDistance&&(E.$maxDistance=X.castForQueryWrapper({val:E.$maxDistance,context:g})),null!=E.$minDistance&&(E.$minDistance=X.castForQueryWrapper({val:E.$minDistance,context:g})),"$within"===Y){var Q=Z.$center||Z.$centerSphere||Z.$box||Z.$polygon;if(!Q)throw new Error("Bad $within parameter: "+JSON.stringify(E));Z=Q}else if("$near"===Y&&"string"==typeof Z.type&&Array.isArray(Z.coordinates))Z=Z.coordinates;else if(("$near"===Y||"$nearSphere"===Y||"$geoIntersects"===Y)&&Z.$geometry&&"string"==typeof Z.$geometry.type&&Array.isArray(Z.$geometry.coordinates))null!=Z.$maxDistance&&(Z.$maxDistance=X.castForQueryWrapper({val:Z.$maxDistance,context:g})),null!=Z.$minDistance&&(Z.$minDistance=X.castForQueryWrapper({val:Z.$minDistance,context:g})),m(Z.$geometry)&&(Z.$geometry=Z.$geometry.toObject({transform:!1,virtuals:!1})),Z=Z.$geometry.coordinates;else if("$geoWithin"===Y)if(Z.$geometry){m(Z.$geometry)&&(Z.$geometry=Z.$geometry.toObject({virtuals:!1}));var K=Z.$geometry.type;if(-1===v.indexOf(K))throw new Error('Invalid geoJSON type for $geoWithin "'+K+'", must be "Polygon" or "MultiPolygon"');Z=Z.$geometry.coordinates}else Z=Z.$box||Z.$polygon||Z.$center||Z.$centerSphere,m(Z)&&(Z=Z.toObject({virtuals:!1}));y(Z,X,g);continue}}if(t.nested[x])continue;if(i.upsert&&i.strict){if("throw"===i.strict)throw new s(x);throw new s(x,'Path "'+x+'" is not in schema, strict mode is `true`, and upsert is `true`.')}if("throw"===i.strictQuery)throw new s(x,'Path "'+x+"\" is not in schema and strictQuery is 'throw'.");i.strictQuery&&delete n[x]}}}return n}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(13),o=n(49),a=n(77);e.exports=function(e,t){if(null==e||"object"!==r(e))throw new i("$text",e,t);return null!=e.$search&&(e.$search=a(e.$search,t+".$search")),null!=e.$language&&(e.$language=a(e.$language,t+".$language")),null!=e.$caseSensitive&&(e.$caseSensitive=o(e.$caseSensitive,t+".$castSensitive")),null!=e.$diacriticSensitive&&(e.$diacriticSensitive=o(e.$diacriticSensitive,t+".$diacriticSensitive")),e}},function(e,t,n){"use strict";e.exports=function(e,t){if(null==e||null==e.discriminators)return null;for(var n=0,r=Object.keys(e.discriminators);n<r.length;n++){var i=r[n],o=e.discriminators[i];if(null!=o.discriminatorMapping&&o.discriminatorMapping.value===t)return o}return null}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"excludeIndexes",c),Object.defineProperty(u.prototype,"_id",c),e.exports=u},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o=n(13),a=n(19).EventEmitter,s=n(73),u=n(160),c=n(7),l=n(48),f=n(33).castToNumber,p=n(90),h=n(81),d=n(3),m=n(92),v=n(91),y=n(17).internalToObjectOptions;function g(e,t,n){e=v(e,n),this.caster=b(e),this.caster.path=t,this.caster.prototype.$basePath=t,this.schema=e,this.$isSingleNested=!0,c.call(this,t,n,"Embedded")}function b(e,t){i||(i=n(89));var r=function(e,t,n){var r=this;this.$__parent=n,i.apply(this,arguments),this.$session(this.ownerDocument().$session()),n&&(n.on("save",(function(){r.emit("save",r),r.constructor.emit("save",r)})),n.on("isNew",(function(e){r.isNew=e,r.emit("isNew",e),r.constructor.emit("isNew",e)})))},o=null!=t?t.prototype:i.prototype;for(var s in(r.prototype=Object.create(o)).$__setSchema(e),r.prototype.constructor=r,r.schema=e,r.$isSingleNested=!0,r.events=new a,r.prototype.toBSON=function(){return this.toObject(y)},e.methods)r.prototype[s]=e.methods[s];for(var u in e.statics)r[u]=e.statics[u];for(var c in a.prototype)r[c]=a.prototype[c];return r}e.exports=g,g.prototype=Object.create(c.prototype),g.prototype.constructor=g,g.prototype.OptionsConstructor=u,g.prototype.$conditionalHandlers.$geoWithin=function(e){return{$geometry:this.castForQuery(e.$geometry)}},g.prototype.$conditionalHandlers.$near=g.prototype.$conditionalHandlers.$nearSphere=h.cast$near,g.prototype.$conditionalHandlers.$within=g.prototype.$conditionalHandlers.$geoWithin=h.cast$within,g.prototype.$conditionalHandlers.$geoIntersects=h.cast$geoIntersects,g.prototype.$conditionalHandlers.$minDistance=f,g.prototype.$conditionalHandlers.$maxDistance=f,g.prototype.$conditionalHandlers.$exists=l,g.prototype.cast=function(e,t,n,i,o){if(e&&e.$isSingleNested&&e.parent===t)return e;if(null!=e&&("object"!==r(e)||Array.isArray(e)))throw new s(this.path,e);var a,u=m(this.caster,e),c=d(t,"$__.selected",{}),l=this.path,f=Object.keys(c).reduce((function(e,t){return t.startsWith(l+".")&&(e[t.substr(l.length+1)]=c[t]),e}),{});return o=Object.assign({},o,{priorDoc:i}),n?((a=new u(void 0,f,t)).init(e),a):0===Object.keys(e).length?new u({},f,t,void 0,o):new u(e,f,t,void 0,o)},g.prototype.castForQuery=function(e,t,n){var r;if(2===arguments.length){if(!(r=this.$conditionalHandlers[e]))throw new Error("Can't use "+e);return r.call(this,t)}if(null==(t=e))return t;this.options.runSetters&&(t=this._applySetters(t));var i=m(this.caster,t),a=null!=n&&null!=n.strict?n.strict:void 0;try{t=new i(t,a)}catch(e){if(!(e instanceof o))throw new o("Embedded",t,this.path,e,this);throw e}return t},g.prototype.doValidate=function(e,t,n,r){var i=m(this.caster,e);if(r&&r.skipSchemaValidators)return e instanceof i||(e=new i(e,null,n)),e.validate(t);c.prototype.doValidate.call(this,e,(function(n){return n?t(n):e?void e.validate(t):t(null)}),n,r)},g.prototype.doValidateSync=function(e,t,n){if(!n||!n.skipSchemaValidators){var r=c.prototype.doValidateSync.call(this,e,t);if(r)return r}if(e)return e.validateSync()},g.prototype.discriminator=function(e,t,n){return t=p(this.caster,e,t,n),this.caster.discriminators[e]=b(t,this.caster),this.caster.discriminators[e]},g.defaultOptions={},g.set=c.set,g.prototype.clone=function(){var e=Object.assign({},this.options),t=new this.constructor(this.schema,this.path,e);return t.validators=this.validators.slice(),void 0!==this.requiredValidator&&(t.requiredValidator=this.requiredValidator),t.caster.discriminators=Object.assign({},this.caster.discriminators),t}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"_id",c),e.exports=u},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i,o=n(85),a=n(162),s=n(7),u=n(79),c=n(2),l=n(0).populateModelSymbol,f=o.Binary,p=s.CastError;function h(e,t){s.call(this,e,t,"Buffer")}function d(e){return this.castForQuery(e)}h.schemaName="Buffer",h.defaultOptions={},h.prototype=Object.create(s.prototype),h.prototype.constructor=h,h.prototype.OptionsConstructor=a,h._checkRequired=function(e){return!(!e||!e.length)},h.set=s.set,h.checkRequired=s.checkRequired,h.prototype.checkRequired=function(e,t){return s._isRef(this,e,t,!0)?!!e:this.constructor._checkRequired(e)},h.prototype.cast=function(e,a,u){var h;if(s._isRef(this,e,a,u)){if(null==e)return e;if(i||(i=n(6)),e instanceof i)return e.$__.wasPopulated=!0,e;if(t.isBuffer(e))return e;if(!c.isObject(e))throw new p("Buffer",e,this.path,null,this);var d=a.$__fullPath(this.path);return(h=new((a.ownerDocument?a.ownerDocument():a).populated(d,!0).options[l])(e)).$__.wasPopulated=!0,h}if(e&&e._id&&(e=e._id),e&&e.isMongooseBuffer)return e;if(t.isBuffer(e))return e&&e.isMongooseBuffer||(e=new o(e,[this.path,a]),null!=this.options.subtype&&(e._subtype=this.options.subtype)),e;if(e instanceof f){if(h=new o(e.value(!0),[this.path,a]),"number"!=typeof e.sub_type)throw new p("Buffer",e,this.path,null,this);return h._subtype=e.sub_type,h}if(null===e)return e;var m=r(e);if("string"===m||"number"===m||Array.isArray(e)||"object"===m&&"Buffer"===e.type&&Array.isArray(e.data))return"number"===m&&(e=[e]),h=new o(e,[this.path,a]),null!=this.options.subtype&&(h._subtype=this.options.subtype),h;throw new p("Buffer",e,this.path,null,this)},h.prototype.subtype=function(e){return this.options.subtype=e,this},h.prototype.$conditionalHandlers=c.options(s.prototype.$conditionalHandlers,{$bitsAllClear:u,$bitsAnyClear:u,$bitsAllSet:u,$bitsAnySet:u,$gt:d,$gte:d,$lt:d,$lte:d}),h.prototype.castForQuery=function(e,t){var n;if(2===arguments.length){if(!(n=this.$conditionalHandlers[e]))throw new Error("Can't use "+e+" with Buffer.");return n.call(this,t)}t=e;var r=this._castForQuery(t);return r?r.toObject({transform:!1,virtuals:!1}):r},e.exports=h}).call(this,n(1).Buffer)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"subtype",c),e.exports=u},function(e,t,n){"use strict";var r=n(5),i=n(164),o=n(7),a=n(165),s=n(2),u=o.CastError;function c(e,t){o.call(this,e,t,"Date")}function l(e){return this.cast(e)}c.schemaName="Date",c.defaultOptions={},c.prototype=Object.create(o.prototype),c.prototype.constructor=c,c.prototype.OptionsConstructor=i,c._cast=a,c.set=o.set,c.cast=function(e){return 0===arguments.length||(!1===e&&(e=this._defaultCaster),this._cast=e),this._cast},c._defaultCaster=function(e){if(null!=e&&!(e instanceof Date))throw new Error;return e},c.prototype.expires=function(e){return this._index&&"Object"===this._index.constructor.name||(this._index={}),this._index.expires=e,s.expires(this._index),this},c._checkRequired=function(e){return e instanceof Date},c.checkRequired=o.checkRequired,c.prototype.checkRequired=function(e,t){return o._isRef(this,e,t,!0)?!!e:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():c.checkRequired())(e)},c.prototype.min=function(e,t){if(this.minValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.minValidator}),this)),e){var n=t||r.messages.Date.min;"string"==typeof n&&(n=n.replace(/{MIN}/,e===Date.now?"Date.now()":e.toString()));var i=this;this.validators.push({validator:this.minValidator=function(t){var n=e;"function"==typeof e&&e!==Date.now&&(n=n.call(this));var r=n===Date.now?n():i.cast(n);return null===t||t.valueOf()>=r.valueOf()},message:n,type:"min",min:e})}return this},c.prototype.max=function(e,t){if(this.maxValidator&&(this.validators=this.validators.filter((function(e){return e.validator!==this.maxValidator}),this)),e){var n=t||r.messages.Date.max;"string"==typeof n&&(n=n.replace(/{MAX}/,e===Date.now?"Date.now()":e.toString()));var i=this;this.validators.push({validator:this.maxValidator=function(t){var n=e;"function"==typeof n&&n!==Date.now&&(n=n.call(this));var r=n===Date.now?n():i.cast(n);return null===t||t.valueOf()<=r.valueOf()},message:n,type:"max",max:e})}return this},c.prototype.cast=function(e){var t;t="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():c.cast();try{return t(e)}catch(t){throw new u("date",e,this.path,t,this)}},c.prototype.$conditionalHandlers=s.options(o.prototype.$conditionalHandlers,{$gt:l,$gte:l,$lt:l,$lte:l}),c.prototype.castForQuery=function(e,t){if(2!==arguments.length)return this._castForQuery(e);var n=this.$conditionalHandlers[e];if(!n)throw new Error("Can't use "+e+" with Date.");return n.call(this,t)},e.exports=c},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"min",c),Object.defineProperty(u.prototype,"max",c),Object.defineProperty(u.prototype,"expires",c),e.exports=u},function(e,t,n){"use strict";var r=n(22);e.exports=function(e){return null==e||""===e?null:e instanceof Date?(r.ok(!isNaN(e.valueOf())),e):(r.ok("boolean"!=typeof e),t=e instanceof Number||"number"==typeof e?new Date(e):"string"==typeof e&&!isNaN(Number(e))&&(Number(e)>=275761||Number(e)<-271820)?new Date(Number(e)):"function"==typeof e.valueOf?new Date(e.valueOf()):new Date(e),isNaN(t.valueOf())?void r.ok(!1):t);var t}},function(e,t,n){"use strict";(function(t){var r,i=n(167),o=n(7),a=n(86),s=n(12),u=n(2),c=n(0).populateModelSymbol,l=o.CastError;function f(e,t){var n="string"==typeof e&&24===e.length&&/^[a-f0-9]+$/i.test(e),r=t&&t.suppressWarning;!n&&void 0!==e||r||(console.warn("mongoose: To create a new ObjectId please try `Mongoose.Types.ObjectId` instead of using `Mongoose.Schema.ObjectId`. Set the `suppressWarning` option if you're trying to create a hex char path in your schema."),console.trace()),o.call(this,e,t,"ObjectID")}function p(e){return this.cast(e)}function h(){return new s}function d(e){if(r||(r=n(6)),this instanceof r){if(void 0===e){var t=new s;return this.$__._id=t,t}this.$__._id=e}return e}f.schemaName="ObjectId",f.defaultOptions={},f.prototype=Object.create(o.prototype),f.prototype.constructor=f,f.prototype.OptionsConstructor=i,f.get=o.get,f.set=o.set,f.prototype.auto=function(e){return e&&(this.default(h),this.set(d)),this},f._checkRequired=function(e){return e instanceof s},f._cast=a,f.cast=function(e){return 0===arguments.length||(!1===e&&(e=this._defaultCaster),this._cast=e),this._cast},f._defaultCaster=function(e){if(!(e instanceof s))throw new Error(e+" is not an instance of ObjectId");return e},f.checkRequired=o.checkRequired,f.prototype.checkRequired=function(e,t){return o._isRef(this,e,t,!0)?!!e:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():f.checkRequired())(e)},f.prototype.cast=function(e,i,a){if(o._isRef(this,e,i,a)){if(null==e)return e;if(r||(r=n(6)),e instanceof r)return e.$__.wasPopulated=!0,e;if(e instanceof s)return e;if("objectid"===(e.constructor.name||"").toLowerCase())return new s(e.toHexString());if(t.isBuffer(e)||!u.isObject(e))throw new l("ObjectId",e,this.path,null,this);var p=i.$__fullPath(this.path),h=(i.ownerDocument?i.ownerDocument():i).populated(p,!0),d=e;return i.$__.populated&&i.$__.populated[p]&&i.$__.populated[p].options&&i.$__.populated[p].options.options&&i.$__.populated[p].options.options.lean||((d=new h.options[c](e)).$__.wasPopulated=!0),d}var m;m="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():f.cast();try{return m(e)}catch(t){throw new l("ObjectId",e,this.path,t,this)}},f.prototype.$conditionalHandlers=u.options(o.prototype.$conditionalHandlers,{$gt:p,$gte:p,$lt:p,$lte:p}),h.$runBeforeSetters=!0,e.exports=f}).call(this,n(1).Buffer)},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"auto",c),Object.defineProperty(u.prototype,"populate",c),e.exports=u},function(e,t,n){"use strict";(function(t){var r,i=n(7),o=i.CastError,a=n(20),s=n(169),u=n(2),c=n(0).populateModelSymbol;function l(e,t){i.call(this,e,t,"Decimal128")}function f(e){return this.cast(e)}l.schemaName="Decimal128",l.defaultOptions={},l.prototype=Object.create(i.prototype),l.prototype.constructor=l,l._cast=s,l.set=i.set,l.cast=function(e){return 0===arguments.length||(!1===e&&(e=this._defaultCaster),this._cast=e),this._cast},l._defaultCaster=function(e){if(null!=e&&!(e instanceof a))throw new Error;return e},l._checkRequired=function(e){return e instanceof a},l.checkRequired=i.checkRequired,l.prototype.checkRequired=function(e,t){return i._isRef(this,e,t,!0)?!!e:("function"==typeof this.constructor.checkRequired?this.constructor.checkRequired():l.checkRequired())(e)},l.prototype.cast=function(e,s,f){if(i._isRef(this,e,s,f)){if(null==e)return e;if(r||(r=n(6)),e instanceof r)return e.$__.wasPopulated=!0,e;if(e instanceof a)return e;if(t.isBuffer(e)||!u.isObject(e))throw new o("Decimal128",e,this.path,null,this);var p=s.$__fullPath(this.path),h=(s.ownerDocument?s.ownerDocument():s).populated(p,!0),d=e;return s.$__.populated&&s.$__.populated[p]&&s.$__.populated[p].options&&s.$__.populated[p].options.options&&s.$__.populated[p].options.options.lean||((d=new h.options[c](e)).$__.wasPopulated=!0),d}var m;m="function"==typeof this._castFunction?this._castFunction:"function"==typeof this.constructor.cast?this.constructor.cast():l.cast();try{return m(e)}catch(t){throw new o("Decimal128",e,this.path,t,this)}},l.prototype.$conditionalHandlers=u.options(i.prototype.$conditionalHandlers,{$gt:f,$gte:f,$lt:f,$lte:f}),e.exports=l}).call(this,n(1).Buffer)},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(20),o=n(22);e.exports=function(e){return null==e?e:"object"===r(e)&&"string"==typeof e.$numberDecimal?i.fromString(e.$numberDecimal):e instanceof i?e:"string"==typeof e?i.fromString(e):t.isBuffer(e)?new i(e):"number"==typeof e?i.fromString(String(e)):"function"==typeof e.valueOf&&"string"==typeof e.valueOf()?i.fromString(e.valueOf()):void o.ok(!1)}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=f(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n(87),h=n(171),d=n(7),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(l,e);var n,r,o=c(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,e,t,"Map")).$isSchemaMap=!0,n}return n=l,(r=[{key:"set",value:function(e,t){return d.set(e,t)}},{key:"cast",value:function(e,n,r){if(e instanceof p)return e;var o=this.path;if(r){var a=new p({},o,n,this.$__schemaType);if(e instanceof t.Map){var s,u=i(e.keys());try{for(u.s();!(s=u.n()).done;){var c=s.value,l=e.get(c);l=null==l?a.$__schemaType._castNullish(l):a.$__schemaType.cast(l,n,!0,null,{path:o+"."+c}),a.$init(c,l)}}catch(e){u.e(e)}finally{u.f()}}else for(var f=0,h=Object.keys(e);f<h.length;f++){var d=h[f],m=e[d];m=null==m?a.$__schemaType._castNullish(m):a.$__schemaType.cast(m,n,!0,null,{path:o+"."+d}),a.$init(d,m)}return a}return new p(e,o,n,this.$__schemaType)}},{key:"clone",value:function(){var e=s(f(l.prototype),"clone",this).call(this);return null!=this.$__schemaType&&(e.$__schemaType=this.$__schemaType.clone()),e}}])&&a(n.prototype,r),l}(d);m.prototype.OptionsConstructor=h,m.defaultOptions={},e.exports=m}).call(this,n(11))},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(n,e);var t=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}(n);function n(){return i(this,n),t.apply(this,arguments)}return n}(n(9)),c=n(10);Object.defineProperty(u.prototype,"of",c),e.exports=u},function(e,t,n){"use strict";(function(e){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i=n(15).get().Binary,o=n(20),a=n(12),s=n(29);function u(t){return t&&"object"===r(t)&&!(t instanceof Date)&&!(t instanceof a)&&(!Array.isArray(t)||t.length>0)&&!(t instanceof e)&&!(t instanceof o)&&!(t instanceof i)}t.flatten=function t(n,r,i,o){var a,c=(a=n&&s(n)&&!e.isBuffer(n)?Object.keys(n.toObject({transform:!1,virtuals:!1})):Object.keys(n||{})).length,l={};r=r?r+".":"";for(var f=0;f<c;++f){var p=a[f],h=n[p];l[r+p]=h;var d=o&&o.path&&o.path(r+p),m=o&&o.nested&&o.nested[r+p];if(!d||"Mixed"!==d.instance){if(u(h)){if(i&&i.skipArrays&&Array.isArray(h))continue;var v=t(h,r+p,i,o);for(var y in v)l[y]=v[y];Array.isArray(h)&&(l[r+p]=h)}if(m)for(var g=0,b=Object.keys(o.paths);g<b.length;g++){var _=b[g];_.startsWith(r+p+".")&&!l.hasOwnProperty(_)&&(l[_]=void 0)}}}return l},t.modifiedPaths=function t(n,r,i){var o=Object.keys(n||{}),a=o.length;i=i||{},r=r?r+".":"";for(var c=0;c<a;++c){var l=o[c],f=n[l];i[r+l]=!0,s(f)&&!e.isBuffer(f)&&(f=f.toObject({transform:!1,virtuals:!1})),u(f)&&t(f,r+l,i)}return i}}).call(this,n(1).Buffer)},function(e,t,n){"use strict";var r=n(3);e.exports=function e(t,n,i){for(var o=(i=i||{}).typeOnly,a=n.split("."),s=null,u="adhocOrUndefined",c=0;c<a.length;++c){var l=a.slice(0,c+1).join(".");if(null!=(s=t.schema.path(l))){if("Mixed"===s.instance)return o?"real":s;if(u=t.schema.pathType(l),(s.$isSingleNested||s.$isMongooseDocumentArrayElement)&&null!=s.schema.discriminators){var f=s.schema.discriminators,p=t.get(l+"."+r(s,"schema.options.discriminatorKey"));if(null==p||null==f[p])continue;var h=a.slice(c+1).join(".");return e(t.get(l),h,i)}}else u="adhocOrUndefined"}return o?u:s}},function(e,t,n){"use strict";function r(){return null!=this._id?String(this._id):null}e.exports=function(e){!e.paths.id&&!e.options.noVirtualId&&e.options.id&&e.virtual("id").get(r)}},function(e,t,n){"use strict";var r=n(58);e.exports=function(e){var t=Object.keys(e),n=t.length,i=null;if(1===n&&"_id"===t[0])i=!!e[t[n]];else for(;n--;)if("_id"!==t[n]&&r(e[t[n]])){i=!e[t[n]];break}return i}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=n(177),s=n(3),u=n(34),c=n(58),l=n(28);function f(e){return function(t){t.options||(t.options={}),null!=e&&Array.isArray(e.virtuals)&&((e=Object.assign({},e)).virtuals=e.virtuals.filter((function(e){return"string"==typeof e&&e.startsWith(t.path+".")})).map((function(e){return e.slice(t.path.length+1)}))),t.options.lean=e}}t.preparePopulationOptions=function(e,t){var n=e.options.populate,r=Object.keys(n).reduce((function(e,t){return e.concat([n[t]])}),[]);return null!=t.lean&&r.filter((function(e){return null==s(e,"options.lean")})).forEach(f(t.lean)),r},t.preparePopulationOptionsMQ=function(e,t){var n=e._mongooseOptions.populate,r=Object.keys(n).reduce((function(e,t){return e.concat([n[t]])}),[]);null!=t.lean&&r.filter((function(e){return null==s(e,"options.lean")})).forEach(f(t.lean));var i=s(e,"options.session",null);null!=i&&r.forEach((function(e){null!=e.options?"session"in e.options||(e.options.session=i):e.options={session:i}}));var o=e._fieldsForExec();return r.forEach((function(e){e._queryProjection=o})),r},t.createModel=function(e,n,r,i){e.hooks.execPreSync("createModel",n);var o=e.schema?e.schema.discriminatorMapping:null,a=o&&o.isRoot?o.key:null,s=n[a];if(a&&s&&e.discriminators){var c=e.discriminators[s]||u(e,s);if(c){var f=l(i);return t.applyPaths(f,c.schema),new c(void 0,f,!0)}}return new e(void 0,r,{skipId:!0,isNew:!1,willInit:!0})},t.applyPaths=function(e,t){var n,o,u;if(e)for(u=(o=Object.keys(e)).length;u--;)if("+"!==o[u][0]){var l=e[o[u]];if(c(l)){n=!l;break}}var f=[],p=[],h=[];switch(function t(i,u){if(u||(u=""),-1!==h.indexOf(i))return[];h.push(i);var c=[];return i.eachPath((function(i,l){u&&(i=u+"."+i);var h=function(t,i){var a="+"+t,u=e&&a in e;if(u&&delete e[a],"boolean"==typeof i.selected){if(u)return delete e[a],void(!1===n&&o.length>1&&!~o.indexOf(t)&&(e[t]=1));for(var c=t.split("."),l="",h=0;h<c.length;++h)if(l+=l.length?"."+c[h]:c[h],-1!==p.indexOf(l))return;if(!n&&s(i,"options.$skipDiscriminatorCheck",!1))for(var d="",m=0;m<c.length;++m){d+=(0===d.length?"":".")+c[m];var v=s(e,d,!1)||s(e,d+".$",!1);if(v&&"object"!==r(v))return}return(i.selected?f:p).push(t),t}}(i,l);if(null!=h&&c.push(h),l.schema){var d=t(l.schema,i);!1===n&&a(e,i,l.schema,f,d)}})),h.pop(),c}(t),n){case!0:var d,m=i(p);try{for(m.s();!(d=m.n()).done;){var v=d.value;e[v]=0}}catch(e){m.e(e)}finally{m.f()}break;case!1:t&&t.paths._id&&t.paths._id.options&&!1===t.paths._id.options.select&&(e._id=0);var y,g=i(f);try{for(g.s();!(y=g.n()).done;){var b=y.value;e[b]=e[b]||1}}catch(e){g.e(e)}finally{g.f()}break;case void 0:if(null==e)break;for(var _=0,w=Object.keys(e||{});_<w.length;_++){var x=w[_];x.startsWith("+")&&delete e[x]}var S,E=i(p);try{for(E.s();!(S=E.n()).done;){var O=S.value;e[O]=0}}catch(e){E.e(e)}finally{E.f()}}},t.handleDeleteWriteOpResult=function(e){return function(t,n){if(t)return e(t);var r=Object.assign({},n.result);return null!=s(n,"result.n",null)&&(r.deletedCount=n.result.n),null!=n.deletedCount&&(r.deletedCount=n.deletedCount),e(null,r)}}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){var o=Object.keys(e).reduce((function(e,n){return e||n.startsWith(t+".")}),!1),a=t+"."+n.options.discriminatorKey;o||1!==i.length||i[0]!==a||r.splice(r.indexOf(a),1)}},function(e,t,n){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.exports=function(e){return!!e&&("object"===r(e)||"function"==typeof e)&&"function"==typeof e.then}},function(e,t,n){"use strict";var r=n(6),i=n(19).EventEmitter,o=n(5),a=n(52),s=n(12),u=o.ValidationError,c=n(76),l=n(21);function f(e,t,n,i,u){if(!(this instanceof f))return new f(e,t,n,i,u);if(l(t)&&!t.instanceOfSchema&&(t=new a(t)),t=this.schema||t,!this.schema&&t.options._id&&void 0===(e=e||{})._id&&(e._id=new s),!t)throw new o.MissingSchemaError;for(var p in this.$__setSchema(t),r.call(this,e,n,i,u),c(this,t,{decorateDoc:!0}),t.methods)this[p]=t.methods[p];for(var h in t.statics)this[h]=t.statics[h]}f.prototype=Object.create(r.prototype),f.prototype.constructor=f,f.events=new i,f.$emitter=new i,["on","once","emit","listeners","removeListener","setMaxListeners","removeAllListeners","addListener"].forEach((function(e){f[e]=function(){return f.$emitter[e].apply(f.$emitter,arguments)}})),f.ValidationError=u,e.exports=f}])},module.exports=e()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(0),i=n(33),o=n(42);function a(e){return(a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){if(e&&e.__esModule)return e;if(null===e||"object"!==a(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var c=[{key:"youtube",name:"YouTube",canPlay:o.canPlay.youtube,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(257))}))}))},{key:"soundcloud",name:"SoundCloud",canPlay:o.canPlay.soundcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(258))}))}))},{key:"vimeo",name:"Vimeo",canPlay:o.canPlay.vimeo,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(259))}))}))},{key:"facebook",name:"Facebook",canPlay:o.canPlay.facebook,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(260))}))}))},{key:"streamable",name:"Streamable",canPlay:o.canPlay.streamable,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(261))}))}))},{key:"wistia",name:"Wistia",canPlay:o.canPlay.wistia,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(262))}))}))},{key:"twitch",name:"Twitch",canPlay:o.canPlay.twitch,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(263))}))}))},{key:"dailymotion",name:"DailyMotion",canPlay:o.canPlay.dailymotion,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(264))}))}))},{key:"mixcloud",name:"Mixcloud",canPlay:o.canPlay.mixcloud,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(265))}))}))},{key:"vidyard",name:"Vidyard",canPlay:o.canPlay.vidyard,lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(266))}))}))},{key:"file",name:"FilePlayer",canPlay:o.canPlay.file,canEnablePIP:function(e){return o.canPlay.file(e)&&(document.pictureInPictureEnabled||(0,i.supportsWebKitPresentationMode)())&&!o.AUDIO_EXTENSIONS.test(e)},lazyPlayer:(0,r.lazy)((function(){return Promise.resolve().then((function(){return u(n(267))}))}))}];t.default=c},function(e,t){function n(e,t){e.onload=function(){this.onerror=this.onload=null,t(null,e)},e.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),e)}}function r(e,t){e.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,t(null,e))}}e.exports=function(e,t,i){var o=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");"function"===typeof t&&(i=t,t={}),t=t||{},i=i||function(){},a.type=t.type||"text/javascript",a.charset=t.charset||"utf8",a.async=!("async"in t)||!!t.async,a.src=e,t.attrs&&function(e,t){for(var n in t)e.setAttribute(n,t[n])}(a,t.attrs),t.text&&(a.text=""+t.text),("onload"in a?n:r)(a,i),a.onload||n(a,i),o.appendChild(a)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=/list=([a-zA-Z0-9_-]+)/,w=/user\/([a-zA-Z0-9_-]+)\/?/,x=/youtube-nocookie\.com/,S=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,e);var t,n,a,s=m(u);function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),b(y(e),"parsePlaylist",(function(t){return t instanceof Array?{listType:"playlist",playlist:t.map(e.getID).join(",")}:_.test(t)?{listType:"playlist",list:l(t.match(_),2)[1]}:w.test(t)?{listType:"user_uploads",list:l(t.match(w),2)[1]}:{}})),b(y(e),"onStateChange",(function(t){var n=t.data,r=e.props,i=r.onPlay,o=r.onPause,a=r.onBuffer,s=r.onBufferEnd,u=r.onEnded,c=r.onReady,l=r.loop,f=r.config,p=f.playerVars,h=f.onUnstarted,d=window.YT.PlayerState,m=d.UNSTARTED,v=d.PLAYING,y=d.PAUSED,g=d.BUFFERING,b=d.ENDED,_=d.CUED;if(n===m&&h(),n===v&&(i(),s()),n===y&&o(),n===g&&a(),n===b){var w=!!e.callPlayer("getPlaylist");l&&!w&&(p.start?e.seekTo(p.start):e.play()),u()}n===_&&c()})),b(y(e),"mute",(function(){e.callPlayer("mute")})),b(y(e),"unmute",(function(){e.callPlayer("unMute")})),b(y(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(e){return!e||e instanceof Array?null:e.match(o.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(e,t){var n=this,r=this.props,o=r.playing,a=r.muted,s=r.playsinline,u=r.controls,l=r.loop,f=r.config,p=r.onError,h=f.playerVars,d=f.embedOptions,m=this.getID(e);if(t)return _.test(e)||w.test(e)||e instanceof Array?void this.player.loadPlaylist(this.parsePlaylist(e)):void this.player.cueVideoById({videoId:m,startSeconds:(0,i.parseStartTime)(e)||h.start,endSeconds:(0,i.parseEndTime)(e)||h.end});(0,i.getSDK)("https://www.youtube.com/iframe_api","YT","onYouTubeIframeAPIReady",(function(e){return e.loaded})).then((function(t){n.container&&(n.player=new t.Player(n.container,c({width:"100%",height:"100%",videoId:m,playerVars:c(c({autoplay:o?1:0,mute:a?1:0,controls:u?1:0,start:(0,i.parseStartTime)(e),end:(0,i.parseEndTime)(e),origin:window.location.origin,playsinline:s},n.parsePlaylist(e)),h),events:{onReady:function(){l&&n.player.setLoop(!0),n.props.onReady()},onStateChange:n.onStateChange,onError:function(e){return p(e.data)}},host:x.test(e)?"https://www.youtube-nocookie.com":void 0},d)))}),p)}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){document.body.contains(this.callPlayer("getIframe"))&&this.callPlayer("stopVideo")}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",e),this.props.playing||this.pause()}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return r.default.createElement("div",{style:e},r.default.createElement("div",{ref:this.ref}))}}])&&h(t.prototype,n),a&&h(t,a),u}(r.Component);t.default=S,b(S,"displayName","YouTube"),b(S,"canPlay",o.canPlay.youtube)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,o,a=h(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=a.call.apply(a,[this].concat(n))),"callPlayer",i.callPlayer),y(m(e),"duration",null),y(m(e),"currentTime",null),y(m(e),"fractionLoaded",null),y(m(e),"mute",(function(){e.setVolume(0)})),y(m(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),y(m(e),"ref",(function(t){e.iframe=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;(0,i.getSDK)("https://w.soundcloud.com/player/api.js","SC").then((function(r){if(n.iframe){var i=r.Widget.Events,o=i.PLAY,a=i.PLAY_PROGRESS,s=i.PAUSE,u=i.FINISH,l=i.ERROR;t||(n.player=r.Widget(n.iframe),n.player.bind(o,n.props.onPlay),n.player.bind(s,(function(){n.duration-n.currentTime<.05||n.props.onPause()})),n.player.bind(a,(function(e){n.currentTime=e.currentPosition/1e3,n.fractionLoaded=e.loadedProgress})),n.player.bind(u,(function(){return n.props.onEnded()})),n.player.bind(l,(function(e){return n.props.onError(e)}))),n.player.load(e,c(c({},n.props.config.options),{},{callback:function(){n.player.getDuration((function(e){n.duration=e/1e3,n.props.onReady()}))}}))}}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seekTo",1e3*e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.fractionLoaded*this.duration}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return r.default.createElement("iframe",{ref:this.ref,src:"https://w.soundcloud.com/player/?url=".concat(encodeURIComponent(this.props.url)),style:e,frameBorder:0,allow:"autoplay"})}}])&&f(t.prototype,n),o&&f(t,o),s}(r.Component);t.default=g,y(g,"displayName","SoundCloud"),y(g,"canPlay",o.canPlay.soundcloud),y(g,"loopOnEnded",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(s,e);var t,n,o,a=p(s);function s(){var e;c(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=a.call.apply(a,[this].concat(n))),"callPlayer",i.callPlayer),v(d(e),"duration",null),v(d(e),"currentTime",null),v(d(e),"secondsLoaded",null),v(d(e),"mute",(function(){e.setVolume(0)})),v(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),v(d(e),"ref",(function(t){e.container=t})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;this.duration=null,(0,i.getSDK)("https://player.vimeo.com/api/player.js","Vimeo").then((function(n){t.container&&(t.player=new n.Player(t.container,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({url:e,autoplay:t.props.playing,muted:t.props.muted,loop:t.props.loop,playsinline:t.props.playsinline,controls:t.props.controls},t.props.config.playerOptions)),t.player.ready().then((function(){var e=t.container.querySelector("iframe");e.style.width="100%",e.style.height="100%"})).catch(t.props.onError),t.player.on("loaded",(function(){t.props.onReady(),t.refreshDuration()})),t.player.on("play",(function(){t.props.onPlay(),t.refreshDuration()})),t.player.on("pause",t.props.onPause),t.player.on("seeked",(function(e){return t.props.onSeek(e.seconds)})),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.seconds;t.currentTime=n})),t.player.on("progress",(function(e){var n=e.seconds;t.secondsLoaded=n})),t.player.on("bufferstart",t.props.onBuffer),t.player.on("bufferend",t.props.onBufferEnd))}),this.props.onError)}},{key:"refreshDuration",value:function(){var e=this;this.player.getDuration().then((function(t){e.duration=t}))}},{key:"play",value:function(){var e=this.callPlayer("play");e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("unload")}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackRate",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e={width:"100%",height:"100%",overflow:"hidden",display:this.props.display};return r.default.createElement("div",{key:this.props.url,ref:this.ref,style:e})}}])&&l(t.prototype,n),o&&l(t,o),s}(r.Component);t.default=y,v(y,"displayName","Vimeo"),v(y,"canPlay",o.canPlay.vimeo),v(y,"forceLoad",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v="https://connect.facebook.net/en_US/sdk.js",y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,o,a=f(s);function s(){var e;u(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=a.call.apply(a,[this].concat(n))),"callPlayer",i.callPlayer),m(h(e),"playerID",e.props.config.playerId||"".concat("facebook-player-").concat((0,i.randomString)())),m(h(e),"mute",(function(){e.callPlayer("mute")})),m(h(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this;t?(0,i.getSDK)(v,"FB","fbAsyncInit").then((function(e){return e.XFBML.parse()})):(0,i.getSDK)(v,"FB","fbAsyncInit").then((function(e){e.init({appId:n.props.config.appId,xfbml:!0,version:n.props.config.version}),e.Event.subscribe("xfbml.render",(function(e){n.props.onLoaded()})),e.Event.subscribe("xfbml.ready",(function(e){"video"===e.type&&e.id===n.playerID&&(n.player=e.instance,n.player.subscribe("startedPlaying",n.props.onPlay),n.player.subscribe("paused",n.props.onPause),n.player.subscribe("finishedPlaying",n.props.onEnded),n.player.subscribe("startedBuffering",n.props.onBuffer),n.player.subscribe("finishedBuffering",n.props.onBufferEnd),n.player.subscribe("error",n.props.onError),n.props.muted||n.callPlayer("unmute"),n.props.onReady(),document.getElementById(n.playerID).querySelector("iframe").style.visibility="visible")}))}))}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentPosition")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return r.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID,className:"fb-video","data-href":this.props.url,"data-autoplay":this.props.playing?"true":"false","data-allowfullscreen":"true","data-controls":this.props.controls?"true":"false"})}}])&&c(t.prototype,n),o&&c(t,o),s}(r.Component);t.default=y,m(y,"displayName","Facebook"),m(y,"canPlay",o.canPlay.facebook),m(y,"loopOnEnded",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(p,e);var t,n,a,s=f(p);function p(){var e;u(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),m(h(e),"duration",null),m(h(e),"currentTime",null),m(h(e),"secondsLoaded",null),m(h(e),"mute",(function(){e.callPlayer("mute")})),m(h(e),"unmute",(function(){e.callPlayer("unmute")})),m(h(e),"ref",(function(t){e.iframe=t})),e}return t=p,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://cdn.embed.ly/player-0.1.0.min.js","playerjs").then((function(e){t.iframe&&(t.player=new e.Player(t.iframe),t.player.setLoop(t.props.loop),t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seeked",t.props.onSeek),t.player.on("ended",t.props.onEnded),t.player.on("error",t.props.onError),t.player.on("timeupdate",(function(e){var n=e.duration,r=e.seconds;t.duration=n,t.currentTime=r})),t.player.on("buffered",(function(e){var n=e.percent;t.duration&&(t.secondsLoaded=t.duration*n)})),t.props.muted&&t.player.mute())}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("setCurrentTime",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",100*e)}},{key:"setLoop",value:function(e){this.callPlayer("setLoop",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return this.secondsLoaded}},{key:"render",value:function(){var e=this.props.url.match(o.MATCH_URL_STREAMABLE)[1];return r.default.createElement("iframe",{ref:this.ref,src:"https://streamable.com/o/".concat(e),frameBorder:"0",scrolling:"no",style:{width:"100%",height:"100%"},allowFullScreen:!0})}}])&&c(t.prototype,n),a&&c(t,a),p}(r.Component);t.default=v,m(v,"displayName","Streamable"),m(v,"canPlay",o.canPlay.streamable)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,a,s=h(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),y(m(e),"playerID",e.props.config.playerId||"".concat("wistia-player-").concat((0,i.randomString)())),y(m(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),y(m(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),y(m(e),"onSeek",(function(){var t;return(t=e.props).onSeek.apply(t,arguments)})),y(m(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),y(m(e),"mute",(function(){e.callPlayer("mute")})),y(m(e),"unmute",(function(){e.callPlayer("unmute")})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,o=n.muted,a=n.controls,s=n.onReady,u=n.config,l=n.onError;(0,i.getSDK)("https://fast.wistia.com/assets/external/E-v1.js","Wistia").then((function(){window._wq=window._wq||[],window._wq.push({id:t.playerID,options:c({autoPlay:r,silentAutoPlay:"allow",muted:o,controlsVisibleOnLoad:a,fullscreenButton:a,playbar:a,playbackRateControl:a,qualityControl:a,volumeControl:a,settingsControl:a,smallPlayButton:a},u.options),onReady:function(e){t.player=e,t.unbind(),t.player.bind("play",t.onPlay),t.player.bind("pause",t.onPause),t.player.bind("seek",t.onSeek),t.player.bind("end",t.onEnded),s()}})}),l)}},{key:"unbind",value:function(){this.player.unbind("play",this.onPlay),this.player.unbind("pause",this.onPause),this.player.unbind("seek",this.onSeek),this.player.unbind("end",this.onEnded)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.unbind(),this.callPlayer("remove")}},{key:"seekTo",value:function(e){this.callPlayer("time",e)}},{key:"setVolume",value:function(e){this.callPlayer("volume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("playbackRate",e)}},{key:"getDuration",value:function(){return this.callPlayer("duration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("time")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props.url,t=e&&e.match(o.MATCH_URL_WISTIA)[1],n="wistia_embed wistia_async_".concat(t);return r.default.createElement("div",{id:this.playerID,key:t,className:n,style:{width:"100%",height:"100%"}})}}])&&f(t.prototype,n),a&&f(t,a),u}(r.Component);t.default=g,y(g,"displayName","Wistia"),y(g,"canPlay",o.canPlay.wistia),y(g,"loopOnEnded",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,e);var t,n,a,s=p(h);function h(){var e;c(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),v(d(e),"playerID",e.props.config.playerId||"".concat("twitch-player-").concat((0,i.randomString)())),v(d(e),"mute",(function(){e.callPlayer("setMuted",!0)})),v(d(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),e}return t=h,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e,t){var n=this,r=this.props,a=r.playsinline,s=r.onError,c=r.config,l=r.controls,f=o.MATCH_URL_TWITCH_CHANNEL.test(e),p=f?e.match(o.MATCH_URL_TWITCH_CHANNEL)[1]:e.match(o.MATCH_URL_TWITCH_VIDEO)[1];t?f?this.player.setChannel(p):this.player.setVideo("v"+p):(0,i.getSDK)("https://player.twitch.tv/js/embed/v1.js","Twitch").then((function(e){n.player=new e.Player(n.playerID,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({video:f?"":p,channel:f?p:"",height:"100%",width:"100%",playsinline:a,autoplay:n.props.playing,muted:n.props.muted,controls:!!f||l},c.options));var t=e.Player,r=t.READY,i=t.PLAYING,o=t.PAUSE,s=t.ENDED,h=t.ONLINE,d=t.OFFLINE;n.player.addEventListener(r,n.props.onReady),n.player.addEventListener(i,n.props.onPlay),n.player.addEventListener(o,n.props.onPause),n.player.addEventListener(s,n.props.onEnded),n.player.addEventListener(h,n.props.onLoaded),n.player.addEventListener(d,n.props.onLoaded)}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){this.callPlayer("pause")}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){return r.default.createElement("div",{style:{width:"100%",height:"100%"},id:this.playerID})}}])&&l(t.prototype,n),a&&l(t,a),h}(r.Component);t.default=y,v(y,"displayName","Twitch"),v(y,"canPlay",o.canPlay.twitch),v(y,"loopOnEnded",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?y(e):t}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(u,e);var t,n,a,s=m(u);function u(){var e;p(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return b(y(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),b(y(e),"onDurationChange",(function(){var t=e.getDuration();e.props.onDuration(t)})),b(y(e),"mute",(function(){e.callPlayer("setMuted",!0)})),b(y(e),"unmute",(function(){e.callPlayer("setMuted",!1)})),b(y(e),"ref",(function(t){e.container=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.controls,a=n.config,s=n.onError,u=n.playing,f=l(e.match(o.MATCH_URL_DAILYMOTION),2)[1];this.player?this.player.load(f,{start:(0,i.parseStartTime)(e),autoplay:u}):(0,i.getSDK)("https://api.dmcdn.net/all.js","DM","dmAsyncInit",(function(e){return e.player})).then((function(n){if(t.container){var o=n.player;t.player=new o(t.container,{width:"100%",height:"100%",video:f,params:c({controls:r,autoplay:t.props.playing,mute:t.props.muted,start:(0,i.parseStartTime)(e),origin:window.location.origin},a.params),events:{apiready:t.props.onReady,seeked:function(){return t.props.onSeek(t.player.currentTime)},video_end:t.props.onEnded,durationchange:t.onDurationChange,pause:t.props.onPause,playing:t.props.onPlay,waiting:t.props.onBuffer,error:function(e){return s(e)}}})}}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"getDuration",value:function(){return this.player.duration||null}},{key:"getCurrentTime",value:function(){return this.player.currentTime}},{key:"getSecondsLoaded",value:function(){return this.player.bufferedTime}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return r.default.createElement("div",{style:e},r.default.createElement("div",{ref:this.ref}))}}])&&h(t.prototype,n),a&&h(t,a),u}(r.Component);t.default=_,b(_,"displayName","DailyMotion"),b(_,"canPlay",o.canPlay.dailymotion),b(_,"loopOnEnded",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(u,e);var t,n,a,s=h(u);function u(){var e;l(this,u);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),y(m(e),"duration",null),y(m(e),"currentTime",null),y(m(e),"secondsLoaded",null),y(m(e),"mute",(function(){})),y(m(e),"unmute",(function(){})),y(m(e),"ref",(function(t){e.iframe=t})),e}return t=u,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this;(0,i.getSDK)("https://widget.mixcloud.com/media/js/widgetApi.js","Mixcloud").then((function(e){t.player=e.PlayerWidget(t.iframe),t.player.ready.then((function(){t.player.events.play.on(t.props.onPlay),t.player.events.pause.on(t.props.onPause),t.player.events.ended.on(t.props.onEnded),t.player.events.error.on(t.props.error),t.player.events.progress.on((function(e,n){t.currentTime=e,t.duration=n})),t.props.onReady()}))}),this.props.onError)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.currentTime}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.config,a=t.match(o.MATCH_URL_MIXCLOUD)[1],s=(0,i.queryString)(c(c({},n.options),{},{feed:"/".concat(a,"/")}));return r.default.createElement("iframe",{key:a,ref:this.ref,style:{width:"100%",height:"100%"},src:"https://www.mixcloud.com/widget/iframe/?".concat(s),frameBorder:"0"})}}])&&f(t.prototype,n),a&&f(t,a),u}(r.Component);t.default=g,y(g,"displayName","Mixcloud"),y(g,"canPlay",o.canPlay.mixcloud),y(g,"loopOnEnded",!0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,e);var t,n,a,s=p(h);function h(){var e;c(this,h);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(d(e=s.call.apply(s,[this].concat(n))),"callPlayer",i.callPlayer),v(d(e),"mute",(function(){e.setVolume(0)})),v(d(e),"unmute",(function(){null!==e.props.volume&&e.setVolume(e.props.volume)})),v(d(e),"ref",(function(t){e.container=t})),e}return t=h,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"load",value:function(e){var t=this,n=this.props,r=n.playing,a=n.config,s=n.onError,c=n.onDuration,l=e&&e.match(o.MATCH_URL_VIDYARD)[1];this.player&&this.stop(),(0,i.getSDK)("https://play.vidyard.com/embed/v4.js","VidyardV4","onVidyardAPI").then((function(e){t.container&&(e.api.addReadyListener((function(e,n){t.player=n,t.player.on("ready",t.props.onReady),t.player.on("play",t.props.onPlay),t.player.on("pause",t.props.onPause),t.player.on("seek",t.props.onSeek),t.player.on("playerComplete",t.props.onEnded)}),l),e.api.renderPlayer(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({uuid:l,container:t.container,autoplay:r?1:0},a.options)),e.api.getPlayerMetadata(l).then((function(e){t.duration=e.length_in_seconds,c(e.length_in_seconds)})))}),s)}},{key:"play",value:function(){this.callPlayer("play")}},{key:"pause",value:function(){this.callPlayer("pause")}},{key:"stop",value:function(){window.VidyardV4.api.destroyPlayer(this.player)}},{key:"seekTo",value:function(e){this.callPlayer("seek",e)}},{key:"setVolume",value:function(e){this.callPlayer("setVolume",e)}},{key:"setPlaybackRate",value:function(e){this.callPlayer("setPlaybackSpeed",e)}},{key:"getDuration",value:function(){return this.duration}},{key:"getCurrentTime",value:function(){return this.callPlayer("currentTime")}},{key:"getSecondsLoaded",value:function(){return null}},{key:"render",value:function(){var e={width:"100%",height:"100%",display:this.props.display};return r.default.createElement("div",{style:e},r.default.createElement("div",{ref:this.ref}))}}])&&l(t.prototype,n),a&&l(t,a),h}(r.Component);t.default=y,v(y,"displayName","Vidyard"),v(y,"canPlay",o.canPlay.vidyard)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),i=n(33),o=n(42);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return(s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y="undefined"!==typeof navigator&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,g=/www\.dropbox\.com\/.+/,b=/https:\/\/watch\.cloudflarestream\.com\/([a-z0-9]+)/,_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(h,e);var t,n,a,s=p(h);function h(){var e;c(this,h);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return v(d(e=s.call.apply(s,[this].concat(n))),"onReady",(function(){var t;return(t=e.props).onReady.apply(t,arguments)})),v(d(e),"onPlay",(function(){var t;return(t=e.props).onPlay.apply(t,arguments)})),v(d(e),"onBuffer",(function(){var t;return(t=e.props).onBuffer.apply(t,arguments)})),v(d(e),"onBufferEnd",(function(){var t;return(t=e.props).onBufferEnd.apply(t,arguments)})),v(d(e),"onPause",(function(){var t;return(t=e.props).onPause.apply(t,arguments)})),v(d(e),"onEnded",(function(){var t;return(t=e.props).onEnded.apply(t,arguments)})),v(d(e),"onError",(function(){var t;return(t=e.props).onError.apply(t,arguments)})),v(d(e),"onEnablePIP",(function(){var t;return(t=e.props).onEnablePIP.apply(t,arguments)})),v(d(e),"onDisablePIP",(function(t){var n=e.props,r=n.onDisablePIP,i=n.playing;r(t),i&&e.play()})),v(d(e),"onPresentationModeChange",(function(t){if(e.player&&(0,i.supportsWebKitPresentationMode)(e.player)){var n=e.player.webkitPresentationMode;"picture-in-picture"===n?e.onEnablePIP(t):"inline"===n&&e.onDisablePIP(t)}})),v(d(e),"onSeek",(function(t){e.props.onSeek(t.target.currentTime)})),v(d(e),"mute",(function(){e.player.muted=!0})),v(d(e),"unmute",(function(){e.player.muted=!1})),v(d(e),"renderSourceElement",(function(e,t){return"string"===typeof e?r.default.createElement("source",{key:t,src:e}):r.default.createElement("source",u({key:t},e))})),v(d(e),"renderTrack",(function(e,t){return r.default.createElement("track",u({key:t},e))})),v(d(e),"ref",(function(t){e.player&&(e.prevPlayer=e.player),e.player=t})),e}return t=h,(n=[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this),this.addListeners(this.player),y&&this.player.load()}},{key:"componentDidUpdate",value:function(e){this.shouldUseAudio(this.props)!==this.shouldUseAudio(e)&&(this.removeListeners(this.prevPlayer),this.addListeners(this.player))}},{key:"componentWillUnmount",value:function(){this.removeListeners(this.player),this.hls&&this.hls.destroy()}},{key:"addListeners",value:function(e){var t=this.props.playsinline;e.addEventListener("canplay",this.onReady),e.addEventListener("play",this.onPlay),e.addEventListener("waiting",this.onBuffer),e.addEventListener("playing",this.onBufferEnd),e.addEventListener("pause",this.onPause),e.addEventListener("seeked",this.onSeek),e.addEventListener("ended",this.onEnded),e.addEventListener("error",this.onError),e.addEventListener("enterpictureinpicture",this.onEnablePIP),e.addEventListener("leavepictureinpicture",this.onDisablePIP),e.addEventListener("webkitpresentationmodechanged",this.onPresentationModeChange),t&&(e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("x5-playsinline",""))}},{key:"removeListeners",value:function(e){e.removeEventListener("canplay",this.onReady),e.removeEventListener("play",this.onPlay),e.removeEventListener("waiting",this.onBuffer),e.removeEventListener("playing",this.onBufferEnd),e.removeEventListener("pause",this.onPause),e.removeEventListener("seeked",this.onSeek),e.removeEventListener("ended",this.onEnded),e.removeEventListener("error",this.onError),e.removeEventListener("enterpictureinpicture",this.onEnablePIP),e.removeEventListener("leavepictureinpicture",this.onDisablePIP),e.removeEventListener("webkitpresentationmodechanged",this.onPresentationModeChange)}},{key:"shouldUseAudio",value:function(e){return!e.config.forceVideo&&!e.config.attributes.poster&&(o.AUDIO_EXTENSIONS.test(e.url)||e.config.forceAudio)}},{key:"shouldUseHLS",value:function(e){return!!this.props.config.forceHLS||!y&&(o.HLS_EXTENSIONS.test(e)||b.test(e))}},{key:"shouldUseDASH",value:function(e){return o.DASH_EXTENSIONS.test(e)||this.props.config.forceDASH}},{key:"shouldUseFLV",value:function(e){return o.FLV_EXTENSIONS.test(e)||this.props.config.forceFLV}},{key:"load",value:function(e){var t=this,n=this.props.config,r=n.hlsVersion,o=n.hlsOptions,a=n.dashVersion,s=n.flvVersion;if(this.hls&&this.hls.destroy(),this.dash&&this.dash.reset(),this.shouldUseHLS(e)&&(0,i.getSDK)("https://cdn.jsdelivr.net/npm/hls.js@VERSION/dist/hls.min.js".replace("VERSION",r),"Hls").then((function(n){if(t.hls=new n(o),t.hls.on(n.Events.ERROR,(function(e,r){t.props.onError(e,r,t.hls,n)})),b.test(e)){var r=e.match(b)[1];t.hls.loadSource("https://videodelivery.net/{id}/manifest/video.m3u8".replace("{id}",r))}else t.hls.loadSource(e);t.hls.attachMedia(t.player),t.props.onLoaded()})),this.shouldUseDASH(e)&&(0,i.getSDK)("https://cdnjs.cloudflare.com/ajax/libs/dashjs/VERSION/dash.all.min.js".replace("VERSION",a),"dashjs").then((function(n){t.dash=n.MediaPlayer().create(),t.dash.initialize(t.player,e,t.props.playing),t.dash.on("error",t.props.onError),parseInt(a)<3?t.dash.getDebug().setLogToBrowserConsole(!1):t.dash.updateSettings({debug:{logLevel:n.Debug.LOG_LEVEL_NONE}}),t.props.onLoaded()})),this.shouldUseFLV(e)&&(0,i.getSDK)("https://cdn.jsdelivr.net/npm/flv.js@VERSION/dist/flv.min.js".replace("VERSION",s),"flvjs").then((function(n){t.flv=n.createPlayer({type:"flv",url:e}),t.flv.attachMediaElement(t.player),t.flv.load(),t.props.onLoaded()})),e instanceof Array)this.player.load();else if((0,i.isMediaStream)(e))try{this.player.srcObject=e}catch(u){this.player.src=window.URL.createObjectURL(e)}}},{key:"play",value:function(){var e=this.player.play();e&&e.catch(this.props.onError)}},{key:"pause",value:function(){this.player.pause()}},{key:"stop",value:function(){this.player.removeAttribute("src"),this.dash&&this.dash.reset()}},{key:"seekTo",value:function(e){this.player.currentTime=e}},{key:"setVolume",value:function(e){this.player.volume=e}},{key:"enablePIP",value:function(){this.player.requestPictureInPicture&&document.pictureInPictureElement!==this.player?this.player.requestPictureInPicture():(0,i.supportsWebKitPresentationMode)(this.player)&&"picture-in-picture"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("picture-in-picture")}},{key:"disablePIP",value:function(){document.exitPictureInPicture&&document.pictureInPictureElement===this.player?document.exitPictureInPicture():(0,i.supportsWebKitPresentationMode)(this.player)&&"inline"!==this.player.webkitPresentationMode&&this.player.webkitSetPresentationMode("inline")}},{key:"setPlaybackRate",value:function(e){this.player.playbackRate=e}},{key:"getDuration",value:function(){if(!this.player)return null;var e=this.player,t=e.duration,n=e.seekable;return t===1/0&&n.length>0?n.end(n.length-1):t}},{key:"getCurrentTime",value:function(){return this.player?this.player.currentTime:null}},{key:"getSecondsLoaded",value:function(){if(!this.player)return null;var e=this.player.buffered;if(0===e.length)return 0;var t=e.end(e.length-1),n=this.getDuration();return t>n?n:t}},{key:"getSource",value:function(e){var t=this.shouldUseHLS(e),n=this.shouldUseDASH(e),r=this.shouldUseFLV(e);if(!(e instanceof Array||(0,i.isMediaStream)(e)||t||n||r))return g.test(e)?e.replace("www.dropbox.com","dl.dropboxusercontent.com"):e}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.playing,i=e.loop,o=e.controls,a=e.muted,s=e.config,c=e.width,l=e.height,f=this.shouldUseAudio(this.props)?"audio":"video",p={width:"auto"===c?c:"100%",height:"auto"===l?l:"100%"};return r.default.createElement(f,u({ref:this.ref,src:this.getSource(t),style:p,preload:"auto",autoPlay:n||void 0,controls:o,muted:a,loop:i},s.attributes),t instanceof Array&&t.map(this.renderSourceElement),s.tracks.map(this.renderTrack))}}])&&l(t.prototype,n),a&&l(t,a),h}(r.Component);t.default=_,v(_,"displayName","FilePlayer"),v(_,"canPlay",o.canPlay.file)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReactPlayer=void 0;var r=T(n(0)),i=l(n(139)),o=l(n(269)),a=l(n(140)),s=n(141),u=n(33),c=l(n(270));function l(e){return e&&e.__esModule?e:{default:e}}function f(e){return(f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var i=S(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(e,t){return!t||"object"!==f(t)&&"function"!==typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return O=function(){return e},e}function T(e){if(e&&e.__esModule)return e;if(null===e||"object"!==f(e)&&"function"!==typeof e)return{default:e};var t=O();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}var M=(0,r.lazy)((function(){return Promise.resolve().then((function(){return T(n(271))}))})),P="undefined"!==typeof window&&window.document,A=Object.keys(s.propTypes),C=P?r.Suspense:function(){return null},k=[];t.createReactPlayer=function(e,t){var n,l;return l=n=function(n){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(w,n);var l,f,p,v=_(w);function w(){var n;y(this,w);for(var a=arguments.length,l=new Array(a),f=0;f<a;f++)l[f]=arguments[f];return E(x(n=v.call.apply(v,[this].concat(l))),"state",{showPreview:!!n.props.light}),E(x(n),"references",{wrapper:function(e){n.wrapper=e},player:function(e){n.player=e}}),E(x(n),"handleClickPreview",(function(){n.setState({showPreview:!1})})),E(x(n),"showPreview",(function(){n.setState({showPreview:!0})})),E(x(n),"getDuration",(function(){return n.player?n.player.getDuration():null})),E(x(n),"getCurrentTime",(function(){return n.player?n.player.getCurrentTime():null})),E(x(n),"getSecondsLoaded",(function(){return n.player?n.player.getSecondsLoaded():null})),E(x(n),"getInternalPlayer",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"player";return n.player?n.player.getInternalPlayer(e):null})),E(x(n),"seekTo",(function(e,t){if(!n.player)return null;n.player.seekTo(e,t)})),E(x(n),"handleReady",(function(){n.props.onReady(x(n))})),E(x(n),"getActivePlayer",(0,o.default)((function(n){for(var r=0,i=[].concat(k,m(e));r<i.length;r++){var o=i[r];if(o.canPlay(n))return o}return t||null}))),E(x(n),"getConfig",(0,o.default)((function(e,t){var r=n.props.config;return i.default.all([s.defaultProps.config,s.defaultProps.config[t]||{},r,r[t]||{}])}))),E(x(n),"getAttributes",(0,o.default)((function(e){return(0,u.omit)(n.props,A)}))),E(x(n),"renderActivePlayer",(function(e){if(!e)return null;var t=n.getActivePlayer(e);if(!t)return null;var i=n.getConfig(e,t.key);return r.default.createElement(c.default,d({},n.props,{key:t.key,ref:n.references.player,config:i,activePlayer:t.lazyPlayer||t,onReady:n.handleReady}))})),n}return l=w,(f=[{key:"shouldComponentUpdate",value:function(e,t){return!(0,a.default)(this.props,e)||!(0,a.default)(this.state,t)}},{key:"componentDidUpdate",value:function(e){var t=this.props.light;!e.light&&t&&this.setState({showPreview:!0}),e.light&&!t&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(e){if(!e)return null;var t=this.props,n=t.light,i=t.playIcon;return r.default.createElement(M,{url:e,light:n,playIcon:i,onClick:this.handleClickPreview})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.style,i=e.width,o=e.height,a=e.wrapper,s=this.state.showPreview,u=this.getAttributes(t);return r.default.createElement(a,d({ref:this.references.wrapper,style:h(h({},n),{},{width:i,height:o})},u),r.default.createElement(C,{fallback:null},s?this.renderPreview(t):this.renderActivePlayer(t)))}}])&&g(l.prototype,f),p&&g(l,p),w}(r.Component),E(n,"displayName","ReactPlayer"),E(n,"propTypes",s.propTypes),E(n,"defaultProps",s.defaultProps),E(n,"addCustomPlayer",(function(e){k.push(e)})),E(n,"removeCustomPlayers",(function(){k.length=0})),E(n,"canPlay",(function(t){for(var n=0,r=[].concat(k,m(e));n<r.length;n++){if(r[n].canPlay(t))return!0}return!1})),E(n,"canEnablePIP",(function(t){for(var n=0,r=[].concat(k,m(e));n<r.length;n++){var i=r[n];if(i.canEnablePIP&&i.canEnablePIP(t))return!0}return!1})),l}},function(e,t,n){"use strict";function r(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}n.r(t),t.default=function(e,t){var n;void 0===t&&(t=r);var i,o=[],a=!1;return function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];return a&&n===this&&t(r,o)||(i=e.apply(this,r),a=!0,n=this,o=r),i}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==u(e)&&"function"!==typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(0)),o=(r=n(140))&&r.__esModule?r:{default:r},a=n(141);function s(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function u(e){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=v(e);if(t){var i=v(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,a=h(s);function s(){var e;l(this,s);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return y(m(e=a.call.apply(a,[this].concat(n))),"mounted",!1),y(m(e),"isReady",!1),y(m(e),"isPlaying",!1),y(m(e),"isLoading",!0),y(m(e),"loadOnReady",null),y(m(e),"startOnPlay",!0),y(m(e),"seekOnPlay",null),y(m(e),"onDurationCalled",!1),y(m(e),"handlePlayerMount",(function(t){e.player=t,e.player.load(e.props.url),e.progress()})),y(m(e),"getInternalPlayer",(function(t){return e.player?e.player[t]:null})),y(m(e),"progress",(function(){if(e.props.url&&e.player&&e.isReady){var t=e.getCurrentTime()||0,n=e.getSecondsLoaded(),r=e.getDuration();if(r){var i={playedSeconds:t,played:t/r};null!==n&&(i.loadedSeconds=n,i.loaded=n/r),i.playedSeconds===e.prevPlayed&&i.loadedSeconds===e.prevLoaded||e.props.onProgress(i),e.prevPlayed=i.playedSeconds,e.prevLoaded=i.loadedSeconds}}e.progressTimeout=setTimeout(e.progress,e.props.progressFrequency||e.props.progressInterval)})),y(m(e),"handleReady",(function(){if(e.mounted){e.isReady=!0,e.isLoading=!1;var t=e.props,n=t.onReady,r=t.playing,i=t.volume,o=t.muted;n(),o||null===i||e.player.setVolume(i),e.loadOnReady?(e.player.load(e.loadOnReady,!0),e.loadOnReady=null):r&&e.player.play(),e.handleDurationCheck()}})),y(m(e),"handlePlay",(function(){e.isPlaying=!0,e.isLoading=!1;var t=e.props,n=t.onStart,r=t.onPlay,i=t.playbackRate;e.startOnPlay&&(e.player.setPlaybackRate&&1!==i&&e.player.setPlaybackRate(i),n(),e.startOnPlay=!1),r(),e.seekOnPlay&&(e.seekTo(e.seekOnPlay),e.seekOnPlay=null),e.handleDurationCheck()})),y(m(e),"handlePause",(function(t){e.isPlaying=!1,e.isLoading||e.props.onPause(t)})),y(m(e),"handleEnded",(function(){var t=e.props,n=t.activePlayer,r=t.loop,i=t.onEnded;n.loopOnEnded&&r&&e.seekTo(0),r||(e.isPlaying=!1,i())})),y(m(e),"handleError",(function(){var t;e.isLoading=!1,(t=e.props).onError.apply(t,arguments)})),y(m(e),"handleDurationCheck",(function(){clearTimeout(e.durationCheckTimeout);var t=e.getDuration();t?e.onDurationCalled||(e.props.onDuration(t),e.onDurationCalled=!0):e.durationCheckTimeout=setTimeout(e.handleDurationCheck,100)})),y(m(e),"handleLoaded",(function(){e.isLoading=!1})),e}return t=s,(n=[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.url,i=n.playing,a=n.volume,s=n.muted,u=n.playbackRate,c=n.pip,l=n.loop,f=n.activePlayer;if(!(0,o.default)(e.url,r)){if(this.isLoading&&!f.forceLoad)return console.warn("ReactPlayer: the attempt to load ".concat(r," is being deferred until the player has loaded")),void(this.loadOnReady=r);this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(r,this.isReady)}e.playing||!i||this.isPlaying||this.player.play(),e.playing&&!i&&this.isPlaying&&this.player.pause(),!e.pip&&c&&this.player.enablePIP&&this.player.enablePIP(),e.pip&&!c&&this.player.disablePIP&&this.player.disablePIP(),e.volume!==a&&null!==a&&this.player.setVolume(a),e.muted!==s&&(s?this.player.mute():(this.player.unmute(),null!==a&&setTimeout((function(){return t.player.setVolume(a)})))),e.playbackRate!==u&&this.player.setPlaybackRate&&this.player.setPlaybackRate(u),e.loop!==l&&this.player.setLoop&&this.player.setLoop(l)}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(e,t){var n=this;if(!this.isReady&&0!==e)return this.seekOnPlay=e,void setTimeout((function(){n.seekOnPlay=null}),5e3);if(t?"fraction"===t:e>0&&e<1){var r=this.player.getDuration();return r?void this.player.seekTo(r*e):void console.warn("ReactPlayer: could not seek using fraction \u2013\xa0duration not yet available")}this.player.seekTo(e)}},{key:"render",value:function(){var e=this.props.activePlayer;return e?i.default.createElement(e,c({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}])&&f(t.prototype,n),r&&f(t,r),s}(i.Component);t.default=g,y(g,"displayName","Player"),y(g,"propTypes",a.propTypes),y(g,"defaultProps",a.defaultProps)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!==typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var s=r?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(0));function i(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v={},y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,n,i,o=f(a);function a(){var e;u(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(h(e=o.call.apply(o,[this].concat(n))),"mounted",!1),m(h(e),"state",{image:null}),m(h(e),"handleKeyPress",(function(t){"Enter"!==t.key&&" "!==t.key||e.props.onClick()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.url,r=t.light;e.url===n&&e.light===r||this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(e){var t=this,n=e.url,r=e.light;if("string"!==typeof r){if(!v[n])return this.setState({image:null}),window.fetch("https://noembed.com/embed?url=".concat(n)).then((function(e){return e.json()})).then((function(e){if(e.thumbnail_url&&t.mounted){var r=e.thumbnail_url.replace("height=100","height=480");t.setState({image:r}),v[n]=r}}));this.setState({image:v[n]})}else this.setState({image:r})}},{key:"render",value:function(){var e=this.props,t=e.onClick,n=e.playIcon,i=this.state.image,o={display:"flex",alignItems:"center",justifyContent:"center"},a={preview:s({width:"100%",height:"100%",backgroundImage:i?"url(".concat(i,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},o),shadow:s({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:"64px",width:"64px",height:"64px"},o),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},u=r.default.createElement("div",{style:a.shadow,className:"react-player__shadow"},r.default.createElement("div",{style:a.playIcon,className:"react-player__play-icon"}));return r.default.createElement("div",{style:a.preview,className:"react-player__preview",onClick:t,tabIndex:0,onKeyPress:this.handleKeyPress},n||u)}}])&&c(t.prototype,n),i&&c(t,i),a}(r.Component);t.default=y},,function(e,t,n){!function(e){"use strict";function t(){var e,n=0,r=[],i=0,o=0,a=h((function(e){o||u(1,e)})),s=h((function(e){o||u(-1,e)}));function u(t,r){o++;var i=0;try{r===v&&d();var a=t>0&&p(r);a?a.call(r,h((function(e){i++,u(1,e)})),h((function(e){i++,u(-1,e)}))):(n=t,e=r,c())}catch(s){n||i||u(-1,s)}}function c(){i||(setTimeout(l,0),i=1)}function l(){var e=r;i=0,r=[],e.forEach(f)}function f(e){e()}function p(e){var t=e&&(m(e)||"object"===typeof e)&&e.then;return m(t)&&t}function h(e){var t=0;return function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];t++||e.apply(this,n)}}function d(){throw new TypeError("Chaining cycle detected")}var m=function(e){return"function"===typeof e},v={then:function(i,o){var a=t();return r.push((function(){var t=n>0?i:o;if(m(t))try{var r=t(e);r===a&&d();var s=p(r);s?s.call(r,a.resolve,a.reject):a.resolve(r)}catch(u){a.reject(u)}else a[n>0?"resolve":"reject"](e)})),n&&c(),a},resolve:a,reject:s};return v}function n(){var e,t,n=new Promise((function(n,r){e=n,t=r}));return{then:n.then.bind(n),resolve:e,reject:t}}t.all=n.all=function(e){var t=0,n=[],i=r();return 0===e.length?i.resolve([]):e.forEach((function(o,a){var s=r();s.resolve(o),s.then((function(r){t++,n[a]=r,t===e.length&&i.resolve(n)}),i.reject)})),i};var r="function"===typeof Promise?n:t;function i(){var e=Object.create(null);function t(e,t){var n=void 0;self.troikaDefine=function(e){return n=e};var r=URL.createObjectURL(new Blob(["/** "+e.replace(/\*/g,"")+" **/\n\ntroikaDefine(\n"+t+"\n)"],{type:"application/javascript"}));try{importScripts(r)}catch(i){console.error(i)}return URL.revokeObjectURL(r),delete self.troikaDefine,n}self.addEventListener("message",(function(n){var r=n.data,i=r.messageId,o=r.action,a=r.data;try{"registerModule"===o&&function n(r,i){var o=r.id,a=r.name,s=r.dependencies;void 0===s&&(s=[]);var u=r.init;void 0===u&&(u=function(){});var c=r.getTransferables;if(void 0===c&&(c=null),!e[o])try{s=s.map((function(t){return t&&t.isWorkerModule&&(n(t,(function(e){if(e instanceof Error)throw e})),t=e[t.id].value),t})),u=t("<"+a+">.init",u),c&&(c=t("<"+a+">.getTransferables",c));var l=null;"function"===typeof u?l=u.apply(void 0,s):console.error("worker module init function failed to rehydrate"),e[o]={id:o,value:l,getTransferables:c},i(l)}catch(f){f&&f.noLog||console.error(f),i(f)}}(a,(function(e){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:{isCallable:"function"===typeof e}})})),"callModule"===o&&function(t,n){var r,i=t.id,o=t.args;e[i]&&"function"===typeof e[i].value||n(new Error("Worker module "+i+": not found or its 'init' did not return a function"));try{var a=(r=e[i]).value.apply(r,o);a&&"function"===typeof a.then?a.then(s,(function(e){return n(e instanceof Error?e:new Error(""+e))})):s(a)}catch(u){n(u)}function s(t){try{var r=e[i].getTransferables&&e[i].getTransferables(t);r&&Array.isArray(r)&&r.length||(r=void 0),n(t,r)}catch(u){console.error(u),n(u)}}}(a,(function(e,t){e instanceof Error?postMessage({messageId:i,success:!1,error:e.message}):postMessage({messageId:i,success:!0,result:e},t||void 0)}))}catch(s){postMessage({messageId:i,success:!1,error:s.stack})}}))}var o=function(){var e=!1;if("undefined"!==typeof window&&"undefined"!==typeof window.document)try{new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"}))).terminate(),e=!0}catch(t){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+t.message+"]")}return o=function(){return e},e},a=0,s=0,u=!1,c=Object.create(null),l=Object.create(null);function f(e){if((!e||"function"!==typeof e.init)&&!u)throw new Error("requires `options.init` function");var t=e.dependencies,n=e.init,i=e.getTransferables,s=e.workerId;if(!o())return function(e){var t=function e(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return e._getInitResult().then((function(e){if("function"===typeof e)return e.apply(void 0,t);throw new Error("Worker module function was called but `init` did not return a callable function")}))};return t._getInitResult=function(){var n=e.dependencies,i=e.init;n=Array.isArray(n)?n.map((function(e){return e&&e._getInitResult?e._getInitResult():e})):[];var o=r.all(n).then((function(e){return i.apply(null,e)}));return t._getInitResult=function(){return o},o},t}(e);null==s&&(s="#default");var c="workerModule"+ ++a,l=e.name||c,d=null;function m(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return d||(d=h(s,"registerModule",m.workerModuleData)),d.then((function(t){if(t.isCallable)return h(s,"callModule",{id:c,args:e});throw new Error("Worker module function was called but `init` did not return a callable function")}))}return t=t&&t.map((function(e){return"function"!==typeof e||e.workerModuleData||(u=!0,e=f({workerId:s,name:"<"+l+"> function dependency: "+e.name,init:"function(){return (\n"+p(e)+"\n)}"}),u=!1),e&&e.workerModuleData&&(e=e.workerModuleData),e})),m.workerModuleData={isWorkerModule:!0,id:c,name:l,dependencies:t,init:p(n),getTransferables:i&&p(i)},m}function p(e){var t=e.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function h(e,t,n){var o=r(),a=++s;return l[a]=function(e){e.success?o.resolve(e.result):o.reject(new Error("Error in worker "+t+" call: "+e.error))},l._count++,l.count>1e3&&console.warn("Large number of open WorkerModule requests, some may not be returning"),function(e){var t=c[e];if(!t){var n=p(i);(t=c[e]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+e.replace(/\*/g,"")+" **/\n\n;("+n+")()"],{type:"application/javascript"})))).onmessage=function(e){var t=e.data,n=t.messageId,r=l[n];if(!r)throw new Error("WorkerModule response with empty or unknown messageId");delete l[n],l.count--,r(t)}}return t}(e).postMessage({messageId:a,action:t,data:n}),o}l._count=0;var d=f({name:"Thenable",dependencies:[r],init:function(e){return e}});e.Thenable=r,e.ThenableWorkerModule=d,e.defineWorkerModule=f,e.stringifyFunction=p,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){!function(e,t){"use strict";var n=/\bvoid\s+main\s*\(\s*\)\s*{/g;function r(e){return e.replace(/^[ \t]*#include +<([\w\d./]+)>/gm,(function(e,n){var i=t.ShaderChunk[n];return i?r(i):e}))}var i=Object.assign||function(){for(var e=arguments,t=arguments[0],n=1,r=arguments.length;n<r;n++){var i=e[n];if(i)for(var o in i)i.hasOwnProperty(o)&&(t[o]=i[o])}return t},o=Date.now(),a=new WeakMap;function s(e,n){var p=function(e){return JSON.stringify(e,c)}(n),h=a.get(e);if(h||(h=Object.create(null),a.set(e,h)),h[p])return h[p].clone();var d,m,v=function(e){var t=f.get(e);return null==t&&f.set(e,t=++l),t}(p),y="_derivedShaders"+v,g="_onBeforeCompile"+v;function b(t){e.onBeforeCompile.call(this,t);var a=this[y]||(this[y]={vertex:{},fragment:{}}),s=a.vertex,c=a.fragment;if(s.source!==t.vertexShader||c.source!==t.fragmentShader){var l=function(e,t,n){var i=e.vertexShader,o=e.fragmentShader,a=t.vertexDefs,s=t.vertexMainIntro,c=t.vertexMainOutro,l=t.vertexTransform,f=t.fragmentDefs,p=t.fragmentMainIntro,h=t.fragmentMainOutro,d=t.fragmentColorTransform,m=t.customRewriter,v=t.timeUniform;if(a=a||"",s=s||"",c=c||"",f=f||"",p=p||"",h=h||"",(l||m)&&(i=r(i)),(d||m)&&(o=r(o=o.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,"\n//!BEGIN_POST_CHUNK $1\n$&\n//!END_POST_CHUNK\n"))),m){var y=m({vertexShader:i,fragmentShader:o});i=y.vertexShader,o=y.fragmentShader}if(d){var g=[];o=o.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,(function(e){return g.push(e),""})),h=d+"\n"+g.join("\n")+"\n"+h}if(v){var b="\nuniform float "+v+";\n";a=b+a,f=b+f}return l&&(a=a+"\nvec3 troika_position_"+n+";\nvec3 troika_normal_"+n+";\nvec2 troika_uv_"+n+";\nvoid troikaVertexTransform"+n+"(inout vec3 position, inout vec3 normal, inout vec2 uv) {\n  "+l+"\n}\n",s="\ntroika_position_"+n+" = vec3(position);\ntroika_normal_"+n+" = vec3(normal);\ntroika_uv_"+n+" = vec2(uv);\ntroikaVertexTransform"+n+"(troika_position_"+n+", troika_normal_"+n+", troika_uv_"+n+");\n"+s+"\n",i=i.replace(/\b(position|normal|uv)\b/g,(function(e,t,r,i){return/\battribute\s+vec[23]\s+$/.test(i.substr(0,r))?t:"troika_"+t+"_"+n}))),i=u(i,n,a,s,c),o=u(o,n,f,p,h),{vertexShader:i,fragmentShader:o}}(t,n,v);s.source=t.vertexShader,s.result=l.vertexShader,c.source=t.fragmentShader,c.result=l.fragmentShader}t.vertexShader=s.result,t.fragmentShader=c.result,i(t.uniforms,this.uniforms),n.timeUniform&&(t.uniforms[n.timeUniform]={get value(){return Date.now()-o}}),this[g]&&this[g](t)}function _(){e.constructor.apply(this,arguments),this._listeners=void 0}_.prototype=Object.create(e,{constructor:{value:_},isDerivedMaterial:{value:!0},baseMaterial:{value:e},onBeforeCompile:{get:function(){return b},set:function(e){this[g]=e}},copy:{value:function(n){return e.copy.call(this,n),e.isShaderMaterial||e.isDerivedMaterial||(this.extensions=i({},n.extensions),this.defines=i({},n.defines),this.uniforms=t.UniformsUtils.clone(n.uniforms)),this}},getDepthMaterial:{value:function(){var r=this._depthMaterial;return r||(m||((m=s(e.isDerivedMaterial?e.getDepthMaterial():new t.MeshDepthMaterial({depthPacking:t.RGBADepthPacking}),n)).defines.IS_DEPTH_MATERIAL=""),(r=this._depthMaterial=m.clone()).uniforms=this.uniforms),r}},getDistanceMaterial:{value:function(){var r=this._distanceMaterial;return r||(d||((d=s(e.isDerivedMaterial?e.getDistanceMaterial():new t.MeshDistanceMaterial,n)).defines.IS_DISTANCE_MATERIAL=""),(r=this._distanceMaterial=d.clone()).uniforms=this.uniforms),r}},dispose:{value:function(){var t=this._depthMaterial,n=this._distanceMaterial;t&&t.dispose(),n&&n.dispose(),e.dispose.call(this)}}});var w=new _;return w.copy(e),w.uniforms=i(t.UniformsUtils.clone(e.uniforms||{}),n.uniforms),w.defines=i({},e.defines,n.defines),w.defines["TROIKA_DERIVED_MATERIAL_"+v]="",w.extensions=i({},e.extensions,n.extensions),h[p]=w,w.clone()}function u(e,t,r,i,o){return(i||o||r)&&(e=e.replace(n,"\n"+r+"\nvoid troikaOrigMain"+t+"() {"),e+="\nvoid main() {\n  "+i+"\n  troikaOrigMain"+t+"();\n  "+o+"\n}"),e}function c(e,t){return"uniforms"===e?void 0:"function"===typeof t?t.toString():t}var l=0,f=new Map,p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},h=function(e){this.name=e,this.textureUniform="dataTex_"+e,this.textureSizeUniform="dataTexSize_"+e,this.multiplierUniform="dataMultiplier_"+e,this.dataSizeUniform="dataSize_"+e,this.readFunction="readData_"+e,this._raw=new Float32Array(0),this._texture=new t.DataTexture(new Uint8Array(0),0,1),this._length=0,this._multiplier=1},d={length:{configurable:!0}};function m(e,t,n){var r=255*e,i=r%1*255,o=i%1*255,a=o%1*255;return r&=255,i&=255,o&=255,a=255&Math.round(a),t[n]=r,t[n+1]=i,t[n+2]=o,t[n+3]=a,t}d.length.set=function(e){if(e!==this._length){var t=Math.pow(2,Math.ceil(Math.log2(e))),n=this._raw;t<n.length?this._raw=n.subarray(0,t):t>n.length&&(this._raw=new Float32Array(t),this._raw.set(n)),this._length=e}},d.length.get=function(){return this._length},h.prototype.push=function(e){return this.set(this.length++,e)},h.prototype.setArray=function(e){this.length=e.length,this._raw.set(e),this._needsRepack=!0},h.prototype.get=function(e){return this._raw[e]},h.prototype.set=function(e,t){e+1>this._length&&(this.length=e+1),t!==this._raw[e]&&(this._raw[e]=t,m(t/this._multiplier,this._texture.image.data,4*e),this._needsMultCheck=!0)},h.prototype.clone=function(){var e=new h(this.name);return e.setArray(this._raw),e},h.prototype.getShaderUniforms=function(){var e,t=this;return(e={})[this.textureUniform]={get value(){return t._sync(),t._texture}},e[this.textureSizeUniform]={get value(){return t._sync(),t._texture.image.width}},e[this.dataSizeUniform]={get value(){return t._sync(),t.length}},e[this.multiplierUniform]={get value(){return t._sync(),t._multiplier}},e},h.prototype.getShaderHeaderCode=function(){var e=this.textureUniform,t=this.textureSizeUniform,n=this.dataSizeUniform,r=this.multiplierUniform;return"\nuniform sampler2D "+e+";\nuniform float "+t+";\nuniform float "+n+";\nuniform float "+r+";\n\nfloat "+this.readFunction+"(float index) {\n  vec2 texUV = vec2((index + 0.5) / "+t+", 0.5);\n  vec4 pixel = texture2D("+e+", texUV);\n  return dot(pixel, 1.0 / vec4(1.0, 255.0, 65025.0, 16581375.0)) * "+r+";\n}\n"},h.prototype._sync=function(){var e=this._texture,t=this._raw,n=this._needsRepack;if(t.length!==e.image.width&&(e.image={data:new Uint8Array(4*t.length),width:t.length,height:1},n=!0),n||this._needsMultCheck){var r=this._raw.reduce((function(e,t){return Math.max(e,t)}),0),i=Math.pow(2,Math.ceil(Math.log2(r)));i!==this._multiplier&&(this._multiplier=i,n=!0),e.needsUpdate=!0,this._needsMultCheck=!1}if(n){for(var o=0,a=t.length,s=this._multiplier;o<a;o++)m(t[o]/s,e.image.data,4*o);this._needsRepack=!1}},Object.defineProperties(h.prototype,d);var v=null,y=new t.MeshStandardMaterial({color:16777215,side:t.DoubleSide}),g=function(e){function n(){e.call(this,n.getGeometry(),y),this.pointA=new t.Vector3,this.controlA=new t.Vector3,this.controlB=new t.Vector3,this.pointB=new t.Vector3,this.radius=.01,this.dashArray=new t.Vector2,this.dashOffset=0,this.frustumCulled=!1}e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n;var r={material:{configurable:!0},customDepthMaterial:{configurable:!0},customDistanceMaterial:{configurable:!0}};return n.getGeometry=function(){return v||(v=new t.CylinderBufferGeometry(1,1,1,6,64).translate(0,.5,0))},r.material.get=function(){var e=this._derivedMaterial,n=this._baseMaterial||y;return e&&e.baseMaterial===n||(e=this._derivedMaterial=function(e){return s(e,{uniforms:{pointA:{value:new t.Vector3},controlA:{value:new t.Vector3},controlB:{value:new t.Vector3},pointB:{value:new t.Vector3},radius:{value:.01},dashing:{value:new t.Vector3}},vertexDefs:"\nuniform vec3 pointA;\nuniform vec3 controlA;\nuniform vec3 controlB;\nuniform vec3 pointB;\nuniform float radius;\nvarying float bezierT;\n\nvec3 cubicBezier(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  float b0 = t2 * t2 * t2;\n  float b1 = 3.0 * t * t2 * t2;\n  float b2 = 3.0 * t * t * t2;\n  float b3 = t * t * t;\n  return b0 * p1 + b1 * c1 + b2 * c2 + b3 * p2;\n}\n\nvec3 cubicBezierDerivative(vec3 p1, vec3 c1, vec3 c2, vec3 p2, float t) {\n  float t2 = 1.0 - t;\n  return -3.0 * p1 * t2 * t2 +\n    c1 * (3.0 * t2 * t2 - 6.0 * t2 * t) +\n    c2 * (6.0 * t2 * t - 3.0 * t * t) +\n    3.0 * p2 * t * t;\n}\n",vertexTransform:'\nfloat t = position.y;\nbezierT = t;\nvec3 bezierCenterPos = cubicBezier(pointA, controlA, controlB, pointB, t);\nvec3 bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t));\n\n// Make "sideways" always perpendicular to the camera ray; this ensures that any twists\n// in the cylinder occur where you won\'t see them: \nvec3 viewDirection = normalMatrix * vec3(0.0, 0.0, 1.0);\nif (bezierDir == viewDirection) {\n  bezierDir = normalize(cubicBezierDerivative(pointA, controlA, controlB, pointB, t == 1.0 ? t - 0.0001 : t + 0.0001));\n}\nvec3 sideways = normalize(cross(bezierDir, viewDirection));\nvec3 upish = normalize(cross(sideways, bezierDir));\n\n// Build a matrix for transforming this disc in the cylinder:\nmat4 discTx;\ndiscTx[0].xyz = sideways * radius;\ndiscTx[1].xyz = bezierDir * radius;\ndiscTx[2].xyz = upish * radius;\ndiscTx[3].xyz = bezierCenterPos;\ndiscTx[3][3] = 1.0;\n\n// Apply transform, ignoring original y\nposition = (discTx * vec4(position.x, 0.0, position.z, 1.0)).xyz;\nnormal = normalize(mat3(discTx) * normal);\n',fragmentDefs:"\nuniform vec3 dashing;\nvarying float bezierT;\n",fragmentMainIntro:"\nif (dashing.x + dashing.y > 0.0) {\n  float dashFrac = mod(bezierT - dashing.z, dashing.x + dashing.y);\n  if (dashFrac > dashing.x) {\n    discard;\n  }\n}\n"})}(n),n.addEventListener("dispose",(function t(){n.removeEventListener("dispose",t),e.dispose()}))),e},r.material.set=function(e){this._baseMaterial=e},r.customDepthMaterial.get=function(){return this.material.getDepthMaterial()},r.customDistanceMaterial.get=function(){return this.material.getDistanceMaterial()},n.prototype.onBeforeRender=function(e){var t=this.material.uniforms,n=this.pointA,r=this.controlA,i=this.controlB,o=this.pointB,a=this.radius,s=this.dashArray,u=this.dashOffset;t.pointA.value.copy(n),t.controlA.value.copy(r),t.controlB.value.copy(i),t.pointB.value.copy(o),t.radius.value=a,t.dashing.value.set(s.x,s.y,u||0)},n.prototype.raycast=function(e,t){},Object.defineProperties(n.prototype,r),n}(t.Mesh);e.BezierMesh=g,e.ShaderFloatArray=h,e.createDerivedMaterial=s,e.expandShaderIncludes=r,e.getShaderUniformTypes=function(e){for(var t,n=/\buniform\s+(int|float|vec[234])\s+([A-Za-z_][\w]*)/g,r=Object.create(null);null!==(t=n.exec(e));)r[t[2]]=t[1];return r},e.getShadersForMaterial=function(e){var n=p[e.type];return n?t.ShaderLib[n]:e},e.voidMainRegExp=n,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(1))},function(e,t,n){(function(e){e.exports=function t(r){"use strict";var i=n(58),o=n(0),a=n(68);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;u.hasOwnProperty("ReactCurrentDispatcher")||(u.ReactCurrentDispatcher={current:null}),u.hasOwnProperty("ReactCurrentBatchConfig")||(u.ReactCurrentBatchConfig={suspense:null});var c="function"===typeof Symbol&&Symbol.for,l=c?Symbol.for("react.element"):60103,f=c?Symbol.for("react.portal"):60106,p=c?Symbol.for("react.fragment"):60107,h=c?Symbol.for("react.strict_mode"):60108,d=c?Symbol.for("react.profiler"):60114,m=c?Symbol.for("react.provider"):60109,v=c?Symbol.for("react.context"):60110,y=c?Symbol.for("react.concurrent_mode"):60111,g=c?Symbol.for("react.forward_ref"):60112,b=c?Symbol.for("react.suspense"):60113,_=c?Symbol.for("react.suspense_list"):60120,w=c?Symbol.for("react.memo"):60115,x=c?Symbol.for("react.lazy"):60116,S=c?Symbol.for("react.block"):60121,E="function"===typeof Symbol&&Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=E&&e[E]||e["@@iterator"])?e:null}function T(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case p:return"Fragment";case f:return"Portal";case d:return"Profiler";case h:return"StrictMode";case b:return"Suspense";case _:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case v:return"Context.Consumer";case m:return"Context.Provider";case g:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case w:return T(e.type);case S:return T(e.render);case x:if(e=1===e._status?e._result:null)return T(e)}return null}function M(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function P(e){if(M(e)!==e)throw Error(s(188))}function A(e){var t=e.alternate;if(!t){if(null===(t=M(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return P(i),e;if(o===r)return P(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}function C(e){if(!(e=A(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var k=r.getPublicInstance,j=r.getRootHostContext,R=r.getChildHostContext,D=r.prepareForCommit,N=r.resetAfterCommit,L=r.createInstance,I=r.appendInitialChild,B=r.finalizeInitialChildren,F=r.prepareUpdate,U=r.shouldSetTextContent,z=r.shouldDeprioritizeSubtree,V=r.createTextInstance,H=r.setTimeout,$=r.clearTimeout,G=r.noTimeout,W=r.isPrimaryRenderer,q=r.supportsMutation,Y=r.supportsPersistence,X=r.supportsHydration,Z=r.appendChild,Q=r.appendChildToContainer,K=r.commitTextUpdate,J=r.commitMount,ee=r.commitUpdate,te=r.insertBefore,ne=r.insertInContainerBefore,re=r.removeChild,ie=r.removeChildFromContainer,oe=r.resetTextContent,ae=r.hideInstance,se=r.hideTextInstance,ue=r.unhideInstance,ce=r.unhideTextInstance,le=r.cloneInstance,fe=r.createContainerChildSet,pe=r.appendChildToContainerChildSet,he=r.finalizeContainerChildren,de=r.replaceContainerChildren,me=r.cloneHiddenInstance,ve=r.cloneHiddenTextInstance,ye=r.canHydrateInstance,ge=r.canHydrateTextInstance,be=r.isSuspenseInstancePending,_e=r.isSuspenseInstanceFallback,we=r.getNextHydratableSibling,xe=r.getFirstHydratableChild,Se=r.hydrateInstance,Ee=r.hydrateTextInstance,Oe=r.getNextHydratableInstanceAfterSuspenseInstance,Te=r.commitHydratedContainer,Me=r.commitHydratedSuspenseInstance,Pe=/^(.*)[\\\/]/;function Ae(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=T(e.type);n=null,r&&(n=T(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(Pe,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}var Ce=[],ke=-1;function je(e){0>ke||(e.current=Ce[ke],Ce[ke]=null,ke--)}function Re(e,t){ke++,Ce[ke]=e.current,e.current=t}var De={},Ne={current:De},Le={current:!1},Ie=De;function Be(e,t){var n=e.type.contextTypes;if(!n)return De;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Fe(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ue(){je(Le),je(Ne)}function ze(e,t,n){if(Ne.current!==De)throw Error(s(168));Re(Ne,t),Re(Le,n)}function Ve(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,T(t)||"Unknown",o));return i({},n,{},r)}function He(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||De,Ie=Ne.current,Re(Ne,e),Re(Le,Le.current),!0}function $e(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ve(e,t,Ie),r.__reactInternalMemoizedMergedChildContext=e,je(Le),je(Ne),Re(Ne,e)):je(Le),Re(Le,n)}var Ge=a.unstable_runWithPriority,We=a.unstable_scheduleCallback,qe=a.unstable_cancelCallback,Ye=a.unstable_requestPaint,Xe=a.unstable_now,Ze=a.unstable_getCurrentPriorityLevel,Qe=a.unstable_ImmediatePriority,Ke=a.unstable_UserBlockingPriority,Je=a.unstable_NormalPriority,et=a.unstable_LowPriority,tt=a.unstable_IdlePriority,nt={},rt=a.unstable_shouldYield,it=void 0!==Ye?Ye:function(){},ot=null,at=null,st=!1,ut=Xe(),ct=1e4>ut?Xe:function(){return Xe()-ut};function lt(){switch(Ze()){case Qe:return 99;case Ke:return 98;case Je:return 97;case et:return 96;case tt:return 95;default:throw Error(s(332))}}function ft(e){switch(e){case 99:return Qe;case 98:return Ke;case 97:return Je;case 96:return et;case 95:return tt;default:throw Error(s(332))}}function pt(e,t){return e=ft(e),Ge(e,t)}function ht(e,t,n){return e=ft(e),We(e,t,n)}function dt(e){return null===ot?(ot=[e],at=We(Qe,vt)):ot.push(e),nt}function mt(){if(null!==at){var e=at;at=null,qe(e)}vt()}function vt(){if(!st&&null!==ot){st=!0;var e=0;try{var t=ot;pt(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ot=null}catch(n){throw null!==ot&&(ot=ot.slice(e+1)),We(Qe,mt),n}finally{st=!1}}}function yt(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}var gt="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},bt=Object.prototype.hasOwnProperty;function _t(e,t){if(gt(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!bt.call(t,n[r])||!gt(e[n[r]],t[n[r]]))return!1;return!0}function wt(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var xt={current:null},St=null,Et=null,Ot=null;function Tt(){Ot=Et=St=null}function Mt(e,t){e=e.type._context,W?(Re(xt,e._currentValue),e._currentValue=t):(Re(xt,e._currentValue2),e._currentValue2=t)}function Pt(e){var t=xt.current;je(xt),e=e.type._context,W?e._currentValue=t:e._currentValue2=t}function At(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function Ct(e,t){St=e,Ot=Et=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(ir=!0),e.firstContext=null)}function kt(e,t){if(Ot!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(Ot=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Et){if(null===St)throw Error(s(308));Et=t,St.dependencies={expirationTime:0,firstContext:t,responders:null}}else Et=Et.next=t;return W?e._currentValue:e._currentValue2}var jt=!1;function Rt(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function Dt(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function Nt(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function Lt(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function It(e,t){var n=e.alternate;null!==n&&Dt(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function Bt(e,t,n,r){var o=e.updateQueue;jt=!1;var a=o.baseQueue,s=o.shared.pending;if(null!==s){if(null!==a){var u=a.next;a.next=s.next,s.next=u}a=s,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=s))}if(null!==a){u=a.next;var c=o.baseState,l=0,f=null,p=null,h=null;if(null!==u)for(var d=u;;){if((s=d.expirationTime)<r){var m={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===h?(p=h=m,f=c):h=h.next=m,s>l&&(l=s)}else{null!==h&&(h=h.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),Ii(s,d.suspenseConfig);e:{var v=e,y=d;switch(s=t,m=n,y.tag){case 1:if("function"===typeof(v=y.payload)){c=v.call(m,c,s);break e}c=v;break e;case 3:v.effectTag=-4097&v.effectTag|64;case 0:if(null===(s="function"===typeof(v=y.payload)?v.call(m,c,s):v)||void 0===s)break e;c=i({},c,s);break e;case 2:jt=!0}}null!==d.callback&&(e.effectTag|=32,null===(s=o.effects)?o.effects=[d]:s.push(d))}if(null===(d=d.next)||d===u){if(null===(s=o.shared.pending))break;d=a.next=s.next,s.next=u,o.baseQueue=a=s,o.shared.pending=null}}null===h?f=c:h.next=p,o.baseState=f,o.baseQueue=h,Bi(l),e.expirationTime=l,e.memoizedState=c}}function Ft(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var Ut=u.ReactCurrentBatchConfig,zt=(new o.Component).refs;function Vt(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var Ht={isMounted:function(e){return!!(e=e._reactInternalFiber)&&M(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ei(),i=Ut.suspense;(i=Nt(r=Oi(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),Lt(e,i),Ti(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ei(),i=Ut.suspense;(i=Nt(r=Oi(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),Lt(e,i),Ti(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ei(),r=Ut.suspense;(r=Nt(n=Oi(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),Lt(e,r),Ti(e,n)}};function $t(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!_t(n,r)||!_t(i,o))}function Gt(e,t,n){var r=!1,i=De,o=t.contextType;return"object"===typeof o&&null!==o?o=kt(o):(i=Fe(t)?Ie:Ne.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Be(e,i):De),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ht,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wt(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ht.enqueueReplaceState(t,t.state,null)}function qt(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=zt,Rt(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=kt(o):(o=Fe(t)?Ie:Ne.current,i.context=Be(e,o)),Bt(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Vt(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ht.enqueueReplaceState(i,i.state,null),Bt(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var Yt=Array.isArray;function Xt(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===zt&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Zt(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function Qt(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=oo(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=uo(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=Xt(e,t,n),r.return=e,r):((r=ao(n.type,n.key,n.props,null,e.mode,r)).ref=Xt(e,t,n),r.return=e,r)}function h(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=co(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,o){return null===t||7!==t.tag?((t=so(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=uo(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case l:return(n=ao(t.type,t.key,t.props,null,e.mode,n)).ref=Xt(e,null,t),n.return=e,n;case f:return(t=co(t,e.mode,n)).return=e,t}if(Yt(t)||O(t))return(t=so(t,e.mode,n,null)).return=e,t;Zt(e,t)}return null}function v(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case l:return n.key===i?n.type===p?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case f:return n.key===i?h(e,t,n,r):null}if(Yt(n)||O(n))return null!==i?null:d(e,t,n,r,null);Zt(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case l:return e=e.get(null===r.key?n:r.key)||null,r.type===p?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case f:return h(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Yt(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Zt(t,r)}return null}function g(i,a,s,u){for(var c=null,l=null,f=a,p=a=0,h=null;null!==f&&p<s.length;p++){f.index>p?(h=f,f=null):h=f.sibling;var d=v(i,f,s[p],u);if(null===d){null===f&&(f=h);break}e&&f&&null===d.alternate&&t(i,f),a=o(d,a,p),null===l?c=d:l.sibling=d,l=d,f=h}if(p===s.length)return n(i,f),c;if(null===f){for(;p<s.length;p++)null!==(f=m(i,s[p],u))&&(a=o(f,a,p),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);p<s.length;p++)null!==(h=y(f,i,p,s[p],u))&&(e&&null!==h.alternate&&f.delete(null===h.key?p:h.key),a=o(h,a,p),null===l?c=h:l.sibling=h,l=h);return e&&f.forEach((function(e){return t(i,e)})),c}function b(i,a,u,c){var l=O(u);if("function"!==typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var f=l=null,p=a,h=a=0,d=null,g=u.next();null!==p&&!g.done;h++,g=u.next()){p.index>h?(d=p,p=null):d=p.sibling;var b=v(i,p,g.value,c);if(null===b){null===p&&(p=d);break}e&&p&&null===b.alternate&&t(i,p),a=o(b,a,h),null===f?l=b:f.sibling=b,f=b,p=d}if(g.done)return n(i,p),l;if(null===p){for(;!g.done;h++,g=u.next())null!==(g=m(i,g.value,c))&&(a=o(g,a,h),null===f?l=g:f.sibling=g,f=g);return l}for(p=r(i,p);!g.done;h++,g=u.next())null!==(g=y(p,i,h,g.value,c))&&(e&&null!==g.alternate&&p.delete(null===g.key?h:g.key),a=o(g,a,h),null===f?l=g:f.sibling=g,f=g);return e&&p.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===p&&null===o.key;c&&(o=o.props.children);var h="object"===typeof o&&null!==o;if(h)switch(o.$$typeof){case l:e:{for(h=o.key,c=r;null!==c;){if(c.key===h){switch(c.tag){case 7:if(o.type===p){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}break;default:if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=Xt(e,c,o),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}o.type===p?((r=so(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=ao(o.type,o.key,o.props,null,e.mode,u)).ref=Xt(e,r,o),u.return=e,e=u)}return a(e);case f:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=co(o,e.mode,u)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=uo(o,e.mode,u)).return=e,e=r),a(e);if(Yt(o))return g(e,r,o,u);if(O(o))return b(e,r,o,u);if(h&&Zt(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Kt=Qt(!0),Jt=Qt(!1),en={},tn={current:en},nn={current:en},rn={current:en};function on(e){if(e===en)throw Error(s(174));return e}function an(e,t){Re(rn,t),Re(nn,e),Re(tn,en),e=j(t),je(tn),Re(tn,e)}function sn(){je(tn),je(nn),je(rn)}function un(e){var t=on(rn.current),n=on(tn.current);n!==(t=R(n,e.type,t))&&(Re(nn,e),Re(tn,t))}function cn(e){nn.current===e&&(je(tn),je(nn))}var ln={current:0};function fn(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||be(n)||_e(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function pn(e,t){return{responder:e,props:t}}var hn=u.ReactCurrentDispatcher,dn=u.ReactCurrentBatchConfig,mn=0,vn=null,yn=null,gn=null,bn=!1;function _n(){throw Error(s(321))}function wn(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!gt(e[n],t[n]))return!1;return!0}function xn(e,t,n,r,i,o){if(mn=o,vn=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,hn.current=null===e||null===e.memoizedState?Gn:Wn,e=n(r,i),t.expirationTime===mn){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,gn=yn=null,t.updateQueue=null,hn.current=qn,e=n(r,i)}while(t.expirationTime===mn)}if(hn.current=$n,t=null!==yn&&null!==yn.next,mn=0,gn=yn=vn=null,bn=!1,t)throw Error(s(300));return e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gn?vn.memoizedState=gn=e:gn=gn.next=e,gn}function En(){if(null===yn){var e=vn.alternate;e=null!==e?e.memoizedState:null}else e=yn.next;var t=null===gn?vn.memoizedState:gn.next;if(null!==t)gn=t,yn=e;else{if(null===e)throw Error(s(310));e={memoizedState:(yn=e).memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},null===gn?vn.memoizedState=gn=e:gn=gn.next=e}return gn}function On(e,t){return"function"===typeof t?t(e):t}function Tn(e){var t=En(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=yn,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,c=i;do{var l=c.expirationTime;if(l<mn){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(a=u=f,o=r):u=u.next=f,l>vn.expirationTime&&(vn.expirationTime=l,Bi(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),Ii(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=a,gt(r,t.memoizedState)||(ir=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function Mn(e){var t=En(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);gt(o,t.memoizedState)||(ir=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Pn(e){var t=Sn();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:On,lastRenderedState:e}).dispatch=Hn.bind(null,vn,e),[t.memoizedState,e]}function An(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vn.updateQueue)?(t={lastEffect:null},vn.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Cn(){return En().memoizedState}function kn(e,t,n,r){var i=Sn();vn.effectTag|=e,i.memoizedState=An(1|t,n,void 0,void 0===r?null:r)}function jn(e,t,n,r){var i=En();r=void 0===r?null:r;var o=void 0;if(null!==yn){var a=yn.memoizedState;if(o=a.destroy,null!==r&&wn(r,a.deps))return void An(t,n,o,r)}vn.effectTag|=e,i.memoizedState=An(1|t,n,o,r)}function Rn(e,t){return kn(516,4,e,t)}function Dn(e,t){return jn(516,4,e,t)}function Nn(e,t){return jn(4,2,e,t)}function Ln(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function In(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jn(4,2,Ln.bind(null,t,e),n)}function Bn(){}function Fn(e,t){return Sn().memoizedState=[e,void 0===t?null:t],e}function Un(e,t){var n=En();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wn(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zn(e,t){var n=En();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&wn(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vn(e,t,n){var r=lt();pt(98>r?98:r,(function(){e(!0)})),pt(97<r?97:r,(function(){var r=dn.suspense;dn.suspense=void 0===t?null:t;try{e(!1),n()}finally{dn.suspense=r}}))}function Hn(e,t,n){var r=Ei(),i=Ut.suspense;i={expirationTime:r=Oi(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===vn||null!==o&&o===vn)bn=!0,i.expirationTime=mn,vn.expirationTime=mn;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.eagerReducer=o,i.eagerState=s,gt(s,a))return}catch(u){}Ti(e,r)}}var $n={readContext:kt,useCallback:_n,useContext:_n,useEffect:_n,useImperativeHandle:_n,useLayoutEffect:_n,useMemo:_n,useReducer:_n,useRef:_n,useState:_n,useDebugValue:_n,useResponder:_n,useDeferredValue:_n,useTransition:_n},Gn={readContext:kt,useCallback:Fn,useContext:kt,useEffect:Rn,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,kn(4,2,Ln.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kn(4,2,e,t)},useMemo:function(e,t){var n=Sn();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sn();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Hn.bind(null,vn,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Sn().memoizedState=e},useState:Pn,useDebugValue:Bn,useResponder:pn,useDeferredValue:function(e,t){var n=Pn(e),r=n[0],i=n[1];return Rn((function(){var n=dn.suspense;dn.suspense=void 0===t?null:t;try{i(e)}finally{dn.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Pn(!1),n=t[0];return t=t[1],[Fn(Vn.bind(null,t,e),[t,e]),n]}},Wn={readContext:kt,useCallback:Un,useContext:kt,useEffect:Dn,useImperativeHandle:In,useLayoutEffect:Nn,useMemo:zn,useReducer:Tn,useRef:Cn,useState:function(){return Tn(On)},useDebugValue:Bn,useResponder:pn,useDeferredValue:function(e,t){var n=Tn(On),r=n[0],i=n[1];return Dn((function(){var n=dn.suspense;dn.suspense=void 0===t?null:t;try{i(e)}finally{dn.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Tn(On),n=t[0];return t=t[1],[Un(Vn.bind(null,t,e),[t,e]),n]}},qn={readContext:kt,useCallback:Un,useContext:kt,useEffect:Dn,useImperativeHandle:In,useLayoutEffect:Nn,useMemo:zn,useReducer:Mn,useRef:Cn,useState:function(){return Mn(On)},useDebugValue:Bn,useResponder:pn,useDeferredValue:function(e,t){var n=Mn(On),r=n[0],i=n[1];return Dn((function(){var n=dn.suspense;dn.suspense=void 0===t?null:t;try{i(e)}finally{dn.suspense=n}}),[e,t]),r},useTransition:function(e){var t=Mn(On),n=t[0];return t=t[1],[Un(Vn.bind(null,t,e),[t,e]),n]}},Yn=null,Xn=null,Zn=!1;function Qn(e,t){var n=ro(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Kn(e,t){switch(e.tag){case 5:return null!==(t=ye(t,e.type,e.pendingProps))&&(e.stateNode=t,!0);case 6:return null!==(t=ge(t,e.pendingProps))&&(e.stateNode=t,!0);case 13:default:return!1}}function Jn(e){if(Zn){var t=Xn;if(t){var n=t;if(!Kn(e,t)){if(!(t=we(n))||!Kn(e,t))return e.effectTag=-1025&e.effectTag|2,Zn=!1,void(Yn=e);Qn(Yn,n)}Yn=e,Xn=xe(t)}else e.effectTag=-1025&e.effectTag|2,Zn=!1,Yn=e}}function er(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Yn=e}function tr(e){if(!X||e!==Yn)return!1;if(!Zn)return er(e),Zn=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!U(t,e.memoizedProps))for(t=Xn;t;)Qn(e,t),t=we(t);if(er(e),13===e.tag){if(!X)throw Error(s(316));if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));Xn=Oe(e)}else Xn=Yn?we(e.stateNode):null;return!0}function nr(){X&&(Xn=Yn=null,Zn=!1)}var rr=u.ReactCurrentOwner,ir=!1;function or(e,t,n,r){t.child=null===e?Jt(t,null,n,r):Kt(t,e.child,n,r)}function ar(e,t,n,r,i){n=n.render;var o=t.ref;return Ct(t,i),r=xn(e,t,n,r,o,i),null===e||ir?(t.effectTag|=1,or(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sr(e,t,i))}function sr(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!==typeof a||io(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ao(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,ur(e,t,a,r,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:_t)(i,r)&&e.ref===t.ref)?Sr(e,t,o):(t.effectTag|=1,(e=oo(a,r)).ref=t.ref,e.return=t,t.child=e)}function ur(e,t,n,r,i,o){return null!==e&&_t(e.memoizedProps,r)&&e.ref===t.ref&&(ir=!1,i<o)?(t.expirationTime=e.expirationTime,Sr(e,t,o)):lr(e,t,n,r,o)}function cr(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function lr(e,t,n,r,i){var o=Fe(n)?Ie:Ne.current;return o=Be(t,o),Ct(t,i),n=xn(e,t,n,r,o,i),null===e||ir?(t.effectTag|=1,or(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Sr(e,t,i))}function fr(e,t,n,r,i){if(Fe(n)){var o=!0;He(t)}else o=!1;if(Ct(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Gt(t,n,r),qt(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=kt(c):c=Be(t,c=Fe(n)?Ie:Ne.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wt(t,a,r,c),jt=!1;var p=t.memoizedState;a.state=p,Bt(t,r,a,i),u=t.memoizedState,s!==r||p!==u||Le.current||jt?("function"===typeof l&&(Vt(t,n,l,r),u=t.memoizedState),(s=jt||$t(t,n,s,r,p,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.effectTag|=4)):("function"===typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,Dt(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:wt(t.type,s),u=a.context,"object"===typeof(c=n.contextType)&&null!==c?c=kt(c):c=Be(t,c=Fe(n)?Ie:Ne.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Wt(t,a,r,c),jt=!1,u=t.memoizedState,a.state=u,Bt(t,r,a,i),p=t.memoizedState,s!==r||u!==p||Le.current||jt?("function"===typeof l&&(Vt(t,n,l,r),p=t.memoizedState),(l=jt||$t(t,n,s,r,u,p,c))?(f||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof a.componentDidUpdate&&(t.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return pr(e,t,n,r,o,i)}function pr(e,t,n,r,i,o){cr(e,t);var a=0!==(64&t.effectTag);if(!r&&!a)return i&&$e(t,n,!1),Sr(e,t,o);r=t.stateNode,rr.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Kt(t,e.child,null,o),t.child=Kt(t,null,s,o)):or(e,t,s,o),t.memoizedState=r.state,i&&$e(t,n,!0),t.child}function hr(e){var t=e.stateNode;t.pendingContext?ze(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ze(0,t.context,!1),an(e,t.containerInfo)}var dr,mr,vr,yr,gr={dehydrated:null,retryTime:0};function br(e,t,n){var r,i=t.mode,o=t.pendingProps,a=ln.current,s=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&a)&&(null===e||null!==e.memoizedState)),r?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),Re(ln,1&a),null===e){if(void 0!==o.fallback&&Jn(t),s){if(s=o.fallback,(o=so(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=so(s,i,n,null)).return=t,o.sibling=n,t.memoizedState=gr,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Jt(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(n=oo(e,e.pendingProps)).return=t,0===(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=s;null!==s;)s.return=n,s=s.sibling;return(i=oo(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=gr,t.child=n,i}return n=Kt(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,s){if(s=o.fallback,(o=so(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=so(s,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=gr,t.child=o,n}return t.memoizedState=null,t.child=Kt(t,e,o.children,n)}function _r(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),At(e.return,t)}function wr(e,t,n,r,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function xr(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(or(e,t,r.children,n),0!==(2&(r=ln.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&_r(e,n);else if(19===e.tag)_r(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Re(ln,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===fn(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),wr(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===fn(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}wr(t,!0,n,null,o,t.lastEffect);break;case"together":wr(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Sr(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&Bi(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=oo(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=oo(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Er(e){e.effectTag|=4}if(q)dr=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)I(e,n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mr=function(){},vr=function(e,t,n,r,i){if((e=e.memoizedProps)!==r){var o=t.stateNode,a=on(tn.current);n=F(o,n,e,r,i,a),(t.updateQueue=n)&&Er(t)}},yr=function(e,t,n,r){n!==r&&Er(t)};else if(Y){dr=function(e,t,n,r){for(var i=t.child;null!==i;){if(5===i.tag){var o=i.stateNode;n&&r&&(o=me(o,i.type,i.memoizedProps,i)),I(e,o)}else if(6===i.tag)o=i.stateNode,n&&r&&(o=ve(o,i.memoizedProps,i)),I(e,o);else if(4!==i.tag){if(13===i.tag&&0!==(4&i.effectTag)&&(o=null!==i.memoizedState)){var a=i.child;if(null!==a&&(null!==a.child&&(a.child.return=a,dr(e,a,!0,o)),null!==(o=a.sibling))){o.return=i,i=o;continue}}if(null!==i.child){i.child.return=i,i=i.child;continue}}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};mr=function(e){var t=e.stateNode;if(null!==e.firstEffect){var n=t.containerInfo,r=fe(n);!function e(t,n,r,i){for(var o=n.child;null!==o;){if(5===o.tag){var a=o.stateNode;r&&i&&(a=me(a,o.type,o.memoizedProps,o)),pe(t,a)}else if(6===o.tag)a=o.stateNode,r&&i&&(a=ve(a,o.memoizedProps,o)),pe(t,a);else if(4!==o.tag){if(13===o.tag&&0!==(4&o.effectTag)&&(a=null!==o.memoizedState)){var s=o.child;if(null!==s&&(null!==s.child&&(s.child.return=s,e(t,s,!0,a)),null!==(a=s.sibling))){a.return=o,o=a;continue}}if(null!==o.child){o.child.return=o,o=o.child;continue}}if(o===n)break;for(;null===o.sibling;){if(null===o.return||o.return===n)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}(r,e,!1,!1),t.pendingChildren=r,Er(e),he(n,r)}},vr=function(e,t,n,r,i){var o=e.stateNode,a=e.memoizedProps;if((e=null===t.firstEffect)&&a===r)t.stateNode=o;else{var s=t.stateNode,u=on(tn.current),c=null;a!==r&&(c=F(s,n,a,r,i,u)),e&&null===c?t.stateNode=o:(o=le(o,c,n,a,r,t,e,s),B(o,n,r,i,u)&&Er(t),t.stateNode=o,e?Er(t):dr(o,t,!1,!1))}},yr=function(e,t,n,r){n!==r?(e=on(rn.current),n=on(tn.current),t.stateNode=V(r,e,n,t),Er(t)):t.stateNode=e.stateNode}}else mr=function(){},vr=function(){},yr=function(){};function Or(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Tr(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Fe(t.type)&&Ue(),null;case 3:return sn(),je(Le),je(Ne),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&tr(t)&&Er(t),mr(t),null;case 5:cn(t);var i=on(rn.current);if(n=t.type,null!==e&&null!=t.stateNode)vr(e,t,n,r,i),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=on(tn.current),tr(t)){if(!X)throw Error(s(175));e=Se(t.stateNode,t.type,t.memoizedProps,i,e,t),t.updateQueue=e,null!==e&&Er(t)}else{var o=L(n,r,i,e,t);dr(o,t,!1,!1),t.stateNode=o,B(o,n,r,i,e)&&Er(t)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)yr(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=on(rn.current),i=on(tn.current),tr(t)){if(!X)throw Error(s(176));Ee(t.stateNode,t.memoizedProps,t)&&Er(t)}else t.stateNode=V(r,e,i,t)}return null;case 13:return je(ln),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(r=null!==r,i=!1,null===e?void 0!==t.memoizedProps.fallback&&tr(t):(i=null!==(n=e.memoizedState),r||null===n||null!==(n=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=n,n.nextEffect=o):(t.firstEffect=t.lastEffect=n,n.nextEffect=null),n.effectTag=8)),r&&!i&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&ln.current)?oi===Kr&&(oi=Jr):(oi!==Kr&&oi!==Jr||(oi=ei),0!==li&&null!==ni&&(po(ni,ii),ho(ni,li)))),Y&&r&&(t.effectTag|=4),q&&(r||i)&&(t.effectTag|=4),null);case 4:return sn(),mr(t),null;case 10:return Pt(t),null;case 17:return Fe(t.type)&&Ue(),null;case 19:if(je(ln),null===(r=t.memoizedState))return null;if(i=0!==(64&t.effectTag),null===(o=r.rendering)){if(i)Or(r,!1);else if(oi!==Kr||null!==e&&0!==(64&e.effectTag))for(e=t.child;null!==e;){if(null!==(o=fn(e))){for(t.effectTag|=64,Or(r,!1),null!==(e=o.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,e=n,r=t.child;null!==r;)n=e,(i=r).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(o=i.alternate)?(i.childExpirationTime=0,i.expirationTime=n,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=o.childExpirationTime,i.expirationTime=o.expirationTime,i.child=o.child,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,n=o.dependencies,i.dependencies=null===n?null:{expirationTime:n.expirationTime,firstContext:n.firstContext,responders:n.responders}),r=r.sibling;return Re(ln,1&ln.current|2),t.child}e=e.sibling}}else{if(!i)if(null!==(e=fn(o))){if(t.effectTag|=64,i=!0,null!==(e=e.updateQueue)&&(t.updateQueue=e,t.effectTag|=4),Or(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*ct()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,i=!0,Or(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=ct()+500),e=r.tail,r.rendering=e,r.tail=e.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=ct(),e.sibling=null,t=ln.current,Re(ln,i?1&t|2:1&t),e):null}throw Error(s(156,t.tag))}function Mr(e){switch(e.tag){case 1:Fe(e.type)&&Ue();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(sn(),je(Le),je(Ne),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return cn(e),null;case 13:return je(ln),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return je(ln),null;case 4:return sn(),null;case 10:return Pt(e),null;default:return null}}function Pr(e,t){return{value:e,source:t,stack:Ae(t)}}var Ar="function"===typeof WeakSet?WeakSet:Set;function Cr(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=Ae(n)),null!==n&&T(n.type),t=t.value,null!==e&&1===e.tag&&T(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function kr(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Zi(e,n)}else t.current=null}function jr(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:wt(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(s(163))}function Rr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function Dr(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Nr(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void Dr(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:wt(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&Ft(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=k(n.child.stateNode);break;case 1:e=n.child.stateNode}Ft(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&J(e,n.type,n.memoizedProps,n));case 6:case 4:case 12:return;case 13:return void(X&&null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Me(n)))));case 19:case 17:case 20:case 21:return}throw Error(s(163))}function Lr(e,t,n){switch("function"===typeof to&&to(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;pt(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){Zi(i,o)}}e=e.next}while(e!==r)}))}break;case 1:kr(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){Zi(e,n)}}(t,n);break;case 5:kr(t);break;case 4:q?zr(e,t,n):Y&&function(e){if(Y){e=e.stateNode.containerInfo;var t=fe(e);de(e,t)}}(t)}}function Ir(e,t,n){for(var r=t;;)if(Lr(e,r,n),null===r.child||q&&4===r.tag){if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}else r.child.return=r,r=r.child}function Br(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&Br(t)}function Fr(e){return 5===e.tag||3===e.tag||4===e.tag}function Ur(e){if(q){e:{for(var t=e.return;null!==t;){if(Fr(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(oe(t),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||Fr(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?ne(r,t,n):Q(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var i=t.tag,o=5===i||6===i;if(o)t=o?t.stateNode:t.stateNode.instance,n?te(r,t,n):Z(r,t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}}function zr(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag)Ir(e,o,n),i?ie(r,o.stateNode):re(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Lr(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function Vr(e,t){if(q){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Rr(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,o=t.updateQueue;t.updateQueue=null,null!==o&&ee(n,o,i,e,r,t)}return;case 6:if(null===t.stateNode)throw Error(s(162));return n=t.memoizedProps,void K(t.stateNode,null!==e?e.memoizedProps:n,n);case 3:return void(X&&(t=t.stateNode,t.hydrate&&(t.hydrate=!1,Te(t.containerInfo))));case 12:return;case 13:return Hr(t),void $r(t);case 19:return void $r(t);case 17:return}throw Error(s(163))}switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void Rr(3,t);case 12:return;case 13:return Hr(t),void $r(t);case 19:return void $r(t);case 3:X&&((n=t.stateNode).hydrate&&(n.hydrate=!1,Te(n.containerInfo)))}e:if(Y){switch(t.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:t=t.stateNode,de(t.containerInfo,t.pendingChildren);break e}throw Error(s(163))}}function Hr(e){var t=e;if(null===e.memoizedState)var n=!1;else n=!0,t=e.child,pi=ct();if(q&&null!==t)e:if(e=t,q)for(t=e;;){if(5===t.tag){var r=t.stateNode;n?ae(r):ue(t.stateNode,t.memoizedProps)}else if(6===t.tag)r=t.stateNode,n?se(r):ce(r,t.memoizedProps);else{if(13===t.tag&&null!==t.memoizedState&&null===t.memoizedState.dehydrated){(r=t.child.sibling).return=t,t=r;continue}if(null!==t.child){t.child.return=t,t=t.child;continue}}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}}function $r(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ar),t.forEach((function(t){var r=Ki.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var Gr="function"===typeof WeakMap?WeakMap:Map;function Wr(e,t,n){(n=Nt(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){di||(di=!0,mi=r),Cr(e,t)},n}function qr(e,t,n){(n=Nt(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return Cr(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===vi?vi=new Set([this]):vi.add(this),Cr(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Yr,Xr=Math.ceil,Zr=u.ReactCurrentDispatcher,Qr=u.ReactCurrentOwner,Kr=0,Jr=3,ei=4,ti=0,ni=null,ri=null,ii=0,oi=Kr,ai=null,si=1073741823,ui=1073741823,ci=null,li=0,fi=!1,pi=0,hi=null,di=!1,mi=null,vi=null,yi=!1,gi=null,bi=90,_i=null,wi=0,xi=null,Si=0;function Ei(){return 0!==(48&ti)?1073741821-(ct()/10|0):0!==Si?Si:Si=1073741821-(ct()/10|0)}function Oi(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=lt();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(16&ti))return ii;if(null!==n)e=yt(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=yt(e,150,100);break;case 97:case 96:e=yt(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==ni&&e===ii&&--e,e}function Ti(e,t){if(50<wi)throw wi=0,xi=null,Error(s(185));if(null!==(e=Mi(e,t))){var n=lt();1073741823===t?0!==(8&ti)&&0===(48&ti)?ki(e):(Ai(e),0===ti&&mt()):Ai(e),0===(4&ti)||98!==n&&99!==n||(null===_i?_i=new Map([[e,t]]):(void 0===(n=_i.get(e))||n>t)&&_i.set(e,t))}}function Mi(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(ni===i&&(Bi(t),oi===ei&&po(i,ii)),ho(i,t)),i}function Pi(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!fo(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Ai(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=dt(ki.bind(null,e));else{var t=Pi(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=Ei();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==nt&&qe(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?dt(ki.bind(null,e)):ht(r,Ci.bind(null,e),{timeout:10*(1073741821-t)-ct()}),e.callbackNode=t}}}function Ci(e,t){if(Si=0,t)return mo(e,t=Ei()),Ai(e),null;var n=Pi(e);if(0!==n){if(t=e.callbackNode,0!==(48&ti))throw Error(s(327));if(qi(),e===ni&&n===ii||Di(e,n),null!==ri){var r=ti;ti|=16;for(var i=Li();;)try{Ui();break}catch(u){Ni(e,u)}if(Tt(),ti=r,Zr.current=i,1===oi)throw t=ai,Di(e,n),po(e,n),Ai(e),t;if(null===ri)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=oi,ni=null,r){case Kr:case 1:throw Error(s(345));case 2:mo(e,2<n?2:n);break;case Jr:if(po(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Hi(i)),1073741823===si&&10<(i=pi+500-ct())){if(fi){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,Di(e,n);break}}if(0!==(o=Pi(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=H($i.bind(null,e),i);break}$i(e);break;case ei:if(po(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=Hi(i)),fi&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,Di(e,n);break}if(0!==(i=Pi(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==ui?r=10*(1073741821-ui)-ct():1073741823===si?r=0:(r=10*(1073741821-si)-5e3,0>(r=(i=ct())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xr(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=H($i.bind(null,e),r);break}$i(e);break;case 5:if(1073741823!==si&&null!==ci){o=si;var a=ci;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=ct()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){po(e,n),e.timeoutHandle=H($i.bind(null,e),r);break}}$i(e);break;default:throw Error(s(329))}if(Ai(e),e.callbackNode===t)return Ci.bind(null,e)}}return null}function ki(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&ti))throw Error(s(327));if(qi(),e===ni&&t===ii||Di(e,t),null!==ri){var n=ti;ti|=16;for(var r=Li();;)try{Fi();break}catch(i){Ni(e,i)}if(Tt(),ti=n,Zr.current=r,1===oi)throw n=ai,Di(e,t),po(e,t),Ai(e),n;if(null!==ri)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,ni=null,$i(e),Ai(e)}return null}function ji(e,t){var n=ti;ti|=1;try{return e(t)}finally{0===(ti=n)&&mt()}}function Ri(e,t){if(0!==(48&ti))throw Error(s(187));var n=ti;ti|=1;try{return pt(99,e.bind(null,t))}finally{ti=n,mt()}}function Di(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(n!==G&&(e.timeoutHandle=G,$(n)),null!==ri)for(n=ri.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ue();break;case 3:sn(),je(Le),je(Ne);break;case 5:cn(r);break;case 4:sn();break;case 13:case 19:je(ln);break;case 10:Pt(r)}n=n.return}ni=e,ri=oo(e.current,null),ii=t,oi=Kr,ai=null,ui=si=1073741823,ci=null,li=0,fi=!1}function Ni(e,t){for(;;){try{if(Tt(),hn.current=$n,bn)for(var n=vn.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(mn=0,gn=yn=vn=null,bn=!1,null===ri||null===ri.return)return oi=1,ai=t,ri=null;e:{var i=e,o=ri.return,a=ri,s=t;if(t=ii,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var u=s;if(0===(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.expirationTime=c.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!==(1&ln.current),f=o;do{var p;if(p=13===f.tag){var h=f.memoizedState;if(null!==h)p=null!==h.dehydrated;else{var d=f.memoizedProps;p=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(p){var m=f.updateQueue;if(null===m){var v=new Set;v.add(u),f.updateQueue=v}else m.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var y=Nt(1073741823,null);y.tag=2,Lt(a,y)}a.expirationTime=1073741823;break e}s=void 0,a=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new Gr,s=new Set,g.set(u,s)):void 0===(s=g.get(u))&&(s=new Set,g.set(u,s)),!s.has(a)){s.add(a);var b=Qi.bind(null,i,u,a);u.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((T(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+Ae(a))}5!==oi&&(oi=2),s=Pr(s,a),f=o;do{switch(f.tag){case 3:u=s,f.effectTag|=4096,f.expirationTime=t,It(f,Wr(f,u,t));break e;case 1:u=s;var _=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===vi||!vi.has(w)))){f.effectTag|=4096,f.expirationTime=t,It(f,qr(f,u,t));break e}}f=f.return}while(null!==f)}ri=Vi(ri)}catch(x){t=x;continue}break}}function Li(){var e=Zr.current;return Zr.current=$n,null===e?$n:e}function Ii(e,t){e<si&&2<e&&(si=e),null!==t&&e<ui&&2<e&&(ui=e,ci=t)}function Bi(e){e>li&&(li=e)}function Fi(){for(;null!==ri;)ri=zi(ri)}function Ui(){for(;null!==ri&&!rt();)ri=zi(ri)}function zi(e){var t=Yr(e.alternate,e,ii);return e.memoizedProps=e.pendingProps,null===t&&(t=Vi(e)),Qr.current=null,t}function Vi(e){ri=e;do{var t=ri.alternate;if(e=ri.return,0===(2048&ri.effectTag)){if(t=Tr(t,ri,ii),1===ii||1!==ri.childExpirationTime){for(var n=0,r=ri.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}ri.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=ri.firstEffect),null!==ri.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=ri.firstEffect),e.lastEffect=ri.lastEffect),1<ri.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=ri:e.firstEffect=ri,e.lastEffect=ri))}else{if(null!==(t=Mr(ri)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=ri.sibling))return t;ri=e}while(null!==ri);return oi===Kr&&(oi=5),null}function Hi(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function $i(e){var t=lt();return pt(99,Gi.bind(null,e,t)),null}function Gi(e,t){do{qi()}while(null!==gi);if(0!==(48&ti))throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=Hi(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===ni&&(ri=ni=null,ii=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=ti;ti|=32,Qr.current=null,D(e.containerInfo),hi=i;do{try{Wi()}catch(g){if(null===hi)throw Error(s(330));Zi(hi,g),hi=hi.nextEffect}}while(null!==hi);hi=i;do{try{for(var a=e,u=t;null!==hi;){var c=hi.effectTag;if(16&c&&q&&oe(hi.stateNode),128&c){var l=hi.alternate;if(null!==l){var f=l.ref;null!==f&&("function"===typeof f?f(null):f.current=null)}}switch(1038&c){case 2:Ur(hi),hi.effectTag&=-3;break;case 6:Ur(hi),hi.effectTag&=-3,Vr(hi.alternate,hi);break;case 1024:hi.effectTag&=-1025;break;case 1028:hi.effectTag&=-1025,Vr(hi.alternate,hi);break;case 4:Vr(hi.alternate,hi);break;case 8:var p=a,h=hi,d=u;q?zr(p,h,d):Ir(p,h,d),Br(h)}hi=hi.nextEffect}}catch(g){if(null===hi)throw Error(s(330));Zi(hi,g),hi=hi.nextEffect}}while(null!==hi);N(e.containerInfo),e.current=n,hi=i;do{try{for(c=e;null!==hi;){var m=hi.effectTag;if(36&m&&Nr(c,hi.alternate,hi),128&m){l=void 0;var v=hi.ref;if(null!==v){var y=hi.stateNode;switch(hi.tag){case 5:l=k(y);break;default:l=y}"function"===typeof v?v(l):v.current=l}}hi=hi.nextEffect}}catch(g){if(null===hi)throw Error(s(330));Zi(hi,g),hi=hi.nextEffect}}while(null!==hi);hi=null,it(),ti=o}else e.current=n;if(yi)yi=!1,gi=e,bi=t;else for(hi=i;null!==hi;)t=hi.nextEffect,hi.nextEffect=null,hi=t;if(0===(t=e.firstPendingTime)&&(vi=null),1073741823===t?e===xi?wi++:(wi=0,xi=e):wi=0,"function"===typeof eo&&eo(n.stateNode,r),Ai(e),di)throw di=!1,e=mi,mi=null,e;return 0!==(8&ti)||mt(),null}function Wi(){for(;null!==hi;){var e=hi.effectTag;0!==(256&e)&&jr(hi.alternate,hi),0===(512&e)||yi||(yi=!0,ht(97,(function(){return qi(),null}))),hi=hi.nextEffect}}function qi(){if(90!==bi){var e=97<bi?97:bi;return bi=90,pt(e,Yi)}}function Yi(){if(null===gi)return!1;var e=gi;if(gi=null,0!==(48&ti))throw Error(s(331));var t=ti;for(ti|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:Rr(5,n),Dr(5,n)}}catch(r){if(null===e)throw Error(s(330));Zi(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return ti=t,mt(),!0}function Xi(e,t,n){Lt(e,t=Wr(e,t=Pr(n,t),1073741823)),null!==(e=Mi(e,1073741823))&&Ai(e)}function Zi(e,t){if(3===e.tag)Xi(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Xi(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===vi||!vi.has(r))){Lt(n,e=qr(n,e=Pr(t,e),1073741823)),null!==(n=Mi(n,1073741823))&&Ai(n);break}}n=n.return}}function Qi(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),ni===e&&ii===n?oi===ei||oi===Jr&&1073741823===si&&ct()-pi<500?Di(e,ii):fi=!0:fo(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Ai(e)))}function Ki(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Oi(t=Ei(),e,null)),null!==(e=Mi(e,t))&&Ai(e)}Yr=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||Le.current)ir=!0;else{if(r<n){switch(ir=!1,t.tag){case 3:hr(t),nr();break;case 5:if(un(t),4&t.mode&&1!==n&&z(t.type,i))return t.expirationTime=t.childExpirationTime=1,null;break;case 1:Fe(t.type)&&He(t);break;case 4:an(t,t.stateNode.containerInfo);break;case 10:Mt(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?br(e,t,n):(Re(ln,1&ln.current),null!==(t=Sr(e,t,n))?t.sibling:null);Re(ln,1&ln.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return xr(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),Re(ln,ln.current),!r)return null}return Sr(e,t,n)}ir=!1}}else ir=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=Be(t,Ne.current),Ct(t,n),i=xn(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fe(r)){var o=!0;He(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rt(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&Vt(t,r,a,e),i.updater=Ht,t.stateNode=i,i._reactInternalFiber=t,qt(t,r,e,n),t=pr(null,t,r,!0,o,n)}else t.tag=0,or(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return io(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===g)return 11;if(e===w)return 14}return 2}(i),e=wt(i,e),o){case 0:t=lr(null,t,i,e,n);break e;case 1:t=fr(null,t,i,e,n);break e;case 11:t=ar(null,t,i,e,n);break e;case 14:t=sr(null,t,i,wt(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,lr(e,t,r,i=t.elementType===r?i:wt(r,i),n);case 1:return r=t.type,i=t.pendingProps,fr(e,t,r,i=t.elementType===r?i:wt(r,i),n);case 3:if(hr(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,Dt(e,t),Bt(t,r,null,n),(r=t.memoizedState.element)===i)nr(),t=Sr(e,t,n);else{if((i=t.stateNode.hydrate)&&(X?(Xn=xe(t.stateNode.containerInfo),Yn=t,i=Zn=!0):i=!1),i)for(n=Jt(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else or(e,t,r,n),nr();t=t.child}return t;case 5:return un(t),null===e&&Jn(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,U(r,i)?a=null:null!==o&&U(r,o)&&(t.effectTag|=16),cr(e,t),4&t.mode&&1!==n&&z(r,i)?(t.expirationTime=t.childExpirationTime=1,t=null):(or(e,t,a,n),t=t.child),t;case 6:return null===e&&Jn(t),null;case 13:return br(e,t,n);case 4:return an(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Kt(t,null,r,n):or(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ar(e,t,r,i=t.elementType===r?i:wt(r,i),n);case 7:return or(e,t,t.pendingProps,n),t.child;case 8:case 12:return or(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,Mt(t,o=i.value),null!==a){var u=a.value;if(0===(o=gt(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!Le.current){t=Sr(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){a=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=Nt(n,null)).tag=2,Lt(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),At(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}}or(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,Ct(t,n),r=r(i=kt(i,o.unstable_observedBits)),t.effectTag|=1,or(e,t,r,n),t.child;case 14:return o=wt(i=t.type,t.pendingProps),sr(e,t,i,o=wt(i.type,o),r,n);case 15:return ur(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:wt(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Fe(r)?(e=!0,He(t)):e=!1,Ct(t,n),Gt(t,r,i),qt(t,r,i,n),pr(null,t,r,!0,e,n);case 19:return xr(e,t,n)}throw Error(s(156,t.tag))};var Ji={current:!1},eo=null,to=null;function no(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function ro(e,t,n,r){return new no(e,t,n,r)}function io(e){return!(!(e=e.prototype)||!e.isReactComponent)}function oo(e,t){var n=e.alternate;return null===n?((n=ro(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ao(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)io(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case p:return so(n.children,i,o,t);case y:a=8,i|=7;break;case h:a=8,i|=1;break;case d:return(e=ro(12,n,t,8|i)).elementType=d,e.type=d,e.expirationTime=o,e;case b:return(e=ro(13,n,t,i)).type=b,e.elementType=b,e.expirationTime=o,e;case _:return(e=ro(19,n,t,i)).elementType=_,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case m:a=10;break e;case v:a=9;break e;case g:a=11;break e;case w:a=14;break e;case x:a=16,r=null;break e;case S:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=ro(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function so(e,t,n,r){return(e=ro(7,e,r,t)).expirationTime=n,e}function uo(e,t,n){return(e=ro(6,e,null,t)).expirationTime=n,e}function co(e,t,n){return(t=ro(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function lo(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=G,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function fo(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function po(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function ho(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function mo(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}var vo=null;function yo(e){var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return null===(e=C(t))?null:e.stateNode}function go(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function bo(e,t){go(e,t),(e=e.alternate)&&go(e,t)}var _o=u.IsSomeRendererActing,wo="function"===typeof a.unstable_flushAllWithoutAsserting,xo=a.unstable_flushAllWithoutAsserting||function(){for(var e=!1;qi();)e=!0;return e};function So(t){try{xo(),function(t){if(null===vo)try{var n=("require"+Math.random()).slice(0,7);vo=(e&&e[n])("timers").setImmediate}catch(r){vo=function(e){var t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(void 0)}}vo(t)}((function(){xo()?So(t):t()}))}catch(n){t(n)}}var Eo=0,Oo=!1,To={__proto__:null,createContainer:function(e,t,n){return e=new lo(e,t,n),t=ro(3,null,null,2===t?7:1===t?3:0),e.current=t,t.stateNode=e,Rt(t),e},updateContainer:function(e,t,n,r){var i=t.current,o=Ei(),a=Ut.suspense;o=Oi(o,i,a);e:if(n){t:{if(M(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(Fe(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(Fe(c)){n=Ve(n,c,u);break e}}n=u}else n=De;return null===t.context?t.context=n:t.pendingContext=n,(t=Nt(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Lt(i,t),Ti(i,o),o},batchedEventUpdates:function(e,t){var n=ti;ti|=2;try{return e(t)}finally{0===(ti=n)&&mt()}},batchedUpdates:ji,unbatchedUpdates:function(e,t){var n=ti;ti&=-2,ti|=8;try{return e(t)}finally{0===(ti=n)&&mt()}},deferredUpdates:function(e){return pt(97,e)},syncUpdates:function(e,t,n,r){return pt(99,e.bind(null,t,n,r))},discreteUpdates:function(e,t,n,r,i){var o=ti;ti|=4;try{return pt(98,e.bind(null,t,n,r,i))}finally{0===(ti=o)&&mt()}},flushDiscreteUpdates:function(){0===(49&ti)&&(function(){if(null!==_i){var e=_i;_i=null,e.forEach((function(e,t){mo(t,e),Ai(t)})),mt()}}(),qi())},flushControlled:function(e){var t=ti;ti|=1;try{pt(99,e)}finally{0===(ti=t)&&mt()}},flushSync:Ri,flushPassiveEffects:qi,IsThisRendererActing:Ji,getPublicRootInstance:function(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:return k(e.child.stateNode);default:return e.child.stateNode}},attemptSynchronousHydration:function(e){switch(e.tag){case 3:var t=e.stateNode;t.hydrate&&function(e,t){mo(e,t),Ai(e),0===(48&ti)&&mt()}(t,t.firstPendingTime);break;case 13:Ri((function(){return Ti(e,1073741823)})),t=yt(Ei(),150,100),bo(e,t)}},attemptUserBlockingHydration:function(e){if(13===e.tag){var t=yt(Ei(),150,100);Ti(e,t),bo(e,t)}},attemptContinuousHydration:function(e){13===e.tag&&(Ti(e,3),bo(e,3))},attemptHydrationAtCurrentPriority:function(e){if(13===e.tag){var t=Ei();Ti(e,t=Oi(t,e,null)),bo(e,t)}},findHostInstance:yo,findHostInstanceWithWarning:function(e){return yo(e)},findHostInstanceWithNoPortals:function(e){return null===(e=function(e){if(!(e=A(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child&&4!==t.tag)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}(e))?null:20===e.tag?e.stateNode.instance:e.stateNode},shouldSuspend:function(){return!1},injectIntoDevTools:function(e){var t=e.findFiberByHostInstance;return function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);eo=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},to=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}return!0}(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:u.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=C(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))},act:function(e){function t(){Eo--,_o.current=n,Ji.current=r}!1===Oo&&(Oo=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),Eo++;var n=_o.current,r=Ji.current;_o.current=!0,Ji.current=!0;try{var i=ji(e)}catch(o){throw t(),o}if(null!==i&&"object"===typeof i&&"function"===typeof i.then)return{then:function(e,r){i.then((function(){1<Eo||!0===wo&&!0===n?(t(),e()):So((function(n){t(),n?r(n):e()}))}),(function(e){t(),r(e)}))}};try{1!==Eo||!1!==wo&&!1!==n||xo(),t()}catch(o){throw t(),o}return{then:function(e){e()}}}},Mo=To&&To.default||To;e.exports=Mo.default||Mo;var Po=e.exports;return e.exports=t,Po}}).call(this,n(276)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var r=Array.isArray,i=Object.keys,o=Object.prototype.hasOwnProperty;e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var a,s,u,c=r(t),l=r(n);if(c&&l){if((s=t.length)!=n.length)return!1;for(a=s;0!==a--;)if(!e(t[a],n[a]))return!1;return!0}if(c!=l)return!1;var f=t instanceof Date,p=n instanceof Date;if(f!=p)return!1;if(f&&p)return t.getTime()==n.getTime();var h=t instanceof RegExp,d=n instanceof RegExp;if(h!=d)return!1;if(h&&d)return t.toString()==n.toString();var m=i(t);if((s=m.length)!==i(n).length)return!1;for(a=s;0!==a--;)if(!o.call(n,m[a]))return!1;for(a=s;0!==a--;)if(!e(t[u=m[a]],n[u]))return!1;return!0}return t!==t&&n!==n}},function(e,t,n){var r,i,o;i=[t,n(279),n(280),n(40),n(297),n(298),n(299)],void 0===(o="function"===typeof(r=function(e,t,n,r,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}));var a=c(n),s=c(r),u=c(i);function c(e){return e&&e.__esModule?e:{default:e}}var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.props.preloader;return n.state={element:r},n.onFontActive=n.onFontActive.bind(n),n.processProps=n.processProps.bind(n),u.default.load({google:{families:["Material+Icons"]},timeout:5e3,fontactive:n.onFontActive}),n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),p(t,[{key:"componentDidMount",value:function(){}},{key:"onFontActive",value:function(e,t){var n=this.processProps(),r=n.icon,i=n.styleOverride,o=n.clsName,s=f(n,["icon","styleOverride","clsName"]);this.setState({element:a.default.createElement("i",l({},s,{className:o,style:i}),r)})}},{key:"processProps",value:function(){var e=this.props,t=e.size,n=e.invert,r=e.inactive,i=e.style,a=e.className,s=e.color,u=e.icon,c=f(e,["size","invert","inactive","style","className","color","icon"]),p=o.sizes[t]||parseInt(t)||o.sizes.small,h=n?o.light:o.dark,d=r?o.mdInactive:"",m=i||{},v=Object.assign(m,{color:s||"",fontSize:p});return l({icon:u,styleOverride:v,clsName:a||"material-icons "+p+" "+h+" "+d},c)}},{key:"render",value:function(){var e=this.processProps(),t=e.styleOverride,n=e.clsName,r=f(e,["styleOverride","clsName"]);return this.state.element||a.default.createElement("i",l({},r,{className:n,style:t}))}}]),t}(n.Component);h.propTypes={icon:s.default.string.isRequired,size:s.default.oneOfType([s.default.number,s.default.string]),invert:s.default.bool,inactive:s.default.bool},e.default=h})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[t],void 0===(o="function"===typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.colorPalette={red:{default:"#f44336",_500:"#f44336",_50:"#ffebee",_100:"#ffcdd2",_200:"#ef9a9a",_300:"#e57373",_400:"#ef5350",_600:"#e53935",_700:"#d32f2f",_800:"#c62828",_900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d_50000"},pink:{default:"#E91E63",_500:"#E91E63",_50:"#FCE4EC",_100:"#F8BBD0",_200:"#F48FB1",_300:"#F06292",_400:"#EC407A",_600:"#D81B60",_700:"#C2185B",_800:"#AD1457",_900:"#880E4F",A100:"#FF80AB",A200:"#FF4081",A400:"#F_50057",A700:"#C51162"},purple:{default:"#9C27B0",_500:"#9C27B0",_50:"#F3E5F5",_100:"#E1BEE7",_200:"#CE93D8",_300:"#BA68C8",_400:"#AB47BC",_600:"#8E24AA",_700:"#7B1FA2",_800:"#6A1B9A",_900:"#4A148C",A100:"#EA80FC",A200:"#E040FB",A400:"#D_500F9",A700:"#AA00FF"},deepPurple:{default:"#673AB7",_500:"#673AB7",_50:"#EDE7F6",_100:"#D1C4E9",_200:"#B39DDB",_300:"#9575CD",_400:"#7E57C2",_600:"#5E35B1",_700:"#512DA8",_800:"#4527A0",_900:"#311B92",A100:"#B388FF",A200:"#7C4DFF",A400:"#651FFF",A700:"#6200EA"},indigo:{default:"#3F51B5",_500:"#3F51B5",_50:"#E8EAF6",_100:"#C5CAE9",_200:"#9FA8DA",_300:"#7986CB",_400:"#5C6BC0",_600:"#3949AB",_700:"#303F9F",_800:"#283593",_900:"#1A237E",A100:"#8C9EFF",A200:"#536DFE",A400:"#3D5AFE",A700:"#304FFE"},blue:{default:"#2196F3",_500:"#2196F3",_50:"#E3F2FD",_100:"#BBDEFB",_200:"#90CAF9",_300:"#64B5F6",_400:"#42A5F5",_600:"#1E88E5",_700:"#1976D2",_800:"#1565C0",_900:"#0D47A1",A100:"#82B1FF",A200:"#448AFF",A400:"#2979FF",A700:"#2962FF"},lightBlue:{default:"#03A9F4",_500:"#03A9F4",_50:"#E1F5FE",_100:"#B3E5FC",_200:"#81D4FA",_300:"#4FC3F7",_400:"#29B6F6",_600:"#039BE5",_700:"#0288D1",_800:"#0277BD",_900:"#01579B",A100:"#80D8FF",A200:"#40C4FF",A400:"#00B0FF",A700:"#0091EA"},cyan:{default:"#00BCD4",_500:"#00BCD4",_50:"#E0F7FA",_100:"#B2EBF2",_200:"#80DEEA",_300:"#4DD0E1",_400:"#26C6DA",_600:"#00ACC1",_700:"#0097A7",_800:"#00838F",_900:"#006064",A100:"#84FFFF",A200:"#18FFFF",A400:"#00E5FF",A700:"#00B8D4"},teal:{default:"#009688",_500:"#009688",_50:"#E0F2F1",_100:"#B2DFDB",_200:"#80CBC4",_300:"#4DB6AC",_400:"#26A69A",_600:"#00897B",_700:"#00796B",_800:"#00695C",_900:"#004D40",A100:"#A7FFEB",A200:"#64FFDA",A400:"#1DE9B6",A700:"#00BFA5"},green:{default:"#4CAF50",_500:"#4CAF50",_50:"#E8F5E9",_100:"#C8E6C9",_200:"#A5D6A7",_300:"#81C784",_400:"#66BB6A",_600:"#43A047",_700:"#388E3C",_800:"#2E7D32",_900:"#1B5E20",A100:"#B9F6CA",A200:"#69F0AE",A400:"#00E676",A700:"#00C853"},lightGreen:{default:"#8BC34A",_500:"#8BC34A",_50:"#F1F8E9",_100:"#DCEDC8",_200:"#C5E1A5",_300:"#AED581",_400:"#9CCC65",_600:"#7CB342",_700:"#689F38",_800:"#558B2F",_900:"#33691E",A100:"#CCFF90",A200:"#B2FF59",A400:"#76FF03",A700:"#64DD17"},lime:{default:"#CDDC39",_500:"#CDDC39",_50:"#F9FBE7",_100:"#F0F4C3",_200:"#E6EE9C",_300:"#DCE775",_400:"#D4E157",_600:"#C0CA33",_700:"#AFB42B",_800:"#9E9D24",_900:"#827717",A100:"#F4FF81",A200:"#EEFF41",A400:"#C6FF00",A700:"#AEEA00"},yellow:{default:"#FFEB3B",_500:"#FFEB3B",_50:"#FFFDE7",_100:"#FFF9C4",_200:"#FFF59D",_300:"#FFF176",_400:"#FFEE58",_600:"#FDD835",_700:"#FBC02D",_800:"#F9A825",_900:"#F57F17",A100:"#FFFF8D",A200:"#FFFF00",A400:"#FFEA00",A700:"#FFD600"},amber:{default:"#FFC107",_500:"#FFC107",_50:"#FFF8E1",_100:"#FFECB3",_200:"#FFE082",_300:"#FFD54F",_400:"#FFCA28",_600:"#FFB300",_700:"#FFA000",_800:"#FF8F00",_900:"#FF6F00",A100:"#FFE57F",A200:"#FFD740",A400:"#FFC400",A700:"#FFAB00"},orange:{default:"#FF9800",_500:"#FF9800",_50:"#FFF3E0",_100:"#FFE0B2",_200:"#FFCC80",_300:"#FFB74D",_400:"#FFA726",_600:"#FB8C00",_700:"#F57C00",_800:"#EF6C00",_900:"#E65100",A100:"#FFD180",A200:"#FFAB40",A400:"#FF9100",A700:"#FF6D00"},deepOrange:{default:"#FF5722",_500:"#FF5722",_50:"#FBE9E7",_100:"#FFCCBC",_200:"#FFAB91",_300:"#FF8A65",_400:"#FF7043",_600:"#F4511E",_700:"#E64A19",_800:"#D84315",_900:"#BF360C",A100:"#FF9E80",A200:"#FF6E40",A400:"#FF3D00",A700:"#DD2C00"},brown:{default:"#795548",_500:"#795548",_50:"#EFEBE9",_100:"#D7CCC8",_200:"#BCAAA4",_300:"#A1887F",_400:"#8D6E63",_600:"#6D4C41",_700:"#5D4037",_800:"#4E342E",_900:"#3E2723"},grey:{default:"#9E9E9E",_500:"#9E9E9E",_50:"#FAFAFA",_100:"#F5F5F5",_200:"#EEEEEE",_300:"#E0E0E0",_400:"#BDBDBD",_600:"#757575",_700:"#616161",_800:"#424242",_900:"#212121"},blueGrey:{default:"#607D8B",_500:"#607D8B",_50:"#ECEFF1",_100:"#CFD8DC",_200:"#B0BEC5",_300:"#90A4AE",_400:"#78909C",_600:"#546E7A",_700:"#455A64",_800:"#37474F",_900:"#263238"}}})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";e.exports=n(281)},function(e,t,n){"use strict";var r=n(58),i=n(149),o=n(283),a=n(288),s=n(67),u=n(289),c=n(293),l=n(294),f=n(296),p=s.createElement,h=s.createFactory,d=s.cloneElement,m=r,v={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:f},Component:i.Component,PureComponent:i.PureComponent,createElement:p,cloneElement:d,isValidElement:s.isValidElement,PropTypes:u,createClass:l,createFactory:h,createMixin:function(e){return e},DOM:a,version:c,__spread:m};e.exports=v},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";var r=n(284),i=n(67),o=n(151),a=n(285),s=r.twoArgumentPooler,u=r.fourArgumentPooler,c=/\/+/g;function l(e){return(""+e).replace(c,"$&/")}function f(e,t){this.func=e,this.context=t,this.count=0}function p(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function h(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function d(e,t,n){var r=e.result,a=e.keyPrefix,s=e.func,u=e.context,c=s.call(u,t,e.count++);Array.isArray(c)?m(c,r,n,o.thatReturnsArgument):null!=c&&(i.isValidElement(c)&&(c=i.cloneAndReplaceKey(c,a+(!c.key||t&&t.key===c.key?"":l(c.key)+"/")+n)),r.push(c))}function m(e,t,n,r,i){var o="";null!=n&&(o=l(n)+"/");var s=h.getPooled(t,o,r,i);a(e,d,s),h.release(s)}function v(e,t,n){return null}f.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},r.addPoolingTo(f,s),h.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},r.addPoolingTo(h,u);var y={forEach:function(e,t,n){if(null==e)return e;var r=f.getPooled(t,n);a(e,p,r),f.release(r)},map:function(e,t,n){if(null==e)return e;var r=[];return m(e,r,null,t,n),r},mapIntoWithKeyPrefixInternal:m,count:function(e,t){return a(e,v,null)},toArray:function(e){var t=[];return m(e,t,null,o.thatReturnsArgument),t}};e.exports=y},function(e,t,n){"use strict";var r=n(81),i=(n(78),function(e){if(this.instancePool.length){var t=this.instancePool.pop();return this.call(t,e),t}return new this(e)}),o=function(e){e instanceof this||r("25"),e.destructor(),this.instancePool.length<this.poolSize&&this.instancePool.push(e)},a=i,s={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||a,n.poolSize||(n.poolSize=10),n.release=o,n},oneArgumentPooler:i,twoArgumentPooler:function(e,t){if(this.instancePool.length){var n=this.instancePool.pop();return this.call(n,e,t),n}return new this(e,t)},threeArgumentPooler:function(e,t,n){if(this.instancePool.length){var r=this.instancePool.pop();return this.call(r,e,t,n),r}return new this(e,t,n)},fourArgumentPooler:function(e,t,n,r){if(this.instancePool.length){var i=this.instancePool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}};e.exports=s},function(e,t,n){"use strict";var r=n(81),i=(n(154),n(155)),o=n(286),a=(n(78),n(287));n(116);function s(e,t){return e&&"object"===typeof e&&null!=e.key?a.escape(e.key):t.toString(36)}e.exports=function(e,t,n){return null==e?0:function e(t,n,u,c){var l,f=typeof t;if("undefined"!==f&&"boolean"!==f||(t=null),null===t||"string"===f||"number"===f||"object"===f&&t.$$typeof===i)return u(c,t,""===n?"."+s(t,0):n),1;var p=0,h=""===n?".":n+":";if(Array.isArray(t))for(var d=0;d<t.length;d++)p+=e(l=t[d],h+s(l,d),u,c);else{var m=o(t);if(m){var v,y=m.call(t);if(m!==t.entries)for(var g=0;!(v=y.next()).done;)p+=e(l=v.value,h+s(l,g++),u,c);else for(;!(v=y.next()).done;){var b=v.value;b&&(p+=e(l=b[1],h+a.escape(b[0])+":"+s(l,0),u,c))}}else if("object"===f){var _=String(t);r("31","[object Object]"===_?"object with keys {"+Object.keys(t).join(", ")+"}":_,"")}}return p}(e,"",t,n)}},function(e,t,n){"use strict";var r="function"===typeof Symbol&&Symbol.iterator;e.exports=function(e){var t=e&&(r&&e[r]||e["@@iterator"]);if("function"===typeof t)return t}},function(e,t,n){"use strict";var r={escape:function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))},unescape:function(e){var t={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(/(=0|=2)/g,(function(e){return t[e]}))}};e.exports=r},function(e,t,n){"use strict";var r=n(67).createFactory,i={a:r("a"),abbr:r("abbr"),address:r("address"),area:r("area"),article:r("article"),aside:r("aside"),audio:r("audio"),b:r("b"),base:r("base"),bdi:r("bdi"),bdo:r("bdo"),big:r("big"),blockquote:r("blockquote"),body:r("body"),br:r("br"),button:r("button"),canvas:r("canvas"),caption:r("caption"),cite:r("cite"),code:r("code"),col:r("col"),colgroup:r("colgroup"),data:r("data"),datalist:r("datalist"),dd:r("dd"),del:r("del"),details:r("details"),dfn:r("dfn"),dialog:r("dialog"),div:r("div"),dl:r("dl"),dt:r("dt"),em:r("em"),embed:r("embed"),fieldset:r("fieldset"),figcaption:r("figcaption"),figure:r("figure"),footer:r("footer"),form:r("form"),h1:r("h1"),h2:r("h2"),h3:r("h3"),h4:r("h4"),h5:r("h5"),h6:r("h6"),head:r("head"),header:r("header"),hgroup:r("hgroup"),hr:r("hr"),html:r("html"),i:r("i"),iframe:r("iframe"),img:r("img"),input:r("input"),ins:r("ins"),kbd:r("kbd"),keygen:r("keygen"),label:r("label"),legend:r("legend"),li:r("li"),link:r("link"),main:r("main"),map:r("map"),mark:r("mark"),menu:r("menu"),menuitem:r("menuitem"),meta:r("meta"),meter:r("meter"),nav:r("nav"),noscript:r("noscript"),object:r("object"),ol:r("ol"),optgroup:r("optgroup"),option:r("option"),output:r("output"),p:r("p"),param:r("param"),picture:r("picture"),pre:r("pre"),progress:r("progress"),q:r("q"),rp:r("rp"),rt:r("rt"),ruby:r("ruby"),s:r("s"),samp:r("samp"),script:r("script"),section:r("section"),select:r("select"),small:r("small"),source:r("source"),span:r("span"),strong:r("strong"),style:r("style"),sub:r("sub"),summary:r("summary"),sup:r("sup"),table:r("table"),tbody:r("tbody"),td:r("td"),textarea:r("textarea"),tfoot:r("tfoot"),th:r("th"),thead:r("thead"),time:r("time"),title:r("title"),tr:r("tr"),track:r("track"),u:r("u"),ul:r("ul"),var:r("var"),video:r("video"),wbr:r("wbr"),circle:r("circle"),clipPath:r("clipPath"),defs:r("defs"),ellipse:r("ellipse"),g:r("g"),image:r("image"),line:r("line"),linearGradient:r("linearGradient"),mask:r("mask"),path:r("path"),pattern:r("pattern"),polygon:r("polygon"),polyline:r("polyline"),radialGradient:r("radialGradient"),rect:r("rect"),stop:r("stop"),svg:r("svg"),text:r("text"),tspan:r("tspan")};e.exports=i},function(e,t,n){"use strict";var r=n(67).isValidElement,i=n(290);e.exports=i(r)},function(e,t,n){"use strict";var r=n(291);e.exports=function(e){return r(e,!1)}},function(e,t,n){"use strict";var r=n(59),i=n(58),o=n(128),a=n(292),s=Function.call.bind(Object.prototype.hasOwnProperty);function u(){return null}e.exports=function(e,t){var n="function"===typeof Symbol&&Symbol.iterator;var c={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:p(u),arrayOf:function(e){return p((function(t,n,r,i,a){if("function"!==typeof e)return new f("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new f("Invalid "+i+" `"+a+"` of type `"+m(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var c=e(s,u,r,i,a+"["+u+"]",o);if(c instanceof Error)return c}return null}))},element:p((function(t,n,r,i,o){var a=t[n];return e(a)?null:new f("Invalid "+i+" `"+o+"` of type `"+m(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:p((function(e,t,n,i,o){var a=e[t];return r.isValidElementType(a)?null:new f("Invalid "+i+" `"+o+"` of type `"+m(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(e){return p((function(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||"<<anonymous>>";return new f("Invalid "+i+" `"+o+"` of type `"+function(e){if(!e.constructor||!e.constructor.name)return"<<anonymous>>";return e.constructor.name}(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}))},node:p((function(e,t,n,r,i){return d(e[t])?null:new f("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return p((function(t,n,r,i,a){if("function"!==typeof e)return new f("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],c=m(u);if("object"!==c)return new f("Invalid "+i+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in u)if(s(u,l)){var p=e(u,l,r,i,a+"."+l,o);if(p instanceof Error)return p}return null}))},oneOf:function(e){if(!Array.isArray(e))return u;return p((function(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===v(t)?String(t):t}));return new f("Invalid "+i+" `"+o+"` of value `"+String(a)+"` supplied to `"+r+"`, expected one of "+u+".")}))},oneOfType:function(e){if(!Array.isArray(e))return u;for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)return y(n),u}return p((function(t,n,r,i,a){for(var s=0;s<e.length;s++){if(null==(0,e[s])(t,n,r,i,a,o))return null}return new f("Invalid "+i+" `"+a+"` supplied to `"+r+"`.")}))},shape:function(e){return p((function(t,n,r,i,a){var s=t[n],u=m(s);if("object"!==u)return new f("Invalid "+i+" `"+a+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if(l){var p=l(s,c,r,i,a+"."+c,o);if(p)return p}}return null}))},exact:function(e){return p((function(t,n,r,a,s){var u=t[n],c=m(u);if("object"!==c)return new f("Invalid "+a+" `"+s+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");var l=i({},t[n],e);for(var p in l){var h=e[p];if(!h)return new f("Invalid "+a+" `"+s+"` key `"+p+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var d=h(u,p,r,a,s+"."+p,o);if(d)return d}return null}))}};function l(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function f(e){this.message=e,this.stack=""}function p(e){function n(n,r,i,a,s,u,c){if((a=a||"<<anonymous>>",u=u||i,c!==o)&&t){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}return null==r[i]?n?null===r[i]?new f("The "+s+" `"+u+"` is marked as required in `"+a+"`, but its value is `null`."):new f("The "+s+" `"+u+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,i,a,s,u)}var r=n.bind(null,!1);return r.isRequired=n.bind(null,!0),r}function h(e){return p((function(t,n,r,i,o,a){var s=t[n];return m(s)!==e?new f("Invalid "+i+" `"+o+"` of type `"+v(s)+"` supplied to `"+r+"`, expected `"+e+"`."):null}))}function d(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(d);if(null===t||e(t))return!0;var r=function(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"===typeof t)return t}(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!d(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!d(a[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol)}(t,e)?"symbol":t}function v(e){if("undefined"===typeof e||null===e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function y(e){var t=v(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,c.checkPropTypes=a,c.resetWarningCache=a.resetWarningCache,c.PropTypes=c,c}},function(e,t,n){"use strict";function r(e,t,n,r,i){}r.resetWarningCache=function(){0},e.exports=r},function(e,t,n){"use strict";e.exports="15.6.2"},function(e,t,n){"use strict";var r=n(149).Component,i=n(67).isValidElement,o=n(150),a=n(295);e.exports=a(r,i,o)},function(e,t,n){"use strict";var r=n(58),i=n(153),o=n(78);e.exports=function(e,t,n){var a=[],s={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)f(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(!t)return;for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){if(o(!(n in c),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n),n in e){var i=u.hasOwnProperty(n)?u[n]:null;return o("DEFINE_MANY_MERGED"===i,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function l(e,t){var n=s.hasOwnProperty(t)?s[t]:null;g.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function f(e,n){if(n){o("function"!==typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var a in n.hasOwnProperty("mixins")&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(a)&&"mixins"!==a){var u=n[a],f=r.hasOwnProperty(a);if(l(f,a),c.hasOwnProperty(a))c[a](e,u);else{var p=s.hasOwnProperty(a);if("function"===typeof u&&!p&&!f&&!1!==n.autobind)i.push(a,u),r[a]=u;else if(f){var m=s[a];o(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,a),"DEFINE_MANY_MERGED"===m?r[a]=h(r[a],u):"DEFINE_MANY"===m&&(r[a]=d(r[a],u))}else r[a]=u}}}else;}function p(e,t){for(var n in o(e&&t&&"object"===typeof e&&"object"===typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function d(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var v={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},g={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},b=function(){};return r(b.prototype,e.prototype,g),function(e){var t=function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=m(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"===typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s};for(var r in t.prototype=new b,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],a.forEach(f.bind(null,t)),f(t,v),f(t,e),f(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),s)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";var r=n(81),i=n(67);n(78);e.exports=function(e){return i.isValidElement(e)||r("143"),e}},function(e,t,n){var r;!function(){function i(e,t,n){return e.call.apply(e.bind,arguments)}function o(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function a(e,t,n){return(a=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var s=Date.now||function(){return+new Date};function u(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var c=!!window.FontFace;function l(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function f(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function h(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var o=!1,a=0;a<r.length;a+=1)if(t[i]===r[a]){o=!0;break}o||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(o=!1,a=0;a<n.length;a+=1)if(r[i]===n[a]){o=!0;break}o||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function m(e,t,n){function r(){s&&i&&o&&(s(a),s=null)}t=l(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,o=!0,a=null,s=n||null;c?(t.onload=function(){i=!0,r()},t.onerror=function(){i=!0,a=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),f(e,"head",t)}function v(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var o=l(e,"script",{src:t}),a=!1;return o.onload=o.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){a||(a=!0,n&&n(Error("Script load timeout")))}),r||5e3),o}return null}function y(){this.a=0,this.c=null}function g(e){return e.a++,function(){e.a--,_(e)}}function b(e,t){e.c=t,_(e)}function _(e){0==e.a&&e.c&&(e.c(),e.c=null)}function w(e){this.a=e||"-"}function x(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function S(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function E(e){return e.a+e.f}function O(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function T(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function M(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new w("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function P(e){if(e.g){var t=d(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),h(e.f,n,r)}A(e,"inactive")}function A(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,E(n)):e.h[t]())}function C(){this.c={}}function k(e,t){this.c=e,this.f=t,this.a=l(this.c,"span",{"aria-hidden":"true"},this.f)}function j(e){f(e.c,"body",e.a)}function R(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+S(e.c)+";font-style:"+O(e)+";font-weight:"+e.f+"00;"}function D(e,t,n,r,i,o){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function N(e,t,n,r,i,o,a){this.v=e,this.B=t,this.c=n,this.a=r,this.s=a||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new k(this.c,this.s),this.h=new k(this.c,this.s),this.j=new k(this.c,this.s),this.m=new k(this.c,this.s),e=R(e=new x(this.a.c+",serif",E(this.a))),this.g.a.style.cssText=e,e=R(e=new x(this.a.c+",sans-serif",E(this.a))),this.h.a.style.cssText=e,e=R(e=new x("serif",E(this.a))),this.j.a.style.cssText=e,e=R(e=new x("sans-serif",E(this.a))),this.m.a.style.cssText=e,j(this.g),j(this.h),j(this.j),j(this.m)}w.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},D.prototype.start=function(){var e=this.c.o.document,t=this,n=s(),r=new Promise((function(r,i){!function o(){s()-n>=t.f?i():e.fonts.load(function(e){return O(e)+" "+e.f+"00 300px "+S(e.c)}(t.a),t.h).then((function(e){1<=e.length?r():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(e,n){i=setTimeout(n,t.f)}));Promise.race([o,r]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var L={D:"serif",C:"sans-serif"},I=null;function B(){if(null===I){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);I=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return I}function F(e,t,n){for(var r in L)if(L.hasOwnProperty(r)&&t===e.f[L[r]]&&n===e.f[L[r]])return!0;return!1}function U(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=B()&&F(e,n,r)),t?s()-e.A>=e.w?B()&&F(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?z(e,e.v):z(e,e.B):function(e){setTimeout(a((function(){U(this)}),e),50)}(e):z(e,e.v)}function z(e,t){setTimeout(a((function(){p(this.g.a),p(this.h.a),p(this.j.a),p(this.m.a),t(this.a)}),e),0)}function V(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}N.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=s(),U(this)};var H=null;function $(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&h(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),A(e,"active")):P(e.a))}function G(e){this.j=e,this.a=new C,this.h=0,this.f=this.g=!0}function W(e,t,n,r,i){var o=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,s=r||{};if(0===n.length&&o)P(t.a);else{t.f+=n.length,o&&(t.j=o);var u,c=[];for(u=0;u<n.length;u++){var l=n[u],f=s[l.c],p=t.a,d=l;if(p.g&&h(p.f,[p.a.c("wf",d.c,E(d).toString(),"loading")]),A(p,"fontloading",d),p=null,null===H)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var m=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);H=d?42<parseInt(d[1],10):!m}else H=!1;p=H?new D(a(t.g,t),a(t.h,t),t.c,l,t.s,f):new N(a(t.g,t),a(t.h,t),t.c,l,t.s,e,f),c.push(p)}for(u=0;u<c.length;u++)c[u].start()}}),0)}function q(e,t){this.c=e,this.a=t}function Y(e,t){this.c=e,this.a=t}function X(e,t){this.c=e||Z,this.a=[],this.f=[],this.g=t||""}V.prototype.g=function(e){var t=this.a;t.g&&h(t.f,[t.a.c("wf",e.c,E(e).toString(),"active")],[t.a.c("wf",e.c,E(e).toString(),"loading"),t.a.c("wf",e.c,E(e).toString(),"inactive")]),A(t,"fontactive",e),this.m=!0,$(this)},V.prototype.h=function(e){var t=this.a;if(t.g){var n=d(t.f,t.a.c("wf",e.c,E(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,E(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,E(e).toString(),"inactive")),h(t.f,r,i)}A(t,"fontinactive",e),$(this)},G.prototype.load=function(e){this.c=new u(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var r=[],i=n.timeout;!function(e){e.g&&h(e.f,[e.a.c("wf","loading")]),A(e,"loading")}(t);r=function(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var o=e.c[r];o&&i.push(o(t[r],n))}return i}(e.a,n,e.c);var o=new V(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load((function(t,n,r){W(e,o,t,n,r)}))}(this,new M(this.c,e),e)},q.prototype.load=function(e){var t=this,n=t.a.projectId,r=t.a.version;if(n){var i=t.c.o;v(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(r?"?v="+r:""),(function(r){r?e([]):(i["__MonotypeConfiguration__"+n]=function(){return t.a},function t(){if(i["__mti_fntLst"+n]){var r,o=i["__mti_fntLst"+n](),a=[];if(o)for(var s=0;s<o.length;s++){var u=o[s].fontfamily;void 0!=o[s].fontStyle&&void 0!=o[s].fontWeight?(r=o[s].fontStyle+o[s].fontWeight,a.push(new x(u,r))):a.push(new x(u))}e(a)}else setTimeout((function(){t()}),50)}())})).id="__MonotypeAPIScript__"+n}else e([])},Y.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},a=new y;for(t=0,n=r.length;t<n;t++)m(this.c,r[t],g(a));var s=[];for(t=0,n=i.length;t<n;t++)if((r=i[t].split(":"))[1])for(var u=r[1].split(","),c=0;c<u.length;c+=1)s.push(new x(r[0],u[c]));else s.push(new x(r[0]));b(a,(function(){e(s,o)}))};var Z="https://fonts.googleapis.com/css";function Q(e){this.f=e,this.a=[],this.c={}}var K={latin:"BESbswy","latin-ext":"\xe7\xf6\xfc\u011f\u015f",cyrillic:"\u0439\u044f\u0416",greek:"\u03b1\u03b2\u03a3",khmer:"\u1780\u1781\u1782",Hanuman:"\u1780\u1781\u1782"},J={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function ie(e,t){this.c=e,this.a=t}function oe(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new y,n=this.c,r=new X(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),e.a.push(i.join(o))}}(r,i);var o=new Q(i);!function(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var a;if(a=[],s=r[1])for(var s,u=(s=s.split(",")).length,c=0;c<u;c++){var l;if((l=s[c]).match(/^[\w-]+$/))if(null==(p=te.exec(l.toLowerCase())))l="";else{if(l=null==(l=p[2])||""==l?"n":ee[l],null==(p=p[1])||""==p)p="4";else var f=J[p],p=f||(isNaN(p)?"4":p.substr(0,1));l=[l,p].join("")}else l="";l&&a.push(l)}0<a.length&&(o=a),3==r.length&&(a=[],0<(r=(r=r[2])?r.split(","):a).length&&(r=K[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=K[i])&&(e.c[i]=r),r=0;r<o.length;r+=1)e.a.push(new x(i,o[r]))}}(o),m(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),g(t)),b(t,(function(){e(o.a,o.c,re)}))},ie.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?v(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var o=t[i],a=t[i+1],s=0;s<a.length;s++)r.push(new x(o,a[s]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(u){}e(r)}}),2e3):e([])},oe.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,o=n.fonts.length;i<o;++i){var a=n.fonts[i];r.a.push(new x(a.name,T("font-weight:"+a.weight+";font-style:"+a.style)))}e(r.a)},v(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var ae=new G(window);ae.a.c.custom=function(e,t){return new Y(t,e)},ae.a.c.fontdeck=function(e,t){return new oe(t,e)},ae.a.c.monotype=function(e,t){return new q(t,e)},ae.a.c.typekit=function(e,t){return new ie(t,e)},ae.a.c.google=function(e,t){return new ne(t,e)};var se={load:a(ae.load,ae)};void 0===(r=function(){return se}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){var r,i,o;i=[t],void 0===(o="function"===typeof(r=function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sizes={tiny:"md-18",small:"md-24",medium:"md-36",large:"md-48"},e.light="md-light",e.dark="md-dark",e.mdInactive="md-inactive"})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){},,,,,,,,,function(e,t,n){"use strict";var r=n(5),i=n(14),o=n(31),a=n.n(o),s=n(0),u=n.n(s),c=n(61),l=u.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.fluid,s=e.as,l=void 0===s?"div":s,f=e.className,p=Object(i.a)(e,["bsPrefix","fluid","as","className"]),h=Object(c.a)(n,"container"),d="string"===typeof o?"-"+o:"-fluid";return u.a.createElement(l,Object(r.a)({ref:t},p,{className:a()(f,o?""+h+d:h)}))}));l.displayName="Container",l.defaultProps={fluid:!1},t.a=l},function(e,t,n){"use strict";var r=n(5),i=n(14),o=n(29),a=(n(40),n(222)),s=n(162),u=n(0),c=n.n(u),l=n(77),f=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return Object(s.a)(e,t)}))},p=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.resolveArguments(e,n),i=r[0],o=r[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===n&&i&&(r+=" "+i),"active"===n&&e&&e.scrollTop,r&&(this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return Object(a.a)(e,t)}))}(e,r))},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&f(e,r),i&&f(e,i),o&&f(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return c.a.createElement(l.c,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(c.a.Component);p.defaultProps={classNames:""},p.propTypes={},t.a=p},function(e,t,n){"use strict";var r=n(5),i=n(14),o=n(31),a=n.n(o),s=n(0),u=n.n(s),c=n(61),l=n(111),f=u.a.forwardRef((function(e,t){var n=e.bsPrefix,o=e.variant,s=e.size,f=e.active,p=e.className,h=e.block,d=e.type,m=e.as,v=Object(i.a)(e,["bsPrefix","variant","size","active","className","block","type","as"]),y=Object(c.a)(n,"btn"),g=a()(p,y,f&&"active",y+"-"+o,h&&y+"-block",s&&y+"-"+s);if(v.href)return u.a.createElement(l.a,Object(r.a)({},v,{as:m,ref:t,className:a()(g,v.disabled&&"disabled")}));t&&(v.ref=t),d?v.type=d:m||(v.type="button");var b=m||"button";return u.a.createElement(b,Object(r.a)({},v,{className:g}))}));f.displayName="Button",f.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=f},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(0),i=r.memo((function(e){var t=e.connect,n=e.src;return r.useEffect((function(){if("undefined"!==typeof Image){var e=!1,r=new Image;return r.src=n,r.onload=function(){t(r),e=!0},function(){e&&t(null)}}})),null}));i.displayName="DragPreviewImage"},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(0),i=n(65);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=0,c=Object(r.memo)((function(e){var t=e.children,n=o(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[l]||(o[l]=Object(i.b)(e,t,n,r));return o[l]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(s(e,["children"])),2),a=n[0],c=n[1];return r.useEffect((function(){return c&&u++,function(){c&&(0===--u&&(f()[l]=null))}}),[]),r.createElement(i.a.Provider,{value:a},t)}));c.displayName="DndProvider";var l=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function f(){return"undefined"!==typeof e?e:window}}).call(this,n(66))},function(e,t,n){"use strict";var r=n(5),i=n(14),o=n(31),a=n.n(o),s=n(0),u=n.n(s),c=n(220),l=n(223),f=n(61),p=n(219),h=n(126);function d(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e){var t=document.createEvent("HTMLEvents");t.initEvent("transitionend",!0,!0),e.dispatchEvent(t)}(e)}),t+n),o=Object(h.a)(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function m(e,t,n,r){null==n&&(n=function(e){var t=Object(p.a)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=d(e,n,r),o=Object(h.a)(e,"transitionend",t);return function(){i(),o()}}var v,y=n(77);var g=((v={})[y.b]="show",v[y.a]="show",v),b=u.a.forwardRef((function(e,t){var n=e.className,o=e.children,c=Object(i.a)(e,["className","children"]),l=Object(s.useCallback)((function(e){!function(e){e.offsetHeight}(e),c.onEnter&&c.onEnter(e)}),[c]);return u.a.createElement(y.c,Object(r.a)({ref:t,addEndListener:m},c,{onEnter:l}),(function(e,t){return u.a.cloneElement(o,Object(r.a)({},t,{className:a()("fade",n,o.props.className,g[e])}))}))}));b.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},b.displayName="Fade";var _=b,w=n(40),x=n.n(w),S={label:x.a.string.isRequired,onClick:x.a.func},E=u.a.forwardRef((function(e,t){var n=e.label,o=e.onClick,s=e.className,c=Object(i.a)(e,["label","onClick","className"]);return u.a.createElement("button",Object(r.a)({ref:t,type:"button",className:a()("close",s),onClick:o},c),u.a.createElement("span",{"aria-hidden":"true"},"\xd7"),u.a.createElement("span",{className:"sr-only"},n))}));E.displayName="CloseButton",E.propTypes=S,E.defaultProps={label:"Close"};var O=E,T=/-(.)/g;var M=function(e){return e[0].toUpperCase()+(t=e,t.replace(T,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function P(e,t){var n=void 0===t?{}:t,o=n.displayName,s=void 0===o?M(e):o,c=n.Component,l=n.defaultProps,p=u.a.forwardRef((function(t,n){var o=t.className,s=t.bsPrefix,l=t.as,p=void 0===l?c||"div":l,h=Object(i.a)(t,["className","bsPrefix","as"]),d=Object(f.a)(s,e);return u.a.createElement(p,Object(r.a)({ref:n,className:a()(o,d)},h))}));return p.defaultProps=l,p.displayName=s,p}var A,C=n(111),k=(A="h4",u.a.forwardRef((function(e,t){return u.a.createElement("div",Object(r.a)({},e,{ref:t,className:a()(e.className,A)}))})));k.displayName="DivStyledAsH4";var j=P("alert-heading",{Component:k}),R=P("alert-link",{Component:C.a}),D={show:!0,transition:_,closeLabel:"Close alert"},N=u.a.forwardRef((function(e,t){var n=Object(c.a)(e,{show:"onClose"}),o=n.bsPrefix,s=n.show,p=n.closeLabel,h=n.className,d=n.children,m=n.variant,v=n.onClose,y=n.dismissible,g=n.transition,b=Object(i.a)(n,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),w=Object(f.a)(o,"alert"),x=Object(l.a)((function(e){v&&v(!1,e)})),S=!0===g?_:g,E=u.a.createElement("div",Object(r.a)({role:"alert"},S?b:void 0,{ref:t,className:a()(h,w,m&&w+"-"+m,y&&w+"-dismissible")}),y&&u.a.createElement(O,{onClick:x,label:p}),d);return S?u.a.createElement(S,Object(r.a)({unmountOnExit:!0},b,{ref:void 0,in:s}),E):s?E:null}));N.displayName="Alert",N.defaultProps=D,N.Link=R,N.Heading=j;t.a=N},function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n(0),i=n(9),o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect,a=n(52);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){var i=c(function(e,t,n){var i=s(Object(r.useState)((function(){return t(e)})),2),u=i[0],c=i[1],l=Object(r.useCallback)((function(){var r=t(e);Object(a.a)(u,r)||(c(r),n&&n())}),[u,e,n]);return o(l,[]),[u,l]}(e,t,n),2),u=i[0],l=i[1];return o((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(l,{handlerIds:[t]})}),[e,l]),u}var p=n(70),h=n(65);function d(){var e=Object(r.useContext)(h.a).dragDropManager;return Object(i.a)(null!=e,"Expected drag drop context"),e}var m=n(89),v=n(88);function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e){return(b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e){var t=Object(r.useRef)(e);t.current=e,Object(i.a)(null!=e.item,"item must be defined"),Object(i.a)(null!=e.item.type,"item type must be defined");var n=_(function(){var e=d();return[Object(r.useMemo)((function(){return new m.a(e)}),[e]),Object(r.useMemo)((function(){return new v.a(e.getBackend())}),[e])]}(),2),a=n[0],s=n[1];!function(e,t,n){var a=d(),s=Object(r.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,o=n.item;if(r){var a=r(t);return Object(i.a)(null==a||"object"===b(a),"dragSpec.begin() must either return an object, undefined, or null"),a||o||{}}return o||{}},canDrag:function(){return"boolean"===typeof e.current.canDrag?e.current.canDrag:"function"!==typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);o((function(){var r=y(Object(p.a)(e.current.item.type,s,a),2),i=r[0],o=r[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),o}),[])}(t,a,s);var u=f(a,t.current.collect||function(){return{}},(function(){return s.reconnect()})),c=Object(r.useMemo)((function(){return s.hooks.dragSource()}),[s]),l=Object(r.useMemo)((function(){return s.hooks.dragPreview()}),[s]);return o((function(){s.dragSourceOptions=t.current.options||null,s.reconnect()}),[s]),o((function(){s.dragPreviewOptions=t.current.previewOptions||null,s.reconnect()}),[s]),[u,c,l]}},function(e,t,n){"use strict";var r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),i=new Uint8Array(16);function o(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=function(e){return"string"===typeof e&&a.test(e)},u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!s(n))throw TypeError("Stringified UUID is invalid");return n};t.a=function(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return l(r)}}]]);
//# sourceMappingURL=2.9dbb307a.chunk.js.map